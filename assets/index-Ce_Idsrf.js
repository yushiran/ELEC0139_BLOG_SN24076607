var pf=Object.defineProperty;var gf=(i,e,t)=>e in i?pf(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var fe=(i,e,t)=>gf(i,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function d1(i){const e=Object.create(null);for(const t of i.split(","))e[t]=1;return t=>t in e}const Lt={},Ss=[],Kr=()=>{},vf=()=>!1,Ya=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&(i.charCodeAt(2)>122||i.charCodeAt(2)<97),m1=i=>i.startsWith("onUpdate:"),Hi=Object.assign,f1=(i,e)=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)},Af=Object.prototype.hasOwnProperty,Dt=(i,e)=>Af.call(i,e),lt=Array.isArray,Ms=i=>Ka(i)==="[object Map]",v2=i=>Ka(i)==="[object Set]",ut=i=>typeof i=="function",pi=i=>typeof i=="string",p0=i=>typeof i=="symbol",hi=i=>i!==null&&typeof i=="object",A2=i=>(hi(i)||ut(i))&&ut(i.then)&&ut(i.catch),x2=Object.prototype.toString,Ka=i=>x2.call(i),xf=i=>Ka(i).slice(8,-1),b2=i=>Ka(i)==="[object Object]",p1=i=>pi(i)&&i!=="NaN"&&i[0]!=="-"&&""+parseInt(i,10)===i,Zs=d1(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wa=i=>{const e=Object.create(null);return t=>e[t]||(e[t]=i(t))},bf=/-(\w)/g,Sr=Wa(i=>i.replace(bf,(e,t)=>t?t.toUpperCase():"")),yf=/\B([A-Z])/g,as=Wa(i=>i.replace(yf,"-$1").toLowerCase()),ja=Wa(i=>i.charAt(0).toUpperCase()+i.slice(1)),Qo=Wa(i=>i?`on${ja(i)}`:""),R0=(i,e)=>!Object.is(i,e),Zo=(i,...e)=>{for(let t=0;t<i.length;t++)i[t](...e)},y2=(i,e,t,r=!1)=>{Object.defineProperty(i,e,{configurable:!0,enumerable:!1,writable:r,value:t})},wf=i=>{const e=parseFloat(i);return isNaN(e)?i:e};let kh;const Xa=()=>kh||(kh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function g1(i){if(lt(i)){const e={};for(let t=0;t<i.length;t++){const r=i[t],s=pi(r)?Tf(r):g1(r);if(s)for(const n in s)e[n]=s[n]}return e}else if(pi(i)||hi(i))return i}const Sf=/;(?![^(]*\))/g,Mf=/:([^]+)/,Cf=/\/\*[^]*?\*\//g;function Tf(i){const e={};return i.replace(Cf,"").split(Sf).forEach(t=>{if(t){const r=t.split(Mf);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Is(i){let e="";if(pi(i))e=i;else if(lt(i))for(let t=0;t<i.length;t++){const r=Is(i[t]);r&&(e+=r+" ")}else if(hi(i))for(const t in i)i[t]&&(e+=t+" ");return e.trim()}const Df="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",kf=d1(Df);function w2(i){return!!i||i===""}const S2=i=>!!(i&&i.__v_isRef===!0),u0=i=>pi(i)?i:i==null?"":lt(i)||hi(i)&&(i.toString===x2||!ut(i.toString))?S2(i)?u0(i.value):JSON.stringify(i,M2,2):String(i),M2=(i,e)=>S2(e)?M2(i,e.value):Ms(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[r,s],n)=>(t[Jo(r,n)+" =>"]=s,t),{})}:v2(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Jo(t))}:p0(e)?Jo(e):hi(e)&&!lt(e)&&!b2(e)?String(e):e,Jo=(i,e="")=>{var t;return p0(i)?`Symbol(${(t=i.description)!=null?t:e})`:i};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let nr;class If{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=nr,!e&&nr&&(this.index=(nr.scopes||(nr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=nr;try{return nr=this,e()}finally{nr=t}}}on(){nr=this}off(){nr=this.parent}stop(e){if(this._active){this._active=!1;let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(this.effects.length=0,t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Ef(){return nr}let Pt;const _o=new WeakSet;class C2{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,nr&&nr.active&&nr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,_o.has(this)&&(_o.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||D2(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ih(this),k2(this);const e=Pt,t=Er;Pt=this,Er=!0;try{return this.fn()}finally{I2(this),Pt=e,Er=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)x1(e);this.deps=this.depsTail=void 0,Ih(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?_o.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Pl(this)&&this.run()}get dirty(){return Pl(this)}}let T2=0,Js,_s;function D2(i,e=!1){if(i.flags|=8,e){i.next=_s,_s=i;return}i.next=Js,Js=i}function v1(){T2++}function A1(){if(--T2>0)return;if(_s){let e=_s;for(_s=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let i;for(;Js;){let e=Js;for(Js=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){i||(i=r)}e=t}}if(i)throw i}function k2(i){for(let e=i.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function I2(i){let e,t=i.depsTail,r=t;for(;r;){const s=r.prevDep;r.version===-1?(r===t&&(t=s),x1(r),Ff(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}i.deps=e,i.depsTail=t}function Pl(i){for(let e=i.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(E2(e.dep.computed)||e.dep.version!==e.version))return!0;return!!i._dirty}function E2(i){if(i.flags&4&&!(i.flags&16)||(i.flags&=-17,i.globalVersion===on))return;i.globalVersion=on;const e=i.dep;if(i.flags|=2,e.version>0&&!i.isSSR&&i.deps&&!Pl(i)){i.flags&=-3;return}const t=Pt,r=Er;Pt=i,Er=!0;try{k2(i);const s=i.fn(i._value);(e.version===0||R0(s,i._value))&&(i._value=s,e.version++)}catch(s){throw e.version++,s}finally{Pt=t,Er=r,I2(i),i.flags&=-3}}function x1(i,e=!1){const{dep:t,prevSub:r,nextSub:s}=i;if(r&&(r.nextSub=s,i.prevSub=void 0),s&&(s.prevSub=r,i.nextSub=void 0),t.subs===i&&(t.subs=r,!r&&t.computed)){t.computed.flags&=-5;for(let n=t.computed.deps;n;n=n.nextDep)x1(n,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function Ff(i){const{prevDep:e,nextDep:t}=i;e&&(e.nextDep=t,i.prevDep=void 0),t&&(t.prevDep=e,i.nextDep=void 0)}let Er=!0;const F2=[];function q0(){F2.push(Er),Er=!1}function G0(){const i=F2.pop();Er=i===void 0?!0:i}function Ih(i){const{cleanup:e}=i;if(i.cleanup=void 0,e){const t=Pt;Pt=void 0;try{e()}finally{Pt=t}}}let on=0;class Bf{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class b1{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Pt||!Er||Pt===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==Pt)t=this.activeLink=new Bf(Pt,this),Pt.deps?(t.prevDep=Pt.depsTail,Pt.depsTail.nextDep=t,Pt.depsTail=t):Pt.deps=Pt.depsTail=t,B2(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const r=t.nextDep;r.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=r),t.prevDep=Pt.depsTail,t.nextDep=void 0,Pt.depsTail.nextDep=t,Pt.depsTail=t,Pt.deps===t&&(Pt.deps=r)}return t}trigger(e){this.version++,on++,this.notify(e)}notify(e){v1();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{A1()}}}function B2(i){if(i.dep.sc++,i.sub.flags&4){const e=i.dep.computed;if(e&&!i.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)B2(r)}const t=i.dep.subs;t!==i&&(i.prevSub=t,t&&(t.nextSub=i)),i.dep.subs=i}}const ka=new WeakMap,ts=Symbol(""),Ll=Symbol(""),ln=Symbol("");function Ei(i,e,t){if(Er&&Pt){let r=ka.get(i);r||ka.set(i,r=new Map);let s=r.get(t);s||(r.set(t,s=new b1),s.map=r,s.key=t),s.track()}}function o0(i,e,t,r,s,n){const a=ka.get(i);if(!a){on++;return}const l=o=>{o&&o.trigger()};if(v1(),e==="clear")a.forEach(l);else{const o=lt(i),h=o&&p1(t);if(o&&t==="length"){const d=Number(r);a.forEach((f,p)=>{(p==="length"||p===ln||!p0(p)&&p>=d)&&l(f)})}else switch((t!==void 0||a.has(void 0))&&l(a.get(t)),h&&l(a.get(ln)),e){case"add":o?h&&l(a.get("length")):(l(a.get(ts)),Ms(i)&&l(a.get(Ll)));break;case"delete":o||(l(a.get(ts)),Ms(i)&&l(a.get(Ll)));break;case"set":Ms(i)&&l(a.get(ts));break}}A1()}function Nf(i,e){const t=ka.get(i);return t&&t.get(e)}function us(i){const e=Tt(i);return e===i?e:(Ei(e,"iterate",ln),Fr(i)?e:e.map(Li))}function y1(i){return Ei(i=Tt(i),"iterate",ln),i}const Rf={__proto__:null,[Symbol.iterator](){return $o(this,Symbol.iterator,Li)},concat(...i){return us(this).concat(...i.map(e=>lt(e)?us(e):e))},entries(){return $o(this,"entries",i=>(i[1]=Li(i[1]),i))},every(i,e){return r0(this,"every",i,e,void 0,arguments)},filter(i,e){return r0(this,"filter",i,e,t=>t.map(Li),arguments)},find(i,e){return r0(this,"find",i,e,Li,arguments)},findIndex(i,e){return r0(this,"findIndex",i,e,void 0,arguments)},findLast(i,e){return r0(this,"findLast",i,e,Li,arguments)},findLastIndex(i,e){return r0(this,"findLastIndex",i,e,void 0,arguments)},forEach(i,e){return r0(this,"forEach",i,e,void 0,arguments)},includes(...i){return el(this,"includes",i)},indexOf(...i){return el(this,"indexOf",i)},join(i){return us(this).join(i)},lastIndexOf(...i){return el(this,"lastIndexOf",i)},map(i,e){return r0(this,"map",i,e,void 0,arguments)},pop(){return Os(this,"pop")},push(...i){return Os(this,"push",i)},reduce(i,...e){return Eh(this,"reduce",i,e)},reduceRight(i,...e){return Eh(this,"reduceRight",i,e)},shift(){return Os(this,"shift")},some(i,e){return r0(this,"some",i,e,void 0,arguments)},splice(...i){return Os(this,"splice",i)},toReversed(){return us(this).toReversed()},toSorted(i){return us(this).toSorted(i)},toSpliced(...i){return us(this).toSpliced(...i)},unshift(...i){return Os(this,"unshift",i)},values(){return $o(this,"values",Li)}};function $o(i,e,t){const r=y1(i),s=r[e]();return r!==i&&!Fr(i)&&(s._next=s.next,s.next=()=>{const n=s._next();return n.value&&(n.value=t(n.value)),n}),s}const Vf=Array.prototype;function r0(i,e,t,r,s,n){const a=y1(i),l=a!==i&&!Fr(i),o=a[e];if(o!==Vf[e]){const f=o.apply(i,n);return l?Li(f):f}let h=t;a!==i&&(l?h=function(f,p){return t.call(this,Li(f),p,i)}:t.length>2&&(h=function(f,p){return t.call(this,f,p,i)}));const d=o.call(a,h,r);return l&&s?s(d):d}function Eh(i,e,t,r){const s=y1(i);let n=t;return s!==i&&(Fr(i)?t.length>3&&(n=function(a,l,o){return t.call(this,a,l,o,i)}):n=function(a,l,o){return t.call(this,a,Li(l),o,i)}),s[e](n,...r)}function el(i,e,t){const r=Tt(i);Ei(r,"iterate",ln);const s=r[e](...t);return(s===-1||s===!1)&&C1(t[0])?(t[0]=Tt(t[0]),r[e](...t)):s}function Os(i,e,t=[]){q0(),v1();const r=Tt(i)[e].apply(i,t);return A1(),G0(),r}const Uf=d1("__proto__,__v_isRef,__isVue"),N2=new Set(Object.getOwnPropertyNames(Symbol).filter(i=>i!=="arguments"&&i!=="caller").map(i=>Symbol[i]).filter(p0));function zf(i){p0(i)||(i=String(i));const e=Tt(this);return Ei(e,"has",i),e.hasOwnProperty(i)}class R2{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,r){if(t==="__v_skip")return e.__v_skip;const s=this._isReadonly,n=this._isShallow;if(t==="__v_isReactive")return!s;if(t==="__v_isReadonly")return s;if(t==="__v_isShallow")return n;if(t==="__v_raw")return r===(s?n?jf:P2:n?z2:U2).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const a=lt(e);if(!s){let o;if(a&&(o=Rf[t]))return o;if(t==="hasOwnProperty")return zf}const l=Reflect.get(e,t,Di(e)?e:r);return(p0(t)?N2.has(t):Uf(t))||(s||Ei(e,"get",t),n)?l:Di(l)?a&&p1(t)?l:l.value:hi(l)?s?L2(l):S1(l):l}}class V2 extends R2{constructor(e=!1){super(!1,e)}set(e,t,r,s){let n=e[t];if(!this._isShallow){const o=ss(n);if(!Fr(r)&&!ss(r)&&(n=Tt(n),r=Tt(r)),!lt(e)&&Di(n)&&!Di(r))return o?!1:(n.value=r,!0)}const a=lt(e)&&p1(t)?Number(t)<e.length:Dt(e,t),l=Reflect.set(e,t,r,Di(e)?e:s);return e===Tt(s)&&(a?R0(r,n)&&o0(e,"set",t,r):o0(e,"add",t,r)),l}deleteProperty(e,t){const r=Dt(e,t);e[t];const s=Reflect.deleteProperty(e,t);return s&&r&&o0(e,"delete",t,void 0),s}has(e,t){const r=Reflect.has(e,t);return(!p0(t)||!N2.has(t))&&Ei(e,"has",t),r}ownKeys(e){return Ei(e,"iterate",lt(e)?"length":ts),Reflect.ownKeys(e)}}class Pf extends R2{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Lf=new V2,Of=new Pf,qf=new V2(!0);const Ol=i=>i,Gn=i=>Reflect.getPrototypeOf(i);function Gf(i,e,t){return function(...r){const s=this.__v_raw,n=Tt(s),a=Ms(n),l=i==="entries"||i===Symbol.iterator&&a,o=i==="keys"&&a,h=s[i](...r),d=t?Ol:e?ql:Li;return!e&&Ei(n,"iterate",o?Ll:ts),{next(){const{value:f,done:p}=h.next();return p?{value:f,done:p}:{value:l?[d(f[0]),d(f[1])]:d(f),done:p}},[Symbol.iterator](){return this}}}}function Hn(i){return function(...e){return i==="delete"?!1:i==="clear"?void 0:this}}function Hf(i,e){const t={get(s){const n=this.__v_raw,a=Tt(n),l=Tt(s);i||(R0(s,l)&&Ei(a,"get",s),Ei(a,"get",l));const{has:o}=Gn(a),h=e?Ol:i?ql:Li;if(o.call(a,s))return h(n.get(s));if(o.call(a,l))return h(n.get(l));n!==a&&n.get(s)},get size(){const s=this.__v_raw;return!i&&Ei(Tt(s),"iterate",ts),Reflect.get(s,"size",s)},has(s){const n=this.__v_raw,a=Tt(n),l=Tt(s);return i||(R0(s,l)&&Ei(a,"has",s),Ei(a,"has",l)),s===l?n.has(s):n.has(s)||n.has(l)},forEach(s,n){const a=this,l=a.__v_raw,o=Tt(l),h=e?Ol:i?ql:Li;return!i&&Ei(o,"iterate",ts),l.forEach((d,f)=>s.call(n,h(d),h(f),a))}};return Hi(t,i?{add:Hn("add"),set:Hn("set"),delete:Hn("delete"),clear:Hn("clear")}:{add(s){!e&&!Fr(s)&&!ss(s)&&(s=Tt(s));const n=Tt(this);return Gn(n).has.call(n,s)||(n.add(s),o0(n,"add",s,s)),this},set(s,n){!e&&!Fr(n)&&!ss(n)&&(n=Tt(n));const a=Tt(this),{has:l,get:o}=Gn(a);let h=l.call(a,s);h||(s=Tt(s),h=l.call(a,s));const d=o.call(a,s);return a.set(s,n),h?R0(n,d)&&o0(a,"set",s,n):o0(a,"add",s,n),this},delete(s){const n=Tt(this),{has:a,get:l}=Gn(n);let o=a.call(n,s);o||(s=Tt(s),o=a.call(n,s)),l&&l.call(n,s);const h=n.delete(s);return o&&o0(n,"delete",s,void 0),h},clear(){const s=Tt(this),n=s.size!==0,a=s.clear();return n&&o0(s,"clear",void 0,void 0),a}}),["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Gf(s,i,e)}),t}function w1(i,e){const t=Hf(i,e);return(r,s,n)=>s==="__v_isReactive"?!i:s==="__v_isReadonly"?i:s==="__v_raw"?r:Reflect.get(Dt(t,s)&&s in r?t:r,s,n)}const Yf={get:w1(!1,!1)},Kf={get:w1(!1,!0)},Wf={get:w1(!0,!1)};const U2=new WeakMap,z2=new WeakMap,P2=new WeakMap,jf=new WeakMap;function Xf(i){switch(i){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Qf(i){return i.__v_skip||!Object.isExtensible(i)?0:Xf(xf(i))}function S1(i){return ss(i)?i:M1(i,!1,Lf,Yf,U2)}function Zf(i){return M1(i,!1,qf,Kf,z2)}function L2(i){return M1(i,!0,Of,Wf,P2)}function M1(i,e,t,r,s){if(!hi(i)||i.__v_raw&&!(e&&i.__v_isReactive))return i;const n=s.get(i);if(n)return n;const a=Qf(i);if(a===0)return i;const l=new Proxy(i,a===2?r:t);return s.set(i,l),l}function $s(i){return ss(i)?$s(i.__v_raw):!!(i&&i.__v_isReactive)}function ss(i){return!!(i&&i.__v_isReadonly)}function Fr(i){return!!(i&&i.__v_isShallow)}function C1(i){return i?!!i.__v_raw:!1}function Tt(i){const e=i&&i.__v_raw;return e?Tt(e):i}function Jf(i){return!Dt(i,"__v_skip")&&Object.isExtensible(i)&&y2(i,"__v_skip",!0),i}const Li=i=>hi(i)?S1(i):i,ql=i=>hi(i)?L2(i):i;function Di(i){return i?i.__v_isRef===!0:!1}function cn(i){return _f(i,!1)}function _f(i,e){return Di(i)?i:new $f(i,e)}class $f{constructor(e,t){this.dep=new b1,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Tt(e),this._value=t?e:Li(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,r=this.__v_isShallow||Fr(e)||ss(e);e=r?e:Tt(e),R0(e,t)&&(this._rawValue=e,this._value=r?e:Li(e),this.dep.trigger())}}function Gl(i){return Di(i)?i.value:i}const e5={get:(i,e,t)=>e==="__v_raw"?i:Gl(Reflect.get(i,e,t)),set:(i,e,t,r)=>{const s=i[e];return Di(s)&&!Di(t)?(s.value=t,!0):Reflect.set(i,e,t,r)}};function O2(i){return $s(i)?i:new Proxy(i,e5)}function t5(i){const e=lt(i)?new Array(i.length):{};for(const t in i)e[t]=r5(i,t);return e}class i5{constructor(e,t,r){this._object=e,this._key=t,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Nf(Tt(this._object),this._key)}}function r5(i,e,t){const r=i[e];return Di(r)?r:new i5(i,e,t)}class s5{constructor(e,t,r){this.fn=e,this.setter=t,this._value=void 0,this.dep=new b1(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=on-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Pt!==this)return D2(this,!0),!0}get value(){const e=this.dep.track();return E2(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function n5(i,e,t=!1){let r,s;return ut(i)?r=i:(r=i.get,s=i.set),new s5(r,s,t)}const Yn={},Ia=new WeakMap;let J0;function a5(i,e=!1,t=J0){if(t){let r=Ia.get(t);r||Ia.set(t,r=[]),r.push(i)}}function o5(i,e,t=Lt){const{immediate:r,deep:s,once:n,scheduler:a,augmentJob:l,call:o}=t,h=S=>s?S:Fr(S)||s===!1||s===0?B0(S,1):B0(S);let d,f,p,g,A=!1,x=!1;if(Di(i)?(f=()=>i.value,A=Fr(i)):$s(i)?(f=()=>h(i),A=!0):lt(i)?(x=!0,A=i.some(S=>$s(S)||Fr(S)),f=()=>i.map(S=>{if(Di(S))return S.value;if($s(S))return h(S);if(ut(S))return o?o(S,2):S()})):ut(i)?e?f=o?()=>o(i,2):i:f=()=>{if(p){q0();try{p()}finally{G0()}}const S=J0;J0=d;try{return o?o(i,3,[g]):i(g)}finally{J0=S}}:f=Kr,e&&s){const S=f,k=s===!0?1/0:s;f=()=>B0(S(),k)}const y=Ef(),b=()=>{d.stop(),y&&y.active&&f1(y.effects,d)};if(n&&e){const S=e;e=(...k)=>{S(...k),b()}}let T=x?new Array(i.length).fill(Yn):Yn;const D=S=>{if(!(!(d.flags&1)||!d.dirty&&!S))if(e){const k=d.run();if(s||A||(x?k.some((R,B)=>R0(R,T[B])):R0(k,T))){p&&p();const R=J0;J0=d;try{const B=[k,T===Yn?void 0:x&&T[0]===Yn?[]:T,g];o?o(e,3,B):e(...B),T=k}finally{J0=R}}}else d.run()};return l&&l(D),d=new C2(f),d.scheduler=a?()=>a(D,!1):D,g=S=>a5(S,!1,d),p=d.onStop=()=>{const S=Ia.get(d);if(S){if(o)o(S,4);else for(const k of S)k();Ia.delete(d)}},e?r?D(!0):T=d.run():a?a(D.bind(null,!0),!0):d.run(),b.pause=d.pause.bind(d),b.resume=d.resume.bind(d),b.stop=b,b}function B0(i,e=1/0,t){if(e<=0||!hi(i)||i.__v_skip||(t=t||new Set,t.has(i)))return i;if(t.add(i),e--,Di(i))B0(i.value,e,t);else if(lt(i))for(let r=0;r<i.length;r++)B0(i[r],e,t);else if(v2(i)||Ms(i))i.forEach(r=>{B0(r,e,t)});else if(b2(i)){for(const r in i)B0(i[r],e,t);for(const r of Object.getOwnPropertySymbols(i))Object.prototype.propertyIsEnumerable.call(i,r)&&B0(i[r],e,t)}return i}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gn(i,e,t,r){try{return r?i(...r):i()}catch(s){Qa(s,e,t)}}function jr(i,e,t,r){if(ut(i)){const s=gn(i,e,t,r);return s&&A2(s)&&s.catch(n=>{Qa(n,e,t)}),s}if(lt(i)){const s=[];for(let n=0;n<i.length;n++)s.push(jr(i[n],e,t,r));return s}}function Qa(i,e,t,r=!0){const s=e?e.vnode:null,{errorHandler:n,throwUnhandledErrorInProduction:a}=e&&e.appContext.config||Lt;if(e){let l=e.parent;const o=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${t}`;for(;l;){const d=l.ec;if(d){for(let f=0;f<d.length;f++)if(d[f](i,o,h)===!1)return}l=l.parent}if(n){q0(),gn(n,null,10,[i,o,h]),G0();return}}l5(i,t,s,r,a)}function l5(i,e,t,r=!0,s=!1){if(s)throw i;console.error(i)}const Oi=[];let Lr=-1;const Cs=[];let I0=null,vs=0;const q2=Promise.resolve();let Ea=null;function c5(i){const e=Ea||q2;return i?e.then(this?i.bind(this):i):e}function h5(i){let e=Lr+1,t=Oi.length;for(;e<t;){const r=e+t>>>1,s=Oi[r],n=hn(s);n<i||n===i&&s.flags&2?e=r+1:t=r}return e}function T1(i){if(!(i.flags&1)){const e=hn(i),t=Oi[Oi.length-1];!t||!(i.flags&2)&&e>=hn(t)?Oi.push(i):Oi.splice(h5(e),0,i),i.flags|=1,G2()}}function G2(){Ea||(Ea=q2.then(Y2))}function u5(i){lt(i)?Cs.push(...i):I0&&i.id===-1?I0.splice(vs+1,0,i):i.flags&1||(Cs.push(i),i.flags|=1),G2()}function Fh(i,e,t=Lr+1){for(;t<Oi.length;t++){const r=Oi[t];if(r&&r.flags&2){if(i&&r.id!==i.uid)continue;Oi.splice(t,1),t--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function H2(i){if(Cs.length){const e=[...new Set(Cs)].sort((t,r)=>hn(t)-hn(r));if(Cs.length=0,I0){I0.push(...e);return}for(I0=e,vs=0;vs<I0.length;vs++){const t=I0[vs];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}I0=null,vs=0}}const hn=i=>i.id==null?i.flags&2?-1:1/0:i.id;function Y2(i){try{for(Lr=0;Lr<Oi.length;Lr++){const e=Oi[Lr];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),gn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Lr<Oi.length;Lr++){const e=Oi[Lr];e&&(e.flags&=-2)}Lr=-1,Oi.length=0,H2(),Ea=null,(Oi.length||Cs.length)&&Y2()}}let qi=null,K2=null;function Fa(i){const e=qi;return qi=i,K2=i&&i.type.__scopeId||null,e}function Bt(i,e=qi,t){if(!e||i._n)return i;const r=(...s)=>{r._d&&qh(-1);const n=Fa(e);let a;try{a=i(...s)}finally{Fa(n),r._d&&qh(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function W0(i,e,t,r){const s=i.dirs,n=e&&e.dirs;for(let a=0;a<s.length;a++){const l=s[a];n&&(l.oldValue=n[a].value);let o=l.dir[r];o&&(q0(),jr(o,t,8,[i.el,l,i,e]),G0())}}const d5=Symbol("_vte"),m5=i=>i.__isTeleport;function D1(i,e){i.shapeFlag&6&&i.component?(i.transition=e,D1(i.component.subTree,e)):i.shapeFlag&128?(i.ssContent.transition=e.clone(i.ssContent),i.ssFallback.transition=e.clone(i.ssFallback)):i.transition=e}function W2(i){i.ids=[i.ids[0]+i.ids[2]+++"-",0,0]}function Ba(i,e,t,r,s=!1){if(lt(i)){i.forEach((A,x)=>Ba(A,e&&(lt(e)?e[x]:e),t,r,s));return}if(Ts(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Ba(i,e,t,r.component.subTree);return}const n=r.shapeFlag&4?N1(r.component):r.el,a=s?null:n,{i:l,r:o}=i,h=e&&e.r,d=l.refs===Lt?l.refs={}:l.refs,f=l.setupState,p=Tt(f),g=f===Lt?()=>!1:A=>Dt(p,A);if(h!=null&&h!==o&&(pi(h)?(d[h]=null,g(h)&&(f[h]=null)):Di(h)&&(h.value=null)),ut(o))gn(o,l,12,[a,d]);else{const A=pi(o),x=Di(o);if(A||x){const y=()=>{if(i.f){const b=A?g(o)?f[o]:d[o]:o.value;s?lt(b)&&f1(b,n):lt(b)?b.includes(n)||b.push(n):A?(d[o]=[n],g(o)&&(f[o]=d[o])):(o.value=[n],i.k&&(d[i.k]=o.value))}else A?(d[o]=a,g(o)&&(f[o]=a)):x&&(o.value=a,i.k&&(d[i.k]=a))};a?(y.id=-1,sr(y,t)):y()}}}Xa().requestIdleCallback;Xa().cancelIdleCallback;const Ts=i=>!!i.type.__asyncLoader,j2=i=>i.type.__isKeepAlive;function f5(i,e){X2(i,"a",e)}function p5(i,e){X2(i,"da",e)}function X2(i,e,t=Fi){const r=i.__wdc||(i.__wdc=()=>{let s=t;for(;s;){if(s.isDeactivated)return;s=s.parent}return i()});if(Za(e,r,t),t){let s=t.parent;for(;s&&s.parent;)j2(s.parent.vnode)&&g5(r,e,t,s),s=s.parent}}function g5(i,e,t,r){const s=Za(e,i,r,!0);Q2(()=>{f1(r[e],s)},t)}function Za(i,e,t=Fi,r=!1){if(t){const s=t[i]||(t[i]=[]),n=e.__weh||(e.__weh=(...a)=>{q0();const l=vn(t),o=jr(e,t,i,a);return l(),G0(),o});return r?s.unshift(n):s.push(n),n}}const g0=i=>(e,t=Fi)=>{(!dn||i==="sp")&&Za(i,(...r)=>e(...r),t)},v5=g0("bm"),k1=g0("m"),A5=g0("bu"),x5=g0("u"),b5=g0("bum"),Q2=g0("um"),y5=g0("sp"),w5=g0("rtg"),S5=g0("rtc");function M5(i,e=Fi){Za("ec",i,e)}const C5="components",Z2=Symbol.for("v-ndc");function T5(i){return pi(i)?D5(C5,i,!1)||i:i||Z2}function D5(i,e,t=!0,r=!1){const s=qi||Fi;if(s){const n=s.type;{const l=m3(n,!1);if(l&&(l===e||l===Sr(e)||l===ja(Sr(e))))return n}const a=Bh(s[i]||n[i],e)||Bh(s.appContext[i],e);return!a&&r?n:a}}function Bh(i,e){return i&&(i[e]||i[Sr(e)]||i[ja(Sr(e))])}function I1(i,e,t={},r,s){if(qi.ce||qi.parent&&Ts(qi.parent)&&qi.parent.ce)return Mi(),Ra(or,null,[ge("slot",t,r)],64);let n=i[e];n&&n._c&&(n._d=!1),Mi();const a=n&&J2(n(t)),l=t.key||a&&a.key,o=Ra(or,{key:(l&&!p0(l)?l:`_${e}`)+""},a||[],a&&i._===1?64:-2);return n&&n._c&&(n._d=!0),o}function J2(i){return i.some(e=>F1(e)?!(e.type===z0||e.type===or&&!J2(e.children)):!0)?i:null}const Hl=i=>i?Ad(i)?N1(i):Hl(i.parent):null,en=Hi(Object.create(null),{$:i=>i,$el:i=>i.vnode.el,$data:i=>i.data,$props:i=>i.props,$attrs:i=>i.attrs,$slots:i=>i.slots,$refs:i=>i.refs,$parent:i=>Hl(i.parent),$root:i=>Hl(i.root),$host:i=>i.ce,$emit:i=>i.emit,$options:i=>$2(i),$forceUpdate:i=>i.f||(i.f=()=>{T1(i.update)}),$nextTick:i=>i.n||(i.n=c5.bind(i.proxy)),$watch:i=>X5.bind(i)}),tl=(i,e)=>i!==Lt&&!i.__isScriptSetup&&Dt(i,e),k5={get({_:i},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:r,data:s,props:n,accessCache:a,type:l,appContext:o}=i;let h;if(e[0]!=="$"){const g=a[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return s[e];case 4:return t[e];case 3:return n[e]}else{if(tl(r,e))return a[e]=1,r[e];if(s!==Lt&&Dt(s,e))return a[e]=2,s[e];if((h=i.propsOptions[0])&&Dt(h,e))return a[e]=3,n[e];if(t!==Lt&&Dt(t,e))return a[e]=4,t[e];Yl&&(a[e]=0)}}const d=en[e];let f,p;if(d)return e==="$attrs"&&Ei(i.attrs,"get",""),d(i);if((f=l.__cssModules)&&(f=f[e]))return f;if(t!==Lt&&Dt(t,e))return a[e]=4,t[e];if(p=o.config.globalProperties,Dt(p,e))return p[e]},set({_:i},e,t){const{data:r,setupState:s,ctx:n}=i;return tl(s,e)?(s[e]=t,!0):r!==Lt&&Dt(r,e)?(r[e]=t,!0):Dt(i.props,e)||e[0]==="$"&&e.slice(1)in i?!1:(n[e]=t,!0)},has({_:{data:i,setupState:e,accessCache:t,ctx:r,appContext:s,propsOptions:n}},a){let l;return!!t[a]||i!==Lt&&Dt(i,a)||tl(e,a)||(l=n[0])&&Dt(l,a)||Dt(r,a)||Dt(en,a)||Dt(s.config.globalProperties,a)},defineProperty(i,e,t){return t.get!=null?i._.accessCache[e]=0:Dt(t,"value")&&this.set(i,e,t.value,null),Reflect.defineProperty(i,e,t)}};function Nh(i){return lt(i)?i.reduce((e,t)=>(e[t]=null,e),{}):i}let Yl=!0;function I5(i){const e=$2(i),t=i.proxy,r=i.ctx;Yl=!1,e.beforeCreate&&Rh(e.beforeCreate,i,"bc");const{data:s,computed:n,methods:a,watch:l,provide:o,inject:h,created:d,beforeMount:f,mounted:p,beforeUpdate:g,updated:A,activated:x,deactivated:y,beforeDestroy:b,beforeUnmount:T,destroyed:D,unmounted:S,render:k,renderTracked:R,renderTriggered:B,errorCaptured:N,serverPrefetch:L,expose:O,inheritAttrs:q,components:U,directives:j,filters:X}=e;if(h&&E5(h,r,null),a)for(const he in a){const Ae=a[he];ut(Ae)&&(r[he]=Ae.bind(t))}if(s){const he=s.call(t,t);hi(he)&&(i.data=S1(he))}if(Yl=!0,n)for(const he in n){const Ae=n[he],qe=ut(Ae)?Ae.bind(t,t):ut(Ae.get)?Ae.get.bind(t,t):Kr,Qe=!ut(Ae)&&ut(Ae.set)?Ae.set.bind(t):Kr,Fe=V0({get:qe,set:Qe});Object.defineProperty(r,he,{enumerable:!0,configurable:!0,get:()=>Fe.value,set:at=>Fe.value=at})}if(l)for(const he in l)_2(l[he],r,t,he);if(o){const he=ut(o)?o.call(t):o;Reflect.ownKeys(he).forEach(Ae=>{Wl(Ae,he[Ae])})}d&&Rh(d,i,"c");function oe(he,Ae){lt(Ae)?Ae.forEach(qe=>he(qe.bind(t))):Ae&&he(Ae.bind(t))}if(oe(v5,f),oe(k1,p),oe(A5,g),oe(x5,A),oe(f5,x),oe(p5,y),oe(M5,N),oe(S5,R),oe(w5,B),oe(b5,T),oe(Q2,S),oe(y5,L),lt(O))if(O.length){const he=i.exposed||(i.exposed={});O.forEach(Ae=>{Object.defineProperty(he,Ae,{get:()=>t[Ae],set:qe=>t[Ae]=qe})})}else i.exposed||(i.exposed={});k&&i.render===Kr&&(i.render=k),q!=null&&(i.inheritAttrs=q),U&&(i.components=U),j&&(i.directives=j),L&&W2(i)}function E5(i,e,t=Kr){lt(i)&&(i=Kl(i));for(const r in i){const s=i[r];let n;hi(s)?"default"in s?n=is(s.from||r,s.default,!0):n=is(s.from||r):n=is(s),Di(n)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>n.value,set:a=>n.value=a}):e[r]=n}}function Rh(i,e,t){jr(lt(i)?i.map(r=>r.bind(e.proxy)):i.bind(e.proxy),e,t)}function _2(i,e,t,r){let s=r.includes(".")?md(t,r):()=>t[r];if(pi(i)){const n=e[i];ut(n)&&ma(s,n)}else if(ut(i))ma(s,i.bind(t));else if(hi(i))if(lt(i))i.forEach(n=>_2(n,e,t,r));else{const n=ut(i.handler)?i.handler.bind(t):e[i.handler];ut(n)&&ma(s,n,i)}}function $2(i){const e=i.type,{mixins:t,extends:r}=e,{mixins:s,optionsCache:n,config:{optionMergeStrategies:a}}=i.appContext,l=n.get(e);let o;return l?o=l:!s.length&&!t&&!r?o=e:(o={},s.length&&s.forEach(h=>Na(o,h,a,!0)),Na(o,e,a)),hi(e)&&n.set(e,o),o}function Na(i,e,t,r=!1){const{mixins:s,extends:n}=e;n&&Na(i,n,t,!0),s&&s.forEach(a=>Na(i,a,t,!0));for(const a in e)if(!(r&&a==="expose")){const l=F5[a]||t&&t[a];i[a]=l?l(i[a],e[a]):e[a]}return i}const F5={data:Vh,props:Uh,emits:Uh,methods:Ws,computed:Ws,beforeCreate:Ui,created:Ui,beforeMount:Ui,mounted:Ui,beforeUpdate:Ui,updated:Ui,beforeDestroy:Ui,beforeUnmount:Ui,destroyed:Ui,unmounted:Ui,activated:Ui,deactivated:Ui,errorCaptured:Ui,serverPrefetch:Ui,components:Ws,directives:Ws,watch:N5,provide:Vh,inject:B5};function Vh(i,e){return e?i?function(){return Hi(ut(i)?i.call(this,this):i,ut(e)?e.call(this,this):e)}:e:i}function B5(i,e){return Ws(Kl(i),Kl(e))}function Kl(i){if(lt(i)){const e={};for(let t=0;t<i.length;t++)e[i[t]]=i[t];return e}return i}function Ui(i,e){return i?[...new Set([].concat(i,e))]:e}function Ws(i,e){return i?Hi(Object.create(null),i,e):e}function Uh(i,e){return i?lt(i)&&lt(e)?[...new Set([...i,...e])]:Hi(Object.create(null),Nh(i),Nh(e??{})):e}function N5(i,e){if(!i)return e;if(!e)return i;const t=Hi(Object.create(null),i);for(const r in e)t[r]=Ui(i[r],e[r]);return t}function ed(){return{app:null,config:{isNativeTag:vf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let R5=0;function V5(i,e){return function(r,s=null){ut(r)||(r=Hi({},r)),s!=null&&!hi(s)&&(s=null);const n=ed(),a=new WeakSet,l=[];let o=!1;const h=n.app={_uid:R5++,_component:r,_props:s,_container:null,_context:n,_instance:null,version:p3,get config(){return n.config},set config(d){},use(d,...f){return a.has(d)||(d&&ut(d.install)?(a.add(d),d.install(h,...f)):ut(d)&&(a.add(d),d(h,...f))),h},mixin(d){return n.mixins.includes(d)||n.mixins.push(d),h},component(d,f){return f?(n.components[d]=f,h):n.components[d]},directive(d,f){return f?(n.directives[d]=f,h):n.directives[d]},mount(d,f,p){if(!o){const g=h._ceVNode||ge(r,s);return g.appContext=n,p===!0?p="svg":p===!1&&(p=void 0),i(g,d,p),o=!0,h._container=d,d.__vue_app__=h,N1(g.component)}},onUnmount(d){l.push(d)},unmount(){o&&(jr(l,h._instance,16),i(null,h._container),delete h._container.__vue_app__)},provide(d,f){return n.provides[d]=f,h},runWithContext(d){const f=Ds;Ds=h;try{return d()}finally{Ds=f}}};return h}}let Ds=null;function Wl(i,e){if(Fi){let t=Fi.provides;const r=Fi.parent&&Fi.parent.provides;r===t&&(t=Fi.provides=Object.create(r)),t[i]=e}}function is(i,e,t=!1){const r=Fi||qi;if(r||Ds){const s=Ds?Ds._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&i in s)return s[i];if(arguments.length>1)return t&&ut(e)?e.call(r&&r.proxy):e}}const td={},id=()=>Object.create(td),rd=i=>Object.getPrototypeOf(i)===td;function U5(i,e,t,r=!1){const s={},n=id();i.propsDefaults=Object.create(null),sd(i,e,s,n);for(const a in i.propsOptions[0])a in s||(s[a]=void 0);t?i.props=r?s:Zf(s):i.type.props?i.props=s:i.props=n,i.attrs=n}function z5(i,e,t,r){const{props:s,attrs:n,vnode:{patchFlag:a}}=i,l=Tt(s),[o]=i.propsOptions;let h=!1;if((r||a>0)&&!(a&16)){if(a&8){const d=i.vnode.dynamicProps;for(let f=0;f<d.length;f++){let p=d[f];if(Ja(i.emitsOptions,p))continue;const g=e[p];if(o)if(Dt(n,p))g!==n[p]&&(n[p]=g,h=!0);else{const A=Sr(p);s[A]=jl(o,l,A,g,i,!1)}else g!==n[p]&&(n[p]=g,h=!0)}}}else{sd(i,e,s,n)&&(h=!0);let d;for(const f in l)(!e||!Dt(e,f)&&((d=as(f))===f||!Dt(e,d)))&&(o?t&&(t[f]!==void 0||t[d]!==void 0)&&(s[f]=jl(o,l,f,void 0,i,!0)):delete s[f]);if(n!==l)for(const f in n)(!e||!Dt(e,f))&&(delete n[f],h=!0)}h&&o0(i.attrs,"set","")}function sd(i,e,t,r){const[s,n]=i.propsOptions;let a=!1,l;if(e)for(let o in e){if(Zs(o))continue;const h=e[o];let d;s&&Dt(s,d=Sr(o))?!n||!n.includes(d)?t[d]=h:(l||(l={}))[d]=h:Ja(i.emitsOptions,o)||(!(o in r)||h!==r[o])&&(r[o]=h,a=!0)}if(n){const o=Tt(t),h=l||Lt;for(let d=0;d<n.length;d++){const f=n[d];t[f]=jl(s,o,f,h[f],i,!Dt(h,f))}}return a}function jl(i,e,t,r,s,n){const a=i[t];if(a!=null){const l=Dt(a,"default");if(l&&r===void 0){const o=a.default;if(a.type!==Function&&!a.skipFactory&&ut(o)){const{propsDefaults:h}=s;if(t in h)r=h[t];else{const d=vn(s);r=h[t]=o.call(null,e),d()}}else r=o;s.ce&&s.ce._setProp(t,r)}a[0]&&(n&&!l?r=!1:a[1]&&(r===""||r===as(t))&&(r=!0))}return r}const P5=new WeakMap;function nd(i,e,t=!1){const r=t?P5:e.propsCache,s=r.get(i);if(s)return s;const n=i.props,a={},l=[];let o=!1;if(!ut(i)){const d=f=>{o=!0;const[p,g]=nd(f,e,!0);Hi(a,p),g&&l.push(...g)};!t&&e.mixins.length&&e.mixins.forEach(d),i.extends&&d(i.extends),i.mixins&&i.mixins.forEach(d)}if(!n&&!o)return hi(i)&&r.set(i,Ss),Ss;if(lt(n))for(let d=0;d<n.length;d++){const f=Sr(n[d]);zh(f)&&(a[f]=Lt)}else if(n)for(const d in n){const f=Sr(d);if(zh(f)){const p=n[d],g=a[f]=lt(p)||ut(p)?{type:p}:Hi({},p),A=g.type;let x=!1,y=!0;if(lt(A))for(let b=0;b<A.length;++b){const T=A[b],D=ut(T)&&T.name;if(D==="Boolean"){x=!0;break}else D==="String"&&(y=!1)}else x=ut(A)&&A.name==="Boolean";g[0]=x,g[1]=y,(x||Dt(g,"default"))&&l.push(f)}}const h=[a,l];return hi(i)&&r.set(i,h),h}function zh(i){return i[0]!=="$"&&!Zs(i)}const ad=i=>i[0]==="_"||i==="$stable",E1=i=>lt(i)?i.map(qr):[qr(i)],L5=(i,e,t)=>{if(e._n)return e;const r=Bt((...s)=>E1(e(...s)),t);return r._c=!1,r},od=(i,e,t)=>{const r=i._ctx;for(const s in i){if(ad(s))continue;const n=i[s];if(ut(n))e[s]=L5(s,n,r);else if(n!=null){const a=E1(n);e[s]=()=>a}}},ld=(i,e)=>{const t=E1(e);i.slots.default=()=>t},cd=(i,e,t)=>{for(const r in e)(t||r!=="_")&&(i[r]=e[r])},O5=(i,e,t)=>{const r=i.slots=id();if(i.vnode.shapeFlag&32){const s=e._;s?(cd(r,e,t),t&&y2(r,"_",s,!0)):od(e,r)}else e&&ld(i,e)},q5=(i,e,t)=>{const{vnode:r,slots:s}=i;let n=!0,a=Lt;if(r.shapeFlag&32){const l=e._;l?t&&l===1?n=!1:cd(s,e,t):(n=!e.$stable,od(e,s)),a=e}else e&&(ld(i,e),a={default:1});if(n)for(const l in s)!ad(l)&&a[l]==null&&delete s[l]},sr=t3;function G5(i){return H5(i)}function H5(i,e){const t=Xa();t.__VUE__=!0;const{insert:r,remove:s,patchProp:n,createElement:a,createText:l,createComment:o,setText:h,setElementText:d,parentNode:f,nextSibling:p,setScopeId:g=Kr,insertStaticContent:A}=i,x=($,se,ve,Me=null,xe=null,Se=null,Ne=void 0,Te=null,Re=!!se.dynamicChildren)=>{if($===se)return;$&&!qs($,se)&&(Me=Gt($),at($,xe,Se,!0),$=null),se.patchFlag===-2&&(Re=!1,se.dynamicChildren=null);const{type:Ie,ref:tt,shapeFlag:ze}=se;switch(Ie){case _a:y($,se,ve,Me);break;case z0:b($,se,ve,Me);break;case rl:$==null&&T(se,ve,Me,Ne);break;case or:U($,se,ve,Me,xe,Se,Ne,Te,Re);break;default:ze&1?k($,se,ve,Me,xe,Se,Ne,Te,Re):ze&6?j($,se,ve,Me,xe,Se,Ne,Te,Re):(ze&64||ze&128)&&Ie.process($,se,ve,Me,xe,Se,Ne,Te,Re,Et)}tt!=null&&xe&&Ba(tt,$&&$.ref,Se,se||$,!se)},y=($,se,ve,Me)=>{if($==null)r(se.el=l(se.children),ve,Me);else{const xe=se.el=$.el;se.children!==$.children&&h(xe,se.children)}},b=($,se,ve,Me)=>{$==null?r(se.el=o(se.children||""),ve,Me):se.el=$.el},T=($,se,ve,Me)=>{[$.el,$.anchor]=A($.children,se,ve,Me,$.el,$.anchor)},D=({el:$,anchor:se},ve,Me)=>{let xe;for(;$&&$!==se;)xe=p($),r($,ve,Me),$=xe;r(se,ve,Me)},S=({el:$,anchor:se})=>{let ve;for(;$&&$!==se;)ve=p($),s($),$=ve;s(se)},k=($,se,ve,Me,xe,Se,Ne,Te,Re)=>{se.type==="svg"?Ne="svg":se.type==="math"&&(Ne="mathml"),$==null?R(se,ve,Me,xe,Se,Ne,Te,Re):L($,se,xe,Se,Ne,Te,Re)},R=($,se,ve,Me,xe,Se,Ne,Te)=>{let Re,Ie;const{props:tt,shapeFlag:ze,transition:Xe,dirs:nt}=$;if(Re=$.el=a($.type,Se,tt&&tt.is,tt),ze&8?d(Re,$.children):ze&16&&N($.children,Re,null,Me,xe,il($,Se),Ne,Te),nt&&W0($,null,Me,"created"),B(Re,$,$.scopeId,Ne,Me),tt){for(const kt in tt)kt!=="value"&&!Zs(kt)&&n(Re,kt,null,tt[kt],Se,Me);"value"in tt&&n(Re,"value",null,tt.value,Se),(Ie=tt.onVnodeBeforeMount)&&Ur(Ie,Me,$)}nt&&W0($,null,Me,"beforeMount");const ft=Y5(xe,Xe);ft&&Xe.beforeEnter(Re),r(Re,se,ve),((Ie=tt&&tt.onVnodeMounted)||ft||nt)&&sr(()=>{Ie&&Ur(Ie,Me,$),ft&&Xe.enter(Re),nt&&W0($,null,Me,"mounted")},xe)},B=($,se,ve,Me,xe)=>{if(ve&&g($,ve),Me)for(let Se=0;Se<Me.length;Se++)g($,Me[Se]);if(xe){let Se=xe.subTree;if(se===Se||pd(Se.type)&&(Se.ssContent===se||Se.ssFallback===se)){const Ne=xe.vnode;B($,Ne,Ne.scopeId,Ne.slotScopeIds,xe.parent)}}},N=($,se,ve,Me,xe,Se,Ne,Te,Re=0)=>{for(let Ie=Re;Ie<$.length;Ie++){const tt=$[Ie]=Te?E0($[Ie]):qr($[Ie]);x(null,tt,se,ve,Me,xe,Se,Ne,Te)}},L=($,se,ve,Me,xe,Se,Ne)=>{const Te=se.el=$.el;let{patchFlag:Re,dynamicChildren:Ie,dirs:tt}=se;Re|=$.patchFlag&16;const ze=$.props||Lt,Xe=se.props||Lt;let nt;if(ve&&j0(ve,!1),(nt=Xe.onVnodeBeforeUpdate)&&Ur(nt,ve,se,$),tt&&W0(se,$,ve,"beforeUpdate"),ve&&j0(ve,!0),(ze.innerHTML&&Xe.innerHTML==null||ze.textContent&&Xe.textContent==null)&&d(Te,""),Ie?O($.dynamicChildren,Ie,Te,ve,Me,il(se,xe),Se):Ne||Ae($,se,Te,null,ve,Me,il(se,xe),Se,!1),Re>0){if(Re&16)q(Te,ze,Xe,ve,xe);else if(Re&2&&ze.class!==Xe.class&&n(Te,"class",null,Xe.class,xe),Re&4&&n(Te,"style",ze.style,Xe.style,xe),Re&8){const ft=se.dynamicProps;for(let kt=0;kt<ft.length;kt++){const wt=ft[kt],$t=ze[wt],ki=Xe[wt];(ki!==$t||wt==="value")&&n(Te,wt,$t,ki,xe,ve)}}Re&1&&$.children!==se.children&&d(Te,se.children)}else!Ne&&Ie==null&&q(Te,ze,Xe,ve,xe);((nt=Xe.onVnodeUpdated)||tt)&&sr(()=>{nt&&Ur(nt,ve,se,$),tt&&W0(se,$,ve,"updated")},Me)},O=($,se,ve,Me,xe,Se,Ne)=>{for(let Te=0;Te<se.length;Te++){const Re=$[Te],Ie=se[Te],tt=Re.el&&(Re.type===or||!qs(Re,Ie)||Re.shapeFlag&70)?f(Re.el):ve;x(Re,Ie,tt,null,Me,xe,Se,Ne,!0)}},q=($,se,ve,Me,xe)=>{if(se!==ve){if(se!==Lt)for(const Se in se)!Zs(Se)&&!(Se in ve)&&n($,Se,se[Se],null,xe,Me);for(const Se in ve){if(Zs(Se))continue;const Ne=ve[Se],Te=se[Se];Ne!==Te&&Se!=="value"&&n($,Se,Te,Ne,xe,Me)}"value"in ve&&n($,"value",se.value,ve.value,xe)}},U=($,se,ve,Me,xe,Se,Ne,Te,Re)=>{const Ie=se.el=$?$.el:l(""),tt=se.anchor=$?$.anchor:l("");let{patchFlag:ze,dynamicChildren:Xe,slotScopeIds:nt}=se;nt&&(Te=Te?Te.concat(nt):nt),$==null?(r(Ie,ve,Me),r(tt,ve,Me),N(se.children||[],ve,tt,xe,Se,Ne,Te,Re)):ze>0&&ze&64&&Xe&&$.dynamicChildren?(O($.dynamicChildren,Xe,ve,xe,Se,Ne,Te),(se.key!=null||xe&&se===xe.subTree)&&hd($,se,!0)):Ae($,se,ve,tt,xe,Se,Ne,Te,Re)},j=($,se,ve,Me,xe,Se,Ne,Te,Re)=>{se.slotScopeIds=Te,$==null?se.shapeFlag&512?xe.ctx.activate(se,ve,Me,Ne,Re):X(se,ve,Me,xe,Se,Ne,Re):re($,se,Re)},X=($,se,ve,Me,xe,Se,Ne)=>{const Te=$.component=l3($,Me,xe);if(j2($)&&(Te.ctx.renderer=Et),c3(Te,!1,Ne),Te.asyncDep){if(xe&&xe.registerDep(Te,oe,Ne),!$.el){const Re=Te.subTree=ge(z0);b(null,Re,se,ve)}}else oe(Te,$,se,ve,xe,Se,Ne)},re=($,se,ve)=>{const Me=se.component=$.component;if($5($,se,ve))if(Me.asyncDep&&!Me.asyncResolved){he(Me,se,ve);return}else Me.next=se,Me.update();else se.el=$.el,Me.vnode=se},oe=($,se,ve,Me,xe,Se,Ne)=>{const Te=()=>{if($.isMounted){let{next:ze,bu:Xe,u:nt,parent:ft,vnode:kt}=$;{const mr=ud($);if(mr){ze&&(ze.el=kt.el,he($,ze,Ne)),mr.asyncDep.then(()=>{$.isUnmounted||Te()});return}}let wt=ze,$t;j0($,!1),ze?(ze.el=kt.el,he($,ze,Ne)):ze=kt,Xe&&Zo(Xe),($t=ze.props&&ze.props.onVnodeBeforeUpdate)&&Ur($t,ft,ze,kt),j0($,!0);const ki=Lh($),Ki=$.subTree;$.subTree=ki,x(Ki,ki,f(Ki.el),Gt(Ki),$,xe,Se),ze.el=ki.el,wt===null&&e3($,ki.el),nt&&sr(nt,xe),($t=ze.props&&ze.props.onVnodeUpdated)&&sr(()=>Ur($t,ft,ze,kt),xe)}else{let ze;const{el:Xe,props:nt}=se,{bm:ft,m:kt,parent:wt,root:$t,type:ki}=$,Ki=Ts(se);j0($,!1),ft&&Zo(ft),!Ki&&(ze=nt&&nt.onVnodeBeforeMount)&&Ur(ze,wt,se),j0($,!0);{$t.ce&&$t.ce._injectChildStyle(ki);const mr=$.subTree=Lh($);x(null,mr,ve,Me,$,xe,Se),se.el=mr.el}if(kt&&sr(kt,xe),!Ki&&(ze=nt&&nt.onVnodeMounted)){const mr=se;sr(()=>Ur(ze,wt,mr),xe)}(se.shapeFlag&256||wt&&Ts(wt.vnode)&&wt.vnode.shapeFlag&256)&&$.a&&sr($.a,xe),$.isMounted=!0,se=ve=Me=null}};$.scope.on();const Re=$.effect=new C2(Te);$.scope.off();const Ie=$.update=Re.run.bind(Re),tt=$.job=Re.runIfDirty.bind(Re);tt.i=$,tt.id=$.uid,Re.scheduler=()=>T1(tt),j0($,!0),Ie()},he=($,se,ve)=>{se.component=$;const Me=$.vnode.props;$.vnode=se,$.next=null,z5($,se.props,Me,ve),q5($,se.children,ve),q0(),Fh($),G0()},Ae=($,se,ve,Me,xe,Se,Ne,Te,Re=!1)=>{const Ie=$&&$.children,tt=$?$.shapeFlag:0,ze=se.children,{patchFlag:Xe,shapeFlag:nt}=se;if(Xe>0){if(Xe&128){Qe(Ie,ze,ve,Me,xe,Se,Ne,Te,Re);return}else if(Xe&256){qe(Ie,ze,ve,Me,xe,Se,Ne,Te,Re);return}}nt&8?(tt&16&&Vt(Ie,xe,Se),ze!==Ie&&d(ve,ze)):tt&16?nt&16?Qe(Ie,ze,ve,Me,xe,Se,Ne,Te,Re):Vt(Ie,xe,Se,!0):(tt&8&&d(ve,""),nt&16&&N(ze,ve,Me,xe,Se,Ne,Te,Re))},qe=($,se,ve,Me,xe,Se,Ne,Te,Re)=>{$=$||Ss,se=se||Ss;const Ie=$.length,tt=se.length,ze=Math.min(Ie,tt);let Xe;for(Xe=0;Xe<ze;Xe++){const nt=se[Xe]=Re?E0(se[Xe]):qr(se[Xe]);x($[Xe],nt,ve,null,xe,Se,Ne,Te,Re)}Ie>tt?Vt($,xe,Se,!0,!1,ze):N(se,ve,Me,xe,Se,Ne,Te,Re,ze)},Qe=($,se,ve,Me,xe,Se,Ne,Te,Re)=>{let Ie=0;const tt=se.length;let ze=$.length-1,Xe=tt-1;for(;Ie<=ze&&Ie<=Xe;){const nt=$[Ie],ft=se[Ie]=Re?E0(se[Ie]):qr(se[Ie]);if(qs(nt,ft))x(nt,ft,ve,null,xe,Se,Ne,Te,Re);else break;Ie++}for(;Ie<=ze&&Ie<=Xe;){const nt=$[ze],ft=se[Xe]=Re?E0(se[Xe]):qr(se[Xe]);if(qs(nt,ft))x(nt,ft,ve,null,xe,Se,Ne,Te,Re);else break;ze--,Xe--}if(Ie>ze){if(Ie<=Xe){const nt=Xe+1,ft=nt<tt?se[nt].el:Me;for(;Ie<=Xe;)x(null,se[Ie]=Re?E0(se[Ie]):qr(se[Ie]),ve,ft,xe,Se,Ne,Te,Re),Ie++}}else if(Ie>Xe)for(;Ie<=ze;)at($[Ie],xe,Se,!0),Ie++;else{const nt=Ie,ft=Ie,kt=new Map;for(Ie=ft;Ie<=Xe;Ie++){const Ce=se[Ie]=Re?E0(se[Ie]):qr(se[Ie]);Ce.key!=null&&kt.set(Ce.key,Ie)}let wt,$t=0;const ki=Xe-ft+1;let Ki=!1,mr=0;const x0=new Array(ki);for(Ie=0;Ie<ki;Ie++)x0[Ie]=0;for(Ie=nt;Ie<=ze;Ie++){const Ce=$[Ie];if($t>=ki){at(Ce,xe,Se,!0);continue}let vi;if(Ce.key!=null)vi=kt.get(Ce.key);else for(wt=ft;wt<=Xe;wt++)if(x0[wt-ft]===0&&qs(Ce,se[wt])){vi=wt;break}vi===void 0?at(Ce,xe,Se,!0):(x0[vi-ft]=Ie+1,vi>=mr?mr=vi:Ki=!0,x(Ce,se[vi],ve,null,xe,Se,Ne,Te,Re),$t++)}const Ut=Ki?K5(x0):Ss;for(wt=Ut.length-1,Ie=ki-1;Ie>=0;Ie--){const Ce=ft+Ie,vi=se[Ce],Rs=Ce+1<tt?se[Ce+1].el:Me;x0[Ie]===0?x(null,vi,ve,Rs,xe,Se,Ne,Te,Re):Ki&&(wt<0||Ie!==Ut[wt]?Fe(vi,ve,Rs,2):wt--)}}},Fe=($,se,ve,Me,xe=null)=>{const{el:Se,type:Ne,transition:Te,children:Re,shapeFlag:Ie}=$;if(Ie&6){Fe($.component.subTree,se,ve,Me);return}if(Ie&128){$.suspense.move(se,ve,Me);return}if(Ie&64){Ne.move($,se,ve,Et);return}if(Ne===or){r(Se,se,ve);for(let ze=0;ze<Re.length;ze++)Fe(Re[ze],se,ve,Me);r($.anchor,se,ve);return}if(Ne===rl){D($,se,ve);return}if(Me!==2&&Ie&1&&Te)if(Me===0)Te.beforeEnter(Se),r(Se,se,ve),sr(()=>Te.enter(Se),xe);else{const{leave:ze,delayLeave:Xe,afterLeave:nt}=Te,ft=()=>r(Se,se,ve),kt=()=>{ze(Se,()=>{ft(),nt&&nt()})};Xe?Xe(Se,ft,kt):kt()}else r(Se,se,ve)},at=($,se,ve,Me=!1,xe=!1)=>{const{type:Se,props:Ne,ref:Te,children:Re,dynamicChildren:Ie,shapeFlag:tt,patchFlag:ze,dirs:Xe,cacheIndex:nt}=$;if(ze===-2&&(xe=!1),Te!=null&&Ba(Te,null,ve,$,!0),nt!=null&&(se.renderCache[nt]=void 0),tt&256){se.ctx.deactivate($);return}const ft=tt&1&&Xe,kt=!Ts($);let wt;if(kt&&(wt=Ne&&Ne.onVnodeBeforeUnmount)&&Ur(wt,se,$),tt&6)qt($.component,ve,Me);else{if(tt&128){$.suspense.unmount(ve,Me);return}ft&&W0($,null,se,"beforeUnmount"),tt&64?$.type.remove($,se,ve,Et,Me):Ie&&!Ie.hasOnce&&(Se!==or||ze>0&&ze&64)?Vt(Ie,se,ve,!1,!0):(Se===or&&ze&384||!xe&&tt&16)&&Vt(Re,se,ve),Me&&jt($)}(kt&&(wt=Ne&&Ne.onVnodeUnmounted)||ft)&&sr(()=>{wt&&Ur(wt,se,$),ft&&W0($,null,se,"unmounted")},ve)},jt=$=>{const{type:se,el:ve,anchor:Me,transition:xe}=$;if(se===or){ni(ve,Me);return}if(se===rl){S($);return}const Se=()=>{s(ve),xe&&!xe.persisted&&xe.afterLeave&&xe.afterLeave()};if($.shapeFlag&1&&xe&&!xe.persisted){const{leave:Ne,delayLeave:Te}=xe,Re=()=>Ne(ve,Se);Te?Te($.el,Se,Re):Re()}else Se()},ni=($,se)=>{let ve;for(;$!==se;)ve=p($),s($),$=ve;s(se)},qt=($,se,ve)=>{const{bum:Me,scope:xe,job:Se,subTree:Ne,um:Te,m:Re,a:Ie}=$;Ph(Re),Ph(Ie),Me&&Zo(Me),xe.stop(),Se&&(Se.flags|=8,at(Ne,$,se,ve)),Te&&sr(Te,se),sr(()=>{$.isUnmounted=!0},se),se&&se.pendingBranch&&!se.isUnmounted&&$.asyncDep&&!$.asyncResolved&&$.suspenseId===se.pendingId&&(se.deps--,se.deps===0&&se.resolve())},Vt=($,se,ve,Me=!1,xe=!1,Se=0)=>{for(let Ne=Se;Ne<$.length;Ne++)at($[Ne],se,ve,Me,xe)},Gt=$=>{if($.shapeFlag&6)return Gt($.component.subTree);if($.shapeFlag&128)return $.suspense.next();const se=p($.anchor||$.el),ve=se&&se[d5];return ve?p(ve):se};let ai=!1;const yi=($,se,ve)=>{$==null?se._vnode&&at(se._vnode,null,null,!0):x(se._vnode||null,$,se,null,null,null,ve),se._vnode=$,ai||(ai=!0,Fh(),H2(),ai=!1)},Et={p:x,um:at,m:Fe,r:jt,mt:X,mc:N,pc:Ae,pbc:O,n:Gt,o:i};return{render:yi,hydrate:void 0,createApp:V5(yi)}}function il({type:i,props:e},t){return t==="svg"&&i==="foreignObject"||t==="mathml"&&i==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function j0({effect:i,job:e},t){t?(i.flags|=32,e.flags|=4):(i.flags&=-33,e.flags&=-5)}function Y5(i,e){return(!i||i&&!i.pendingBranch)&&e&&!e.persisted}function hd(i,e,t=!1){const r=i.children,s=e.children;if(lt(r)&&lt(s))for(let n=0;n<r.length;n++){const a=r[n];let l=s[n];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[n]=E0(s[n]),l.el=a.el),!t&&l.patchFlag!==-2&&hd(a,l)),l.type===_a&&(l.el=a.el)}}function K5(i){const e=i.slice(),t=[0];let r,s,n,a,l;const o=i.length;for(r=0;r<o;r++){const h=i[r];if(h!==0){if(s=t[t.length-1],i[s]<h){e[r]=s,t.push(r);continue}for(n=0,a=t.length-1;n<a;)l=n+a>>1,i[t[l]]<h?n=l+1:a=l;h<i[t[n]]&&(n>0&&(e[r]=t[n-1]),t[n]=r)}}for(n=t.length,a=t[n-1];n-- >0;)t[n]=a,a=e[a];return t}function ud(i){const e=i.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ud(e)}function Ph(i){if(i)for(let e=0;e<i.length;e++)i[e].flags|=8}const W5=Symbol.for("v-scx"),j5=()=>is(W5);function ma(i,e,t){return dd(i,e,t)}function dd(i,e,t=Lt){const{immediate:r,deep:s,flush:n,once:a}=t,l=Hi({},t),o=e&&r||!e&&n!=="post";let h;if(dn){if(n==="sync"){const g=j5();h=g.__watcherHandles||(g.__watcherHandles=[])}else if(!o){const g=()=>{};return g.stop=Kr,g.resume=Kr,g.pause=Kr,g}}const d=Fi;l.call=(g,A,x)=>jr(g,d,A,x);let f=!1;n==="post"?l.scheduler=g=>{sr(g,d&&d.suspense)}:n!=="sync"&&(f=!0,l.scheduler=(g,A)=>{A?g():T1(g)}),l.augmentJob=g=>{e&&(g.flags|=4),f&&(g.flags|=2,d&&(g.id=d.uid,g.i=d))};const p=o5(i,e,l);return dn&&(h?h.push(p):o&&p()),p}function X5(i,e,t){const r=this.proxy,s=pi(i)?i.includes(".")?md(r,i):()=>r[i]:i.bind(r,r);let n;ut(e)?n=e:(n=e.handler,t=e);const a=vn(this),l=dd(s,n.bind(r),t);return a(),l}function md(i,e){const t=e.split(".");return()=>{let r=i;for(let s=0;s<t.length&&r;s++)r=r[t[s]];return r}}const Q5=(i,e)=>e==="modelValue"||e==="model-value"?i.modelModifiers:i[`${e}Modifiers`]||i[`${Sr(e)}Modifiers`]||i[`${as(e)}Modifiers`];function Z5(i,e,...t){if(i.isUnmounted)return;const r=i.vnode.props||Lt;let s=t;const n=e.startsWith("update:"),a=n&&Q5(r,e.slice(7));a&&(a.trim&&(s=t.map(d=>pi(d)?d.trim():d)),a.number&&(s=t.map(wf)));let l,o=r[l=Qo(e)]||r[l=Qo(Sr(e))];!o&&n&&(o=r[l=Qo(as(e))]),o&&jr(o,i,6,s);const h=r[l+"Once"];if(h){if(!i.emitted)i.emitted={};else if(i.emitted[l])return;i.emitted[l]=!0,jr(h,i,6,s)}}function fd(i,e,t=!1){const r=e.emitsCache,s=r.get(i);if(s!==void 0)return s;const n=i.emits;let a={},l=!1;if(!ut(i)){const o=h=>{const d=fd(h,e,!0);d&&(l=!0,Hi(a,d))};!t&&e.mixins.length&&e.mixins.forEach(o),i.extends&&o(i.extends),i.mixins&&i.mixins.forEach(o)}return!n&&!l?(hi(i)&&r.set(i,null),null):(lt(n)?n.forEach(o=>a[o]=null):Hi(a,n),hi(i)&&r.set(i,a),a)}function Ja(i,e){return!i||!Ya(e)?!1:(e=e.slice(2).replace(/Once$/,""),Dt(i,e[0].toLowerCase()+e.slice(1))||Dt(i,as(e))||Dt(i,e))}function Lh(i){const{type:e,vnode:t,proxy:r,withProxy:s,propsOptions:[n],slots:a,attrs:l,emit:o,render:h,renderCache:d,props:f,data:p,setupState:g,ctx:A,inheritAttrs:x}=i,y=Fa(i);let b,T;try{if(t.shapeFlag&4){const S=s||r,k=S;b=qr(h.call(k,S,d,f,g,p,A)),T=l}else{const S=e;b=qr(S.length>1?S(f,{attrs:l,slots:a,emit:o}):S(f,null)),T=e.props?l:J5(l)}}catch(S){tn.length=0,Qa(S,i,1),b=ge(z0)}let D=b;if(T&&x!==!1){const S=Object.keys(T),{shapeFlag:k}=D;S.length&&k&7&&(n&&S.some(m1)&&(T=_5(T,n)),D=Es(D,T,!1,!0))}return t.dirs&&(D=Es(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(t.dirs):t.dirs),t.transition&&D1(D,t.transition),b=D,Fa(y),b}const J5=i=>{let e;for(const t in i)(t==="class"||t==="style"||Ya(t))&&((e||(e={}))[t]=i[t]);return e},_5=(i,e)=>{const t={};for(const r in i)(!m1(r)||!(r.slice(9)in e))&&(t[r]=i[r]);return t};function $5(i,e,t){const{props:r,children:s,component:n}=i,{props:a,children:l,patchFlag:o}=e,h=n.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&o>=0){if(o&1024)return!0;if(o&16)return r?Oh(r,a,h):!!a;if(o&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const p=d[f];if(a[p]!==r[p]&&!Ja(h,p))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===a?!1:r?a?Oh(r,a,h):!0:!!a;return!1}function Oh(i,e,t){const r=Object.keys(e);if(r.length!==Object.keys(i).length)return!0;for(let s=0;s<r.length;s++){const n=r[s];if(e[n]!==i[n]&&!Ja(t,n))return!0}return!1}function e3({vnode:i,parent:e},t){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===i&&(r.el=i.el),r===i)(i=e.vnode).el=t,e=e.parent;else break}}const pd=i=>i.__isSuspense;function t3(i,e){e&&e.pendingBranch?lt(i)?e.effects.push(...i):e.effects.push(i):u5(i)}const or=Symbol.for("v-fgt"),_a=Symbol.for("v-txt"),z0=Symbol.for("v-cmt"),rl=Symbol.for("v-stc"),tn=[];let ur=null;function Mi(i=!1){tn.push(ur=i?null:[])}function i3(){tn.pop(),ur=tn[tn.length-1]||null}let un=1;function qh(i,e=!1){un+=i,i<0&&ur&&e&&(ur.hasOnce=!0)}function gd(i){return i.dynamicChildren=un>0?ur||Ss:null,i3(),un>0&&ur&&ur.push(i),i}function $i(i,e,t,r,s,n){return gd(H(i,e,t,r,s,n,!0))}function Ra(i,e,t,r,s){return gd(ge(i,e,t,r,s,!0))}function F1(i){return i?i.__v_isVNode===!0:!1}function qs(i,e){return i.type===e.type&&i.key===e.key}const vd=({key:i})=>i??null,fa=({ref:i,ref_key:e,ref_for:t})=>(typeof i=="number"&&(i=""+i),i!=null?pi(i)||Di(i)||ut(i)?{i:qi,r:i,k:e,f:!!t}:i:null);function H(i,e=null,t=null,r=0,s=null,n=i===or?0:1,a=!1,l=!1){const o={__v_isVNode:!0,__v_skip:!0,type:i,props:e,key:e&&vd(e),ref:e&&fa(e),scopeId:K2,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:qi};return l?(B1(o,t),n&128&&i.normalize(o)):t&&(o.shapeFlag|=pi(t)?8:16),un>0&&!a&&ur&&(o.patchFlag>0||n&6)&&o.patchFlag!==32&&ur.push(o),o}const ge=r3;function r3(i,e=null,t=null,r=0,s=null,n=!1){if((!i||i===Z2)&&(i=z0),F1(i)){const l=Es(i,e,!0);return t&&B1(l,t),un>0&&!n&&ur&&(l.shapeFlag&6?ur[ur.indexOf(i)]=l:ur.push(l)),l.patchFlag=-2,l}if(f3(i)&&(i=i.__vccOpts),e){e=s3(e);let{class:l,style:o}=e;l&&!pi(l)&&(e.class=Is(l)),hi(o)&&(C1(o)&&!lt(o)&&(o=Hi({},o)),e.style=g1(o))}const a=pi(i)?1:pd(i)?128:m5(i)?64:hi(i)?4:ut(i)?2:0;return H(i,e,t,r,s,a,n,!0)}function s3(i){return i?C1(i)||rd(i)?Hi({},i):i:null}function Es(i,e,t=!1,r=!1){const{props:s,ref:n,patchFlag:a,children:l,transition:o}=i,h=e?n3(s||{},e):s,d={__v_isVNode:!0,__v_skip:!0,type:i.type,props:h,key:h&&vd(h),ref:e&&e.ref?t&&n?lt(n)?n.concat(fa(e)):[n,fa(e)]:fa(e):n,scopeId:i.scopeId,slotScopeIds:i.slotScopeIds,children:l,target:i.target,targetStart:i.targetStart,targetAnchor:i.targetAnchor,staticCount:i.staticCount,shapeFlag:i.shapeFlag,patchFlag:e&&i.type!==or?a===-1?16:a|16:a,dynamicProps:i.dynamicProps,dynamicChildren:i.dynamicChildren,appContext:i.appContext,dirs:i.dirs,transition:o,component:i.component,suspense:i.suspense,ssContent:i.ssContent&&Es(i.ssContent),ssFallback:i.ssFallback&&Es(i.ssFallback),el:i.el,anchor:i.anchor,ctx:i.ctx,ce:i.ce};return o&&r&&D1(d,o.clone(d)),d}function le(i=" ",e=0){return ge(_a,null,i,e)}function Xl(i="",e=!1){return e?(Mi(),Ra(z0,null,i)):ge(z0,null,i)}function qr(i){return i==null||typeof i=="boolean"?ge(z0):lt(i)?ge(or,null,i.slice()):F1(i)?E0(i):ge(_a,null,String(i))}function E0(i){return i.el===null&&i.patchFlag!==-1||i.memo?i:Es(i)}function B1(i,e){let t=0;const{shapeFlag:r}=i;if(e==null)e=null;else if(lt(e))t=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),B1(i,s()),s._c&&(s._d=!0));return}else{t=32;const s=e._;!s&&!rd(e)?e._ctx=qi:s===3&&qi&&(qi.slots._===1?e._=1:(e._=2,i.patchFlag|=1024))}else ut(e)?(e={default:e,_ctx:qi},t=32):(e=String(e),r&64?(t=16,e=[le(e)]):t=8);i.children=e,i.shapeFlag|=t}function n3(...i){const e={};for(let t=0;t<i.length;t++){const r=i[t];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Is([e.class,r.class]));else if(s==="style")e.style=g1([e.style,r.style]);else if(Ya(s)){const n=e[s],a=r[s];a&&n!==a&&!(lt(n)&&n.includes(a))&&(e[s]=n?[].concat(n,a):a)}else s!==""&&(e[s]=r[s])}return e}function Ur(i,e,t,r=null){jr(i,e,7,[t,r])}const a3=ed();let o3=0;function l3(i,e,t){const r=i.type,s=(e?e.appContext:i.appContext)||a3,n={uid:o3++,vnode:i,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new If(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:nd(r,s),emitsOptions:fd(r,s),emit:null,emitted:null,propsDefaults:Lt,inheritAttrs:r.inheritAttrs,ctx:Lt,data:Lt,props:Lt,attrs:Lt,slots:Lt,refs:Lt,setupState:Lt,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=e?e.root:n,n.emit=Z5.bind(null,n),i.ce&&i.ce(n),n}let Fi=null,Va,Ql;{const i=Xa(),e=(t,r)=>{let s;return(s=i[t])||(s=i[t]=[]),s.push(r),n=>{s.length>1?s.forEach(a=>a(n)):s[0](n)}};Va=e("__VUE_INSTANCE_SETTERS__",t=>Fi=t),Ql=e("__VUE_SSR_SETTERS__",t=>dn=t)}const vn=i=>{const e=Fi;return Va(i),i.scope.on(),()=>{i.scope.off(),Va(e)}},Gh=()=>{Fi&&Fi.scope.off(),Va(null)};function Ad(i){return i.vnode.shapeFlag&4}let dn=!1;function c3(i,e=!1,t=!1){e&&Ql(e);const{props:r,children:s}=i.vnode,n=Ad(i);U5(i,r,n,e),O5(i,s,t);const a=n?h3(i,e):void 0;return e&&Ql(!1),a}function h3(i,e){const t=i.type;i.accessCache=Object.create(null),i.proxy=new Proxy(i.ctx,k5);const{setup:r}=t;if(r){q0();const s=i.setupContext=r.length>1?d3(i):null,n=vn(i),a=gn(r,i,0,[i.props,s]),l=A2(a);if(G0(),n(),(l||i.sp)&&!Ts(i)&&W2(i),l){if(a.then(Gh,Gh),e)return a.then(o=>{Hh(i,o)}).catch(o=>{Qa(o,i,0)});i.asyncDep=a}else Hh(i,a)}else xd(i)}function Hh(i,e,t){ut(e)?i.type.__ssrInlineRender?i.ssrRender=e:i.render=e:hi(e)&&(i.setupState=O2(e)),xd(i)}function xd(i,e,t){const r=i.type;i.render||(i.render=r.render||Kr);{const s=vn(i);q0();try{I5(i)}finally{G0(),s()}}}const u3={get(i,e){return Ei(i,"get",""),i[e]}};function d3(i){const e=t=>{i.exposed=t||{}};return{attrs:new Proxy(i.attrs,u3),slots:i.slots,emit:i.emit,expose:e}}function N1(i){return i.exposed?i.exposeProxy||(i.exposeProxy=new Proxy(O2(Jf(i.exposed)),{get(e,t){if(t in e)return e[t];if(t in en)return en[t](i)},has(e,t){return t in e||t in en}})):i.proxy}function m3(i,e=!0){return ut(i)?i.displayName||i.name:i.name||e&&i.__name}function f3(i){return ut(i)&&"__vccOpts"in i}const V0=(i,e)=>n5(i,e,dn),p3="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Zl;const Yh=typeof window<"u"&&window.trustedTypes;if(Yh)try{Zl=Yh.createPolicy("vue",{createHTML:i=>i})}catch{}const bd=Zl?i=>Zl.createHTML(i):i=>i,g3="http://www.w3.org/2000/svg",v3="http://www.w3.org/1998/Math/MathML",n0=typeof document<"u"?document:null,Kh=n0&&n0.createElement("template"),A3={insert:(i,e,t)=>{e.insertBefore(i,t||null)},remove:i=>{const e=i.parentNode;e&&e.removeChild(i)},createElement:(i,e,t,r)=>{const s=e==="svg"?n0.createElementNS(g3,i):e==="mathml"?n0.createElementNS(v3,i):t?n0.createElement(i,{is:t}):n0.createElement(i);return i==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:i=>n0.createTextNode(i),createComment:i=>n0.createComment(i),setText:(i,e)=>{i.nodeValue=e},setElementText:(i,e)=>{i.textContent=e},parentNode:i=>i.parentNode,nextSibling:i=>i.nextSibling,querySelector:i=>n0.querySelector(i),setScopeId(i,e){i.setAttribute(e,"")},insertStaticContent(i,e,t,r,s,n){const a=t?t.previousSibling:e.lastChild;if(s&&(s===n||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),t),!(s===n||!(s=s.nextSibling)););else{Kh.innerHTML=bd(r==="svg"?`<svg>${i}</svg>`:r==="mathml"?`<math>${i}</math>`:i);const l=Kh.content;if(r==="svg"||r==="mathml"){const o=l.firstChild;for(;o.firstChild;)l.appendChild(o.firstChild);l.removeChild(o)}e.insertBefore(l,t)}return[a?a.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},x3=Symbol("_vtc");function b3(i,e,t){const r=i[x3];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?i.removeAttribute("class"):t?i.setAttribute("class",e):i.className=e}const Wh=Symbol("_vod"),y3=Symbol("_vsh"),w3=Symbol(""),S3=/(^|;)\s*display\s*:/;function M3(i,e,t){const r=i.style,s=pi(t);let n=!1;if(t&&!s){if(e)if(pi(e))for(const a of e.split(";")){const l=a.slice(0,a.indexOf(":")).trim();t[l]==null&&pa(r,l,"")}else for(const a in e)t[a]==null&&pa(r,a,"");for(const a in t)a==="display"&&(n=!0),pa(r,a,t[a])}else if(s){if(e!==t){const a=r[w3];a&&(t+=";"+a),r.cssText=t,n=S3.test(t)}}else e&&i.removeAttribute("style");Wh in i&&(i[Wh]=n?r.display:"",i[y3]&&(r.display="none"))}const jh=/\s*!important$/;function pa(i,e,t){if(lt(t))t.forEach(r=>pa(i,e,r));else if(t==null&&(t=""),e.startsWith("--"))i.setProperty(e,t);else{const r=C3(i,e);jh.test(t)?i.setProperty(as(r),t.replace(jh,""),"important"):i[r]=t}}const Xh=["Webkit","Moz","ms"],sl={};function C3(i,e){const t=sl[e];if(t)return t;let r=Sr(e);if(r!=="filter"&&r in i)return sl[e]=r;r=ja(r);for(let s=0;s<Xh.length;s++){const n=Xh[s]+r;if(n in i)return sl[e]=n}return e}const Qh="http://www.w3.org/1999/xlink";function Zh(i,e,t,r,s,n=kf(e)){r&&e.startsWith("xlink:")?t==null?i.removeAttributeNS(Qh,e.slice(6,e.length)):i.setAttributeNS(Qh,e,t):t==null||n&&!w2(t)?i.removeAttribute(e):i.setAttribute(e,n?"":p0(t)?String(t):t)}function Jh(i,e,t,r,s){if(e==="innerHTML"||e==="textContent"){t!=null&&(i[e]=e==="innerHTML"?bd(t):t);return}const n=i.tagName;if(e==="value"&&n!=="PROGRESS"&&!n.includes("-")){const l=n==="OPTION"?i.getAttribute("value")||"":i.value,o=t==null?i.type==="checkbox"?"on":"":String(t);(l!==o||!("_value"in i))&&(i.value=o),t==null&&i.removeAttribute(e),i._value=t;return}let a=!1;if(t===""||t==null){const l=typeof i[e];l==="boolean"?t=w2(t):t==null&&l==="string"?(t="",a=!0):l==="number"&&(t=0,a=!0)}try{i[e]=t}catch{}a&&i.removeAttribute(s||e)}function T3(i,e,t,r){i.addEventListener(e,t,r)}function D3(i,e,t,r){i.removeEventListener(e,t,r)}const _h=Symbol("_vei");function k3(i,e,t,r,s=null){const n=i[_h]||(i[_h]={}),a=n[e];if(r&&a)a.value=r;else{const[l,o]=I3(e);if(r){const h=n[e]=B3(r,s);T3(i,l,h,o)}else a&&(D3(i,l,a,o),n[e]=void 0)}}const $h=/(?:Once|Passive|Capture)$/;function I3(i){let e;if($h.test(i)){e={};let r;for(;r=i.match($h);)i=i.slice(0,i.length-r[0].length),e[r[0].toLowerCase()]=!0}return[i[2]===":"?i.slice(3):as(i.slice(2)),e]}let nl=0;const E3=Promise.resolve(),F3=()=>nl||(E3.then(()=>nl=0),nl=Date.now());function B3(i,e){const t=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=t.attached)return;jr(N3(r,t.value),e,5,[r])};return t.value=i,t.attached=F3(),t}function N3(i,e){if(lt(e)){const t=i.stopImmediatePropagation;return i.stopImmediatePropagation=()=>{t.call(i),i._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const eu=i=>i.charCodeAt(0)===111&&i.charCodeAt(1)===110&&i.charCodeAt(2)>96&&i.charCodeAt(2)<123,R3=(i,e,t,r,s,n)=>{const a=s==="svg";e==="class"?b3(i,r,a):e==="style"?M3(i,t,r):Ya(e)?m1(e)||k3(i,e,t,r,n):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):V3(i,e,r,a))?(Jh(i,e,r),!i.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Zh(i,e,r,a,n,e!=="value")):i._isVueCE&&(/[A-Z]/.test(e)||!pi(r))?Jh(i,Sr(e),r,n,e):(e==="true-value"?i._trueValue=r:e==="false-value"&&(i._falseValue=r),Zh(i,e,r,a))};function V3(i,e,t,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in i&&eu(e)&&ut(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&i.tagName==="INPUT"||e==="type"&&i.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=i.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return eu(e)&&pi(t)?!1:e in i}const U3=Hi({patchProp:R3},A3);let tu;function z3(){return tu||(tu=G5(U3))}const P3=(...i)=>{const e=z3().createApp(...i),{mount:t}=e;return e.mount=r=>{const s=O3(r);if(!s)return;const n=e._component;!ut(n)&&!n.render&&!n.template&&(n.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const a=t(s,!1,L3(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),a},e};function L3(i){if(i instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&i instanceof MathMLElement)return"mathml"}function O3(i){return pi(i)?document.querySelector(i):i}const q3="/ELEC0139_BLOG_SN24076607/assets/General_CNN_architecture_for_the_context_restoration_self_supervised_learning-DiXMR8qL.jpg",G3="/ELEC0139_BLOG_SN24076607/assets/Generating_training_images_for_self_supervised_context_disordering-6iKrY55h.jpg",H3="/ELEC0139_BLOG_SN24076607/assets/Blue-Bx64UUtJ.jpg",Y3="/ELEC0139_BLOG_SN24076607/assets/GAN_model-CyEZ93Bt.jpg",K3="/ELEC0139_BLOG_SN24076607/assets/gan_result-D_uZRyON.jpg",W3="/ELEC0139_BLOG_SN24076607/assets/huggingface_demoimage-CZR08J_d.png",j3="/ELEC0139_BLOG_SN24076607/assets/diffusion_model-BGa58TMZ.jpg",v0=(i,e)=>{const t=i.__vccOpts||i;for(const[r,s]of e)t[r]=s;return t},X3={class:"article-header"},Q3={class:"header-content"},Z3=["innerHTML"],J3={key:1,class:"author-info"},_3={__name:"ArticleHeader",props:{title:{type:String,required:!0},subtitle:{type:String,default:""},author:{type:String,default:""}},setup(i){const e=i,t=V0(()=>{if(e.subtitle&&e.subtitle.includes("github.com")){const r=e.subtitle.match(/https:\/\/github\.com\/[^\s"]*/);if(r){const s=r[0];return e.subtitle.replace(s,`<a href="${s}" target="_blank" rel="noopener noreferrer" class="github-link">
          <svg class="github-icon" viewBox="0 0 24 24" aria-hidden="true" style="width: 20px; height: 20px;">
            <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path>
          </svg>
          ${s}
        </a>`)}}return e.subtitle});return(r,s)=>(Mi(),$i("header",X3,[H("div",Q3,[H("h1",null,u0(i.title),1),i.subtitle?(Mi(),$i("p",{key:0,class:"subtitle",innerHTML:t.value},null,8,Z3)):Xl("",!0),i.author?(Mi(),$i("div",J3,[H("span",null,"By: "+u0(i.author),1),s[0]||(s[0]=H("span",{class:"publication-date"},"May 01, 2025",-1))])):Xl("",!0)])]))}},$3=v0(_3,[["__scopeId","data-v-784e0f11"]]),e6=["id"],t6={key:0,class:"section-header"},i6={class:"section-content"},r6={__name:"ArticleSection",props:{id:{type:String,required:!0},title:{type:String,default:""}},setup(i){return(e,t)=>(Mi(),$i("section",{class:"article-section",id:i.id},[i.title?(Mi(),$i("div",t6,[H("h2",null,u0(i.title),1)])):Xl("",!0),H("div",i6,[I1(e.$slots,"default",{},void 0)])],8,e6))}},Kn=v0(r6,[["__scopeId","data-v-415ff553"]]),s6=["id"],n6={class:"subsection-title"},a6={class:"subsection-content"},o6={__name:"SubSection",props:{id:{type:String,required:!0},title:{type:String,required:!0}},setup(i){return(e,t)=>(Mi(),$i("div",{class:"subsection",id:i.id},[H("div",n6,[H("h3",null,u0(i.title),1)]),H("div",a6,[I1(e.$slots,"default",{},void 0)])],8,s6))}},zr=v0(o6,[["__scopeId","data-v-d34bb935"]]),l6=["id"],c6={class:"subsubsection-title"},h6={class:"subsubsection-content"},u6={__name:"SubSubSection",props:{id:{type:String,required:!0},title:{type:String,required:!0}},setup(i){return(e,t)=>(Mi(),$i("div",{class:"subsubsection",id:i.id},[H("div",c6,[H("h4",null,u0(i.title),1)]),H("div",h6,[I1(e.$slots,"default",{},void 0)])],8,l6))}},xr=v0(u6,[["__scopeId","data-v-5916d669"]]),d6={class:"article-footer"},m6={class:"footer-content"},f6={class:"copyright"},p6={__name:"Footer",setup(i){return(e,t)=>(Mi(),$i("footer",d6,[H("div",m6,[H("p",f6,"© "+u0(new Date().getFullYear())+" - SN24076677",1),t[0]||(t[0]=H("div",{class:"footer-links"},null,-1))]),t[1]||(t[1]=H("p",{class:"disclaimer"},"This article is for educational purposes only and does not constitute medical advice.",-1))]))}},g6=v0(p6,[["__scopeId","data-v-01bc1213"]]);function $a(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var al={},iu;function v6(){return iu||(iu=1,function(i){(function(e){function t(){this.months=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],this.notKey=[",","{","}"," ","="],this.pos=0,this.input="",this.entries=new Array,this.currentEntry="",this.setInput=function(r){this.input=r},this.getEntries=function(){return this.entries},this.isWhitespace=function(r){return r==" "||r=="\r"||r=="	"||r==`
`},this.match=function(r,s){if((s==null||s==null)&&(s=!0),this.skipWhitespace(s),this.input.substring(this.pos,this.pos+r.length)==r)this.pos+=r.length;else throw"Token mismatch, expected "+r+", found "+this.input.substring(this.pos);this.skipWhitespace(s)},this.tryMatch=function(r,s){return(s==null||s==null)&&(s=!0),this.skipWhitespace(s),this.input.substring(this.pos,this.pos+r.length)==r},this.matchAt=function(){for(;this.input.length>this.pos&&this.input[this.pos]!="@";)this.pos++;return this.input[this.pos]=="@"},this.skipWhitespace=function(r){for(;this.isWhitespace(this.input[this.pos]);)this.pos++;if(this.input[this.pos]=="%"&&r==!0){for(;this.input[this.pos]!=`
`;)this.pos++;this.skipWhitespace(r)}},this.value_braces=function(){var r=0;this.match("{",!1);for(var s=this.pos,n=!1;;){if(!n){if(this.input[this.pos]=="}")if(r>0)r--;else{var a=this.pos;return this.match("}",!1),this.input.substring(s,a)}else if(this.input[this.pos]=="{")r++;else if(this.pos>=this.input.length-1)throw"Unterminated value"}this.input[this.pos]=="\\"&&n==!1?n=!0:n=!1,this.pos++}},this.value_comment=function(){for(var r="",s=0;!(this.tryMatch("}",!1)&&s==0);){if(r=r+this.input[this.pos],this.input[this.pos]=="{"&&s++,this.input[this.pos]=="}"&&s--,this.pos>=this.input.length-1)throw"Unterminated value:"+this.input.substring(start);this.pos++}return r},this.value_quotes=function(){this.match('"',!1);for(var r=this.pos,s=!1;;){if(!s){if(this.input[this.pos]=='"'){var n=this.pos;return this.match('"',!1),this.input.substring(r,n)}else if(this.pos>=this.input.length-1)throw"Unterminated value:"+this.input.substring(r)}this.input[this.pos]=="\\"&&s==!1?s=!0:s=!1,this.pos++}},this.single_value=function(){var r=this.pos;if(this.tryMatch("{"))return this.value_braces();if(this.tryMatch('"'))return this.value_quotes();var s=this.key();if(s.match("^[0-9]+$"))return s;if(this.months.indexOf(s.toLowerCase())>=0)return s.toLowerCase();throw"Value expected:"+this.input.substring(r)+" for key: "+s},this.value=function(){var r=[];for(r.push(this.single_value());this.tryMatch("#");)this.match("#"),r.push(this.single_value());return r.join("")},this.key=function(r){for(var s=this.pos;;){if(this.pos>=this.input.length)throw"Runaway key";if(this.notKey.indexOf(this.input[this.pos])>=0)return r&&this.input[this.pos]!=","?(this.pos=s,null):this.input.substring(s,this.pos);this.pos++}},this.key_equals_value=function(){var r=this.key();if(this.tryMatch("=")){this.match("=");var s=this.value();return r=r.trim(),[r,s]}else throw"... = value expected, equals sign missing:"+this.input.substring(this.pos)},this.key_value_list=function(){var r=this.key_equals_value();for(this.currentEntry.entryTags={},this.currentEntry.entryTags[r[0]]=r[1];this.tryMatch(",")&&(this.match(","),!this.tryMatch("}"));)r=this.key_equals_value(),this.currentEntry.entryTags[r[0]]=r[1]},this.entry_body=function(r){this.currentEntry={},this.currentEntry.citationKey=this.key(!0),this.currentEntry.entryType=r.substring(1),this.currentEntry.citationKey!=null&&this.match(","),this.key_value_list(),this.entries.push(this.currentEntry)},this.directive=function(){return this.match("@"),"@"+this.key()},this.preamble=function(){this.currentEntry={},this.currentEntry.entryType="PREAMBLE",this.currentEntry.entry=this.value_comment(),this.entries.push(this.currentEntry)},this.comment=function(){this.currentEntry={},this.currentEntry.entryType="COMMENT",this.currentEntry.entry=this.value_comment(),this.entries.push(this.currentEntry)},this.entry=function(r){this.entry_body(r)},this.alernativeCitationKey=function(){this.entries.forEach(function(r){!r.citationKey&&r.entryTags&&(r.citationKey="",r.entryTags.author&&(r.citationKey+=r.entryTags.author.split(",")[0]+=", "),r.citationKey+=r.entryTags.year)})},this.bibtex=function(){for(;this.matchAt();){var r=this.directive();this.match("{"),r.toUpperCase()=="@STRING"?this.string():r.toUpperCase()=="@PREAMBLE"?this.preamble():r.toUpperCase()=="@COMMENT"?this.comment():this.entry(r),this.match("}")}this.alernativeCitationKey()}}e.toJSON=function(r){var s=new t;return s.setInput(r),s.bibtex(),s.entries},e.toBibtex=function(r){var s="";for(var n in r){if(s+="@"+r[n].entryType,s+="{",r[n].citationKey&&(s+=r[n].citationKey+", "),r[n].entry&&(s+=r[n].entry),r[n].entryTags){var a="";for(var l in r[n].entryTags)a.length!=0&&(a+=", "),a+=l+"= {"+r[n].entryTags[l]+"}";s+=a}s+=`}

`}return s}})(i)}(al)),al}var A6=v6();const x6=$a(A6),Jl={},ol=[],Ua={};function b6(i){x6.toJSON(i).forEach(t=>{t.citationKey&&(Jl[t.citationKey]=t)}),console.log("Loaded references:",Jl)}function yd(i){return!Ua[i]&&ol.indexOf(i)===-1&&(ol.push(i),Ua[i]=ol.length),Jl[i]||null}function y6(i){return Ua[i]||yd(i),Ua[i]||"?"}const w6={__name:"Reference",props:{citationKey:{type:String,required:!0}},setup(i){const e=i,t=cn(null),r=V0(()=>y6(e.citationKey));function s(){const n=e.citationKey;t.value=yd(n),console.log("Reference data:",t.value),t.value&&t.value.entryTags?alert(`Reference ${r.value}: ${t.value.entryTags.title} by ${t.value.entryTags.author}`):alert("Reference not found or entryTags missing!")}return(n,a)=>(Mi(),$i("span",{class:"reference",onClick:s}," ["+u0(r.value)+"] ",1))}},Ct=v0(w6,[["__scopeId","data-v-d01b8afa"]]);class ar{constructor(e,t,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=t,this.end=r}static range(e,t){return t?!e||!e.loc||!t.loc||e.loc.lexer!==t.loc.lexer?null:new ar(e.loc.lexer,e.loc.start,t.loc.end):e&&e.loc}}class wr{constructor(e,t){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=t}range(e,t){return new wr(t,ar.range(this,e))}}class Ee{constructor(e,t){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,s,n,a=t&&t.loc;if(a&&a.start<=a.end){var l=a.lexer.input;s=a.start,n=a.end,s===l.length?r+=" at end of input: ":r+=" at position "+(s+1)+": ";var o=l.slice(s,n).replace(/[^]/g,"$&̲"),h;s>15?h="…"+l.slice(s-15,s):h=l.slice(0,s);var d;n+15<l.length?d=l.slice(n,n+15)+"…":d=l.slice(n),r+=h+o+d}var f=new Error(r);return f.name="ParseError",f.__proto__=Ee.prototype,f.position=s,s!=null&&n!=null&&(f.length=n-s),f.rawMessage=e,f}}Ee.prototype.__proto__=Error.prototype;var S6=function(e,t){return e.indexOf(t)!==-1},M6=function(e,t){return e===void 0?t:e},C6=/([A-Z])/g,T6=function(e){return e.replace(C6,"-$1").toLowerCase()},D6={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},k6=/[&><"']/g;function I6(i){return String(i).replace(k6,e=>D6[e])}var wd=function i(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?i(e.body[0]):e:e.type==="font"?i(e.body):e},E6=function(e){var t=wd(e);return t.type==="mathord"||t.type==="textord"||t.type==="atom"},F6=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},B6=function(e){var t=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return t?t[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(t[1])?null:t[1].toLowerCase():"_relative"},Ze={contains:S6,deflt:M6,escape:I6,hyphenate:T6,getBaseElem:wd,isCharacterBox:E6,protocolFromUrl:B6},ga={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:i=>"#"+i},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(i,e)=>(e.push(i),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:i=>Math.max(0,i),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:i=>Math.max(0,i),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:i=>Math.max(0,i),cli:"-e, --max-expand <n>",cliProcessor:i=>i==="Infinity"?1/0:parseInt(i)},globalGroup:{type:"boolean",cli:!1}};function N6(i){if(i.default)return i.default;var e=i.type,t=Array.isArray(e)?e[0]:e;if(typeof t!="string")return t.enum[0];switch(t){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class R1{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var t in ga)if(ga.hasOwnProperty(t)){var r=ga[t];this[t]=e[t]!==void 0?r.processor?r.processor(e[t]):e[t]:N6(r)}}reportNonstrict(e,t,r){var s=this.strict;if(typeof s=="function"&&(s=s(e,t,r)),!(!s||s==="ignore")){if(s===!0||s==="error")throw new Ee("LaTeX-incompatible input and strict mode is set to 'error': "+(t+" ["+e+"]"),r);s==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+t+" ["+e+"]"))}}useStrictBehavior(e,t,r){var s=this.strict;if(typeof s=="function")try{s=s(e,t,r)}catch{s="error"}return!s||s==="ignore"?!1:s===!0||s==="error"?!0:s==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(t+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+s+"': "+t+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var t=Ze.protocolFromUrl(e.url);if(t==null)return!1;e.protocol=t}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}}class M0{constructor(e,t,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=t,this.cramped=r}sup(){return Gr[R6[this.id]]}sub(){return Gr[V6[this.id]]}fracNum(){return Gr[U6[this.id]]}fracDen(){return Gr[z6[this.id]]}cramp(){return Gr[P6[this.id]]}text(){return Gr[L6[this.id]]}isTight(){return this.size>=2}}var V1=0,za=1,ks=2,c0=3,mn=4,yr=5,Fs=6,Gi=7,Gr=[new M0(V1,0,!1),new M0(za,0,!0),new M0(ks,1,!1),new M0(c0,1,!0),new M0(mn,2,!1),new M0(yr,2,!0),new M0(Fs,3,!1),new M0(Gi,3,!0)],R6=[mn,yr,mn,yr,Fs,Gi,Fs,Gi],V6=[yr,yr,yr,yr,Gi,Gi,Gi,Gi],U6=[ks,c0,mn,yr,Fs,Gi,Fs,Gi],z6=[c0,c0,yr,yr,Gi,Gi,Gi,Gi],P6=[za,za,c0,c0,yr,yr,Gi,Gi],L6=[V1,za,ks,c0,ks,c0,ks,c0],et={DISPLAY:Gr[V1],TEXT:Gr[ks],SCRIPT:Gr[mn],SCRIPTSCRIPT:Gr[Fs]},_l=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function O6(i){for(var e=0;e<_l.length;e++)for(var t=_l[e],r=0;r<t.blocks.length;r++){var s=t.blocks[r];if(i>=s[0]&&i<=s[1])return t.name}return null}var va=[];_l.forEach(i=>i.blocks.forEach(e=>va.push(...e)));function Sd(i){for(var e=0;e<va.length;e+=2)if(i>=va[e]&&i<=va[e+1])return!0;return!1}var ds=80,q6=function(e,t){return"M95,"+(622+e+t)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},G6=function(e,t){return"M263,"+(601+e+t)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},H6=function(e,t){return"M983 "+(10+e+t)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+t+"h400000v"+(40+e)+"h-400000z"},Y6=function(e,t){return"M424,"+(2398+e+t)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+t+`
h400000v`+(40+e)+"h-400000z"},K6=function(e,t){return"M473,"+(2713+e+t)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+t+"h400000v"+(40+e)+"H1017.7z"},W6=function(e){var t=e/2;return"M400000 "+e+" H0 L"+t+" 0 l65 45 L145 "+(e-80)+" H400000z"},j6=function(e,t,r){var s=r-54-t-e;return"M702 "+(e+t)+"H400000"+(40+e)+`
H742v`+s+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+t+"H400000v"+(40+e)+"H742z"},X6=function(e,t,r){t=1e3*t;var s="";switch(e){case"sqrtMain":s=q6(t,ds);break;case"sqrtSize1":s=G6(t,ds);break;case"sqrtSize2":s=H6(t,ds);break;case"sqrtSize3":s=Y6(t,ds);break;case"sqrtSize4":s=K6(t,ds);break;case"sqrtTall":s=j6(t,ds,r)}return s},Q6=function(e,t){switch(e){case"⎜":return"M291 0 H417 V"+t+" H291z M291 0 H417 V"+t+" H291z";case"∣":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z";case"∥":return"M145 0 H188 V"+t+" H145z M145 0 H188 V"+t+" H145z"+("M367 0 H410 V"+t+" H367z M367 0 H410 V"+t+" H367z");case"⎟":return"M457 0 H583 V"+t+" H457z M457 0 H583 V"+t+" H457z";case"⎢":return"M319 0 H403 V"+t+" H319z M319 0 H403 V"+t+" H319z";case"⎥":return"M263 0 H347 V"+t+" H263z M263 0 H347 V"+t+" H263z";case"⎪":return"M384 0 H504 V"+t+" H384z M384 0 H504 V"+t+" H384z";case"⏐":return"M312 0 H355 V"+t+" H312z M312 0 H355 V"+t+" H312z";case"‖":return"M257 0 H300 V"+t+" H257z M257 0 H300 V"+t+" H257z"+("M478 0 H521 V"+t+" H478z M478 0 H521 V"+t+" H478z");default:return""}},ru={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Z6=function(e,t){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+t+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+t+" v1759 h84z";case"vert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+" v585 h43z";case"doublevert":return"M145 15 v585 v"+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+t+` v585 h43z
M367 15 v585 v`+t+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-t+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+t+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+t+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+t+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+t+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+t+` v602 h84z
M403 1759 V0 H319 V1759 v`+t+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+t+` v602 h84z
M347 1759 V0 h-84 V1759 v`+t+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(t+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(t+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(t+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(t+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class An{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return Ze.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),t=0;t<this.children.length;t++)e.appendChild(this.children[t].toNode());return e}toMarkup(){for(var e="",t=0;t<this.children.length;t++)e+=this.children[t].toMarkup();return e}toText(){var e=t=>t.toText();return this.children.map(e).join("")}}var Hr={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Wn={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},su={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function J6(i,e){Hr[i]=e}function U1(i,e,t){if(!Hr[e])throw new Error("Font metrics not found for font: "+e+".");var r=i.charCodeAt(0),s=Hr[e][r];if(!s&&i[0]in su&&(r=su[i[0]].charCodeAt(0),s=Hr[e][r]),!s&&t==="text"&&Sd(r)&&(s=Hr[e][77]),s)return{depth:s[0],height:s[1],italic:s[2],skew:s[3],width:s[4]}}var ll={};function _6(i){var e;if(i>=5?e=0:i>=3?e=1:e=2,!ll[e]){var t=ll[e]={cssEmPerMu:Wn.quad[e]/18};for(var r in Wn)Wn.hasOwnProperty(r)&&(t[r]=Wn[r][e])}return ll[e]}var $6=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],nu=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],au=function(e,t){return t.size<2?e:$6[e-1][t.size-1]};class a0{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||a0.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=nu[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var t={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return new a0(t)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:au(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:nu[e-1]})}havingBaseStyle(e){e=e||this.style.text();var t=au(a0.BASESIZE,e);return this.size===t&&this.textSize===a0.BASESIZE&&this.style===e?this:this.extend({style:e,size:t})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==a0.BASESIZE?["sizing","reset-size"+this.size,"size"+a0.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=_6(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}a0.BASESIZE=6;var $l={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},ep={ex:!0,em:!0,mu:!0},Md=function(e){return typeof e!="string"&&(e=e.unit),e in $l||e in ep||e==="ex"},si=function(e,t){var r;if(e.unit in $l)r=$l[e.unit]/t.fontMetrics().ptPerEm/t.sizeMultiplier;else if(e.unit==="mu")r=t.fontMetrics().cssEmPerMu;else{var s;if(t.style.isTight()?s=t.havingStyle(t.style.text()):s=t,e.unit==="ex")r=s.fontMetrics().xHeight;else if(e.unit==="em")r=s.fontMetrics().quad;else throw new Ee("Invalid unit: '"+e.unit+"'");s!==t&&(r*=s.sizeMultiplier/t.sizeMultiplier)}return Math.min(e.number*r,t.maxSize)},Ve=function(e){return+e.toFixed(4)+"em"},P0=function(e){return e.filter(t=>t).join(" ")},Cd=function(e,t,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},t){t.style.isTight()&&this.classes.push("mtight");var s=t.getColor();s&&(this.style.color=s)}},Td=function(e){var t=document.createElement(e);t.className=P0(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&t.setAttribute(s,this.attributes[s]);for(var n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t},tp=/[\s"'>/=\x00-\x1f]/,Dd=function(e){var t="<"+e;this.classes.length&&(t+=' class="'+Ze.escape(P0(this.classes))+'"');var r="";for(var s in this.style)this.style.hasOwnProperty(s)&&(r+=Ze.hyphenate(s)+":"+this.style[s]+";");r&&(t+=' style="'+Ze.escape(r)+'"');for(var n in this.attributes)if(this.attributes.hasOwnProperty(n)){if(tp.test(n))throw new Ee("Invalid attribute name '"+n+"'");t+=" "+n+'="'+Ze.escape(this.attributes[n])+'"'}t+=">";for(var a=0;a<this.children.length;a++)t+=this.children[a].toMarkup();return t+="</"+e+">",t};class xn{constructor(e,t,r,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Cd.call(this,e,r,s),this.children=t||[]}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return Ze.contains(this.classes,e)}toNode(){return Td.call(this,"span")}toMarkup(){return Dd.call(this,"span")}}class z1{constructor(e,t,r,s){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Cd.call(this,t,s),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,t){this.attributes[e]=t}hasClass(e){return Ze.contains(this.classes,e)}toNode(){return Td.call(this,"a")}toMarkup(){return Dd.call(this,"a")}}class ip{constructor(e,t,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=t,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return Ze.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var t in this.style)this.style.hasOwnProperty(t)&&(e.style[t]=this.style[t]);return e}toMarkup(){var e='<img src="'+Ze.escape(this.src)+'"'+(' alt="'+Ze.escape(this.alt)+'"'),t="";for(var r in this.style)this.style.hasOwnProperty(r)&&(t+=Ze.hyphenate(r)+":"+this.style[r]+";");return t&&(e+=' style="'+Ze.escape(t)+'"'),e+="'/>",e}}var rp={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class Mr{constructor(e,t,r,s,n,a,l,o){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=t||0,this.depth=r||0,this.italic=s||0,this.skew=n||0,this.width=a||0,this.classes=l||[],this.style=o||{},this.maxFontSize=0;var h=O6(this.text.charCodeAt(0));h&&this.classes.push(h+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=rp[this.text])}hasClass(e){return Ze.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),t=null;this.italic>0&&(t=document.createElement("span"),t.style.marginRight=Ve(this.italic)),this.classes.length>0&&(t=t||document.createElement("span"),t.className=P0(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(t=t||document.createElement("span"),t.style[r]=this.style[r]);return t?(t.appendChild(e),t):e}toMarkup(){var e=!1,t="<span";this.classes.length&&(e=!0,t+=' class="',t+=Ze.escape(P0(this.classes)),t+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var s in this.style)this.style.hasOwnProperty(s)&&(r+=Ze.hyphenate(s)+":"+this.style[s]+";");r&&(e=!0,t+=' style="'+Ze.escape(r)+'"');var n=Ze.escape(this.text);return e?(t+=">",t+=n,t+="</span>",t):n}}class d0{constructor(e,t){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=t||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);for(var s=0;s<this.children.length;s++)t.appendChild(this.children[s].toNode());return t}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+Ze.escape(this.attributes[t])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class L0{constructor(e,t){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=t}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"path");return this.alternate?t.setAttribute("d",this.alternate):t.setAttribute("d",ru[this.pathName]),t}toMarkup(){return this.alternate?'<path d="'+Ze.escape(this.alternate)+'"/>':'<path d="'+Ze.escape(ru[this.pathName])+'"/>'}}class e1{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);return t}toMarkup(){var e="<line";for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="'+Ze.escape(this.attributes[t])+'"');return e+="/>",e}}function ou(i){if(i instanceof Mr)return i;throw new Error("Expected symbolNode but got "+String(i)+".")}function sp(i){if(i instanceof xn)return i;throw new Error("Expected span<HtmlDomNode> but got "+String(i)+".")}var np={bin:1,close:1,inner:1,open:1,punct:1,rel:1},ap={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Ot={math:{},text:{}};function C(i,e,t,r,s,n){Ot[i][s]={font:e,group:t,replace:r},n&&r&&(Ot[i][r]=Ot[i][s])}var F="math",we="text",P="main",_="ams",_t="accent-token",He="bin",Yi="close",Bs="inner",$e="mathord",gi="op-token",dr="open",eo="punct",te="rel",A0="spacing",ae="textord";C(F,P,te,"≡","\\equiv",!0);C(F,P,te,"≺","\\prec",!0);C(F,P,te,"≻","\\succ",!0);C(F,P,te,"∼","\\sim",!0);C(F,P,te,"⊥","\\perp");C(F,P,te,"⪯","\\preceq",!0);C(F,P,te,"⪰","\\succeq",!0);C(F,P,te,"≃","\\simeq",!0);C(F,P,te,"∣","\\mid",!0);C(F,P,te,"≪","\\ll",!0);C(F,P,te,"≫","\\gg",!0);C(F,P,te,"≍","\\asymp",!0);C(F,P,te,"∥","\\parallel");C(F,P,te,"⋈","\\bowtie",!0);C(F,P,te,"⌣","\\smile",!0);C(F,P,te,"⊑","\\sqsubseteq",!0);C(F,P,te,"⊒","\\sqsupseteq",!0);C(F,P,te,"≐","\\doteq",!0);C(F,P,te,"⌢","\\frown",!0);C(F,P,te,"∋","\\ni",!0);C(F,P,te,"∝","\\propto",!0);C(F,P,te,"⊢","\\vdash",!0);C(F,P,te,"⊣","\\dashv",!0);C(F,P,te,"∋","\\owns");C(F,P,eo,".","\\ldotp");C(F,P,eo,"⋅","\\cdotp");C(F,P,ae,"#","\\#");C(we,P,ae,"#","\\#");C(F,P,ae,"&","\\&");C(we,P,ae,"&","\\&");C(F,P,ae,"ℵ","\\aleph",!0);C(F,P,ae,"∀","\\forall",!0);C(F,P,ae,"ℏ","\\hbar",!0);C(F,P,ae,"∃","\\exists",!0);C(F,P,ae,"∇","\\nabla",!0);C(F,P,ae,"♭","\\flat",!0);C(F,P,ae,"ℓ","\\ell",!0);C(F,P,ae,"♮","\\natural",!0);C(F,P,ae,"♣","\\clubsuit",!0);C(F,P,ae,"℘","\\wp",!0);C(F,P,ae,"♯","\\sharp",!0);C(F,P,ae,"♢","\\diamondsuit",!0);C(F,P,ae,"ℜ","\\Re",!0);C(F,P,ae,"♡","\\heartsuit",!0);C(F,P,ae,"ℑ","\\Im",!0);C(F,P,ae,"♠","\\spadesuit",!0);C(F,P,ae,"§","\\S",!0);C(we,P,ae,"§","\\S");C(F,P,ae,"¶","\\P",!0);C(we,P,ae,"¶","\\P");C(F,P,ae,"†","\\dag");C(we,P,ae,"†","\\dag");C(we,P,ae,"†","\\textdagger");C(F,P,ae,"‡","\\ddag");C(we,P,ae,"‡","\\ddag");C(we,P,ae,"‡","\\textdaggerdbl");C(F,P,Yi,"⎱","\\rmoustache",!0);C(F,P,dr,"⎰","\\lmoustache",!0);C(F,P,Yi,"⟯","\\rgroup",!0);C(F,P,dr,"⟮","\\lgroup",!0);C(F,P,He,"∓","\\mp",!0);C(F,P,He,"⊖","\\ominus",!0);C(F,P,He,"⊎","\\uplus",!0);C(F,P,He,"⊓","\\sqcap",!0);C(F,P,He,"∗","\\ast");C(F,P,He,"⊔","\\sqcup",!0);C(F,P,He,"◯","\\bigcirc",!0);C(F,P,He,"∙","\\bullet",!0);C(F,P,He,"‡","\\ddagger");C(F,P,He,"≀","\\wr",!0);C(F,P,He,"⨿","\\amalg");C(F,P,He,"&","\\And");C(F,P,te,"⟵","\\longleftarrow",!0);C(F,P,te,"⇐","\\Leftarrow",!0);C(F,P,te,"⟸","\\Longleftarrow",!0);C(F,P,te,"⟶","\\longrightarrow",!0);C(F,P,te,"⇒","\\Rightarrow",!0);C(F,P,te,"⟹","\\Longrightarrow",!0);C(F,P,te,"↔","\\leftrightarrow",!0);C(F,P,te,"⟷","\\longleftrightarrow",!0);C(F,P,te,"⇔","\\Leftrightarrow",!0);C(F,P,te,"⟺","\\Longleftrightarrow",!0);C(F,P,te,"↦","\\mapsto",!0);C(F,P,te,"⟼","\\longmapsto",!0);C(F,P,te,"↗","\\nearrow",!0);C(F,P,te,"↩","\\hookleftarrow",!0);C(F,P,te,"↪","\\hookrightarrow",!0);C(F,P,te,"↘","\\searrow",!0);C(F,P,te,"↼","\\leftharpoonup",!0);C(F,P,te,"⇀","\\rightharpoonup",!0);C(F,P,te,"↙","\\swarrow",!0);C(F,P,te,"↽","\\leftharpoondown",!0);C(F,P,te,"⇁","\\rightharpoondown",!0);C(F,P,te,"↖","\\nwarrow",!0);C(F,P,te,"⇌","\\rightleftharpoons",!0);C(F,_,te,"≮","\\nless",!0);C(F,_,te,"","\\@nleqslant");C(F,_,te,"","\\@nleqq");C(F,_,te,"⪇","\\lneq",!0);C(F,_,te,"≨","\\lneqq",!0);C(F,_,te,"","\\@lvertneqq");C(F,_,te,"⋦","\\lnsim",!0);C(F,_,te,"⪉","\\lnapprox",!0);C(F,_,te,"⊀","\\nprec",!0);C(F,_,te,"⋠","\\npreceq",!0);C(F,_,te,"⋨","\\precnsim",!0);C(F,_,te,"⪹","\\precnapprox",!0);C(F,_,te,"≁","\\nsim",!0);C(F,_,te,"","\\@nshortmid");C(F,_,te,"∤","\\nmid",!0);C(F,_,te,"⊬","\\nvdash",!0);C(F,_,te,"⊭","\\nvDash",!0);C(F,_,te,"⋪","\\ntriangleleft");C(F,_,te,"⋬","\\ntrianglelefteq",!0);C(F,_,te,"⊊","\\subsetneq",!0);C(F,_,te,"","\\@varsubsetneq");C(F,_,te,"⫋","\\subsetneqq",!0);C(F,_,te,"","\\@varsubsetneqq");C(F,_,te,"≯","\\ngtr",!0);C(F,_,te,"","\\@ngeqslant");C(F,_,te,"","\\@ngeqq");C(F,_,te,"⪈","\\gneq",!0);C(F,_,te,"≩","\\gneqq",!0);C(F,_,te,"","\\@gvertneqq");C(F,_,te,"⋧","\\gnsim",!0);C(F,_,te,"⪊","\\gnapprox",!0);C(F,_,te,"⊁","\\nsucc",!0);C(F,_,te,"⋡","\\nsucceq",!0);C(F,_,te,"⋩","\\succnsim",!0);C(F,_,te,"⪺","\\succnapprox",!0);C(F,_,te,"≆","\\ncong",!0);C(F,_,te,"","\\@nshortparallel");C(F,_,te,"∦","\\nparallel",!0);C(F,_,te,"⊯","\\nVDash",!0);C(F,_,te,"⋫","\\ntriangleright");C(F,_,te,"⋭","\\ntrianglerighteq",!0);C(F,_,te,"","\\@nsupseteqq");C(F,_,te,"⊋","\\supsetneq",!0);C(F,_,te,"","\\@varsupsetneq");C(F,_,te,"⫌","\\supsetneqq",!0);C(F,_,te,"","\\@varsupsetneqq");C(F,_,te,"⊮","\\nVdash",!0);C(F,_,te,"⪵","\\precneqq",!0);C(F,_,te,"⪶","\\succneqq",!0);C(F,_,te,"","\\@nsubseteqq");C(F,_,He,"⊴","\\unlhd");C(F,_,He,"⊵","\\unrhd");C(F,_,te,"↚","\\nleftarrow",!0);C(F,_,te,"↛","\\nrightarrow",!0);C(F,_,te,"⇍","\\nLeftarrow",!0);C(F,_,te,"⇏","\\nRightarrow",!0);C(F,_,te,"↮","\\nleftrightarrow",!0);C(F,_,te,"⇎","\\nLeftrightarrow",!0);C(F,_,te,"△","\\vartriangle");C(F,_,ae,"ℏ","\\hslash");C(F,_,ae,"▽","\\triangledown");C(F,_,ae,"◊","\\lozenge");C(F,_,ae,"Ⓢ","\\circledS");C(F,_,ae,"®","\\circledR");C(we,_,ae,"®","\\circledR");C(F,_,ae,"∡","\\measuredangle",!0);C(F,_,ae,"∄","\\nexists");C(F,_,ae,"℧","\\mho");C(F,_,ae,"Ⅎ","\\Finv",!0);C(F,_,ae,"⅁","\\Game",!0);C(F,_,ae,"‵","\\backprime");C(F,_,ae,"▲","\\blacktriangle");C(F,_,ae,"▼","\\blacktriangledown");C(F,_,ae,"■","\\blacksquare");C(F,_,ae,"⧫","\\blacklozenge");C(F,_,ae,"★","\\bigstar");C(F,_,ae,"∢","\\sphericalangle",!0);C(F,_,ae,"∁","\\complement",!0);C(F,_,ae,"ð","\\eth",!0);C(we,P,ae,"ð","ð");C(F,_,ae,"╱","\\diagup");C(F,_,ae,"╲","\\diagdown");C(F,_,ae,"□","\\square");C(F,_,ae,"□","\\Box");C(F,_,ae,"◊","\\Diamond");C(F,_,ae,"¥","\\yen",!0);C(we,_,ae,"¥","\\yen",!0);C(F,_,ae,"✓","\\checkmark",!0);C(we,_,ae,"✓","\\checkmark");C(F,_,ae,"ℶ","\\beth",!0);C(F,_,ae,"ℸ","\\daleth",!0);C(F,_,ae,"ℷ","\\gimel",!0);C(F,_,ae,"ϝ","\\digamma",!0);C(F,_,ae,"ϰ","\\varkappa");C(F,_,dr,"┌","\\@ulcorner",!0);C(F,_,Yi,"┐","\\@urcorner",!0);C(F,_,dr,"└","\\@llcorner",!0);C(F,_,Yi,"┘","\\@lrcorner",!0);C(F,_,te,"≦","\\leqq",!0);C(F,_,te,"⩽","\\leqslant",!0);C(F,_,te,"⪕","\\eqslantless",!0);C(F,_,te,"≲","\\lesssim",!0);C(F,_,te,"⪅","\\lessapprox",!0);C(F,_,te,"≊","\\approxeq",!0);C(F,_,He,"⋖","\\lessdot");C(F,_,te,"⋘","\\lll",!0);C(F,_,te,"≶","\\lessgtr",!0);C(F,_,te,"⋚","\\lesseqgtr",!0);C(F,_,te,"⪋","\\lesseqqgtr",!0);C(F,_,te,"≑","\\doteqdot");C(F,_,te,"≓","\\risingdotseq",!0);C(F,_,te,"≒","\\fallingdotseq",!0);C(F,_,te,"∽","\\backsim",!0);C(F,_,te,"⋍","\\backsimeq",!0);C(F,_,te,"⫅","\\subseteqq",!0);C(F,_,te,"⋐","\\Subset",!0);C(F,_,te,"⊏","\\sqsubset",!0);C(F,_,te,"≼","\\preccurlyeq",!0);C(F,_,te,"⋞","\\curlyeqprec",!0);C(F,_,te,"≾","\\precsim",!0);C(F,_,te,"⪷","\\precapprox",!0);C(F,_,te,"⊲","\\vartriangleleft");C(F,_,te,"⊴","\\trianglelefteq");C(F,_,te,"⊨","\\vDash",!0);C(F,_,te,"⊪","\\Vvdash",!0);C(F,_,te,"⌣","\\smallsmile");C(F,_,te,"⌢","\\smallfrown");C(F,_,te,"≏","\\bumpeq",!0);C(F,_,te,"≎","\\Bumpeq",!0);C(F,_,te,"≧","\\geqq",!0);C(F,_,te,"⩾","\\geqslant",!0);C(F,_,te,"⪖","\\eqslantgtr",!0);C(F,_,te,"≳","\\gtrsim",!0);C(F,_,te,"⪆","\\gtrapprox",!0);C(F,_,He,"⋗","\\gtrdot");C(F,_,te,"⋙","\\ggg",!0);C(F,_,te,"≷","\\gtrless",!0);C(F,_,te,"⋛","\\gtreqless",!0);C(F,_,te,"⪌","\\gtreqqless",!0);C(F,_,te,"≖","\\eqcirc",!0);C(F,_,te,"≗","\\circeq",!0);C(F,_,te,"≜","\\triangleq",!0);C(F,_,te,"∼","\\thicksim");C(F,_,te,"≈","\\thickapprox");C(F,_,te,"⫆","\\supseteqq",!0);C(F,_,te,"⋑","\\Supset",!0);C(F,_,te,"⊐","\\sqsupset",!0);C(F,_,te,"≽","\\succcurlyeq",!0);C(F,_,te,"⋟","\\curlyeqsucc",!0);C(F,_,te,"≿","\\succsim",!0);C(F,_,te,"⪸","\\succapprox",!0);C(F,_,te,"⊳","\\vartriangleright");C(F,_,te,"⊵","\\trianglerighteq");C(F,_,te,"⊩","\\Vdash",!0);C(F,_,te,"∣","\\shortmid");C(F,_,te,"∥","\\shortparallel");C(F,_,te,"≬","\\between",!0);C(F,_,te,"⋔","\\pitchfork",!0);C(F,_,te,"∝","\\varpropto");C(F,_,te,"◀","\\blacktriangleleft");C(F,_,te,"∴","\\therefore",!0);C(F,_,te,"∍","\\backepsilon");C(F,_,te,"▶","\\blacktriangleright");C(F,_,te,"∵","\\because",!0);C(F,_,te,"⋘","\\llless");C(F,_,te,"⋙","\\gggtr");C(F,_,He,"⊲","\\lhd");C(F,_,He,"⊳","\\rhd");C(F,_,te,"≂","\\eqsim",!0);C(F,P,te,"⋈","\\Join");C(F,_,te,"≑","\\Doteq",!0);C(F,_,He,"∔","\\dotplus",!0);C(F,_,He,"∖","\\smallsetminus");C(F,_,He,"⋒","\\Cap",!0);C(F,_,He,"⋓","\\Cup",!0);C(F,_,He,"⩞","\\doublebarwedge",!0);C(F,_,He,"⊟","\\boxminus",!0);C(F,_,He,"⊞","\\boxplus",!0);C(F,_,He,"⋇","\\divideontimes",!0);C(F,_,He,"⋉","\\ltimes",!0);C(F,_,He,"⋊","\\rtimes",!0);C(F,_,He,"⋋","\\leftthreetimes",!0);C(F,_,He,"⋌","\\rightthreetimes",!0);C(F,_,He,"⋏","\\curlywedge",!0);C(F,_,He,"⋎","\\curlyvee",!0);C(F,_,He,"⊝","\\circleddash",!0);C(F,_,He,"⊛","\\circledast",!0);C(F,_,He,"⋅","\\centerdot");C(F,_,He,"⊺","\\intercal",!0);C(F,_,He,"⋒","\\doublecap");C(F,_,He,"⋓","\\doublecup");C(F,_,He,"⊠","\\boxtimes",!0);C(F,_,te,"⇢","\\dashrightarrow",!0);C(F,_,te,"⇠","\\dashleftarrow",!0);C(F,_,te,"⇇","\\leftleftarrows",!0);C(F,_,te,"⇆","\\leftrightarrows",!0);C(F,_,te,"⇚","\\Lleftarrow",!0);C(F,_,te,"↞","\\twoheadleftarrow",!0);C(F,_,te,"↢","\\leftarrowtail",!0);C(F,_,te,"↫","\\looparrowleft",!0);C(F,_,te,"⇋","\\leftrightharpoons",!0);C(F,_,te,"↶","\\curvearrowleft",!0);C(F,_,te,"↺","\\circlearrowleft",!0);C(F,_,te,"↰","\\Lsh",!0);C(F,_,te,"⇈","\\upuparrows",!0);C(F,_,te,"↿","\\upharpoonleft",!0);C(F,_,te,"⇃","\\downharpoonleft",!0);C(F,P,te,"⊶","\\origof",!0);C(F,P,te,"⊷","\\imageof",!0);C(F,_,te,"⊸","\\multimap",!0);C(F,_,te,"↭","\\leftrightsquigarrow",!0);C(F,_,te,"⇉","\\rightrightarrows",!0);C(F,_,te,"⇄","\\rightleftarrows",!0);C(F,_,te,"↠","\\twoheadrightarrow",!0);C(F,_,te,"↣","\\rightarrowtail",!0);C(F,_,te,"↬","\\looparrowright",!0);C(F,_,te,"↷","\\curvearrowright",!0);C(F,_,te,"↻","\\circlearrowright",!0);C(F,_,te,"↱","\\Rsh",!0);C(F,_,te,"⇊","\\downdownarrows",!0);C(F,_,te,"↾","\\upharpoonright",!0);C(F,_,te,"⇂","\\downharpoonright",!0);C(F,_,te,"⇝","\\rightsquigarrow",!0);C(F,_,te,"⇝","\\leadsto");C(F,_,te,"⇛","\\Rrightarrow",!0);C(F,_,te,"↾","\\restriction");C(F,P,ae,"‘","`");C(F,P,ae,"$","\\$");C(we,P,ae,"$","\\$");C(we,P,ae,"$","\\textdollar");C(F,P,ae,"%","\\%");C(we,P,ae,"%","\\%");C(F,P,ae,"_","\\_");C(we,P,ae,"_","\\_");C(we,P,ae,"_","\\textunderscore");C(F,P,ae,"∠","\\angle",!0);C(F,P,ae,"∞","\\infty",!0);C(F,P,ae,"′","\\prime");C(F,P,ae,"△","\\triangle");C(F,P,ae,"Γ","\\Gamma",!0);C(F,P,ae,"Δ","\\Delta",!0);C(F,P,ae,"Θ","\\Theta",!0);C(F,P,ae,"Λ","\\Lambda",!0);C(F,P,ae,"Ξ","\\Xi",!0);C(F,P,ae,"Π","\\Pi",!0);C(F,P,ae,"Σ","\\Sigma",!0);C(F,P,ae,"Υ","\\Upsilon",!0);C(F,P,ae,"Φ","\\Phi",!0);C(F,P,ae,"Ψ","\\Psi",!0);C(F,P,ae,"Ω","\\Omega",!0);C(F,P,ae,"A","Α");C(F,P,ae,"B","Β");C(F,P,ae,"E","Ε");C(F,P,ae,"Z","Ζ");C(F,P,ae,"H","Η");C(F,P,ae,"I","Ι");C(F,P,ae,"K","Κ");C(F,P,ae,"M","Μ");C(F,P,ae,"N","Ν");C(F,P,ae,"O","Ο");C(F,P,ae,"P","Ρ");C(F,P,ae,"T","Τ");C(F,P,ae,"X","Χ");C(F,P,ae,"¬","\\neg",!0);C(F,P,ae,"¬","\\lnot");C(F,P,ae,"⊤","\\top");C(F,P,ae,"⊥","\\bot");C(F,P,ae,"∅","\\emptyset");C(F,_,ae,"∅","\\varnothing");C(F,P,$e,"α","\\alpha",!0);C(F,P,$e,"β","\\beta",!0);C(F,P,$e,"γ","\\gamma",!0);C(F,P,$e,"δ","\\delta",!0);C(F,P,$e,"ϵ","\\epsilon",!0);C(F,P,$e,"ζ","\\zeta",!0);C(F,P,$e,"η","\\eta",!0);C(F,P,$e,"θ","\\theta",!0);C(F,P,$e,"ι","\\iota",!0);C(F,P,$e,"κ","\\kappa",!0);C(F,P,$e,"λ","\\lambda",!0);C(F,P,$e,"μ","\\mu",!0);C(F,P,$e,"ν","\\nu",!0);C(F,P,$e,"ξ","\\xi",!0);C(F,P,$e,"ο","\\omicron",!0);C(F,P,$e,"π","\\pi",!0);C(F,P,$e,"ρ","\\rho",!0);C(F,P,$e,"σ","\\sigma",!0);C(F,P,$e,"τ","\\tau",!0);C(F,P,$e,"υ","\\upsilon",!0);C(F,P,$e,"ϕ","\\phi",!0);C(F,P,$e,"χ","\\chi",!0);C(F,P,$e,"ψ","\\psi",!0);C(F,P,$e,"ω","\\omega",!0);C(F,P,$e,"ε","\\varepsilon",!0);C(F,P,$e,"ϑ","\\vartheta",!0);C(F,P,$e,"ϖ","\\varpi",!0);C(F,P,$e,"ϱ","\\varrho",!0);C(F,P,$e,"ς","\\varsigma",!0);C(F,P,$e,"φ","\\varphi",!0);C(F,P,He,"∗","*",!0);C(F,P,He,"+","+");C(F,P,He,"−","-",!0);C(F,P,He,"⋅","\\cdot",!0);C(F,P,He,"∘","\\circ",!0);C(F,P,He,"÷","\\div",!0);C(F,P,He,"±","\\pm",!0);C(F,P,He,"×","\\times",!0);C(F,P,He,"∩","\\cap",!0);C(F,P,He,"∪","\\cup",!0);C(F,P,He,"∖","\\setminus",!0);C(F,P,He,"∧","\\land");C(F,P,He,"∨","\\lor");C(F,P,He,"∧","\\wedge",!0);C(F,P,He,"∨","\\vee",!0);C(F,P,ae,"√","\\surd");C(F,P,dr,"⟨","\\langle",!0);C(F,P,dr,"∣","\\lvert");C(F,P,dr,"∥","\\lVert");C(F,P,Yi,"?","?");C(F,P,Yi,"!","!");C(F,P,Yi,"⟩","\\rangle",!0);C(F,P,Yi,"∣","\\rvert");C(F,P,Yi,"∥","\\rVert");C(F,P,te,"=","=");C(F,P,te,":",":");C(F,P,te,"≈","\\approx",!0);C(F,P,te,"≅","\\cong",!0);C(F,P,te,"≥","\\ge");C(F,P,te,"≥","\\geq",!0);C(F,P,te,"←","\\gets");C(F,P,te,">","\\gt",!0);C(F,P,te,"∈","\\in",!0);C(F,P,te,"","\\@not");C(F,P,te,"⊂","\\subset",!0);C(F,P,te,"⊃","\\supset",!0);C(F,P,te,"⊆","\\subseteq",!0);C(F,P,te,"⊇","\\supseteq",!0);C(F,_,te,"⊈","\\nsubseteq",!0);C(F,_,te,"⊉","\\nsupseteq",!0);C(F,P,te,"⊨","\\models");C(F,P,te,"←","\\leftarrow",!0);C(F,P,te,"≤","\\le");C(F,P,te,"≤","\\leq",!0);C(F,P,te,"<","\\lt",!0);C(F,P,te,"→","\\rightarrow",!0);C(F,P,te,"→","\\to");C(F,_,te,"≱","\\ngeq",!0);C(F,_,te,"≰","\\nleq",!0);C(F,P,A0," ","\\ ");C(F,P,A0," ","\\space");C(F,P,A0," ","\\nobreakspace");C(we,P,A0," ","\\ ");C(we,P,A0," "," ");C(we,P,A0," ","\\space");C(we,P,A0," ","\\nobreakspace");C(F,P,A0,null,"\\nobreak");C(F,P,A0,null,"\\allowbreak");C(F,P,eo,",",",");C(F,P,eo,";",";");C(F,_,He,"⊼","\\barwedge",!0);C(F,_,He,"⊻","\\veebar",!0);C(F,P,He,"⊙","\\odot",!0);C(F,P,He,"⊕","\\oplus",!0);C(F,P,He,"⊗","\\otimes",!0);C(F,P,ae,"∂","\\partial",!0);C(F,P,He,"⊘","\\oslash",!0);C(F,_,He,"⊚","\\circledcirc",!0);C(F,_,He,"⊡","\\boxdot",!0);C(F,P,He,"△","\\bigtriangleup");C(F,P,He,"▽","\\bigtriangledown");C(F,P,He,"†","\\dagger");C(F,P,He,"⋄","\\diamond");C(F,P,He,"⋆","\\star");C(F,P,He,"◃","\\triangleleft");C(F,P,He,"▹","\\triangleright");C(F,P,dr,"{","\\{");C(we,P,ae,"{","\\{");C(we,P,ae,"{","\\textbraceleft");C(F,P,Yi,"}","\\}");C(we,P,ae,"}","\\}");C(we,P,ae,"}","\\textbraceright");C(F,P,dr,"{","\\lbrace");C(F,P,Yi,"}","\\rbrace");C(F,P,dr,"[","\\lbrack",!0);C(we,P,ae,"[","\\lbrack",!0);C(F,P,Yi,"]","\\rbrack",!0);C(we,P,ae,"]","\\rbrack",!0);C(F,P,dr,"(","\\lparen",!0);C(F,P,Yi,")","\\rparen",!0);C(we,P,ae,"<","\\textless",!0);C(we,P,ae,">","\\textgreater",!0);C(F,P,dr,"⌊","\\lfloor",!0);C(F,P,Yi,"⌋","\\rfloor",!0);C(F,P,dr,"⌈","\\lceil",!0);C(F,P,Yi,"⌉","\\rceil",!0);C(F,P,ae,"\\","\\backslash");C(F,P,ae,"∣","|");C(F,P,ae,"∣","\\vert");C(we,P,ae,"|","\\textbar",!0);C(F,P,ae,"∥","\\|");C(F,P,ae,"∥","\\Vert");C(we,P,ae,"∥","\\textbardbl");C(we,P,ae,"~","\\textasciitilde");C(we,P,ae,"\\","\\textbackslash");C(we,P,ae,"^","\\textasciicircum");C(F,P,te,"↑","\\uparrow",!0);C(F,P,te,"⇑","\\Uparrow",!0);C(F,P,te,"↓","\\downarrow",!0);C(F,P,te,"⇓","\\Downarrow",!0);C(F,P,te,"↕","\\updownarrow",!0);C(F,P,te,"⇕","\\Updownarrow",!0);C(F,P,gi,"∐","\\coprod");C(F,P,gi,"⋁","\\bigvee");C(F,P,gi,"⋀","\\bigwedge");C(F,P,gi,"⨄","\\biguplus");C(F,P,gi,"⋂","\\bigcap");C(F,P,gi,"⋃","\\bigcup");C(F,P,gi,"∫","\\int");C(F,P,gi,"∫","\\intop");C(F,P,gi,"∬","\\iint");C(F,P,gi,"∭","\\iiint");C(F,P,gi,"∏","\\prod");C(F,P,gi,"∑","\\sum");C(F,P,gi,"⨂","\\bigotimes");C(F,P,gi,"⨁","\\bigoplus");C(F,P,gi,"⨀","\\bigodot");C(F,P,gi,"∮","\\oint");C(F,P,gi,"∯","\\oiint");C(F,P,gi,"∰","\\oiiint");C(F,P,gi,"⨆","\\bigsqcup");C(F,P,gi,"∫","\\smallint");C(we,P,Bs,"…","\\textellipsis");C(F,P,Bs,"…","\\mathellipsis");C(we,P,Bs,"…","\\ldots",!0);C(F,P,Bs,"…","\\ldots",!0);C(F,P,Bs,"⋯","\\@cdots",!0);C(F,P,Bs,"⋱","\\ddots",!0);C(F,P,ae,"⋮","\\varvdots");C(we,P,ae,"⋮","\\varvdots");C(F,P,_t,"ˊ","\\acute");C(F,P,_t,"ˋ","\\grave");C(F,P,_t,"¨","\\ddot");C(F,P,_t,"~","\\tilde");C(F,P,_t,"ˉ","\\bar");C(F,P,_t,"˘","\\breve");C(F,P,_t,"ˇ","\\check");C(F,P,_t,"^","\\hat");C(F,P,_t,"⃗","\\vec");C(F,P,_t,"˙","\\dot");C(F,P,_t,"˚","\\mathring");C(F,P,$e,"","\\@imath");C(F,P,$e,"","\\@jmath");C(F,P,ae,"ı","ı");C(F,P,ae,"ȷ","ȷ");C(we,P,ae,"ı","\\i",!0);C(we,P,ae,"ȷ","\\j",!0);C(we,P,ae,"ß","\\ss",!0);C(we,P,ae,"æ","\\ae",!0);C(we,P,ae,"œ","\\oe",!0);C(we,P,ae,"ø","\\o",!0);C(we,P,ae,"Æ","\\AE",!0);C(we,P,ae,"Œ","\\OE",!0);C(we,P,ae,"Ø","\\O",!0);C(we,P,_t,"ˊ","\\'");C(we,P,_t,"ˋ","\\`");C(we,P,_t,"ˆ","\\^");C(we,P,_t,"˜","\\~");C(we,P,_t,"ˉ","\\=");C(we,P,_t,"˘","\\u");C(we,P,_t,"˙","\\.");C(we,P,_t,"¸","\\c");C(we,P,_t,"˚","\\r");C(we,P,_t,"ˇ","\\v");C(we,P,_t,"¨",'\\"');C(we,P,_t,"˝","\\H");C(we,P,_t,"◯","\\textcircled");var kd={"--":!0,"---":!0,"``":!0,"''":!0};C(we,P,ae,"–","--",!0);C(we,P,ae,"–","\\textendash");C(we,P,ae,"—","---",!0);C(we,P,ae,"—","\\textemdash");C(we,P,ae,"‘","`",!0);C(we,P,ae,"‘","\\textquoteleft");C(we,P,ae,"’","'",!0);C(we,P,ae,"’","\\textquoteright");C(we,P,ae,"“","``",!0);C(we,P,ae,"“","\\textquotedblleft");C(we,P,ae,"”","''",!0);C(we,P,ae,"”","\\textquotedblright");C(F,P,ae,"°","\\degree",!0);C(we,P,ae,"°","\\degree");C(we,P,ae,"°","\\textdegree",!0);C(F,P,ae,"£","\\pounds");C(F,P,ae,"£","\\mathsterling",!0);C(we,P,ae,"£","\\pounds");C(we,P,ae,"£","\\textsterling",!0);C(F,_,ae,"✠","\\maltese");C(we,_,ae,"✠","\\maltese");var lu='0123456789/@."';for(var cl=0;cl<lu.length;cl++){var cu=lu.charAt(cl);C(F,P,ae,cu,cu)}var hu='0123456789!@*()-=+";:?/.,';for(var hl=0;hl<hu.length;hl++){var uu=hu.charAt(hl);C(we,P,ae,uu,uu)}var Pa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var ul=0;ul<Pa.length;ul++){var jn=Pa.charAt(ul);C(F,P,$e,jn,jn),C(we,P,ae,jn,jn)}C(F,_,ae,"C","ℂ");C(we,_,ae,"C","ℂ");C(F,_,ae,"H","ℍ");C(we,_,ae,"H","ℍ");C(F,_,ae,"N","ℕ");C(we,_,ae,"N","ℕ");C(F,_,ae,"P","ℙ");C(we,_,ae,"P","ℙ");C(F,_,ae,"Q","ℚ");C(we,_,ae,"Q","ℚ");C(F,_,ae,"R","ℝ");C(we,_,ae,"R","ℝ");C(F,_,ae,"Z","ℤ");C(we,_,ae,"Z","ℤ");C(F,P,$e,"h","ℎ");C(we,P,$e,"h","ℎ");var st="";for(var Ri=0;Ri<Pa.length;Ri++){var ci=Pa.charAt(Ri);st=String.fromCharCode(55349,56320+Ri),C(F,P,$e,ci,st),C(we,P,ae,ci,st),st=String.fromCharCode(55349,56372+Ri),C(F,P,$e,ci,st),C(we,P,ae,ci,st),st=String.fromCharCode(55349,56424+Ri),C(F,P,$e,ci,st),C(we,P,ae,ci,st),st=String.fromCharCode(55349,56580+Ri),C(F,P,$e,ci,st),C(we,P,ae,ci,st),st=String.fromCharCode(55349,56684+Ri),C(F,P,$e,ci,st),C(we,P,ae,ci,st),st=String.fromCharCode(55349,56736+Ri),C(F,P,$e,ci,st),C(we,P,ae,ci,st),st=String.fromCharCode(55349,56788+Ri),C(F,P,$e,ci,st),C(we,P,ae,ci,st),st=String.fromCharCode(55349,56840+Ri),C(F,P,$e,ci,st),C(we,P,ae,ci,st),st=String.fromCharCode(55349,56944+Ri),C(F,P,$e,ci,st),C(we,P,ae,ci,st),Ri<26&&(st=String.fromCharCode(55349,56632+Ri),C(F,P,$e,ci,st),C(we,P,ae,ci,st),st=String.fromCharCode(55349,56476+Ri),C(F,P,$e,ci,st),C(we,P,ae,ci,st))}st="𝕜";C(F,P,$e,"k",st);C(we,P,ae,"k",st);for(var X0=0;X0<10;X0++){var C0=X0.toString();st=String.fromCharCode(55349,57294+X0),C(F,P,$e,C0,st),C(we,P,ae,C0,st),st=String.fromCharCode(55349,57314+X0),C(F,P,$e,C0,st),C(we,P,ae,C0,st),st=String.fromCharCode(55349,57324+X0),C(F,P,$e,C0,st),C(we,P,ae,C0,st),st=String.fromCharCode(55349,57334+X0),C(F,P,$e,C0,st),C(we,P,ae,C0,st)}var t1="ÐÞþ";for(var dl=0;dl<t1.length;dl++){var Xn=t1.charAt(dl);C(F,P,$e,Xn,Xn),C(we,P,ae,Xn,Xn)}var Qn=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],du=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],op=function(e,t){var r=e.charCodeAt(0),s=e.charCodeAt(1),n=(r-55296)*1024+(s-56320)+65536,a=t==="math"?0:1;if(119808<=n&&n<120484){var l=Math.floor((n-119808)/26);return[Qn[l][2],Qn[l][a]]}else if(120782<=n&&n<=120831){var o=Math.floor((n-120782)/10);return[du[o][2],du[o][a]]}else{if(n===120485||n===120486)return[Qn[0][2],Qn[0][a]];if(120486<n&&n<120782)return["",""];throw new Ee("Unsupported character: "+e)}},to=function(e,t,r){return Ot[r][e]&&Ot[r][e].replace&&(e=Ot[r][e].replace),{value:e,metrics:U1(e,t,r)}},Ir=function(e,t,r,s,n){var a=to(e,t,r),l=a.metrics;e=a.value;var o;if(l){var h=l.italic;(r==="text"||s&&s.font==="mathit")&&(h=0),o=new Mr(e,l.height,l.depth,h,l.skew,l.width,n)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+t+"' and mode '"+r+"'")),o=new Mr(e,0,0,0,0,0,n);if(s){o.maxFontSize=s.sizeMultiplier,s.style.isTight()&&o.classes.push("mtight");var d=s.getColor();d&&(o.style.color=d)}return o},lp=function(e,t,r,s){return s===void 0&&(s=[]),r.font==="boldsymbol"&&to(e,"Main-Bold",t).metrics?Ir(e,"Main-Bold",t,r,s.concat(["mathbf"])):e==="\\"||Ot[t][e].font==="main"?Ir(e,"Main-Regular",t,r,s):Ir(e,"AMS-Regular",t,r,s.concat(["amsrm"]))},cp=function(e,t,r,s,n){return n!=="textord"&&to(e,"Math-BoldItalic",t).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},hp=function(e,t,r){var s=e.mode,n=e.text,a=["mord"],l=s==="math"||s==="text"&&t.font,o=l?t.font:t.fontFamily,h="",d="";if(n.charCodeAt(0)===55349&&([h,d]=op(n,s)),h.length>0)return Ir(n,h,s,t,a.concat(d));if(o){var f,p;if(o==="boldsymbol"){var g=cp(n,s,t,a,r);f=g.fontName,p=[g.fontClass]}else l?(f=Fd[o].fontName,p=[o]):(f=Zn(o,t.fontWeight,t.fontShape),p=[o,t.fontWeight,t.fontShape]);if(to(n,f,s).metrics)return Ir(n,f,s,t,a.concat(p));if(kd.hasOwnProperty(n)&&f.slice(0,10)==="Typewriter"){for(var A=[],x=0;x<n.length;x++)A.push(Ir(n[x],f,s,t,a.concat(p)));return Ed(A)}}if(r==="mathord")return Ir(n,"Math-Italic",s,t,a.concat(["mathnormal"]));if(r==="textord"){var y=Ot[s][n]&&Ot[s][n].font;if(y==="ams"){var b=Zn("amsrm",t.fontWeight,t.fontShape);return Ir(n,b,s,t,a.concat("amsrm",t.fontWeight,t.fontShape))}else if(y==="main"||!y){var T=Zn("textrm",t.fontWeight,t.fontShape);return Ir(n,T,s,t,a.concat(t.fontWeight,t.fontShape))}else{var D=Zn(y,t.fontWeight,t.fontShape);return Ir(n,D,s,t,a.concat(D,t.fontWeight,t.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},up=(i,e)=>{if(P0(i.classes)!==P0(e.classes)||i.skew!==e.skew||i.maxFontSize!==e.maxFontSize)return!1;if(i.classes.length===1){var t=i.classes[0];if(t==="mbin"||t==="mord")return!1}for(var r in i.style)if(i.style.hasOwnProperty(r)&&i.style[r]!==e.style[r])return!1;for(var s in e.style)if(e.style.hasOwnProperty(s)&&i.style[s]!==e.style[s])return!1;return!0},dp=i=>{for(var e=0;e<i.length-1;e++){var t=i[e],r=i[e+1];t instanceof Mr&&r instanceof Mr&&up(t,r)&&(t.text+=r.text,t.height=Math.max(t.height,r.height),t.depth=Math.max(t.depth,r.depth),t.italic=r.italic,i.splice(e+1,1),e--)}return i},P1=function(e){for(var t=0,r=0,s=0,n=0;n<e.children.length;n++){var a=e.children[n];a.height>t&&(t=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>s&&(s=a.maxFontSize)}e.height=t,e.depth=r,e.maxFontSize=s},Zi=function(e,t,r,s){var n=new xn(e,t,r,s);return P1(n),n},Id=(i,e,t,r)=>new xn(i,e,t,r),mp=function(e,t,r){var s=Zi([e],[],t);return s.height=Math.max(r||t.fontMetrics().defaultRuleThickness,t.minRuleThickness),s.style.borderBottomWidth=Ve(s.height),s.maxFontSize=1,s},fp=function(e,t,r,s){var n=new z1(e,t,r,s);return P1(n),n},Ed=function(e){var t=new An(e);return P1(t),t},pp=function(e,t){return e instanceof An?Zi([],[e],t):e},gp=function(e){if(e.positionType==="individualShift"){for(var t=e.children,r=[t[0]],s=-t[0].shift-t[0].elem.depth,n=s,a=1;a<t.length;a++){var l=-t[a].shift-n-t[a].elem.depth,o=l-(t[a-1].elem.height+t[a-1].elem.depth);n=n+l,r.push({type:"kern",size:o}),r.push(t[a])}return{children:r,depth:s}}var h;if(e.positionType==="top"){for(var d=e.positionData,f=0;f<e.children.length;f++){var p=e.children[f];d-=p.type==="kern"?p.size:p.elem.height+p.elem.depth}h=d}else if(e.positionType==="bottom")h=-e.positionData;else{var g=e.children[0];if(g.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")h=-g.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")h=-g.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:h}},vp=function(e,t){for(var{children:r,depth:s}=gp(e),n=0,a=0;a<r.length;a++){var l=r[a];if(l.type==="elem"){var o=l.elem;n=Math.max(n,o.maxFontSize,o.height)}}n+=2;var h=Zi(["pstrut"],[]);h.style.height=Ve(n);for(var d=[],f=s,p=s,g=s,A=0;A<r.length;A++){var x=r[A];if(x.type==="kern")g+=x.size;else{var y=x.elem,b=x.wrapperClasses||[],T=x.wrapperStyle||{},D=Zi(b,[h,y],void 0,T);D.style.top=Ve(-n-g-y.depth),x.marginLeft&&(D.style.marginLeft=x.marginLeft),x.marginRight&&(D.style.marginRight=x.marginRight),d.push(D),g+=y.height+y.depth}f=Math.min(f,g),p=Math.max(p,g)}var S=Zi(["vlist"],d);S.style.height=Ve(p);var k;if(f<0){var R=Zi([],[]),B=Zi(["vlist"],[R]);B.style.height=Ve(-f);var N=Zi(["vlist-s"],[new Mr("​")]);k=[Zi(["vlist-r"],[S,N]),Zi(["vlist-r"],[B])]}else k=[Zi(["vlist-r"],[S])];var L=Zi(["vlist-t"],k);return k.length===2&&L.classes.push("vlist-t2"),L.height=p,L.depth=-f,L},Ap=(i,e)=>{var t=Zi(["mspace"],[],e),r=si(i,e);return t.style.marginRight=Ve(r),t},Zn=function(e,t,r){var s="";switch(e){case"amsrm":s="AMS";break;case"textrm":s="Main";break;case"textsf":s="SansSerif";break;case"texttt":s="Typewriter";break;default:s=e}var n;return t==="textbf"&&r==="textit"?n="BoldItalic":t==="textbf"?n="Bold":t==="textit"?n="Italic":n="Regular",s+"-"+n},Fd={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Bd={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},xp=function(e,t){var[r,s,n]=Bd[e],a=new L0(r),l=new d0([a],{width:Ve(s),height:Ve(n),style:"width:"+Ve(s),viewBox:"0 0 "+1e3*s+" "+1e3*n,preserveAspectRatio:"xMinYMin"}),o=Id(["overlay"],[l],t);return o.height=n,o.style.height=Ve(n),o.style.width=Ve(s),o},me={fontMap:Fd,makeSymbol:Ir,mathsym:lp,makeSpan:Zi,makeSvgSpan:Id,makeLineSpan:mp,makeAnchor:fp,makeFragment:Ed,wrapFragment:pp,makeVList:vp,makeOrd:hp,makeGlue:Ap,staticSvg:xp,svgData:Bd,tryCombineChars:dp},ri={number:3,unit:"mu"},Q0={number:4,unit:"mu"},s0={number:5,unit:"mu"},bp={mord:{mop:ri,mbin:Q0,mrel:s0,minner:ri},mop:{mord:ri,mop:ri,mrel:s0,minner:ri},mbin:{mord:Q0,mop:Q0,mopen:Q0,minner:Q0},mrel:{mord:s0,mop:s0,mopen:s0,minner:s0},mopen:{},mclose:{mop:ri,mbin:Q0,mrel:s0,minner:ri},mpunct:{mord:ri,mop:ri,mrel:s0,mopen:ri,mclose:ri,mpunct:ri,minner:ri},minner:{mord:ri,mop:ri,mbin:Q0,mrel:s0,mopen:ri,mpunct:ri,minner:ri}},yp={mord:{mop:ri},mop:{mord:ri,mop:ri},mbin:{},mrel:{},mopen:{},mclose:{mop:ri},mpunct:{},minner:{mop:ri}},Nd={},La={},Oa={};function Oe(i){for(var{type:e,names:t,props:r,handler:s,htmlBuilder:n,mathmlBuilder:a}=i,l={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:s},o=0;o<t.length;++o)Nd[t[o]]=l;e&&(n&&(La[e]=n),a&&(Oa[e]=a))}function os(i){var{type:e,htmlBuilder:t,mathmlBuilder:r}=i;Oe({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:t,mathmlBuilder:r})}var qa=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},mi=function(e){return e.type==="ordgroup"?e.body:[e]},m0=me.makeSpan,wp=["leftmost","mbin","mopen","mrel","mop","mpunct"],Sp=["rightmost","mrel","mclose","mpunct"],Mp={display:et.DISPLAY,text:et.TEXT,script:et.SCRIPT,scriptscript:et.SCRIPTSCRIPT},Cp={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},bi=function(e,t,r,s){s===void 0&&(s=[null,null]);for(var n=[],a=0;a<e.length;a++){var l=yt(e[a],t);if(l instanceof An){var o=l.children;n.push(...o)}else n.push(l)}if(me.tryCombineChars(n),!r)return n;var h=t;if(e.length===1){var d=e[0];d.type==="sizing"?h=t.havingSize(d.size):d.type==="styling"&&(h=t.havingStyle(Mp[d.style]))}var f=m0([s[0]||"leftmost"],[],t),p=m0([s[1]||"rightmost"],[],t),g=r==="root";return mu(n,(A,x)=>{var y=x.classes[0],b=A.classes[0];y==="mbin"&&Ze.contains(Sp,b)?x.classes[0]="mord":b==="mbin"&&Ze.contains(wp,y)&&(A.classes[0]="mord")},{node:f},p,g),mu(n,(A,x)=>{var y=i1(x),b=i1(A),T=y&&b?A.hasClass("mtight")?yp[y][b]:bp[y][b]:null;if(T)return me.makeGlue(T,h)},{node:f},p,g),n},mu=function i(e,t,r,s,n){s&&e.push(s);for(var a=0;a<e.length;a++){var l=e[a],o=Rd(l);if(o){i(o.children,t,r,null,n);continue}var h=!l.hasClass("mspace");if(h){var d=t(l,r.node);d&&(r.insertAfter?r.insertAfter(d):(e.unshift(d),a++))}h?r.node=l:n&&l.hasClass("newline")&&(r.node=m0(["leftmost"])),r.insertAfter=(f=>p=>{e.splice(f+1,0,p),a++})(a)}s&&e.pop()},Rd=function(e){return e instanceof An||e instanceof z1||e instanceof xn&&e.hasClass("enclosing")?e:null},Tp=function i(e,t){var r=Rd(e);if(r){var s=r.children;if(s.length){if(t==="right")return i(s[s.length-1],"right");if(t==="left")return i(s[0],"left")}}return e},i1=function(e,t){return e?(t&&(e=Tp(e,t)),Cp[e.classes[0]]||null):null},fn=function(e,t){var r=["nulldelimiter"].concat(e.baseSizingClasses());return m0(t.concat(r))},yt=function(e,t,r){if(!e)return m0();if(La[e.type]){var s=La[e.type](e,t);if(r&&t.size!==r.size){s=m0(t.sizingClasses(r),[s],t);var n=t.sizeMultiplier/r.sizeMultiplier;s.height*=n,s.depth*=n}return s}else throw new Ee("Got group of unknown type: '"+e.type+"'")};function Jn(i,e){var t=m0(["base"],i,e),r=m0(["strut"]);return r.style.height=Ve(t.height+t.depth),t.depth&&(r.style.verticalAlign=Ve(-t.depth)),t.children.unshift(r),t}function r1(i,e){var t=null;i.length===1&&i[0].type==="tag"&&(t=i[0].tag,i=i[0].body);var r=bi(i,e,"root"),s;r.length===2&&r[1].hasClass("tag")&&(s=r.pop());for(var n=[],a=[],l=0;l<r.length;l++)if(a.push(r[l]),r[l].hasClass("mbin")||r[l].hasClass("mrel")||r[l].hasClass("allowbreak")){for(var o=!1;l<r.length-1&&r[l+1].hasClass("mspace")&&!r[l+1].hasClass("newline");)l++,a.push(r[l]),r[l].hasClass("nobreak")&&(o=!0);o||(n.push(Jn(a,e)),a=[])}else r[l].hasClass("newline")&&(a.pop(),a.length>0&&(n.push(Jn(a,e)),a=[]),n.push(r[l]));a.length>0&&n.push(Jn(a,e));var h;t?(h=Jn(bi(t,e,!0)),h.classes=["tag"],n.push(h)):s&&n.push(s);var d=m0(["katex-html"],n);if(d.setAttribute("aria-hidden","true"),h){var f=h.children[0];f.style.height=Ve(d.height+d.depth),d.depth&&(f.style.verticalAlign=Ve(-d.depth))}return d}function Vd(i){return new An(i)}class cr{constructor(e,t,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=t||[],this.classes=r||[]}setAttribute(e,t){this.attributes[e]=t}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&e.setAttribute(t,this.attributes[t]);this.classes.length>0&&(e.className=P0(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof Yr&&this.children[r+1]instanceof Yr){for(var s=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof Yr;)s+=this.children[++r].toText();e.appendChild(new Yr(s).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var t in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,t)&&(e+=" "+t+'="',e+=Ze.escape(this.attributes[t]),e+='"');this.classes.length>0&&(e+=' class ="'+Ze.escape(P0(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Yr{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ze.escape(this.toText())}toText(){return this.text}}class Dp{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Ve(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Ve(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ke={MathNode:cr,TextNode:Yr,SpaceNode:Dp,newDocumentFragment:Vd},Cr=function(e,t,r){return Ot[t][e]&&Ot[t][e].replace&&e.charCodeAt(0)!==55349&&!(kd.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=Ot[t][e].replace),new ke.TextNode(e)},L1=function(e){return e.length===1?e[0]:new ke.MathNode("mrow",e)},O1=function(e,t){if(t.fontFamily==="texttt")return"monospace";if(t.fontFamily==="textsf")return t.fontShape==="textit"&&t.fontWeight==="textbf"?"sans-serif-bold-italic":t.fontShape==="textit"?"sans-serif-italic":t.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(t.fontShape==="textit"&&t.fontWeight==="textbf")return"bold-italic";if(t.fontShape==="textit")return"italic";if(t.fontWeight==="textbf")return"bold";var r=t.font;if(!r||r==="mathnormal")return null;var s=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var n=e.text;if(Ze.contains(["\\imath","\\jmath"],n))return null;Ot[s][n]&&Ot[s][n].replace&&(n=Ot[s][n].replace);var a=me.fontMap[r].fontName;return U1(n,a,s)?me.fontMap[r].variant:null};function ml(i){if(!i)return!1;if(i.type==="mi"&&i.children.length===1){var e=i.children[0];return e instanceof Yr&&e.text==="."}else if(i.type==="mo"&&i.children.length===1&&i.getAttribute("separator")==="true"&&i.getAttribute("lspace")==="0em"&&i.getAttribute("rspace")==="0em"){var t=i.children[0];return t instanceof Yr&&t.text===","}else return!1}var er=function(e,t,r){if(e.length===1){var s=Rt(e[0],t);return r&&s instanceof cr&&s.type==="mo"&&(s.setAttribute("lspace","0em"),s.setAttribute("rspace","0em")),[s]}for(var n=[],a,l=0;l<e.length;l++){var o=Rt(e[l],t);if(o instanceof cr&&a instanceof cr){if(o.type==="mtext"&&a.type==="mtext"&&o.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...o.children);continue}else if(o.type==="mn"&&a.type==="mn"){a.children.push(...o.children);continue}else if(ml(o)&&a.type==="mn"){a.children.push(...o.children);continue}else if(o.type==="mn"&&ml(a))o.children=[...a.children,...o.children],n.pop();else if((o.type==="msup"||o.type==="msub")&&o.children.length>=1&&(a.type==="mn"||ml(a))){var h=o.children[0];h instanceof cr&&h.type==="mn"&&(h.children=[...a.children,...h.children],n.pop())}else if(a.type==="mi"&&a.children.length===1){var d=a.children[0];if(d instanceof Yr&&d.text==="̸"&&(o.type==="mo"||o.type==="mi"||o.type==="mn")){var f=o.children[0];f instanceof Yr&&f.text.length>0&&(f.text=f.text.slice(0,1)+"̸"+f.text.slice(1),n.pop())}}}n.push(o),a=o}return n},O0=function(e,t,r){return L1(er(e,t,r))},Rt=function(e,t){if(!e)return new ke.MathNode("mrow");if(Oa[e.type]){var r=Oa[e.type](e,t);return r}else throw new Ee("Got group of unknown type: '"+e.type+"'")};function fu(i,e,t,r,s){var n=er(i,t),a;n.length===1&&n[0]instanceof cr&&Ze.contains(["mrow","mtable"],n[0].type)?a=n[0]:a=new ke.MathNode("mrow",n);var l=new ke.MathNode("annotation",[new ke.TextNode(e)]);l.setAttribute("encoding","application/x-tex");var o=new ke.MathNode("semantics",[a,l]),h=new ke.MathNode("math",[o]);h.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&h.setAttribute("display","block");var d=s?"katex":"katex-mathml";return me.makeSpan([d],[h])}var Ud=function(e){return new a0({style:e.displayMode?et.DISPLAY:et.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},zd=function(e,t){if(t.displayMode){var r=["katex-display"];t.leqno&&r.push("leqno"),t.fleqn&&r.push("fleqn"),e=me.makeSpan(r,[e])}return e},kp=function(e,t,r){var s=Ud(r),n;if(r.output==="mathml")return fu(e,t,s,r.displayMode,!0);if(r.output==="html"){var a=r1(e,s);n=me.makeSpan(["katex"],[a])}else{var l=fu(e,t,s,r.displayMode,!1),o=r1(e,s);n=me.makeSpan(["katex"],[l,o])}return zd(n,r)},Ip=function(e,t,r){var s=Ud(r),n=r1(e,s),a=me.makeSpan(["katex"],[n]);return zd(a,r)},Ep={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},Fp=function(e){var t=new ke.MathNode("mo",[new ke.TextNode(Ep[e.replace(/^\\/,"")])]);return t.setAttribute("stretchy","true"),t},Bp={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Np=function(e){return e.type==="ordgroup"?e.body.length:1},Rp=function(e,t){function r(){var l=4e5,o=e.label.slice(1);if(Ze.contains(["widehat","widecheck","widetilde","utilde"],o)){var h=e,d=Np(h.base),f,p,g;if(d>5)o==="widehat"||o==="widecheck"?(f=420,l=2364,g=.42,p=o+"4"):(f=312,l=2340,g=.34,p="tilde4");else{var A=[1,1,2,2,3,3][d];o==="widehat"||o==="widecheck"?(l=[0,1062,2364,2364,2364][A],f=[0,239,300,360,420][A],g=[0,.24,.3,.3,.36,.42][A],p=o+A):(l=[0,600,1033,2339,2340][A],f=[0,260,286,306,312][A],g=[0,.26,.286,.3,.306,.34][A],p="tilde"+A)}var x=new L0(p),y=new d0([x],{width:"100%",height:Ve(g),viewBox:"0 0 "+l+" "+f,preserveAspectRatio:"none"});return{span:me.makeSvgSpan([],[y],t),minWidth:0,height:g}}else{var b=[],T=Bp[o],[D,S,k]=T,R=k/1e3,B=D.length,N,L;if(B===1){var O=T[3];N=["hide-tail"],L=[O]}else if(B===2)N=["halfarrow-left","halfarrow-right"],L=["xMinYMin","xMaxYMin"];else if(B===3)N=["brace-left","brace-center","brace-right"],L=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+B+" children.");for(var q=0;q<B;q++){var U=new L0(D[q]),j=new d0([U],{width:"400em",height:Ve(R),viewBox:"0 0 "+l+" "+k,preserveAspectRatio:L[q]+" slice"}),X=me.makeSvgSpan([N[q]],[j],t);if(B===1)return{span:X,minWidth:S,height:R};X.style.height=Ve(R),b.push(X)}return{span:me.makeSpan(["stretchy"],b,t),minWidth:S,height:R}}}var{span:s,minWidth:n,height:a}=r();return s.height=a,s.style.height=Ve(a),n>0&&(s.style.minWidth=Ve(n)),s},Vp=function(e,t,r,s,n){var a,l=e.height+e.depth+r+s;if(/fbox|color|angl/.test(t)){if(a=me.makeSpan(["stretchy",t],[],n),t==="fbox"){var o=n.color&&n.getColor();o&&(a.style.borderColor=o)}}else{var h=[];/^[bx]cancel$/.test(t)&&h.push(new e1({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&h.push(new e1({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var d=new d0(h,{width:"100%",height:Ve(l)});a=me.makeSvgSpan([],[d],n)}return a.height=l,a.style.height=Ve(l),a},f0={encloseSpan:Vp,mathMLnode:Fp,svgSpan:Rp};function dt(i,e){if(!i||i.type!==e)throw new Error("Expected node of type "+e+", but got "+(i?"node of type "+i.type:String(i)));return i}function q1(i){var e=io(i);if(!e)throw new Error("Expected node of symbol group type, but got "+(i?"node of type "+i.type:String(i)));return e}function io(i){return i&&(i.type==="atom"||ap.hasOwnProperty(i.type))?i:null}var G1=(i,e)=>{var t,r,s;i&&i.type==="supsub"?(r=dt(i.base,"accent"),t=r.base,i.base=t,s=sp(yt(i,e)),i.base=r):(r=dt(i,"accent"),t=r.base);var n=yt(t,e.havingCrampedStyle()),a=r.isShifty&&Ze.isCharacterBox(t),l=0;if(a){var o=Ze.getBaseElem(t),h=yt(o,e.havingCrampedStyle());l=ou(h).skew}var d=r.label==="\\c",f=d?n.height+n.depth:Math.min(n.height,e.fontMetrics().xHeight),p;if(r.isStretchy)p=f0.svgSpan(r,e),p=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"elem",elem:p,wrapperClasses:["svg-align"],wrapperStyle:l>0?{width:"calc(100% - "+Ve(2*l)+")",marginLeft:Ve(2*l)}:void 0}]},e);else{var g,A;r.label==="\\vec"?(g=me.staticSvg("vec",e),A=me.svgData.vec[1]):(g=me.makeOrd({mode:r.mode,text:r.label},e,"textord"),g=ou(g),g.italic=0,A=g.width,d&&(f+=g.depth)),p=me.makeSpan(["accent-body"],[g]);var x=r.label==="\\textcircled";x&&(p.classes.push("accent-full"),f=n.height);var y=l;x||(y-=A/2),p.style.left=Ve(y),r.label==="\\textcircled"&&(p.style.top=".2em"),p=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:-f},{type:"elem",elem:p}]},e)}var b=me.makeSpan(["mord","accent"],[p],e);return s?(s.children[0]=b,s.height=Math.max(b.height,s.height),s.classes[0]="mord",s):b},Pd=(i,e)=>{var t=i.isStretchy?f0.mathMLnode(i.label):new ke.MathNode("mo",[Cr(i.label,i.mode)]),r=new ke.MathNode("mover",[Rt(i.base,e),t]);return r.setAttribute("accent","true"),r},Up=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(i=>"\\"+i).join("|"));Oe({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(i,e)=>{var t=qa(e[0]),r=!Up.test(i.funcName),s=!r||i.funcName==="\\widehat"||i.funcName==="\\widetilde"||i.funcName==="\\widecheck";return{type:"accent",mode:i.parser.mode,label:i.funcName,isStretchy:r,isShifty:s,base:t}},htmlBuilder:G1,mathmlBuilder:Pd});Oe({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(i,e)=>{var t=e[0],r=i.parser.mode;return r==="math"&&(i.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+i.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:i.funcName,isStretchy:!1,isShifty:!0,base:t}},htmlBuilder:G1,mathmlBuilder:Pd});Oe({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(i,e)=>{var{parser:t,funcName:r}=i,s=e[0];return{type:"accentUnder",mode:t.mode,label:r,base:s}},htmlBuilder:(i,e)=>{var t=yt(i.base,e),r=f0.svgSpan(i,e),s=i.label==="\\utilde"?.12:0,n=me.makeVList({positionType:"top",positionData:t.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:s},{type:"elem",elem:t}]},e);return me.makeSpan(["mord","accentunder"],[n],e)},mathmlBuilder:(i,e)=>{var t=f0.mathMLnode(i.label),r=new ke.MathNode("munder",[Rt(i.base,e),t]);return r.setAttribute("accentunder","true"),r}});var _n=i=>{var e=new ke.MathNode("mpadded",i?[i]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Oe({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(i,e,t){var{parser:r,funcName:s}=i;return{type:"xArrow",mode:r.mode,label:s,body:e[0],below:t[0]}},htmlBuilder(i,e){var t=e.style,r=e.havingStyle(t.sup()),s=me.wrapFragment(yt(i.body,r,e),e),n=i.label.slice(0,2)==="\\x"?"x":"cd";s.classes.push(n+"-arrow-pad");var a;i.below&&(r=e.havingStyle(t.sub()),a=me.wrapFragment(yt(i.below,r,e),e),a.classes.push(n+"-arrow-pad"));var l=f0.svgSpan(i,e),o=-e.fontMetrics().axisHeight+.5*l.height,h=-e.fontMetrics().axisHeight-.5*l.height-.111;(s.depth>.25||i.label==="\\xleftequilibrium")&&(h-=s.depth);var d;if(a){var f=-e.fontMetrics().axisHeight+a.height+.5*l.height+.111;d=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:h},{type:"elem",elem:l,shift:o},{type:"elem",elem:a,shift:f}]},e)}else d=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:h},{type:"elem",elem:l,shift:o}]},e);return d.children[0].children[0].children[1].classes.push("svg-align"),me.makeSpan(["mrel","x-arrow"],[d],e)},mathmlBuilder(i,e){var t=f0.mathMLnode(i.label);t.setAttribute("minsize",i.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(i.body){var s=_n(Rt(i.body,e));if(i.below){var n=_n(Rt(i.below,e));r=new ke.MathNode("munderover",[t,n,s])}else r=new ke.MathNode("mover",[t,s])}else if(i.below){var a=_n(Rt(i.below,e));r=new ke.MathNode("munder",[t,a])}else r=_n(),r=new ke.MathNode("mover",[t,r]);return r}});var zp=me.makeSpan;function Ld(i,e){var t=bi(i.body,e,!0);return zp([i.mclass],t,e)}function Od(i,e){var t,r=er(i.body,e);return i.mclass==="minner"?t=new ke.MathNode("mpadded",r):i.mclass==="mord"?i.isCharacterBox?(t=r[0],t.type="mi"):t=new ke.MathNode("mi",r):(i.isCharacterBox?(t=r[0],t.type="mo"):t=new ke.MathNode("mo",r),i.mclass==="mbin"?(t.attributes.lspace="0.22em",t.attributes.rspace="0.22em"):i.mclass==="mpunct"?(t.attributes.lspace="0em",t.attributes.rspace="0.17em"):i.mclass==="mopen"||i.mclass==="mclose"?(t.attributes.lspace="0em",t.attributes.rspace="0em"):i.mclass==="minner"&&(t.attributes.lspace="0.0556em",t.attributes.width="+0.1111em")),t}Oe({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(i,e){var{parser:t,funcName:r}=i,s=e[0];return{type:"mclass",mode:t.mode,mclass:"m"+r.slice(5),body:mi(s),isCharacterBox:Ze.isCharacterBox(s)}},htmlBuilder:Ld,mathmlBuilder:Od});var ro=i=>{var e=i.type==="ordgroup"&&i.body.length?i.body[0]:i;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Oe({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(i,e){var{parser:t}=i;return{type:"mclass",mode:t.mode,mclass:ro(e[0]),body:mi(e[1]),isCharacterBox:Ze.isCharacterBox(e[1])}}});Oe({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(i,e){var{parser:t,funcName:r}=i,s=e[1],n=e[0],a;r!=="\\stackrel"?a=ro(s):a="mrel";var l={type:"op",mode:s.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:mi(s)},o={type:"supsub",mode:n.mode,base:l,sup:r==="\\underset"?null:n,sub:r==="\\underset"?n:null};return{type:"mclass",mode:t.mode,mclass:a,body:[o],isCharacterBox:Ze.isCharacterBox(o)}},htmlBuilder:Ld,mathmlBuilder:Od});Oe({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(i,e){var{parser:t}=i;return{type:"pmb",mode:t.mode,mclass:ro(e[0]),body:mi(e[0])}},htmlBuilder(i,e){var t=bi(i.body,e,!0),r=me.makeSpan([i.mclass],t,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(i,e){var t=er(i.body,e),r=new ke.MathNode("mstyle",t);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var Pp={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},pu=()=>({type:"styling",body:[],mode:"math",style:"display"}),gu=i=>i.type==="textord"&&i.text==="@",Lp=(i,e)=>(i.type==="mathord"||i.type==="atom")&&i.text===e;function Op(i,e,t){var r=Pp[i];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return t.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var s=t.callFunction("\\\\cdleft",[e[0]],[]),n={type:"atom",text:r,mode:"math",family:"rel"},a=t.callFunction("\\Big",[n],[]),l=t.callFunction("\\\\cdright",[e[1]],[]),o={type:"ordgroup",mode:"math",body:[s,a,l]};return t.callFunction("\\\\cdparent",[o],[])}case"\\\\cdlongequal":return t.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var h={type:"textord",text:"\\Vert",mode:"math"};return t.callFunction("\\Big",[h],[])}default:return{type:"textord",text:" ",mode:"math"}}}function qp(i){var e=[];for(i.gullet.beginGroup(),i.gullet.macros.set("\\cr","\\\\\\relax"),i.gullet.beginGroup();;){e.push(i.parseExpression(!1,"\\\\")),i.gullet.endGroup(),i.gullet.beginGroup();var t=i.fetch().text;if(t==="&"||t==="\\\\")i.consume();else if(t==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Ee("Expected \\\\ or \\cr or \\end",i.nextToken)}for(var r=[],s=[r],n=0;n<e.length;n++){for(var a=e[n],l=pu(),o=0;o<a.length;o++)if(!gu(a[o]))l.body.push(a[o]);else{r.push(l),o+=1;var h=q1(a[o]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(h)>-1))if("<>AV".indexOf(h)>-1)for(var f=0;f<2;f++){for(var p=!0,g=o+1;g<a.length;g++){if(Lp(a[g],h)){p=!1,o=g;break}if(gu(a[g]))throw new Ee("Missing a "+h+" character to complete a CD arrow.",a[g]);d[f].body.push(a[g])}if(p)throw new Ee("Missing a "+h+" character to complete a CD arrow.",a[o])}else throw new Ee('Expected one of "<>AV=|." after @',a[o]);var A=Op(h,d,i),x={type:"styling",body:[A],mode:"math",style:"display"};r.push(x),l=pu()}n%2===0?r.push(l):r.shift(),r=[],s.push(r)}i.gullet.endGroup(),i.gullet.endGroup();var y=new Array(s[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:s,arraystretch:1,addJot:!0,rowGaps:[null],cols:y,colSeparationType:"CD",hLinesBeforeRow:new Array(s.length+1).fill([])}}Oe({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(i,e){var{parser:t,funcName:r}=i;return{type:"cdlabel",mode:t.mode,side:r.slice(4),label:e[0]}},htmlBuilder(i,e){var t=e.havingStyle(e.style.sup()),r=me.wrapFragment(yt(i.label,t,e),e);return r.classes.push("cd-label-"+i.side),r.style.bottom=Ve(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(i,e){var t=new ke.MathNode("mrow",[Rt(i.label,e)]);return t=new ke.MathNode("mpadded",[t]),t.setAttribute("width","0"),i.side==="left"&&t.setAttribute("lspace","-1width"),t.setAttribute("voffset","0.7em"),t=new ke.MathNode("mstyle",[t]),t.setAttribute("displaystyle","false"),t.setAttribute("scriptlevel","1"),t}});Oe({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(i,e){var{parser:t}=i;return{type:"cdlabelparent",mode:t.mode,fragment:e[0]}},htmlBuilder(i,e){var t=me.wrapFragment(yt(i.fragment,e),e);return t.classes.push("cd-vert-arrow"),t},mathmlBuilder(i,e){return new ke.MathNode("mrow",[Rt(i.fragment,e)])}});Oe({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(i,e){for(var{parser:t}=i,r=dt(e[0],"ordgroup"),s=r.body,n="",a=0;a<s.length;a++){var l=dt(s[a],"textord");n+=l.text}var o=parseInt(n),h;if(isNaN(o))throw new Ee("\\@char has non-numeric argument "+n);if(o<0||o>=1114111)throw new Ee("\\@char with invalid code point "+n);return o<=65535?h=String.fromCharCode(o):(o-=65536,h=String.fromCharCode((o>>10)+55296,(o&1023)+56320)),{type:"textord",mode:t.mode,text:h}}});var qd=(i,e)=>{var t=bi(i.body,e.withColor(i.color),!1);return me.makeFragment(t)},Gd=(i,e)=>{var t=er(i.body,e.withColor(i.color)),r=new ke.MathNode("mstyle",t);return r.setAttribute("mathcolor",i.color),r};Oe({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(i,e){var{parser:t}=i,r=dt(e[0],"color-token").color,s=e[1];return{type:"color",mode:t.mode,color:r,body:mi(s)}},htmlBuilder:qd,mathmlBuilder:Gd});Oe({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(i,e){var{parser:t,breakOnTokenText:r}=i,s=dt(e[0],"color-token").color;t.gullet.macros.set("\\current@color",s);var n=t.parseExpression(!0,r);return{type:"color",mode:t.mode,color:s,body:n}},htmlBuilder:qd,mathmlBuilder:Gd});Oe({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(i,e,t){var{parser:r}=i,s=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,n=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:n,size:s&&dt(s,"size").value}},htmlBuilder(i,e){var t=me.makeSpan(["mspace"],[],e);return i.newLine&&(t.classes.push("newline"),i.size&&(t.style.marginTop=Ve(si(i.size,e)))),t},mathmlBuilder(i,e){var t=new ke.MathNode("mspace");return i.newLine&&(t.setAttribute("linebreak","newline"),i.size&&t.setAttribute("height",Ve(si(i.size,e)))),t}});var s1={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Hd=i=>{var e=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Ee("Expected a control sequence",i);return e},Gp=i=>{var e=i.gullet.popToken();return e.text==="="&&(e=i.gullet.popToken(),e.text===" "&&(e=i.gullet.popToken())),e},Yd=(i,e,t,r)=>{var s=i.gullet.macros.get(t.text);s==null&&(t.noexpand=!0,s={tokens:[t],numArgs:0,unexpandable:!i.gullet.isExpandable(t.text)}),i.gullet.macros.set(e,s,r)};Oe({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(i){var{parser:e,funcName:t}=i;e.consumeSpaces();var r=e.fetch();if(s1[r.text])return(t==="\\global"||t==="\\\\globallong")&&(r.text=s1[r.text]),dt(e.parseFunction(),"internal");throw new Ee("Invalid token after macro prefix",r)}});Oe({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(i){var{parser:e,funcName:t}=i,r=e.gullet.popToken(),s=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(s))throw new Ee("Expected a control sequence",r);for(var n=0,a,l=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),l[n].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new Ee('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==n+1)throw new Ee('Argument number "'+r.text+'" out of order');n++,l.push([])}else{if(r.text==="EOF")throw new Ee("Expected a macro definition");l[n].push(r.text)}var{tokens:o}=e.gullet.consumeArg();return a&&o.unshift(a),(t==="\\edef"||t==="\\xdef")&&(o=e.gullet.expandTokens(o),o.reverse()),e.gullet.macros.set(s,{tokens:o,numArgs:n,delimiters:l},t===s1[t]),{type:"internal",mode:e.mode}}});Oe({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(i){var{parser:e,funcName:t}=i,r=Hd(e.gullet.popToken());e.gullet.consumeSpaces();var s=Gp(e);return Yd(e,r,s,t==="\\\\globallet"),{type:"internal",mode:e.mode}}});Oe({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(i){var{parser:e,funcName:t}=i,r=Hd(e.gullet.popToken()),s=e.gullet.popToken(),n=e.gullet.popToken();return Yd(e,r,n,t==="\\\\globalfuture"),e.gullet.pushToken(n),e.gullet.pushToken(s),{type:"internal",mode:e.mode}}});var js=function(e,t,r){var s=Ot.math[e]&&Ot.math[e].replace,n=U1(s||e,t,r);if(!n)throw new Error("Unsupported symbol "+e+" and font size "+t+".");return n},H1=function(e,t,r,s){var n=r.havingBaseStyle(t),a=me.makeSpan(s.concat(n.sizingClasses(r)),[e],r),l=n.sizeMultiplier/r.sizeMultiplier;return a.height*=l,a.depth*=l,a.maxFontSize=n.sizeMultiplier,a},Kd=function(e,t,r){var s=t.havingBaseStyle(r),n=(1-t.sizeMultiplier/s.sizeMultiplier)*t.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Ve(n),e.height-=n,e.depth+=n},Hp=function(e,t,r,s,n,a){var l=me.makeSymbol(e,"Main-Regular",n,s),o=H1(l,t,s,a);return r&&Kd(o,s,t),o},Yp=function(e,t,r,s){return me.makeSymbol(e,"Size"+t+"-Regular",r,s)},Wd=function(e,t,r,s,n,a){var l=Yp(e,t,n,s),o=H1(me.makeSpan(["delimsizing","size"+t],[l],s),et.TEXT,s,a);return r&&Kd(o,s,et.TEXT),o},fl=function(e,t,r){var s;t==="Size1-Regular"?s="delim-size1":s="delim-size4";var n=me.makeSpan(["delimsizinginner",s],[me.makeSpan([],[me.makeSymbol(e,t,r)])]);return{type:"elem",elem:n}},pl=function(e,t,r){var s=Hr["Size4-Regular"][e.charCodeAt(0)]?Hr["Size4-Regular"][e.charCodeAt(0)][4]:Hr["Size1-Regular"][e.charCodeAt(0)][4],n=new L0("inner",Q6(e,Math.round(1e3*t))),a=new d0([n],{width:Ve(s),height:Ve(t),style:"width:"+Ve(s),viewBox:"0 0 "+1e3*s+" "+Math.round(1e3*t),preserveAspectRatio:"xMinYMin"}),l=me.makeSvgSpan([],[a],r);return l.height=t,l.style.height=Ve(t),l.style.width=Ve(s),{type:"elem",elem:l}},n1=.008,$n={type:"kern",size:-1*n1},Kp=["|","\\lvert","\\rvert","\\vert"],Wp=["\\|","\\lVert","\\rVert","\\Vert"],jd=function(e,t,r,s,n,a){var l,o,h,d,f="",p=0;l=h=d=e,o=null;var g="Size1-Regular";e==="\\uparrow"?h=d="⏐":e==="\\Uparrow"?h=d="‖":e==="\\downarrow"?l=h="⏐":e==="\\Downarrow"?l=h="‖":e==="\\updownarrow"?(l="\\uparrow",h="⏐",d="\\downarrow"):e==="\\Updownarrow"?(l="\\Uparrow",h="‖",d="\\Downarrow"):Ze.contains(Kp,e)?(h="∣",f="vert",p=333):Ze.contains(Wp,e)?(h="∥",f="doublevert",p=556):e==="["||e==="\\lbrack"?(l="⎡",h="⎢",d="⎣",g="Size4-Regular",f="lbrack",p=667):e==="]"||e==="\\rbrack"?(l="⎤",h="⎥",d="⎦",g="Size4-Regular",f="rbrack",p=667):e==="\\lfloor"||e==="⌊"?(h=l="⎢",d="⎣",g="Size4-Regular",f="lfloor",p=667):e==="\\lceil"||e==="⌈"?(l="⎡",h=d="⎢",g="Size4-Regular",f="lceil",p=667):e==="\\rfloor"||e==="⌋"?(h=l="⎥",d="⎦",g="Size4-Regular",f="rfloor",p=667):e==="\\rceil"||e==="⌉"?(l="⎤",h=d="⎥",g="Size4-Regular",f="rceil",p=667):e==="("||e==="\\lparen"?(l="⎛",h="⎜",d="⎝",g="Size4-Regular",f="lparen",p=875):e===")"||e==="\\rparen"?(l="⎞",h="⎟",d="⎠",g="Size4-Regular",f="rparen",p=875):e==="\\{"||e==="\\lbrace"?(l="⎧",o="⎨",d="⎩",h="⎪",g="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(l="⎫",o="⎬",d="⎭",h="⎪",g="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(l="⎧",d="⎩",h="⎪",g="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(l="⎫",d="⎭",h="⎪",g="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(l="⎧",d="⎭",h="⎪",g="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(l="⎫",d="⎩",h="⎪",g="Size4-Regular");var A=js(l,g,n),x=A.height+A.depth,y=js(h,g,n),b=y.height+y.depth,T=js(d,g,n),D=T.height+T.depth,S=0,k=1;if(o!==null){var R=js(o,g,n);S=R.height+R.depth,k=2}var B=x+D+S,N=Math.max(0,Math.ceil((t-B)/(k*b))),L=B+N*k*b,O=s.fontMetrics().axisHeight;r&&(O*=s.sizeMultiplier);var q=L/2-O,U=[];if(f.length>0){var j=L-x-D,X=Math.round(L*1e3),re=Z6(f,Math.round(j*1e3)),oe=new L0(f,re),he=(p/1e3).toFixed(3)+"em",Ae=(X/1e3).toFixed(3)+"em",qe=new d0([oe],{width:he,height:Ae,viewBox:"0 0 "+p+" "+X}),Qe=me.makeSvgSpan([],[qe],s);Qe.height=X/1e3,Qe.style.width=he,Qe.style.height=Ae,U.push({type:"elem",elem:Qe})}else{if(U.push(fl(d,g,n)),U.push($n),o===null){var Fe=L-x-D+2*n1;U.push(pl(h,Fe,s))}else{var at=(L-x-D-S)/2+2*n1;U.push(pl(h,at,s)),U.push($n),U.push(fl(o,g,n)),U.push($n),U.push(pl(h,at,s))}U.push($n),U.push(fl(l,g,n))}var jt=s.havingBaseStyle(et.TEXT),ni=me.makeVList({positionType:"bottom",positionData:q,children:U},jt);return H1(me.makeSpan(["delimsizing","mult"],[ni],jt),et.TEXT,s,a)},gl=80,vl=.08,Al=function(e,t,r,s,n){var a=X6(e,s,r),l=new L0(e,a),o=new d0([l],{width:"400em",height:Ve(t),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return me.makeSvgSpan(["hide-tail"],[o],n)},jp=function(e,t){var r=t.havingBaseSizing(),s=Jd("\\surd",e*r.sizeMultiplier,Zd,r),n=r.sizeMultiplier,a=Math.max(0,t.minRuleThickness-t.fontMetrics().sqrtRuleThickness),l,o=0,h=0,d=0,f;return s.type==="small"?(d=1e3+1e3*a+gl,e<1?n=1:e<1.4&&(n=.7),o=(1+a+vl)/n,h=(1+a)/n,l=Al("sqrtMain",o,d,a,t),l.style.minWidth="0.853em",f=.833/n):s.type==="large"?(d=(1e3+gl)*rn[s.size],h=(rn[s.size]+a)/n,o=(rn[s.size]+a+vl)/n,l=Al("sqrtSize"+s.size,o,d,a,t),l.style.minWidth="1.02em",f=1/n):(o=e+a+vl,h=e+a,d=Math.floor(1e3*e+a)+gl,l=Al("sqrtTall",o,d,a,t),l.style.minWidth="0.742em",f=1.056),l.height=h,l.style.height=Ve(o),{span:l,advanceWidth:f,ruleWidth:(t.fontMetrics().sqrtRuleThickness+a)*n}},Xd=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],Xp=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],Qd=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],rn=[0,1.2,1.8,2.4,3],Qp=function(e,t,r,s,n){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),Ze.contains(Xd,e)||Ze.contains(Qd,e))return Wd(e,t,!1,r,s,n);if(Ze.contains(Xp,e))return jd(e,rn[t],!1,r,s,n);throw new Ee("Illegal delimiter: '"+e+"'")},Zp=[{type:"small",style:et.SCRIPTSCRIPT},{type:"small",style:et.SCRIPT},{type:"small",style:et.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Jp=[{type:"small",style:et.SCRIPTSCRIPT},{type:"small",style:et.SCRIPT},{type:"small",style:et.TEXT},{type:"stack"}],Zd=[{type:"small",style:et.SCRIPTSCRIPT},{type:"small",style:et.SCRIPT},{type:"small",style:et.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],_p=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Jd=function(e,t,r,s){for(var n=Math.min(2,3-s.style.size),a=n;a<r.length&&r[a].type!=="stack";a++){var l=js(e,_p(r[a]),"math"),o=l.height+l.depth;if(r[a].type==="small"){var h=s.havingBaseStyle(r[a].style);o*=h.sizeMultiplier}if(o>t)return r[a]}return r[r.length-1]},_d=function(e,t,r,s,n,a){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var l;Ze.contains(Qd,e)?l=Zp:Ze.contains(Xd,e)?l=Zd:l=Jp;var o=Jd(e,t,l,s);return o.type==="small"?Hp(e,o.style,r,s,n,a):o.type==="large"?Wd(e,o.size,r,s,n,a):jd(e,t,r,s,n,a)},$p=function(e,t,r,s,n,a){var l=s.fontMetrics().axisHeight*s.sizeMultiplier,o=901,h=5/s.fontMetrics().ptPerEm,d=Math.max(t-l,r+l),f=Math.max(d/500*o,2*d-h);return _d(e,f,!0,s,n,a)},h0={sqrtImage:jp,sizedDelim:Qp,sizeToMaxHeight:rn,customSizedDelim:_d,leftRightDelim:$p},vu={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},eg=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function so(i,e){var t=io(i);if(t&&Ze.contains(eg,t.text))return t;throw t?new Ee("Invalid delimiter '"+t.text+"' after '"+e.funcName+"'",i):new Ee("Invalid delimiter type '"+i.type+"'",i)}Oe({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(i,e)=>{var t=so(e[0],i);return{type:"delimsizing",mode:i.parser.mode,size:vu[i.funcName].size,mclass:vu[i.funcName].mclass,delim:t.text}},htmlBuilder:(i,e)=>i.delim==="."?me.makeSpan([i.mclass]):h0.sizedDelim(i.delim,i.size,e,i.mode,[i.mclass]),mathmlBuilder:i=>{var e=[];i.delim!=="."&&e.push(Cr(i.delim,i.mode));var t=new ke.MathNode("mo",e);i.mclass==="mopen"||i.mclass==="mclose"?t.setAttribute("fence","true"):t.setAttribute("fence","false"),t.setAttribute("stretchy","true");var r=Ve(h0.sizeToMaxHeight[i.size]);return t.setAttribute("minsize",r),t.setAttribute("maxsize",r),t}});function Au(i){if(!i.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Oe({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(i,e)=>{var t=i.parser.gullet.macros.get("\\current@color");if(t&&typeof t!="string")throw new Ee("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:i.parser.mode,delim:so(e[0],i).text,color:t}}});Oe({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(i,e)=>{var t=so(e[0],i),r=i.parser;++r.leftrightDepth;var s=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var n=dt(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:s,left:t.text,right:n.delim,rightColor:n.color}},htmlBuilder:(i,e)=>{Au(i);for(var t=bi(i.body,e,!0,["mopen","mclose"]),r=0,s=0,n=!1,a=0;a<t.length;a++)t[a].isMiddle?n=!0:(r=Math.max(t[a].height,r),s=Math.max(t[a].depth,s));r*=e.sizeMultiplier,s*=e.sizeMultiplier;var l;if(i.left==="."?l=fn(e,["mopen"]):l=h0.leftRightDelim(i.left,r,s,e,i.mode,["mopen"]),t.unshift(l),n)for(var o=1;o<t.length;o++){var h=t[o],d=h.isMiddle;d&&(t[o]=h0.leftRightDelim(d.delim,r,s,d.options,i.mode,[]))}var f;if(i.right===".")f=fn(e,["mclose"]);else{var p=i.rightColor?e.withColor(i.rightColor):e;f=h0.leftRightDelim(i.right,r,s,p,i.mode,["mclose"])}return t.push(f),me.makeSpan(["minner"],t,e)},mathmlBuilder:(i,e)=>{Au(i);var t=er(i.body,e);if(i.left!=="."){var r=new ke.MathNode("mo",[Cr(i.left,i.mode)]);r.setAttribute("fence","true"),t.unshift(r)}if(i.right!=="."){var s=new ke.MathNode("mo",[Cr(i.right,i.mode)]);s.setAttribute("fence","true"),i.rightColor&&s.setAttribute("mathcolor",i.rightColor),t.push(s)}return L1(t)}});Oe({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(i,e)=>{var t=so(e[0],i);if(!i.parser.leftrightDepth)throw new Ee("\\middle without preceding \\left",t);return{type:"middle",mode:i.parser.mode,delim:t.text}},htmlBuilder:(i,e)=>{var t;if(i.delim===".")t=fn(e,[]);else{t=h0.sizedDelim(i.delim,1,e,i.mode,[]);var r={delim:i.delim,options:e};t.isMiddle=r}return t},mathmlBuilder:(i,e)=>{var t=i.delim==="\\vert"||i.delim==="|"?Cr("|","text"):Cr(i.delim,i.mode),r=new ke.MathNode("mo",[t]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var Y1=(i,e)=>{var t=me.wrapFragment(yt(i.body,e),e),r=i.label.slice(1),s=e.sizeMultiplier,n,a=0,l=Ze.isCharacterBox(i.body);if(r==="sout")n=me.makeSpan(["stretchy","sout"]),n.height=e.fontMetrics().defaultRuleThickness/s,a=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var o=si({number:.6,unit:"pt"},e),h=si({number:.35,unit:"ex"},e),d=e.havingBaseSizing();s=s/d.sizeMultiplier;var f=t.height+t.depth+o+h;t.style.paddingLeft=Ve(f/2+o);var p=Math.floor(1e3*f*s),g=W6(p),A=new d0([new L0("phase",g)],{width:"400em",height:Ve(p/1e3),viewBox:"0 0 400000 "+p,preserveAspectRatio:"xMinYMin slice"});n=me.makeSvgSpan(["hide-tail"],[A],e),n.style.height=Ve(f),a=t.depth+o+h}else{/cancel/.test(r)?l||t.classes.push("cancel-pad"):r==="angl"?t.classes.push("anglpad"):t.classes.push("boxpad");var x=0,y=0,b=0;/box/.test(r)?(b=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),x=e.fontMetrics().fboxsep+(r==="colorbox"?0:b),y=x):r==="angl"?(b=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),x=4*b,y=Math.max(0,.25-t.depth)):(x=l?.2:0,y=x),n=f0.encloseSpan(t,r,x,y,e),/fbox|boxed|fcolorbox/.test(r)?(n.style.borderStyle="solid",n.style.borderWidth=Ve(b)):r==="angl"&&b!==.049&&(n.style.borderTopWidth=Ve(b),n.style.borderRightWidth=Ve(b)),a=t.depth+y,i.backgroundColor&&(n.style.backgroundColor=i.backgroundColor,i.borderColor&&(n.style.borderColor=i.borderColor))}var T;if(i.backgroundColor)T=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:a},{type:"elem",elem:t,shift:0}]},e);else{var D=/cancel|phase/.test(r)?["svg-align"]:[];T=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:t,shift:0},{type:"elem",elem:n,shift:a,wrapperClasses:D}]},e)}return/cancel/.test(r)&&(T.height=t.height,T.depth=t.depth),/cancel/.test(r)&&!l?me.makeSpan(["mord","cancel-lap"],[T],e):me.makeSpan(["mord"],[T],e)},K1=(i,e)=>{var t=0,r=new ke.MathNode(i.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Rt(i.body,e)]);switch(i.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(t=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*t+"pt"),r.setAttribute("height","+"+2*t+"pt"),r.setAttribute("lspace",t+"pt"),r.setAttribute("voffset",t+"pt"),i.label==="\\fcolorbox"){var s=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+s+"em solid "+String(i.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return i.backgroundColor&&r.setAttribute("mathbackground",i.backgroundColor),r};Oe({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(i,e,t){var{parser:r,funcName:s}=i,n=dt(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:r.mode,label:s,backgroundColor:n,body:a}},htmlBuilder:Y1,mathmlBuilder:K1});Oe({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(i,e,t){var{parser:r,funcName:s}=i,n=dt(e[0],"color-token").color,a=dt(e[1],"color-token").color,l=e[2];return{type:"enclose",mode:r.mode,label:s,backgroundColor:a,borderColor:n,body:l}},htmlBuilder:Y1,mathmlBuilder:K1});Oe({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(i,e){var{parser:t}=i;return{type:"enclose",mode:t.mode,label:"\\fbox",body:e[0]}}});Oe({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(i,e){var{parser:t,funcName:r}=i,s=e[0];return{type:"enclose",mode:t.mode,label:r,body:s}},htmlBuilder:Y1,mathmlBuilder:K1});Oe({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(i,e){var{parser:t}=i;return{type:"enclose",mode:t.mode,label:"\\angl",body:e[0]}}});var $d={};function Xr(i){for(var{type:e,names:t,props:r,handler:s,htmlBuilder:n,mathmlBuilder:a}=i,l={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:s},o=0;o<t.length;++o)$d[t[o]]=l;n&&(La[e]=n),a&&(Oa[e]=a)}var e4={};function K(i,e){e4[i]=e}function xu(i){var e=[];i.consumeSpaces();var t=i.fetch().text;for(t==="\\relax"&&(i.consume(),i.consumeSpaces(),t=i.fetch().text);t==="\\hline"||t==="\\hdashline";)i.consume(),e.push(t==="\\hdashline"),i.consumeSpaces(),t=i.fetch().text;return e}var no=i=>{var e=i.parser.settings;if(!e.displayMode)throw new Ee("{"+i.envName+"} can be used only in display mode.")};function W1(i){if(i.indexOf("ed")===-1)return i.indexOf("*")===-1}function H0(i,e,t){var{hskipBeforeAndAfter:r,addJot:s,cols:n,arraystretch:a,colSeparationType:l,autoTag:o,singleRow:h,emptySingleRow:d,maxNumCols:f,leqno:p}=e;if(i.gullet.beginGroup(),h||i.gullet.macros.set("\\cr","\\\\\\relax"),!a){var g=i.gullet.expandMacroAsText("\\arraystretch");if(g==null)a=1;else if(a=parseFloat(g),!a||a<0)throw new Ee("Invalid \\arraystretch: "+g)}i.gullet.beginGroup();var A=[],x=[A],y=[],b=[],T=o!=null?[]:void 0;function D(){o&&i.gullet.macros.set("\\@eqnsw","1",!0)}function S(){T&&(i.gullet.macros.get("\\df@tag")?(T.push(i.subparse([new wr("\\df@tag")])),i.gullet.macros.set("\\df@tag",void 0,!0)):T.push(!!o&&i.gullet.macros.get("\\@eqnsw")==="1"))}for(D(),b.push(xu(i));;){var k=i.parseExpression(!1,h?"\\end":"\\\\");i.gullet.endGroup(),i.gullet.beginGroup(),k={type:"ordgroup",mode:i.mode,body:k},t&&(k={type:"styling",mode:i.mode,style:t,body:[k]}),A.push(k);var R=i.fetch().text;if(R==="&"){if(f&&A.length===f){if(h||l)throw new Ee("Too many tab characters: &",i.nextToken);i.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}i.consume()}else if(R==="\\end"){S(),A.length===1&&k.type==="styling"&&k.body[0].body.length===0&&(x.length>1||!d)&&x.pop(),b.length<x.length+1&&b.push([]);break}else if(R==="\\\\"){i.consume();var B=void 0;i.gullet.future().text!==" "&&(B=i.parseSizeGroup(!0)),y.push(B?B.value:null),S(),b.push(xu(i)),A=[],x.push(A),D()}else throw new Ee("Expected & or \\\\ or \\cr or \\end",i.nextToken)}return i.gullet.endGroup(),i.gullet.endGroup(),{type:"array",mode:i.mode,addJot:s,arraystretch:a,body:x,cols:n,rowGaps:y,hskipBeforeAndAfter:r,hLinesBeforeRow:b,colSeparationType:l,tags:T,leqno:p}}function j1(i){return i.slice(0,1)==="d"?"display":"text"}var Qr=function(e,t){var r,s,n=e.body.length,a=e.hLinesBeforeRow,l=0,o=new Array(n),h=[],d=Math.max(t.fontMetrics().arrayRuleWidth,t.minRuleThickness),f=1/t.fontMetrics().ptPerEm,p=5*f;if(e.colSeparationType&&e.colSeparationType==="small"){var g=t.havingStyle(et.SCRIPT).sizeMultiplier;p=.2778*(g/t.sizeMultiplier)}var A=e.colSeparationType==="CD"?si({number:3,unit:"ex"},t):12*f,x=3*f,y=e.arraystretch*A,b=.7*y,T=.3*y,D=0;function S(Ne){for(var Te=0;Te<Ne.length;++Te)Te>0&&(D+=.25),h.push({pos:D,isDashed:Ne[Te]})}for(S(a[0]),r=0;r<e.body.length;++r){var k=e.body[r],R=b,B=T;l<k.length&&(l=k.length);var N=new Array(k.length);for(s=0;s<k.length;++s){var L=yt(k[s],t);B<L.depth&&(B=L.depth),R<L.height&&(R=L.height),N[s]=L}var O=e.rowGaps[r],q=0;O&&(q=si(O,t),q>0&&(q+=T,B<q&&(B=q),q=0)),e.addJot&&(B+=x),N.height=R,N.depth=B,D+=R,N.pos=D,D+=B+q,o[r]=N,S(a[r+1])}var U=D/2+t.fontMetrics().axisHeight,j=e.cols||[],X=[],re,oe,he=[];if(e.tags&&e.tags.some(Ne=>Ne))for(r=0;r<n;++r){var Ae=o[r],qe=Ae.pos-U,Qe=e.tags[r],Fe=void 0;Qe===!0?Fe=me.makeSpan(["eqn-num"],[],t):Qe===!1?Fe=me.makeSpan([],[],t):Fe=me.makeSpan([],bi(Qe,t,!0),t),Fe.depth=Ae.depth,Fe.height=Ae.height,he.push({type:"elem",elem:Fe,shift:qe})}for(s=0,oe=0;s<l||oe<j.length;++s,++oe){for(var at=j[oe]||{},jt=!0;at.type==="separator";){if(jt||(re=me.makeSpan(["arraycolsep"],[]),re.style.width=Ve(t.fontMetrics().doubleRuleSep),X.push(re)),at.separator==="|"||at.separator===":"){var ni=at.separator==="|"?"solid":"dashed",qt=me.makeSpan(["vertical-separator"],[],t);qt.style.height=Ve(D),qt.style.borderRightWidth=Ve(d),qt.style.borderRightStyle=ni,qt.style.margin="0 "+Ve(-d/2);var Vt=D-U;Vt&&(qt.style.verticalAlign=Ve(-Vt)),X.push(qt)}else throw new Ee("Invalid separator type: "+at.separator);oe++,at=j[oe]||{},jt=!1}if(!(s>=l)){var Gt=void 0;(s>0||e.hskipBeforeAndAfter)&&(Gt=Ze.deflt(at.pregap,p),Gt!==0&&(re=me.makeSpan(["arraycolsep"],[]),re.style.width=Ve(Gt),X.push(re)));var ai=[];for(r=0;r<n;++r){var yi=o[r],Et=yi[s];if(Et){var oi=yi.pos-U;Et.depth=yi.depth,Et.height=yi.height,ai.push({type:"elem",elem:Et,shift:oi})}}ai=me.makeVList({positionType:"individualShift",children:ai},t),ai=me.makeSpan(["col-align-"+(at.align||"c")],[ai]),X.push(ai),(s<l-1||e.hskipBeforeAndAfter)&&(Gt=Ze.deflt(at.postgap,p),Gt!==0&&(re=me.makeSpan(["arraycolsep"],[]),re.style.width=Ve(Gt),X.push(re)))}}if(o=me.makeSpan(["mtable"],X),h.length>0){for(var $=me.makeLineSpan("hline",t,d),se=me.makeLineSpan("hdashline",t,d),ve=[{type:"elem",elem:o,shift:0}];h.length>0;){var Me=h.pop(),xe=Me.pos-U;Me.isDashed?ve.push({type:"elem",elem:se,shift:xe}):ve.push({type:"elem",elem:$,shift:xe})}o=me.makeVList({positionType:"individualShift",children:ve},t)}if(he.length===0)return me.makeSpan(["mord"],[o],t);var Se=me.makeVList({positionType:"individualShift",children:he},t);return Se=me.makeSpan(["tag"],[Se],t),me.makeFragment([o,Se])},tg={c:"center ",l:"left ",r:"right "},Zr=function(e,t){for(var r=[],s=new ke.MathNode("mtd",[],["mtr-glue"]),n=new ke.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var l=e.body[a],o=[],h=0;h<l.length;h++)o.push(new ke.MathNode("mtd",[Rt(l[h],t)]));e.tags&&e.tags[a]&&(o.unshift(s),o.push(s),e.leqno?o.unshift(n):o.push(n)),r.push(new ke.MathNode("mtr",o))}var d=new ke.MathNode("mtable",r),f=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);d.setAttribute("rowspacing",Ve(f));var p="",g="";if(e.cols&&e.cols.length>0){var A=e.cols,x="",y=!1,b=0,T=A.length;A[0].type==="separator"&&(p+="top ",b=1),A[A.length-1].type==="separator"&&(p+="bottom ",T-=1);for(var D=b;D<T;D++)A[D].type==="align"?(g+=tg[A[D].align],y&&(x+="none "),y=!0):A[D].type==="separator"&&y&&(x+=A[D].separator==="|"?"solid ":"dashed ",y=!1);d.setAttribute("columnalign",g.trim()),/[sd]/.test(x)&&d.setAttribute("columnlines",x.trim())}if(e.colSeparationType==="align"){for(var S=e.cols||[],k="",R=1;R<S.length;R++)k+=R%2?"0em ":"1em ";d.setAttribute("columnspacing",k.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?d.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?d.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?d.setAttribute("columnspacing","0.5em"):d.setAttribute("columnspacing","1em");var B="",N=e.hLinesBeforeRow;p+=N[0].length>0?"left ":"",p+=N[N.length-1].length>0?"right ":"";for(var L=1;L<N.length-1;L++)B+=N[L].length===0?"none ":N[L][0]?"dashed ":"solid ";return/[sd]/.test(B)&&d.setAttribute("rowlines",B.trim()),p!==""&&(d=new ke.MathNode("menclose",[d]),d.setAttribute("notation",p.trim())),e.arraystretch&&e.arraystretch<1&&(d=new ke.MathNode("mstyle",[d]),d.setAttribute("scriptlevel","1")),d},t4=function(e,t){e.envName.indexOf("ed")===-1&&no(e);var r=[],s=e.envName.indexOf("at")>-1?"alignat":"align",n=e.envName==="split",a=H0(e.parser,{cols:r,addJot:!0,autoTag:n?void 0:W1(e.envName),emptySingleRow:!0,colSeparationType:s,maxNumCols:n?2:void 0,leqno:e.parser.settings.leqno},"display"),l,o=0,h={type:"ordgroup",mode:e.mode,body:[]};if(t[0]&&t[0].type==="ordgroup"){for(var d="",f=0;f<t[0].body.length;f++){var p=dt(t[0].body[f],"textord");d+=p.text}l=Number(d),o=l*2}var g=!o;a.body.forEach(function(b){for(var T=1;T<b.length;T+=2){var D=dt(b[T],"styling"),S=dt(D.body[0],"ordgroup");S.body.unshift(h)}if(g)o<b.length&&(o=b.length);else{var k=b.length/2;if(l<k)throw new Ee("Too many math in a row: "+("expected "+l+", but got "+k),b[0])}});for(var A=0;A<o;++A){var x="r",y=0;A%2===1?x="l":A>0&&g&&(y=1),r[A]={type:"align",align:x,pregap:y,postgap:0}}return a.colSeparationType=g?"align":"alignat",a};Xr({type:"array",names:["array","darray"],props:{numArgs:1},handler(i,e){var t=io(e[0]),r=t?[e[0]]:dt(e[0],"ordgroup").body,s=r.map(function(a){var l=q1(a),o=l.text;if("lcr".indexOf(o)!==-1)return{type:"align",align:o};if(o==="|")return{type:"separator",separator:"|"};if(o===":")return{type:"separator",separator:":"};throw new Ee("Unknown column alignment: "+o,a)}),n={cols:s,hskipBeforeAndAfter:!0,maxNumCols:s.length};return H0(i.parser,n,j1(i.envName))},htmlBuilder:Qr,mathmlBuilder:Zr});Xr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(i){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[i.envName.replace("*","")],t="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:t}]};if(i.envName.charAt(i.envName.length-1)==="*"){var s=i.parser;if(s.consumeSpaces(),s.fetch().text==="["){if(s.consume(),s.consumeSpaces(),t=s.fetch().text,"lcr".indexOf(t)===-1)throw new Ee("Expected l or c or r",s.nextToken);s.consume(),s.consumeSpaces(),s.expect("]"),s.consume(),r.cols=[{type:"align",align:t}]}}var n=H0(i.parser,r,j1(i.envName)),a=Math.max(0,...n.body.map(l=>l.length));return n.cols=new Array(a).fill({type:"align",align:t}),e?{type:"leftright",mode:i.mode,body:[n],left:e[0],right:e[1],rightColor:void 0}:n},htmlBuilder:Qr,mathmlBuilder:Zr});Xr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(i){var e={arraystretch:.5},t=H0(i.parser,e,"script");return t.colSeparationType="small",t},htmlBuilder:Qr,mathmlBuilder:Zr});Xr({type:"array",names:["subarray"],props:{numArgs:1},handler(i,e){var t=io(e[0]),r=t?[e[0]]:dt(e[0],"ordgroup").body,s=r.map(function(a){var l=q1(a),o=l.text;if("lc".indexOf(o)!==-1)return{type:"align",align:o};throw new Ee("Unknown column alignment: "+o,a)});if(s.length>1)throw new Ee("{subarray} can contain only one column");var n={cols:s,hskipBeforeAndAfter:!1,arraystretch:.5};if(n=H0(i.parser,n,"script"),n.body.length>0&&n.body[0].length>1)throw new Ee("{subarray} can contain only one column");return n},htmlBuilder:Qr,mathmlBuilder:Zr});Xr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(i){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},t=H0(i.parser,e,j1(i.envName));return{type:"leftright",mode:i.mode,body:[t],left:i.envName.indexOf("r")>-1?".":"\\{",right:i.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Qr,mathmlBuilder:Zr});Xr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:t4,htmlBuilder:Qr,mathmlBuilder:Zr});Xr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(i){Ze.contains(["gather","gather*"],i.envName)&&no(i);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:W1(i.envName),emptySingleRow:!0,leqno:i.parser.settings.leqno};return H0(i.parser,e,"display")},htmlBuilder:Qr,mathmlBuilder:Zr});Xr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:t4,htmlBuilder:Qr,mathmlBuilder:Zr});Xr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(i){no(i);var e={autoTag:W1(i.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:i.parser.settings.leqno};return H0(i.parser,e,"display")},htmlBuilder:Qr,mathmlBuilder:Zr});Xr({type:"array",names:["CD"],props:{numArgs:0},handler(i){return no(i),qp(i.parser)},htmlBuilder:Qr,mathmlBuilder:Zr});K("\\nonumber","\\gdef\\@eqnsw{0}");K("\\notag","\\nonumber");Oe({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(i,e){throw new Ee(i.funcName+" valid only within array environment")}});var bu=$d;Oe({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(i,e){var{parser:t,funcName:r}=i,s=e[0];if(s.type!=="ordgroup")throw new Ee("Invalid environment name",s);for(var n="",a=0;a<s.body.length;++a)n+=dt(s.body[a],"textord").text;if(r==="\\begin"){if(!bu.hasOwnProperty(n))throw new Ee("No such environment: "+n,s);var l=bu[n],{args:o,optArgs:h}=t.parseArguments("\\begin{"+n+"}",l),d={mode:t.mode,envName:n,parser:t},f=l.handler(d,o,h);t.expect("\\end",!1);var p=t.nextToken,g=dt(t.parseFunction(),"environment");if(g.name!==n)throw new Ee("Mismatch: \\begin{"+n+"} matched by \\end{"+g.name+"}",p);return f}return{type:"environment",mode:t.mode,name:n,nameGroup:s}}});var i4=(i,e)=>{var t=i.font,r=e.withFont(t);return yt(i.body,r)},r4=(i,e)=>{var t=i.font,r=e.withFont(t);return Rt(i.body,r)},yu={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Oe({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(i,e)=>{var{parser:t,funcName:r}=i,s=qa(e[0]),n=r;return n in yu&&(n=yu[n]),{type:"font",mode:t.mode,font:n.slice(1),body:s}},htmlBuilder:i4,mathmlBuilder:r4});Oe({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(i,e)=>{var{parser:t}=i,r=e[0],s=Ze.isCharacterBox(r);return{type:"mclass",mode:t.mode,mclass:ro(r),body:[{type:"font",mode:t.mode,font:"boldsymbol",body:r}],isCharacterBox:s}}});Oe({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(i,e)=>{var{parser:t,funcName:r,breakOnTokenText:s}=i,{mode:n}=t,a=t.parseExpression(!0,s),l="math"+r.slice(1);return{type:"font",mode:n,font:l,body:{type:"ordgroup",mode:t.mode,body:a}}},htmlBuilder:i4,mathmlBuilder:r4});var s4=(i,e)=>{var t=e;return i==="display"?t=t.id>=et.SCRIPT.id?t.text():et.DISPLAY:i==="text"&&t.size===et.DISPLAY.size?t=et.TEXT:i==="script"?t=et.SCRIPT:i==="scriptscript"&&(t=et.SCRIPTSCRIPT),t},X1=(i,e)=>{var t=s4(i.size,e.style),r=t.fracNum(),s=t.fracDen(),n;n=e.havingStyle(r);var a=yt(i.numer,n,e);if(i.continued){var l=8.5/e.fontMetrics().ptPerEm,o=3.5/e.fontMetrics().ptPerEm;a.height=a.height<l?l:a.height,a.depth=a.depth<o?o:a.depth}n=e.havingStyle(s);var h=yt(i.denom,n,e),d,f,p;i.hasBarLine?(i.barSize?(f=si(i.barSize,e),d=me.makeLineSpan("frac-line",e,f)):d=me.makeLineSpan("frac-line",e),f=d.height,p=d.height):(d=null,f=0,p=e.fontMetrics().defaultRuleThickness);var g,A,x;t.size===et.DISPLAY.size||i.size==="display"?(g=e.fontMetrics().num1,f>0?A=3*p:A=7*p,x=e.fontMetrics().denom1):(f>0?(g=e.fontMetrics().num2,A=p):(g=e.fontMetrics().num3,A=3*p),x=e.fontMetrics().denom2);var y;if(d){var T=e.fontMetrics().axisHeight;g-a.depth-(T+.5*f)<A&&(g+=A-(g-a.depth-(T+.5*f))),T-.5*f-(h.height-x)<A&&(x+=A-(T-.5*f-(h.height-x)));var D=-(T-.5*f);y=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:x},{type:"elem",elem:d,shift:D},{type:"elem",elem:a,shift:-g}]},e)}else{var b=g-a.depth-(h.height-x);b<A&&(g+=.5*(A-b),x+=.5*(A-b)),y=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:x},{type:"elem",elem:a,shift:-g}]},e)}n=e.havingStyle(t),y.height*=n.sizeMultiplier/e.sizeMultiplier,y.depth*=n.sizeMultiplier/e.sizeMultiplier;var S;t.size===et.DISPLAY.size?S=e.fontMetrics().delim1:t.size===et.SCRIPTSCRIPT.size?S=e.havingStyle(et.SCRIPT).fontMetrics().delim2:S=e.fontMetrics().delim2;var k,R;return i.leftDelim==null?k=fn(e,["mopen"]):k=h0.customSizedDelim(i.leftDelim,S,!0,e.havingStyle(t),i.mode,["mopen"]),i.continued?R=me.makeSpan([]):i.rightDelim==null?R=fn(e,["mclose"]):R=h0.customSizedDelim(i.rightDelim,S,!0,e.havingStyle(t),i.mode,["mclose"]),me.makeSpan(["mord"].concat(n.sizingClasses(e)),[k,me.makeSpan(["mfrac"],[y]),R],e)},Q1=(i,e)=>{var t=new ke.MathNode("mfrac",[Rt(i.numer,e),Rt(i.denom,e)]);if(!i.hasBarLine)t.setAttribute("linethickness","0px");else if(i.barSize){var r=si(i.barSize,e);t.setAttribute("linethickness",Ve(r))}var s=s4(i.size,e.style);if(s.size!==e.style.size){t=new ke.MathNode("mstyle",[t]);var n=s.size===et.DISPLAY.size?"true":"false";t.setAttribute("displaystyle",n),t.setAttribute("scriptlevel","0")}if(i.leftDelim!=null||i.rightDelim!=null){var a=[];if(i.leftDelim!=null){var l=new ke.MathNode("mo",[new ke.TextNode(i.leftDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}if(a.push(t),i.rightDelim!=null){var o=new ke.MathNode("mo",[new ke.TextNode(i.rightDelim.replace("\\",""))]);o.setAttribute("fence","true"),a.push(o)}return L1(a)}return t};Oe({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(i,e)=>{var{parser:t,funcName:r}=i,s=e[0],n=e[1],a,l=null,o=null,h="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,l="(",o=")";break;case"\\\\bracefrac":a=!1,l="\\{",o="\\}";break;case"\\\\brackfrac":a=!1,l="[",o="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text";break}return{type:"genfrac",mode:t.mode,continued:!1,numer:s,denom:n,hasBarLine:a,leftDelim:l,rightDelim:o,size:h,barSize:null}},htmlBuilder:X1,mathmlBuilder:Q1});Oe({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(i,e)=>{var{parser:t,funcName:r}=i,s=e[0],n=e[1];return{type:"genfrac",mode:t.mode,continued:!0,numer:s,denom:n,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Oe({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(i){var{parser:e,funcName:t,token:r}=i,s;switch(t){case"\\over":s="\\frac";break;case"\\choose":s="\\binom";break;case"\\atop":s="\\\\atopfrac";break;case"\\brace":s="\\\\bracefrac";break;case"\\brack":s="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:s,token:r}}});var wu=["display","text","script","scriptscript"],Su=function(e){var t=null;return e.length>0&&(t=e,t=t==="."?null:t),t};Oe({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(i,e){var{parser:t}=i,r=e[4],s=e[5],n=qa(e[0]),a=n.type==="atom"&&n.family==="open"?Su(n.text):null,l=qa(e[1]),o=l.type==="atom"&&l.family==="close"?Su(l.text):null,h=dt(e[2],"size"),d,f=null;h.isBlank?d=!0:(f=h.value,d=f.number>0);var p="auto",g=e[3];if(g.type==="ordgroup"){if(g.body.length>0){var A=dt(g.body[0],"textord");p=wu[Number(A.text)]}}else g=dt(g,"textord"),p=wu[Number(g.text)];return{type:"genfrac",mode:t.mode,numer:r,denom:s,continued:!1,hasBarLine:d,barSize:f,leftDelim:a,rightDelim:o,size:p}},htmlBuilder:X1,mathmlBuilder:Q1});Oe({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(i,e){var{parser:t,funcName:r,token:s}=i;return{type:"infix",mode:t.mode,replaceWith:"\\\\abovefrac",size:dt(e[0],"size").value,token:s}}});Oe({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(i,e)=>{var{parser:t,funcName:r}=i,s=e[0],n=F6(dt(e[1],"infix").size),a=e[2],l=n.number>0;return{type:"genfrac",mode:t.mode,numer:s,denom:a,continued:!1,hasBarLine:l,barSize:n,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:X1,mathmlBuilder:Q1});var n4=(i,e)=>{var t=e.style,r,s;i.type==="supsub"?(r=i.sup?yt(i.sup,e.havingStyle(t.sup()),e):yt(i.sub,e.havingStyle(t.sub()),e),s=dt(i.base,"horizBrace")):s=dt(i,"horizBrace");var n=yt(s.base,e.havingBaseStyle(et.DISPLAY)),a=f0.svgSpan(s,e),l;if(s.isOver?(l=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:.1},{type:"elem",elem:a}]},e),l.children[0].children[0].children[1].classes.push("svg-align")):(l=me.makeVList({positionType:"bottom",positionData:n.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:n}]},e),l.children[0].children[0].children[0].classes.push("svg-align")),r){var o=me.makeSpan(["mord",s.isOver?"mover":"munder"],[l],e);s.isOver?l=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.2},{type:"elem",elem:r}]},e):l=me.makeVList({positionType:"bottom",positionData:o.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:o}]},e)}return me.makeSpan(["mord",s.isOver?"mover":"munder"],[l],e)},ig=(i,e)=>{var t=f0.mathMLnode(i.label);return new ke.MathNode(i.isOver?"mover":"munder",[Rt(i.base,e),t])};Oe({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(i,e){var{parser:t,funcName:r}=i;return{type:"horizBrace",mode:t.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:n4,mathmlBuilder:ig});Oe({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(i,e)=>{var{parser:t}=i,r=e[1],s=dt(e[0],"url").url;return t.settings.isTrusted({command:"\\href",url:s})?{type:"href",mode:t.mode,href:s,body:mi(r)}:t.formatUnsupportedCmd("\\href")},htmlBuilder:(i,e)=>{var t=bi(i.body,e,!1);return me.makeAnchor(i.href,[],t,e)},mathmlBuilder:(i,e)=>{var t=O0(i.body,e);return t instanceof cr||(t=new cr("mrow",[t])),t.setAttribute("href",i.href),t}});Oe({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(i,e)=>{var{parser:t}=i,r=dt(e[0],"url").url;if(!t.settings.isTrusted({command:"\\url",url:r}))return t.formatUnsupportedCmd("\\url");for(var s=[],n=0;n<r.length;n++){var a=r[n];a==="~"&&(a="\\textasciitilde"),s.push({type:"textord",mode:"text",text:a})}var l={type:"text",mode:t.mode,font:"\\texttt",body:s};return{type:"href",mode:t.mode,href:r,body:mi(l)}}});Oe({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(i,e){var{parser:t}=i;return{type:"hbox",mode:t.mode,body:mi(e[0])}},htmlBuilder(i,e){var t=bi(i.body,e,!1);return me.makeFragment(t)},mathmlBuilder(i,e){return new ke.MathNode("mrow",er(i.body,e))}});Oe({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(i,e)=>{var{parser:t,funcName:r,token:s}=i,n=dt(e[0],"raw").string,a=e[1];t.settings.strict&&t.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l,o={};switch(r){case"\\htmlClass":o.class=n,l={command:"\\htmlClass",class:n};break;case"\\htmlId":o.id=n,l={command:"\\htmlId",id:n};break;case"\\htmlStyle":o.style=n,l={command:"\\htmlStyle",style:n};break;case"\\htmlData":{for(var h=n.split(","),d=0;d<h.length;d++){var f=h[d].split("=");if(f.length!==2)throw new Ee("Error parsing key-value for \\htmlData");o["data-"+f[0].trim()]=f[1].trim()}l={command:"\\htmlData",attributes:o};break}default:throw new Error("Unrecognized html command")}return t.settings.isTrusted(l)?{type:"html",mode:t.mode,attributes:o,body:mi(a)}:t.formatUnsupportedCmd(r)},htmlBuilder:(i,e)=>{var t=bi(i.body,e,!1),r=["enclosing"];i.attributes.class&&r.push(...i.attributes.class.trim().split(/\s+/));var s=me.makeSpan(r,t,e);for(var n in i.attributes)n!=="class"&&i.attributes.hasOwnProperty(n)&&s.setAttribute(n,i.attributes[n]);return s},mathmlBuilder:(i,e)=>O0(i.body,e)});Oe({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(i,e)=>{var{parser:t}=i;return{type:"htmlmathml",mode:t.mode,html:mi(e[0]),mathml:mi(e[1])}},htmlBuilder:(i,e)=>{var t=bi(i.html,e,!1);return me.makeFragment(t)},mathmlBuilder:(i,e)=>O0(i.mathml,e)});var xl=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var t=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!t)throw new Ee("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(t[1]+t[2]),unit:t[3]};if(!Md(r))throw new Ee("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};Oe({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(i,e,t)=>{var{parser:r}=i,s={number:0,unit:"em"},n={number:.9,unit:"em"},a={number:0,unit:"em"},l="";if(t[0])for(var o=dt(t[0],"raw").string,h=o.split(","),d=0;d<h.length;d++){var f=h[d].split("=");if(f.length===2){var p=f[1].trim();switch(f[0].trim()){case"alt":l=p;break;case"width":s=xl(p);break;case"height":n=xl(p);break;case"totalheight":a=xl(p);break;default:throw new Ee("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var g=dt(e[0],"url").url;return l===""&&(l=g,l=l.replace(/^.*[\\/]/,""),l=l.substring(0,l.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:g})?{type:"includegraphics",mode:r.mode,alt:l,width:s,height:n,totalheight:a,src:g}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(i,e)=>{var t=si(i.height,e),r=0;i.totalheight.number>0&&(r=si(i.totalheight,e)-t);var s=0;i.width.number>0&&(s=si(i.width,e));var n={height:Ve(t+r)};s>0&&(n.width=Ve(s)),r>0&&(n.verticalAlign=Ve(-r));var a=new ip(i.src,i.alt,n);return a.height=t,a.depth=r,a},mathmlBuilder:(i,e)=>{var t=new ke.MathNode("mglyph",[]);t.setAttribute("alt",i.alt);var r=si(i.height,e),s=0;if(i.totalheight.number>0&&(s=si(i.totalheight,e)-r,t.setAttribute("valign",Ve(-s))),t.setAttribute("height",Ve(r+s)),i.width.number>0){var n=si(i.width,e);t.setAttribute("width",Ve(n))}return t.setAttribute("src",i.src),t}});Oe({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(i,e){var{parser:t,funcName:r}=i,s=dt(e[0],"size");if(t.settings.strict){var n=r[1]==="m",a=s.value.unit==="mu";n?(a||t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+s.value.unit+" units")),t.mode!=="math"&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&t.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:t.mode,dimension:s.value}},htmlBuilder(i,e){return me.makeGlue(i.dimension,e)},mathmlBuilder(i,e){var t=si(i.dimension,e);return new ke.SpaceNode(t)}});Oe({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(i,e)=>{var{parser:t,funcName:r}=i,s=e[0];return{type:"lap",mode:t.mode,alignment:r.slice(5),body:s}},htmlBuilder:(i,e)=>{var t;i.alignment==="clap"?(t=me.makeSpan([],[yt(i.body,e)]),t=me.makeSpan(["inner"],[t],e)):t=me.makeSpan(["inner"],[yt(i.body,e)]);var r=me.makeSpan(["fix"],[]),s=me.makeSpan([i.alignment],[t,r],e),n=me.makeSpan(["strut"]);return n.style.height=Ve(s.height+s.depth),s.depth&&(n.style.verticalAlign=Ve(-s.depth)),s.children.unshift(n),s=me.makeSpan(["thinbox"],[s],e),me.makeSpan(["mord","vbox"],[s],e)},mathmlBuilder:(i,e)=>{var t=new ke.MathNode("mpadded",[Rt(i.body,e)]);if(i.alignment!=="rlap"){var r=i.alignment==="llap"?"-1":"-0.5";t.setAttribute("lspace",r+"width")}return t.setAttribute("width","0px"),t}});Oe({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(i,e){var{funcName:t,parser:r}=i,s=r.mode;r.switchMode("math");var n=t==="\\("?"\\)":"$",a=r.parseExpression(!1,n);return r.expect(n),r.switchMode(s),{type:"styling",mode:r.mode,style:"text",body:a}}});Oe({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(i,e){throw new Ee("Mismatched "+i.funcName)}});var Mu=(i,e)=>{switch(e.style.size){case et.DISPLAY.size:return i.display;case et.TEXT.size:return i.text;case et.SCRIPT.size:return i.script;case et.SCRIPTSCRIPT.size:return i.scriptscript;default:return i.text}};Oe({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(i,e)=>{var{parser:t}=i;return{type:"mathchoice",mode:t.mode,display:mi(e[0]),text:mi(e[1]),script:mi(e[2]),scriptscript:mi(e[3])}},htmlBuilder:(i,e)=>{var t=Mu(i,e),r=bi(t,e,!1);return me.makeFragment(r)},mathmlBuilder:(i,e)=>{var t=Mu(i,e);return O0(t,e)}});var a4=(i,e,t,r,s,n,a)=>{i=me.makeSpan([],[i]);var l=t&&Ze.isCharacterBox(t),o,h;if(e){var d=yt(e,r.havingStyle(s.sup()),r);h={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-d.depth)}}if(t){var f=yt(t,r.havingStyle(s.sub()),r);o={elem:f,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-f.height)}}var p;if(h&&o){var g=r.fontMetrics().bigOpSpacing5+o.elem.height+o.elem.depth+o.kern+i.depth+a;p=me.makeVList({positionType:"bottom",positionData:g,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:o.elem,marginLeft:Ve(-n)},{type:"kern",size:o.kern},{type:"elem",elem:i},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:Ve(n)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(o){var A=i.height-a;p=me.makeVList({positionType:"top",positionData:A,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:o.elem,marginLeft:Ve(-n)},{type:"kern",size:o.kern},{type:"elem",elem:i}]},r)}else if(h){var x=i.depth+a;p=me.makeVList({positionType:"bottom",positionData:x,children:[{type:"elem",elem:i},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:Ve(n)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return i;var y=[p];if(o&&n!==0&&!l){var b=me.makeSpan(["mspace"],[],r);b.style.marginRight=Ve(n),y.unshift(b)}return me.makeSpan(["mop","op-limits"],y,r)},o4=["\\smallint"],Ns=(i,e)=>{var t,r,s=!1,n;i.type==="supsub"?(t=i.sup,r=i.sub,n=dt(i.base,"op"),s=!0):n=dt(i,"op");var a=e.style,l=!1;a.size===et.DISPLAY.size&&n.symbol&&!Ze.contains(o4,n.name)&&(l=!0);var o;if(n.symbol){var h=l?"Size2-Regular":"Size1-Regular",d="";if((n.name==="\\oiint"||n.name==="\\oiiint")&&(d=n.name.slice(1),n.name=d==="oiint"?"\\iint":"\\iiint"),o=me.makeSymbol(n.name,h,"math",e,["mop","op-symbol",l?"large-op":"small-op"]),d.length>0){var f=o.italic,p=me.staticSvg(d+"Size"+(l?"2":"1"),e);o=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:p,shift:l?.08:0}]},e),n.name="\\"+d,o.classes.unshift("mop"),o.italic=f}}else if(n.body){var g=bi(n.body,e,!0);g.length===1&&g[0]instanceof Mr?(o=g[0],o.classes[0]="mop"):o=me.makeSpan(["mop"],g,e)}else{for(var A=[],x=1;x<n.name.length;x++)A.push(me.mathsym(n.name[x],n.mode,e));o=me.makeSpan(["mop"],A,e)}var y=0,b=0;return(o instanceof Mr||n.name==="\\oiint"||n.name==="\\oiiint")&&!n.suppressBaseShift&&(y=(o.height-o.depth)/2-e.fontMetrics().axisHeight,b=o.italic),s?a4(o,t,r,e,a,b,y):(y&&(o.style.position="relative",o.style.top=Ve(y)),o)},bn=(i,e)=>{var t;if(i.symbol)t=new cr("mo",[Cr(i.name,i.mode)]),Ze.contains(o4,i.name)&&t.setAttribute("largeop","false");else if(i.body)t=new cr("mo",er(i.body,e));else{t=new cr("mi",[new Yr(i.name.slice(1))]);var r=new cr("mo",[Cr("⁡","text")]);i.parentIsSupSub?t=new cr("mrow",[t,r]):t=Vd([t,r])}return t},rg={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Oe({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(i,e)=>{var{parser:t,funcName:r}=i,s=r;return s.length===1&&(s=rg[s]),{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:s}},htmlBuilder:Ns,mathmlBuilder:bn});Oe({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(i,e)=>{var{parser:t}=i,r=e[0];return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:mi(r)}},htmlBuilder:Ns,mathmlBuilder:bn});var sg={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Oe({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(i){var{parser:e,funcName:t}=i;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:Ns,mathmlBuilder:bn});Oe({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(i){var{parser:e,funcName:t}=i;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:t}},htmlBuilder:Ns,mathmlBuilder:bn});Oe({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(i){var{parser:e,funcName:t}=i,r=t;return r.length===1&&(r=sg[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Ns,mathmlBuilder:bn});var l4=(i,e)=>{var t,r,s=!1,n;i.type==="supsub"?(t=i.sup,r=i.sub,n=dt(i.base,"operatorname"),s=!0):n=dt(i,"operatorname");var a;if(n.body.length>0){for(var l=n.body.map(f=>{var p=f.text;return typeof p=="string"?{type:"textord",mode:f.mode,text:p}:f}),o=bi(l,e.withFont("mathrm"),!0),h=0;h<o.length;h++){var d=o[h];d instanceof Mr&&(d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=me.makeSpan(["mop"],o,e)}else a=me.makeSpan(["mop"],[],e);return s?a4(a,t,r,e,e.style,0,0):a},ng=(i,e)=>{for(var t=er(i.body,e.withFont("mathrm")),r=!0,s=0;s<t.length;s++){var n=t[s];if(!(n instanceof ke.SpaceNode))if(n instanceof ke.MathNode)switch(n.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=n.children[0];n.children.length===1&&a instanceof ke.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var l=t.map(d=>d.toText()).join("");t=[new ke.TextNode(l)]}var o=new ke.MathNode("mi",t);o.setAttribute("mathvariant","normal");var h=new ke.MathNode("mo",[Cr("⁡","text")]);return i.parentIsSupSub?new ke.MathNode("mrow",[o,h]):ke.newDocumentFragment([o,h])};Oe({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(i,e)=>{var{parser:t,funcName:r}=i,s=e[0];return{type:"operatorname",mode:t.mode,body:mi(s),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:l4,mathmlBuilder:ng});K("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");os({type:"ordgroup",htmlBuilder(i,e){return i.semisimple?me.makeFragment(bi(i.body,e,!1)):me.makeSpan(["mord"],bi(i.body,e,!0),e)},mathmlBuilder(i,e){return O0(i.body,e,!0)}});Oe({type:"overline",names:["\\overline"],props:{numArgs:1},handler(i,e){var{parser:t}=i,r=e[0];return{type:"overline",mode:t.mode,body:r}},htmlBuilder(i,e){var t=yt(i.body,e.havingCrampedStyle()),r=me.makeLineSpan("overline-line",e),s=e.fontMetrics().defaultRuleThickness,n=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t},{type:"kern",size:3*s},{type:"elem",elem:r},{type:"kern",size:s}]},e);return me.makeSpan(["mord","overline"],[n],e)},mathmlBuilder(i,e){var t=new ke.MathNode("mo",[new ke.TextNode("‾")]);t.setAttribute("stretchy","true");var r=new ke.MathNode("mover",[Rt(i.body,e),t]);return r.setAttribute("accent","true"),r}});Oe({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(i,e)=>{var{parser:t}=i,r=e[0];return{type:"phantom",mode:t.mode,body:mi(r)}},htmlBuilder:(i,e)=>{var t=bi(i.body,e.withPhantom(),!1);return me.makeFragment(t)},mathmlBuilder:(i,e)=>{var t=er(i.body,e);return new ke.MathNode("mphantom",t)}});Oe({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(i,e)=>{var{parser:t}=i,r=e[0];return{type:"hphantom",mode:t.mode,body:r}},htmlBuilder:(i,e)=>{var t=me.makeSpan([],[yt(i.body,e.withPhantom())]);if(t.height=0,t.depth=0,t.children)for(var r=0;r<t.children.length;r++)t.children[r].height=0,t.children[r].depth=0;return t=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e),me.makeSpan(["mord"],[t],e)},mathmlBuilder:(i,e)=>{var t=er(mi(i.body),e),r=new ke.MathNode("mphantom",t),s=new ke.MathNode("mpadded",[r]);return s.setAttribute("height","0px"),s.setAttribute("depth","0px"),s}});Oe({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(i,e)=>{var{parser:t}=i,r=e[0];return{type:"vphantom",mode:t.mode,body:r}},htmlBuilder:(i,e)=>{var t=me.makeSpan(["inner"],[yt(i.body,e.withPhantom())]),r=me.makeSpan(["fix"],[]);return me.makeSpan(["mord","rlap"],[t,r],e)},mathmlBuilder:(i,e)=>{var t=er(mi(i.body),e),r=new ke.MathNode("mphantom",t),s=new ke.MathNode("mpadded",[r]);return s.setAttribute("width","0px"),s}});Oe({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(i,e){var{parser:t}=i,r=dt(e[0],"size").value,s=e[1];return{type:"raisebox",mode:t.mode,dy:r,body:s}},htmlBuilder(i,e){var t=yt(i.body,e),r=si(i.dy,e);return me.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(i,e){var t=new ke.MathNode("mpadded",[Rt(i.body,e)]),r=i.dy.number+i.dy.unit;return t.setAttribute("voffset",r),t}});Oe({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(i){var{parser:e}=i;return{type:"internal",mode:e.mode}}});Oe({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(i,e,t){var{parser:r}=i,s=t[0],n=dt(e[0],"size"),a=dt(e[1],"size");return{type:"rule",mode:r.mode,shift:s&&dt(s,"size").value,width:n.value,height:a.value}},htmlBuilder(i,e){var t=me.makeSpan(["mord","rule"],[],e),r=si(i.width,e),s=si(i.height,e),n=i.shift?si(i.shift,e):0;return t.style.borderRightWidth=Ve(r),t.style.borderTopWidth=Ve(s),t.style.bottom=Ve(n),t.width=r,t.height=s+n,t.depth=-n,t.maxFontSize=s*1.125*e.sizeMultiplier,t},mathmlBuilder(i,e){var t=si(i.width,e),r=si(i.height,e),s=i.shift?si(i.shift,e):0,n=e.color&&e.getColor()||"black",a=new ke.MathNode("mspace");a.setAttribute("mathbackground",n),a.setAttribute("width",Ve(t)),a.setAttribute("height",Ve(r));var l=new ke.MathNode("mpadded",[a]);return s>=0?l.setAttribute("height",Ve(s)):(l.setAttribute("height",Ve(s)),l.setAttribute("depth",Ve(-s))),l.setAttribute("voffset",Ve(s)),l}});function c4(i,e,t){for(var r=bi(i,e,!1),s=e.sizeMultiplier/t.sizeMultiplier,n=0;n<r.length;n++){var a=r[n].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[n].classes,e.sizingClasses(t)):r[n].classes[a+1]==="reset-size"+e.size&&(r[n].classes[a+1]="reset-size"+t.size),r[n].height*=s,r[n].depth*=s}return me.makeFragment(r)}var Cu=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],ag=(i,e)=>{var t=e.havingSize(i.size);return c4(i.body,t,e)};Oe({type:"sizing",names:Cu,props:{numArgs:0,allowedInText:!0},handler:(i,e)=>{var{breakOnTokenText:t,funcName:r,parser:s}=i,n=s.parseExpression(!1,t);return{type:"sizing",mode:s.mode,size:Cu.indexOf(r)+1,body:n}},htmlBuilder:ag,mathmlBuilder:(i,e)=>{var t=e.havingSize(i.size),r=er(i.body,t),s=new ke.MathNode("mstyle",r);return s.setAttribute("mathsize",Ve(t.sizeMultiplier)),s}});Oe({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(i,e,t)=>{var{parser:r}=i,s=!1,n=!1,a=t[0]&&dt(t[0],"ordgroup");if(a)for(var l="",o=0;o<a.body.length;++o){var h=a.body[o];if(l=h.text,l==="t")s=!0;else if(l==="b")n=!0;else{s=!1,n=!1;break}}else s=!0,n=!0;var d=e[0];return{type:"smash",mode:r.mode,body:d,smashHeight:s,smashDepth:n}},htmlBuilder:(i,e)=>{var t=me.makeSpan([],[yt(i.body,e)]);if(!i.smashHeight&&!i.smashDepth)return t;if(i.smashHeight&&(t.height=0,t.children))for(var r=0;r<t.children.length;r++)t.children[r].height=0;if(i.smashDepth&&(t.depth=0,t.children))for(var s=0;s<t.children.length;s++)t.children[s].depth=0;var n=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t}]},e);return me.makeSpan(["mord"],[n],e)},mathmlBuilder:(i,e)=>{var t=new ke.MathNode("mpadded",[Rt(i.body,e)]);return i.smashHeight&&t.setAttribute("height","0px"),i.smashDepth&&t.setAttribute("depth","0px"),t}});Oe({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(i,e,t){var{parser:r}=i,s=t[0],n=e[0];return{type:"sqrt",mode:r.mode,body:n,index:s}},htmlBuilder(i,e){var t=yt(i.body,e.havingCrampedStyle());t.height===0&&(t.height=e.fontMetrics().xHeight),t=me.wrapFragment(t,e);var r=e.fontMetrics(),s=r.defaultRuleThickness,n=s;e.style.id<et.TEXT.id&&(n=e.fontMetrics().xHeight);var a=s+n/4,l=t.height+t.depth+a+s,{span:o,ruleWidth:h,advanceWidth:d}=h0.sqrtImage(l,e),f=o.height-h;f>t.height+t.depth+a&&(a=(a+f-t.height-t.depth)/2);var p=o.height-t.height-a-h;t.style.paddingLeft=Ve(d);var g=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:t,wrapperClasses:["svg-align"]},{type:"kern",size:-(t.height+p)},{type:"elem",elem:o},{type:"kern",size:h}]},e);if(i.index){var A=e.havingStyle(et.SCRIPTSCRIPT),x=yt(i.index,A,e),y=.6*(g.height-g.depth),b=me.makeVList({positionType:"shift",positionData:-y,children:[{type:"elem",elem:x}]},e),T=me.makeSpan(["root"],[b]);return me.makeSpan(["mord","sqrt"],[T,g],e)}else return me.makeSpan(["mord","sqrt"],[g],e)},mathmlBuilder(i,e){var{body:t,index:r}=i;return r?new ke.MathNode("mroot",[Rt(t,e),Rt(r,e)]):new ke.MathNode("msqrt",[Rt(t,e)])}});var Tu={display:et.DISPLAY,text:et.TEXT,script:et.SCRIPT,scriptscript:et.SCRIPTSCRIPT};Oe({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(i,e){var{breakOnTokenText:t,funcName:r,parser:s}=i,n=s.parseExpression(!0,t),a=r.slice(1,r.length-5);return{type:"styling",mode:s.mode,style:a,body:n}},htmlBuilder(i,e){var t=Tu[i.style],r=e.havingStyle(t).withFont("");return c4(i.body,r,e)},mathmlBuilder(i,e){var t=Tu[i.style],r=e.havingStyle(t),s=er(i.body,r),n=new ke.MathNode("mstyle",s),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},l=a[i.style];return n.setAttribute("scriptlevel",l[0]),n.setAttribute("displaystyle",l[1]),n}});var og=function(e,t){var r=e.base;if(r)if(r.type==="op"){var s=r.limits&&(t.style.size===et.DISPLAY.size||r.alwaysHandleSupSub);return s?Ns:null}else if(r.type==="operatorname"){var n=r.alwaysHandleSupSub&&(t.style.size===et.DISPLAY.size||r.limits);return n?l4:null}else{if(r.type==="accent")return Ze.isCharacterBox(r.base)?G1:null;if(r.type==="horizBrace"){var a=!e.sub;return a===r.isOver?n4:null}else return null}else return null};os({type:"supsub",htmlBuilder(i,e){var t=og(i,e);if(t)return t(i,e);var{base:r,sup:s,sub:n}=i,a=yt(r,e),l,o,h=e.fontMetrics(),d=0,f=0,p=r&&Ze.isCharacterBox(r);if(s){var g=e.havingStyle(e.style.sup());l=yt(s,g,e),p||(d=a.height-g.fontMetrics().supDrop*g.sizeMultiplier/e.sizeMultiplier)}if(n){var A=e.havingStyle(e.style.sub());o=yt(n,A,e),p||(f=a.depth+A.fontMetrics().subDrop*A.sizeMultiplier/e.sizeMultiplier)}var x;e.style===et.DISPLAY?x=h.sup1:e.style.cramped?x=h.sup3:x=h.sup2;var y=e.sizeMultiplier,b=Ve(.5/h.ptPerEm/y),T=null;if(o){var D=i.base&&i.base.type==="op"&&i.base.name&&(i.base.name==="\\oiint"||i.base.name==="\\oiiint");(a instanceof Mr||D)&&(T=Ve(-a.italic))}var S;if(l&&o){d=Math.max(d,x,l.depth+.25*h.xHeight),f=Math.max(f,h.sub2);var k=h.defaultRuleThickness,R=4*k;if(d-l.depth-(o.height-f)<R){f=R-(d-l.depth)+o.height;var B=.8*h.xHeight-(d-l.depth);B>0&&(d+=B,f-=B)}var N=[{type:"elem",elem:o,shift:f,marginRight:b,marginLeft:T},{type:"elem",elem:l,shift:-d,marginRight:b}];S=me.makeVList({positionType:"individualShift",children:N},e)}else if(o){f=Math.max(f,h.sub1,o.height-.8*h.xHeight);var L=[{type:"elem",elem:o,marginLeft:T,marginRight:b}];S=me.makeVList({positionType:"shift",positionData:f,children:L},e)}else if(l)d=Math.max(d,x,l.depth+.25*h.xHeight),S=me.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:l,marginRight:b}]},e);else throw new Error("supsub must have either sup or sub.");var O=i1(a,"right")||"mord";return me.makeSpan([O],[a,me.makeSpan(["msupsub"],[S])],e)},mathmlBuilder(i,e){var t=!1,r,s;i.base&&i.base.type==="horizBrace"&&(s=!!i.sup,s===i.base.isOver&&(t=!0,r=i.base.isOver)),i.base&&(i.base.type==="op"||i.base.type==="operatorname")&&(i.base.parentIsSupSub=!0);var n=[Rt(i.base,e)];i.sub&&n.push(Rt(i.sub,e)),i.sup&&n.push(Rt(i.sup,e));var a;if(t)a=r?"mover":"munder";else if(i.sub)if(i.sup){var h=i.base;h&&h.type==="op"&&h.limits&&e.style===et.DISPLAY||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(e.style===et.DISPLAY||h.limits)?a="munderover":a="msubsup"}else{var o=i.base;o&&o.type==="op"&&o.limits&&(e.style===et.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===et.DISPLAY)?a="munder":a="msub"}else{var l=i.base;l&&l.type==="op"&&l.limits&&(e.style===et.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===et.DISPLAY)?a="mover":a="msup"}return new ke.MathNode(a,n)}});os({type:"atom",htmlBuilder(i,e){return me.mathsym(i.text,i.mode,e,["m"+i.family])},mathmlBuilder(i,e){var t=new ke.MathNode("mo",[Cr(i.text,i.mode)]);if(i.family==="bin"){var r=O1(i,e);r==="bold-italic"&&t.setAttribute("mathvariant",r)}else i.family==="punct"?t.setAttribute("separator","true"):(i.family==="open"||i.family==="close")&&t.setAttribute("stretchy","false");return t}});var h4={mi:"italic",mn:"normal",mtext:"normal"};os({type:"mathord",htmlBuilder(i,e){return me.makeOrd(i,e,"mathord")},mathmlBuilder(i,e){var t=new ke.MathNode("mi",[Cr(i.text,i.mode,e)]),r=O1(i,e)||"italic";return r!==h4[t.type]&&t.setAttribute("mathvariant",r),t}});os({type:"textord",htmlBuilder(i,e){return me.makeOrd(i,e,"textord")},mathmlBuilder(i,e){var t=Cr(i.text,i.mode,e),r=O1(i,e)||"normal",s;return i.mode==="text"?s=new ke.MathNode("mtext",[t]):/[0-9]/.test(i.text)?s=new ke.MathNode("mn",[t]):i.text==="\\prime"?s=new ke.MathNode("mo",[t]):s=new ke.MathNode("mi",[t]),r!==h4[s.type]&&s.setAttribute("mathvariant",r),s}});var bl={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},yl={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};os({type:"spacing",htmlBuilder(i,e){if(yl.hasOwnProperty(i.text)){var t=yl[i.text].className||"";if(i.mode==="text"){var r=me.makeOrd(i,e,"textord");return r.classes.push(t),r}else return me.makeSpan(["mspace",t],[me.mathsym(i.text,i.mode,e)],e)}else{if(bl.hasOwnProperty(i.text))return me.makeSpan(["mspace",bl[i.text]],[],e);throw new Ee('Unknown type of space "'+i.text+'"')}},mathmlBuilder(i,e){var t;if(yl.hasOwnProperty(i.text))t=new ke.MathNode("mtext",[new ke.TextNode(" ")]);else{if(bl.hasOwnProperty(i.text))return new ke.MathNode("mspace");throw new Ee('Unknown type of space "'+i.text+'"')}return t}});var Du=()=>{var i=new ke.MathNode("mtd",[]);return i.setAttribute("width","50%"),i};os({type:"tag",mathmlBuilder(i,e){var t=new ke.MathNode("mtable",[new ke.MathNode("mtr",[Du(),new ke.MathNode("mtd",[O0(i.body,e)]),Du(),new ke.MathNode("mtd",[O0(i.tag,e)])])]);return t.setAttribute("width","100%"),t}});var ku={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Iu={"\\textbf":"textbf","\\textmd":"textmd"},lg={"\\textit":"textit","\\textup":"textup"},Eu=(i,e)=>{var t=i.font;if(t){if(ku[t])return e.withTextFontFamily(ku[t]);if(Iu[t])return e.withTextFontWeight(Iu[t]);if(t==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(lg[t])};Oe({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(i,e){var{parser:t,funcName:r}=i,s=e[0];return{type:"text",mode:t.mode,body:mi(s),font:r}},htmlBuilder(i,e){var t=Eu(i,e),r=bi(i.body,t,!0);return me.makeSpan(["mord","text"],r,t)},mathmlBuilder(i,e){var t=Eu(i,e);return O0(i.body,t)}});Oe({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(i,e){var{parser:t}=i;return{type:"underline",mode:t.mode,body:e[0]}},htmlBuilder(i,e){var t=yt(i.body,e),r=me.makeLineSpan("underline-line",e),s=e.fontMetrics().defaultRuleThickness,n=me.makeVList({positionType:"top",positionData:t.height,children:[{type:"kern",size:s},{type:"elem",elem:r},{type:"kern",size:3*s},{type:"elem",elem:t}]},e);return me.makeSpan(["mord","underline"],[n],e)},mathmlBuilder(i,e){var t=new ke.MathNode("mo",[new ke.TextNode("‾")]);t.setAttribute("stretchy","true");var r=new ke.MathNode("munder",[Rt(i.body,e),t]);return r.setAttribute("accentunder","true"),r}});Oe({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(i,e){var{parser:t}=i;return{type:"vcenter",mode:t.mode,body:e[0]}},htmlBuilder(i,e){var t=yt(i.body,e),r=e.fontMetrics().axisHeight,s=.5*(t.height-r-(t.depth+r));return me.makeVList({positionType:"shift",positionData:s,children:[{type:"elem",elem:t}]},e)},mathmlBuilder(i,e){return new ke.MathNode("mpadded",[Rt(i.body,e)],["vcenter"])}});Oe({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(i,e,t){throw new Ee("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(i,e){for(var t=Fu(i),r=[],s=e.havingStyle(e.style.text()),n=0;n<t.length;n++){var a=t[n];a==="~"&&(a="\\textasciitilde"),r.push(me.makeSymbol(a,"Typewriter-Regular",i.mode,s,["mord","texttt"]))}return me.makeSpan(["mord","text"].concat(s.sizingClasses(e)),me.tryCombineChars(r),s)},mathmlBuilder(i,e){var t=new ke.TextNode(Fu(i)),r=new ke.MathNode("mtext",[t]);return r.setAttribute("mathvariant","monospace"),r}});var Fu=i=>i.body.replace(/ /g,i.star?"␣":" "),N0=Nd,u4=`[ \r
	]`,cg="\\\\[a-zA-Z@]+",hg="\\\\[^\uD800-\uDFFF]",ug="("+cg+")"+u4+"*",dg=`\\\\(
|[ \r	]+
?)[ \r	]*`,a1="[̀-ͯ]",mg=new RegExp(a1+"+$"),fg="("+u4+"+)|"+(dg+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(a1+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(a1+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+ug)+("|"+hg+")");class Bu{constructor(e,t){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=t,this.tokenRegex=new RegExp(fg,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,t){this.catcodes[e]=t}lex(){var e=this.input,t=this.tokenRegex.lastIndex;if(t===e.length)return new wr("EOF",new ar(this,t,t));var r=this.tokenRegex.exec(e);if(r===null||r.index!==t)throw new Ee("Unexpected character: '"+e[t]+"'",new wr(e[t],new ar(this,t,t+1)));var s=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[s]===14){var n=e.indexOf(`
`,this.tokenRegex.lastIndex);return n===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=n+1,this.lex()}return new wr(s,new ar(this,t,this.tokenRegex.lastIndex))}}class pg{constructor(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=t,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Ee("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var t in e)e.hasOwnProperty(t)&&(e[t]==null?delete this.current[t]:this.current[t]=e[t])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,t,r){if(r===void 0&&(r=!1),r){for(var s=0;s<this.undefStack.length;s++)delete this.undefStack[s][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=t)}else{var n=this.undefStack[this.undefStack.length-1];n&&!n.hasOwnProperty(e)&&(n[e]=this.current[e])}t==null?delete this.current[e]:this.current[e]=t}}var gg=e4;K("\\noexpand",function(i){var e=i.popToken();return i.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});K("\\expandafter",function(i){var e=i.popToken();return i.expandOnce(!0),{tokens:[e],numArgs:0}});K("\\@firstoftwo",function(i){var e=i.consumeArgs(2);return{tokens:e[0],numArgs:0}});K("\\@secondoftwo",function(i){var e=i.consumeArgs(2);return{tokens:e[1],numArgs:0}});K("\\@ifnextchar",function(i){var e=i.consumeArgs(3);i.consumeSpaces();var t=i.future();return e[0].length===1&&e[0][0].text===t.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});K("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");K("\\TextOrMath",function(i){var e=i.consumeArgs(2);return i.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var Nu={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};K("\\char",function(i){var e=i.popToken(),t,r="";if(e.text==="'")t=8,e=i.popToken();else if(e.text==='"')t=16,e=i.popToken();else if(e.text==="`")if(e=i.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Ee("\\char` missing argument");r=e.text.charCodeAt(0)}else t=10;if(t){if(r=Nu[e.text],r==null||r>=t)throw new Ee("Invalid base-"+t+" digit "+e.text);for(var s;(s=Nu[i.future().text])!=null&&s<t;)r*=t,r+=s,i.popToken()}return"\\@char{"+r+"}"});var Z1=(i,e,t,r)=>{var s=i.consumeArg().tokens;if(s.length!==1)throw new Ee("\\newcommand's first argument must be a macro name");var n=s[0].text,a=i.isDefined(n);if(a&&!e)throw new Ee("\\newcommand{"+n+"} attempting to redefine "+(n+"; use \\renewcommand"));if(!a&&!t)throw new Ee("\\renewcommand{"+n+"} when command "+n+" does not yet exist; use \\newcommand");var l=0;if(s=i.consumeArg().tokens,s.length===1&&s[0].text==="["){for(var o="",h=i.expandNextToken();h.text!=="]"&&h.text!=="EOF";)o+=h.text,h=i.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new Ee("Invalid number of arguments: "+o);l=parseInt(o),s=i.consumeArg().tokens}return a&&r||i.macros.set(n,{tokens:s,numArgs:l}),""};K("\\newcommand",i=>Z1(i,!1,!0,!1));K("\\renewcommand",i=>Z1(i,!0,!1,!1));K("\\providecommand",i=>Z1(i,!0,!0,!0));K("\\message",i=>{var e=i.consumeArgs(1)[0];return console.log(e.reverse().map(t=>t.text).join("")),""});K("\\errmessage",i=>{var e=i.consumeArgs(1)[0];return console.error(e.reverse().map(t=>t.text).join("")),""});K("\\show",i=>{var e=i.popToken(),t=e.text;return console.log(e,i.macros.get(t),N0[t],Ot.math[t],Ot.text[t]),""});K("\\bgroup","{");K("\\egroup","}");K("~","\\nobreakspace");K("\\lq","`");K("\\rq","'");K("\\aa","\\r a");K("\\AA","\\r A");K("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");K("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");K("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");K("ℬ","\\mathscr{B}");K("ℰ","\\mathscr{E}");K("ℱ","\\mathscr{F}");K("ℋ","\\mathscr{H}");K("ℐ","\\mathscr{I}");K("ℒ","\\mathscr{L}");K("ℳ","\\mathscr{M}");K("ℛ","\\mathscr{R}");K("ℭ","\\mathfrak{C}");K("ℌ","\\mathfrak{H}");K("ℨ","\\mathfrak{Z}");K("\\Bbbk","\\Bbb{k}");K("·","\\cdotp");K("\\llap","\\mathllap{\\textrm{#1}}");K("\\rlap","\\mathrlap{\\textrm{#1}}");K("\\clap","\\mathclap{\\textrm{#1}}");K("\\mathstrut","\\vphantom{(}");K("\\underbar","\\underline{\\text{#1}}");K("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');K("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");K("\\ne","\\neq");K("≠","\\neq");K("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");K("∉","\\notin");K("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");K("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");K("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");K("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");K("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");K("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");K("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");K("⟂","\\perp");K("‼","\\mathclose{!\\mkern-0.8mu!}");K("∌","\\notni");K("⌜","\\ulcorner");K("⌝","\\urcorner");K("⌞","\\llcorner");K("⌟","\\lrcorner");K("©","\\copyright");K("®","\\textregistered");K("️","\\textregistered");K("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');K("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');K("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');K("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');K("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");K("⋮","\\vdots");K("\\varGamma","\\mathit{\\Gamma}");K("\\varDelta","\\mathit{\\Delta}");K("\\varTheta","\\mathit{\\Theta}");K("\\varLambda","\\mathit{\\Lambda}");K("\\varXi","\\mathit{\\Xi}");K("\\varPi","\\mathit{\\Pi}");K("\\varSigma","\\mathit{\\Sigma}");K("\\varUpsilon","\\mathit{\\Upsilon}");K("\\varPhi","\\mathit{\\Phi}");K("\\varPsi","\\mathit{\\Psi}");K("\\varOmega","\\mathit{\\Omega}");K("\\substack","\\begin{subarray}{c}#1\\end{subarray}");K("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");K("\\boxed","\\fbox{$\\displaystyle{#1}$}");K("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");K("\\implies","\\DOTSB\\;\\Longrightarrow\\;");K("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");K("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");K("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var Ru={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};K("\\dots",function(i){var e="\\dotso",t=i.expandAfterFuture().text;return t in Ru?e=Ru[t]:(t.slice(0,4)==="\\not"||t in Ot.math&&Ze.contains(["bin","rel"],Ot.math[t].group))&&(e="\\dotsb"),e});var J1={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};K("\\dotso",function(i){var e=i.future().text;return e in J1?"\\ldots\\,":"\\ldots"});K("\\dotsc",function(i){var e=i.future().text;return e in J1&&e!==","?"\\ldots\\,":"\\ldots"});K("\\cdots",function(i){var e=i.future().text;return e in J1?"\\@cdots\\,":"\\@cdots"});K("\\dotsb","\\cdots");K("\\dotsm","\\cdots");K("\\dotsi","\\!\\cdots");K("\\dotsx","\\ldots\\,");K("\\DOTSI","\\relax");K("\\DOTSB","\\relax");K("\\DOTSX","\\relax");K("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");K("\\,","\\tmspace+{3mu}{.1667em}");K("\\thinspace","\\,");K("\\>","\\mskip{4mu}");K("\\:","\\tmspace+{4mu}{.2222em}");K("\\medspace","\\:");K("\\;","\\tmspace+{5mu}{.2777em}");K("\\thickspace","\\;");K("\\!","\\tmspace-{3mu}{.1667em}");K("\\negthinspace","\\!");K("\\negmedspace","\\tmspace-{4mu}{.2222em}");K("\\negthickspace","\\tmspace-{5mu}{.277em}");K("\\enspace","\\kern.5em ");K("\\enskip","\\hskip.5em\\relax");K("\\quad","\\hskip1em\\relax");K("\\qquad","\\hskip2em\\relax");K("\\tag","\\@ifstar\\tag@literal\\tag@paren");K("\\tag@paren","\\tag@literal{({#1})}");K("\\tag@literal",i=>{if(i.macros.get("\\df@tag"))throw new Ee("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});K("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");K("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");K("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");K("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");K("\\newline","\\\\\\relax");K("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var d4=Ve(Hr["Main-Regular"][84][1]-.7*Hr["Main-Regular"][65][1]);K("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+d4+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");K("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+d4+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");K("\\hspace","\\@ifstar\\@hspacer\\@hspace");K("\\@hspace","\\hskip #1\\relax");K("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");K("\\ordinarycolon",":");K("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");K("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');K("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');K("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');K("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');K("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');K("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');K("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');K("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');K("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');K("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');K("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');K("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');K("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');K("∷","\\dblcolon");K("∹","\\eqcolon");K("≔","\\coloneqq");K("≕","\\eqqcolon");K("⩴","\\Coloneqq");K("\\ratio","\\vcentcolon");K("\\coloncolon","\\dblcolon");K("\\colonequals","\\coloneqq");K("\\coloncolonequals","\\Coloneqq");K("\\equalscolon","\\eqqcolon");K("\\equalscoloncolon","\\Eqqcolon");K("\\colonminus","\\coloneq");K("\\coloncolonminus","\\Coloneq");K("\\minuscolon","\\eqcolon");K("\\minuscoloncolon","\\Eqcolon");K("\\coloncolonapprox","\\Colonapprox");K("\\coloncolonsim","\\Colonsim");K("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");K("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");K("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");K("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");K("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");K("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");K("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");K("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");K("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");K("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");K("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");K("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");K("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");K("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");K("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");K("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");K("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");K("\\nleqq","\\html@mathml{\\@nleqq}{≰}");K("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");K("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");K("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");K("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");K("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");K("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");K("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");K("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");K("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");K("\\imath","\\html@mathml{\\@imath}{ı}");K("\\jmath","\\html@mathml{\\@jmath}{ȷ}");K("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");K("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");K("⟦","\\llbracket");K("⟧","\\rrbracket");K("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");K("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");K("⦃","\\lBrace");K("⦄","\\rBrace");K("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");K("⦵","\\minuso");K("\\darr","\\downarrow");K("\\dArr","\\Downarrow");K("\\Darr","\\Downarrow");K("\\lang","\\langle");K("\\rang","\\rangle");K("\\uarr","\\uparrow");K("\\uArr","\\Uparrow");K("\\Uarr","\\Uparrow");K("\\N","\\mathbb{N}");K("\\R","\\mathbb{R}");K("\\Z","\\mathbb{Z}");K("\\alef","\\aleph");K("\\alefsym","\\aleph");K("\\Alpha","\\mathrm{A}");K("\\Beta","\\mathrm{B}");K("\\bull","\\bullet");K("\\Chi","\\mathrm{X}");K("\\clubs","\\clubsuit");K("\\cnums","\\mathbb{C}");K("\\Complex","\\mathbb{C}");K("\\Dagger","\\ddagger");K("\\diamonds","\\diamondsuit");K("\\empty","\\emptyset");K("\\Epsilon","\\mathrm{E}");K("\\Eta","\\mathrm{H}");K("\\exist","\\exists");K("\\harr","\\leftrightarrow");K("\\hArr","\\Leftrightarrow");K("\\Harr","\\Leftrightarrow");K("\\hearts","\\heartsuit");K("\\image","\\Im");K("\\infin","\\infty");K("\\Iota","\\mathrm{I}");K("\\isin","\\in");K("\\Kappa","\\mathrm{K}");K("\\larr","\\leftarrow");K("\\lArr","\\Leftarrow");K("\\Larr","\\Leftarrow");K("\\lrarr","\\leftrightarrow");K("\\lrArr","\\Leftrightarrow");K("\\Lrarr","\\Leftrightarrow");K("\\Mu","\\mathrm{M}");K("\\natnums","\\mathbb{N}");K("\\Nu","\\mathrm{N}");K("\\Omicron","\\mathrm{O}");K("\\plusmn","\\pm");K("\\rarr","\\rightarrow");K("\\rArr","\\Rightarrow");K("\\Rarr","\\Rightarrow");K("\\real","\\Re");K("\\reals","\\mathbb{R}");K("\\Reals","\\mathbb{R}");K("\\Rho","\\mathrm{P}");K("\\sdot","\\cdot");K("\\sect","\\S");K("\\spades","\\spadesuit");K("\\sub","\\subset");K("\\sube","\\subseteq");K("\\supe","\\supseteq");K("\\Tau","\\mathrm{T}");K("\\thetasym","\\vartheta");K("\\weierp","\\wp");K("\\Zeta","\\mathrm{Z}");K("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");K("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");K("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");K("\\bra","\\mathinner{\\langle{#1}|}");K("\\ket","\\mathinner{|{#1}\\rangle}");K("\\braket","\\mathinner{\\langle{#1}\\rangle}");K("\\Bra","\\left\\langle#1\\right|");K("\\Ket","\\left|#1\\right\\rangle");var m4=i=>e=>{var t=e.consumeArg().tokens,r=e.consumeArg().tokens,s=e.consumeArg().tokens,n=e.consumeArg().tokens,a=e.macros.get("|"),l=e.macros.get("\\|");e.macros.beginGroup();var o=f=>p=>{i&&(p.macros.set("|",a),s.length&&p.macros.set("\\|",l));var g=f;if(!f&&s.length){var A=p.future();A.text==="|"&&(p.popToken(),g=!0)}return{tokens:g?s:r,numArgs:0}};e.macros.set("|",o(!1)),s.length&&e.macros.set("\\|",o(!0));var h=e.consumeArg().tokens,d=e.expandTokens([...n,...h,...t]);return e.macros.endGroup(),{tokens:d.reverse(),numArgs:0}};K("\\bra@ket",m4(!1));K("\\bra@set",m4(!0));K("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");K("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");K("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");K("\\angln","{\\angl n}");K("\\blue","\\textcolor{##6495ed}{#1}");K("\\orange","\\textcolor{##ffa500}{#1}");K("\\pink","\\textcolor{##ff00af}{#1}");K("\\red","\\textcolor{##df0030}{#1}");K("\\green","\\textcolor{##28ae7b}{#1}");K("\\gray","\\textcolor{gray}{#1}");K("\\purple","\\textcolor{##9d38bd}{#1}");K("\\blueA","\\textcolor{##ccfaff}{#1}");K("\\blueB","\\textcolor{##80f6ff}{#1}");K("\\blueC","\\textcolor{##63d9ea}{#1}");K("\\blueD","\\textcolor{##11accd}{#1}");K("\\blueE","\\textcolor{##0c7f99}{#1}");K("\\tealA","\\textcolor{##94fff5}{#1}");K("\\tealB","\\textcolor{##26edd5}{#1}");K("\\tealC","\\textcolor{##01d1c1}{#1}");K("\\tealD","\\textcolor{##01a995}{#1}");K("\\tealE","\\textcolor{##208170}{#1}");K("\\greenA","\\textcolor{##b6ffb0}{#1}");K("\\greenB","\\textcolor{##8af281}{#1}");K("\\greenC","\\textcolor{##74cf70}{#1}");K("\\greenD","\\textcolor{##1fab54}{#1}");K("\\greenE","\\textcolor{##0d923f}{#1}");K("\\goldA","\\textcolor{##ffd0a9}{#1}");K("\\goldB","\\textcolor{##ffbb71}{#1}");K("\\goldC","\\textcolor{##ff9c39}{#1}");K("\\goldD","\\textcolor{##e07d10}{#1}");K("\\goldE","\\textcolor{##a75a05}{#1}");K("\\redA","\\textcolor{##fca9a9}{#1}");K("\\redB","\\textcolor{##ff8482}{#1}");K("\\redC","\\textcolor{##f9685d}{#1}");K("\\redD","\\textcolor{##e84d39}{#1}");K("\\redE","\\textcolor{##bc2612}{#1}");K("\\maroonA","\\textcolor{##ffbde0}{#1}");K("\\maroonB","\\textcolor{##ff92c6}{#1}");K("\\maroonC","\\textcolor{##ed5fa6}{#1}");K("\\maroonD","\\textcolor{##ca337c}{#1}");K("\\maroonE","\\textcolor{##9e034e}{#1}");K("\\purpleA","\\textcolor{##ddd7ff}{#1}");K("\\purpleB","\\textcolor{##c6b9fc}{#1}");K("\\purpleC","\\textcolor{##aa87ff}{#1}");K("\\purpleD","\\textcolor{##7854ab}{#1}");K("\\purpleE","\\textcolor{##543b78}{#1}");K("\\mintA","\\textcolor{##f5f9e8}{#1}");K("\\mintB","\\textcolor{##edf2df}{#1}");K("\\mintC","\\textcolor{##e0e5cc}{#1}");K("\\grayA","\\textcolor{##f6f7f7}{#1}");K("\\grayB","\\textcolor{##f0f1f2}{#1}");K("\\grayC","\\textcolor{##e3e5e6}{#1}");K("\\grayD","\\textcolor{##d6d8da}{#1}");K("\\grayE","\\textcolor{##babec2}{#1}");K("\\grayF","\\textcolor{##888d93}{#1}");K("\\grayG","\\textcolor{##626569}{#1}");K("\\grayH","\\textcolor{##3b3e40}{#1}");K("\\grayI","\\textcolor{##21242c}{#1}");K("\\kaBlue","\\textcolor{##314453}{#1}");K("\\kaGreen","\\textcolor{##71B307}{#1}");var f4={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class vg{constructor(e,t,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=t,this.expansionCount=0,this.feed(e),this.macros=new pg(gg,t.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new Bu(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var t,r,s;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;t=this.popToken(),{tokens:s,end:r}=this.consumeArg(["]"])}else({tokens:s,start:t,end:r}=this.consumeArg());return this.pushToken(new wr("EOF",r.loc)),this.pushTokens(s),t.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var t=[],r=e&&e.length>0;r||this.consumeSpaces();var s=this.future(),n,a=0,l=0;do{if(n=this.popToken(),t.push(n),n.text==="{")++a;else if(n.text==="}"){if(--a,a===-1)throw new Ee("Extra }",n)}else if(n.text==="EOF")throw new Ee("Unexpected end of input in a macro argument, expected '"+(e&&r?e[l]:"}")+"'",n);if(e&&r)if((a===0||a===1&&e[l]==="{")&&n.text===e[l]){if(++l,l===e.length){t.splice(-l,l);break}}else l=0}while(a!==0||r);return s.text==="{"&&t[t.length-1].text==="}"&&(t.pop(),t.shift()),t.reverse(),{tokens:t,start:s,end:n}}consumeArgs(e,t){if(t){if(t.length!==e+1)throw new Ee("The length of delimiters doesn't match the number of args!");for(var r=t[0],s=0;s<r.length;s++){var n=this.popToken();if(r[s]!==n.text)throw new Ee("Use of the macro doesn't match its definition",n)}}for(var a=[],l=0;l<e;l++)a.push(this.consumeArg(t&&t[l+1]).tokens);return a}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Ee("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var t=this.popToken(),r=t.text,s=t.noexpand?null:this._getExpansion(r);if(s==null||e&&s.unexpandable){if(e&&s==null&&r[0]==="\\"&&!this.isDefined(r))throw new Ee("Undefined control sequence: "+r);return this.pushToken(t),!1}this.countExpansion(1);var n=s.tokens,a=this.consumeArgs(s.numArgs,s.delimiters);if(s.numArgs){n=n.slice();for(var l=n.length-1;l>=0;--l){var o=n[l];if(o.text==="#"){if(l===0)throw new Ee("Incomplete placeholder at end of macro body",o);if(o=n[--l],o.text==="#")n.splice(l+1,1);else if(/^[1-9]$/.test(o.text))n.splice(l,2,...a[+o.text-1]);else throw new Ee("Not a valid argument number",o)}}}return this.pushTokens(n),n.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new wr(e)]):void 0}expandTokens(e){var t=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var s=this.stack.pop();s.treatAsRelax&&(s.noexpand=!1,s.treatAsRelax=!1),t.push(s)}return this.countExpansion(t.length),t}expandMacroAsText(e){var t=this.expandMacro(e);return t&&t.map(r=>r.text).join("")}_getExpansion(e){var t=this.macros.get(e);if(t==null)return t;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var s=typeof t=="function"?t(this):t;if(typeof s=="string"){var n=0;if(s.indexOf("#")!==-1)for(var a=s.replace(/##/g,"");a.indexOf("#"+(n+1))!==-1;)++n;for(var l=new Bu(s,this.settings),o=[],h=l.lex();h.text!=="EOF";)o.push(h),h=l.lex();o.reverse();var d={tokens:o,numArgs:n};return d}return s}isDefined(e){return this.macros.has(e)||N0.hasOwnProperty(e)||Ot.math.hasOwnProperty(e)||Ot.text.hasOwnProperty(e)||f4.hasOwnProperty(e)}isExpandable(e){var t=this.macros.get(e);return t!=null?typeof t=="string"||typeof t=="function"||!t.unexpandable:N0.hasOwnProperty(e)&&!N0[e].primitive}}var Vu=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,ea=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),wl={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},Uu={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class ao{constructor(e,t){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new vg(e,t,this.mode),this.settings=t,this.leftrightDepth=0}expect(e,t){if(t===void 0&&(t=!0),this.fetch().text!==e)throw new Ee("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());t&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var t=this.nextToken;this.consume(),this.gullet.pushToken(new wr("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=t,r}parseExpression(e,t){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var s=this.fetch();if(ao.endOfExpression.indexOf(s.text)!==-1||t&&s.text===t||e&&N0[s.text]&&N0[s.text].infix)break;var n=this.parseAtom(t);if(n){if(n.type==="internal")continue}else break;r.push(n)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var t=-1,r,s=0;s<e.length;s++)if(e[s].type==="infix"){if(t!==-1)throw new Ee("only one infix operator per group",e[s].token);t=s,r=e[s].replaceWith}if(t!==-1&&r){var n,a,l=e.slice(0,t),o=e.slice(t+1);l.length===1&&l[0].type==="ordgroup"?n=l[0]:n={type:"ordgroup",mode:this.mode,body:l},o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o};var h;return r==="\\\\abovefrac"?h=this.callFunction(r,[n,e[t],a],[]):h=this.callFunction(r,[n,a],[]),[h]}else return e}handleSupSubscript(e){var t=this.fetch(),r=t.text;this.consume(),this.consumeSpaces();var s;do{var n;s=this.parseGroup(e)}while(((n=s)==null?void 0:n.type)==="internal");if(!s)throw new Ee("Expected group after '"+r+"'",t);return s}formatUnsupportedCmd(e){for(var t=[],r=0;r<e.length;r++)t.push({type:"textord",mode:"text",text:e[r]});var s={type:"text",mode:this.mode,body:t},n={type:"color",mode:this.mode,color:this.settings.errorColor,body:[s]};return n}parseAtom(e){var t=this.parseGroup("atom",e);if((t==null?void 0:t.type)==="internal"||this.mode==="text")return t;for(var r,s;;){this.consumeSpaces();var n=this.fetch();if(n.text==="\\limits"||n.text==="\\nolimits"){if(t&&t.type==="op"){var a=n.text==="\\limits";t.limits=a,t.alwaysHandleSupSub=!0}else if(t&&t.type==="operatorname")t.alwaysHandleSupSub&&(t.limits=n.text==="\\limits");else throw new Ee("Limit controls must follow a math operator",n);this.consume()}else if(n.text==="^"){if(r)throw new Ee("Double superscript",n);r=this.handleSupSubscript("superscript")}else if(n.text==="_"){if(s)throw new Ee("Double subscript",n);s=this.handleSupSubscript("subscript")}else if(n.text==="'"){if(r)throw new Ee("Double superscript",n);var l={type:"textord",mode:this.mode,text:"\\prime"},o=[l];for(this.consume();this.fetch().text==="'";)o.push(l),this.consume();this.fetch().text==="^"&&o.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:o}}else if(ea[n.text]){var h=Vu.test(n.text),d=[];for(d.push(new wr(ea[n.text])),this.consume();;){var f=this.fetch().text;if(!ea[f]||Vu.test(f)!==h)break;d.unshift(new wr(ea[f])),this.consume()}var p=this.subparse(d);h?s={type:"ordgroup",mode:"math",body:p}:r={type:"ordgroup",mode:"math",body:p}}else break}return r||s?{type:"supsub",mode:this.mode,base:t,sup:r,sub:s}:t}parseFunction(e,t){var r=this.fetch(),s=r.text,n=N0[s];if(!n)return null;if(this.consume(),t&&t!=="atom"&&!n.allowedInArgument)throw new Ee("Got function '"+s+"' with no arguments"+(t?" as "+t:""),r);if(this.mode==="text"&&!n.allowedInText)throw new Ee("Can't use function '"+s+"' in text mode",r);if(this.mode==="math"&&n.allowedInMath===!1)throw new Ee("Can't use function '"+s+"' in math mode",r);var{args:a,optArgs:l}=this.parseArguments(s,n);return this.callFunction(s,a,l,r,e)}callFunction(e,t,r,s,n){var a={funcName:e,parser:this,token:s,breakOnTokenText:n},l=N0[e];if(l&&l.handler)return l.handler(a,t,r);throw new Ee("No function handler for "+e)}parseArguments(e,t){var r=t.numArgs+t.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var s=[],n=[],a=0;a<r;a++){var l=t.argTypes&&t.argTypes[a],o=a<t.numOptionalArgs;(t.primitive&&l==null||t.type==="sqrt"&&a===1&&n[0]==null)&&(l="primitive");var h=this.parseGroupOfType("argument to '"+e+"'",l,o);if(o)n.push(h);else if(h!=null)s.push(h);else throw new Ee("Null argument, please report this as a bug")}return{args:s,optArgs:n}}parseGroupOfType(e,t,r){switch(t){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,t);case"hbox":{var s=this.parseArgumentGroup(r,"text");return s!=null?{type:"styling",mode:s.mode,body:[s],style:"text"}:null}case"raw":{var n=this.parseStringGroup("raw",r);return n!=null?{type:"raw",mode:"text",string:n.text}:null}case"primitive":{if(r)throw new Ee("A primitive argument cannot be optional");var a=this.parseGroup(e);if(a==null)throw new Ee("Expected group as "+e,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new Ee("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,t){var r=this.gullet.scanArgument(t);if(r==null)return null;for(var s="",n;(n=this.fetch()).text!=="EOF";)s+=n.text,this.consume();return this.consume(),r.text=s,r}parseRegexGroup(e,t){for(var r=this.fetch(),s=r,n="",a;(a=this.fetch()).text!=="EOF"&&e.test(n+a.text);)s=a,n+=s.text,this.consume();if(n==="")throw new Ee("Invalid "+t+": '"+r.text+"'",r);return r.range(s,n)}parseColorGroup(e){var t=this.parseStringGroup("color",e);if(t==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(t.text);if(!r)throw new Ee("Invalid color: '"+t.text+"'",t);var s=r[0];return/^[0-9a-f]{6}$/i.test(s)&&(s="#"+s),{type:"color-token",mode:this.mode,color:s}}parseSizeGroup(e){var t,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?t=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):t=this.parseStringGroup("size",e),!t)return null;!e&&t.text.length===0&&(t.text="0pt",r=!0);var s=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t.text);if(!s)throw new Ee("Invalid size: '"+t.text+"'",t);var n={number:+(s[1]+s[2]),unit:s[3]};if(!Md(n))throw new Ee("Invalid unit: '"+n.unit+"'",t);return{type:"size",mode:this.mode,value:n,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var t=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),t==null)return null;var r=t.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,t){var r=this.gullet.scanArgument(e);if(r==null)return null;var s=this.mode;t&&this.switchMode(t),this.gullet.beginGroup();var n=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:r.loc,body:n};return t&&this.switchMode(s),a}parseGroup(e,t){var r=this.fetch(),s=r.text,n;if(s==="{"||s==="\\begingroup"){this.consume();var a=s==="{"?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,a),o=this.fetch();this.expect(a),this.gullet.endGroup(),n={type:"ordgroup",mode:this.mode,loc:ar.range(r,o),body:l,semisimple:s==="\\begingroup"||void 0}}else if(n=this.parseFunction(t,e)||this.parseSymbol(),n==null&&s[0]==="\\"&&!f4.hasOwnProperty(s)){if(this.settings.throwOnError)throw new Ee("Undefined control sequence: "+s,r);n=this.formatUnsupportedCmd(s),this.consume()}return n}formLigatures(e){for(var t=e.length-1,r=0;r<t;++r){var s=e[r],n=s.text;n==="-"&&e[r+1].text==="-"&&(r+1<t&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:ar.range(s,e[r+2]),text:"---"}),t-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:ar.range(s,e[r+1]),text:"--"}),t-=1)),(n==="'"||n==="`")&&e[r+1].text===n&&(e.splice(r,2,{type:"textord",mode:"text",loc:ar.range(s,e[r+1]),text:n+n}),t-=1)}}parseSymbol(){var e=this.fetch(),t=e.text;if(/^\\verb[^a-zA-Z]/.test(t)){this.consume();var r=t.slice(5),s=r.charAt(0)==="*";if(s&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new Ee(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:s}}Uu.hasOwnProperty(t[0])&&!Ot[this.mode][t[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+t[0]+'" used in math mode',e),t=Uu[t[0]]+t.slice(1));var n=mg.exec(t);n&&(t=t.substring(0,n.index),t==="i"?t="ı":t==="j"&&(t="ȷ"));var a;if(Ot[this.mode][t]){this.settings.strict&&this.mode==="math"&&t1.indexOf(t)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+t[0]+'" used in math mode',e);var l=Ot[this.mode][t].group,o=ar.range(e),h;if(np.hasOwnProperty(l)){var d=l;h={type:"atom",mode:this.mode,family:d,loc:o,text:t}}else h={type:l,mode:this.mode,loc:o,text:t};a=h}else if(t.charCodeAt(0)>=128)this.settings.strict&&(Sd(t.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+t[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+t[0]+'"'+(" ("+t.charCodeAt(0)+")"),e)),a={type:"textord",mode:"text",loc:ar.range(e),text:t};else return null;if(this.consume(),n)for(var f=0;f<n[0].length;f++){var p=n[0][f];if(!wl[p])throw new Ee("Unknown accent ' "+p+"'",e);var g=wl[p][this.mode]||wl[p].text;if(!g)throw new Ee("Accent "+p+" unsupported in "+this.mode+" mode",e);a={type:"accent",mode:this.mode,loc:ar.range(e),label:g,isStretchy:!1,isShifty:!0,base:a}}return a}}ao.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var _1=function(e,t){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new ao(e,t);delete r.gullet.macros.current["\\df@tag"];var s=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!t.displayMode)throw new Ee("\\tag works only in display equations");s=[{type:"tag",mode:"text",body:s,tag:r.subparse([new wr("\\df@tag")])}]}return s},p4=function(e,t,r){t.textContent="";var s=$1(e,r).toNode();t.appendChild(s)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),p4=function(){throw new Ee("KaTeX doesn't work in quirks mode.")});var Ag=function(e,t){var r=$1(e,t).toMarkup();return r},xg=function(e,t){var r=new R1(t);return _1(e,r)},g4=function(e,t,r){if(r.throwOnError||!(e instanceof Ee))throw e;var s=me.makeSpan(["katex-error"],[new Mr(t)]);return s.setAttribute("title",e.toString()),s.setAttribute("style","color:"+r.errorColor),s},$1=function(e,t){var r=new R1(t);try{var s=_1(e,r);return kp(s,e,r)}catch(n){return g4(n,e,r)}},bg=function(e,t){var r=new R1(t);try{var s=_1(e,r);return Ip(s,e,r)}catch(n){return g4(n,e,r)}},yg="0.16.22",wg={Span:xn,Anchor:z1,SymbolNode:Mr,SvgNode:d0,PathNode:L0,LineNode:e1},oo={version:yg,render:p4,renderToString:Ag,ParseError:Ee,SETTINGS_SCHEMA:ga,__parse:xg,__renderToDomTree:$1,__renderToHTMLTree:bg,__setFontMetrics:J6,__defineSymbol:C,__defineFunction:Oe,__defineMacro:K,__domTree:wg};const Sg=["innerHTML"],_e={__name:"KatexInline",props:{formula:{type:String,required:!0}},setup(i){const e=i,t=V0(()=>{try{return oo.renderToString(e.formula,{throwOnError:!1,displayMode:!1})}catch(r){return console.error("KaTeX rendering error:",r),`<span style="color: red;">[Math Error: ${r.message}]</span>`}});return(r,s)=>(Mi(),$i("span",{innerHTML:t.value},null,8,Sg))}},Mg=["innerHTML"],Cg={__name:"KatexDisplay",props:{formula:{type:String,required:!0}},setup(i){const e=i,t=V0(()=>{try{return oo.renderToString(e.formula,{throwOnError:!1,displayMode:!0})}catch(r){return console.error("KaTeX rendering error:",r),`<span style="color: red;">[Math Error: ${r.message}]</span>`}});return(r,s)=>(Mi(),$i("div",{innerHTML:t.value,class:"katex-display"},null,8,Mg))}},Xi=v0(Cg,[["__scopeId","data-v-41ae4811"]]);var Tg=1e-6,Ci=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var i=0,e=arguments.length;e--;)i+=arguments[e]*arguments[e];return Math.sqrt(i)});function Dg(){var i=new Ci(9);return Ci!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[5]=0,i[6]=0,i[7]=0),i[0]=1,i[4]=1,i[8]=1,i}function $0(i,e,t,r,s,n,a,l,o){var h=new Ci(9);return h[0]=i,h[1]=e,h[2]=t,h[3]=r,h[4]=s,h[5]=n,h[6]=a,h[7]=l,h[8]=o,h}function v4(i,e,t){var r=e[0],s=e[1],n=e[2],a=e[3],l=e[4],o=e[5],h=e[6],d=e[7],f=e[8],p=t[0],g=t[1],A=t[2],x=t[3],y=t[4],b=t[5],T=t[6],D=t[7],S=t[8];return i[0]=p*r+g*a+A*h,i[1]=p*s+g*l+A*d,i[2]=p*n+g*o+A*f,i[3]=x*r+y*a+b*h,i[4]=x*s+y*l+b*d,i[5]=x*n+y*o+b*f,i[6]=T*r+D*a+S*h,i[7]=T*s+D*l+S*d,i[8]=T*n+D*o+S*f,i}function pt(){var i=new Ci(16);return Ci!=Float32Array&&(i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0),i[0]=1,i[5]=1,i[10]=1,i[15]=1,i}function di(i){var e=new Ci(16);return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],e}function kg(i,e){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[4]=e[4],i[5]=e[5],i[6]=e[6],i[7]=e[7],i[8]=e[8],i[9]=e[9],i[10]=e[10],i[11]=e[11],i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15],i}function hr(i,e,t,r,s,n,a,l,o,h,d,f,p,g,A,x){var y=new Ci(16);return y[0]=i,y[1]=e,y[2]=t,y[3]=r,y[4]=s,y[5]=n,y[6]=a,y[7]=l,y[8]=o,y[9]=h,y[10]=d,y[11]=f,y[12]=p,y[13]=g,y[14]=A,y[15]=x,y}function A4(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i}function lr(i,e){if(i===e){var t=e[1],r=e[2],s=e[3],n=e[6],a=e[7],l=e[11];i[1]=e[4],i[2]=e[8],i[3]=e[12],i[4]=t,i[6]=e[9],i[7]=e[13],i[8]=r,i[9]=n,i[11]=e[14],i[12]=s,i[13]=a,i[14]=l}else i[0]=e[0],i[1]=e[4],i[2]=e[8],i[3]=e[12],i[4]=e[1],i[5]=e[5],i[6]=e[9],i[7]=e[13],i[8]=e[2],i[9]=e[6],i[10]=e[10],i[11]=e[14],i[12]=e[3],i[13]=e[7],i[14]=e[11],i[15]=e[15];return i}function _i(i,e){var t=e[0],r=e[1],s=e[2],n=e[3],a=e[4],l=e[5],o=e[6],h=e[7],d=e[8],f=e[9],p=e[10],g=e[11],A=e[12],x=e[13],y=e[14],b=e[15],T=t*l-r*a,D=t*o-s*a,S=t*h-n*a,k=r*o-s*l,R=r*h-n*l,B=s*h-n*o,N=d*x-f*A,L=d*y-p*A,O=d*b-g*A,q=f*y-p*x,U=f*b-g*x,j=p*b-g*y,X=T*j-D*U+S*q+k*O-R*L+B*N;return X?(X=1/X,i[0]=(l*j-o*U+h*q)*X,i[1]=(s*U-r*j-n*q)*X,i[2]=(x*B-y*R+b*k)*X,i[3]=(p*R-f*B-g*k)*X,i[4]=(o*O-a*j-h*L)*X,i[5]=(t*j-s*O+n*L)*X,i[6]=(y*S-A*B-b*D)*X,i[7]=(d*B-p*S+g*D)*X,i[8]=(a*U-l*O+h*N)*X,i[9]=(r*O-t*U-n*N)*X,i[10]=(A*R-x*S+b*T)*X,i[11]=(f*S-d*R-g*T)*X,i[12]=(l*L-a*q-o*N)*X,i[13]=(t*q-r*L+s*N)*X,i[14]=(x*D-A*k-y*T)*X,i[15]=(d*k-f*D+p*T)*X,i):null}function F0(i,e,t){var r=e[0],s=e[1],n=e[2],a=e[3],l=e[4],o=e[5],h=e[6],d=e[7],f=e[8],p=e[9],g=e[10],A=e[11],x=e[12],y=e[13],b=e[14],T=e[15],D=t[0],S=t[1],k=t[2],R=t[3];return i[0]=D*r+S*l+k*f+R*x,i[1]=D*s+S*o+k*p+R*y,i[2]=D*n+S*h+k*g+R*b,i[3]=D*a+S*d+k*A+R*T,D=t[4],S=t[5],k=t[6],R=t[7],i[4]=D*r+S*l+k*f+R*x,i[5]=D*s+S*o+k*p+R*y,i[6]=D*n+S*h+k*g+R*b,i[7]=D*a+S*d+k*A+R*T,D=t[8],S=t[9],k=t[10],R=t[11],i[8]=D*r+S*l+k*f+R*x,i[9]=D*s+S*o+k*p+R*y,i[10]=D*n+S*h+k*g+R*b,i[11]=D*a+S*d+k*A+R*T,D=t[12],S=t[13],k=t[14],R=t[15],i[12]=D*r+S*l+k*f+R*x,i[13]=D*s+S*o+k*p+R*y,i[14]=D*n+S*h+k*g+R*b,i[15]=D*a+S*d+k*A+R*T,i}function As(i,e,t){var r=t[0],s=t[1],n=t[2],a,l,o,h,d,f,p,g,A,x,y,b;return e===i?(i[12]=e[0]*r+e[4]*s+e[8]*n+e[12],i[13]=e[1]*r+e[5]*s+e[9]*n+e[13],i[14]=e[2]*r+e[6]*s+e[10]*n+e[14],i[15]=e[3]*r+e[7]*s+e[11]*n+e[15]):(a=e[0],l=e[1],o=e[2],h=e[3],d=e[4],f=e[5],p=e[6],g=e[7],A=e[8],x=e[9],y=e[10],b=e[11],i[0]=a,i[1]=l,i[2]=o,i[3]=h,i[4]=d,i[5]=f,i[6]=p,i[7]=g,i[8]=A,i[9]=x,i[10]=y,i[11]=b,i[12]=a*r+d*s+A*n+e[12],i[13]=l*r+f*s+x*n+e[13],i[14]=o*r+p*s+y*n+e[14],i[15]=h*r+g*s+b*n+e[15]),i}function zu(i,e,t){var r=t[0],s=t[1],n=t[2];return i[0]=e[0]*r,i[1]=e[1]*r,i[2]=e[2]*r,i[3]=e[3]*r,i[4]=e[4]*s,i[5]=e[5]*s,i[6]=e[6]*s,i[7]=e[7]*s,i[8]=e[8]*n,i[9]=e[9]*n,i[10]=e[10]*n,i[11]=e[11]*n,i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15],i}function ta(i,e,t){var r=Math.sin(t),s=Math.cos(t),n=e[4],a=e[5],l=e[6],o=e[7],h=e[8],d=e[9],f=e[10],p=e[11];return e!==i&&(i[0]=e[0],i[1]=e[1],i[2]=e[2],i[3]=e[3],i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15]),i[4]=n*s+h*r,i[5]=a*s+d*r,i[6]=l*s+f*r,i[7]=o*s+p*r,i[8]=h*s-n*r,i[9]=d*s-a*r,i[10]=f*s-l*r,i[11]=p*s-o*r,i}function ia(i,e,t){var r=Math.sin(t),s=Math.cos(t),n=e[0],a=e[1],l=e[2],o=e[3],h=e[4],d=e[5],f=e[6],p=e[7];return e!==i&&(i[8]=e[8],i[9]=e[9],i[10]=e[10],i[11]=e[11],i[12]=e[12],i[13]=e[13],i[14]=e[14],i[15]=e[15]),i[0]=n*s+h*r,i[1]=a*s+d*r,i[2]=l*s+f*r,i[3]=o*s+p*r,i[4]=h*s-n*r,i[5]=d*s-a*r,i[6]=f*s-l*r,i[7]=p*s-o*r,i}function Ig(i,e,t){var r=t[0],s=t[1],n=t[2],a=Math.hypot(r,s,n),l,o,h;return a<Tg?null:(a=1/a,r*=a,s*=a,n*=a,l=Math.sin(e),o=Math.cos(e),h=1-o,i[0]=r*r*h+o,i[1]=s*r*h+n*l,i[2]=n*r*h-s*l,i[3]=0,i[4]=r*s*h-n*l,i[5]=s*s*h+o,i[6]=n*s*h+r*l,i[7]=0,i[8]=r*n*h+s*l,i[9]=s*n*h-r*l,i[10]=n*n*h+o,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,i)}function Eg(i,e,t,r,s,n,a){var l=1/(e-t),o=1/(r-s),h=1/(n-a);return i[0]=-2*l,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=-2*o,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=2*h,i[11]=0,i[12]=(e+t)*l,i[13]=(s+r)*o,i[14]=(a+n)*h,i[15]=1,i}var ra=Eg;function Fg(i,e,t){return i[0]=e[0]*t,i[1]=e[1]*t,i[2]=e[2]*t,i[3]=e[3]*t,i[4]=e[4]*t,i[5]=e[5]*t,i[6]=e[6]*t,i[7]=e[7]*t,i[8]=e[8]*t,i[9]=e[9]*t,i[10]=e[10]*t,i[11]=e[11]*t,i[12]=e[12]*t,i[13]=e[13]*t,i[14]=e[14]*t,i[15]=e[15]*t,i}var x4=F0;function Yt(){var i=new Ci(3);return Ci!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0),i}function sn(i){var e=new Ci(3);return e[0]=i[0],e[1]=i[1],e[2]=i[2],e}function U0(i){var e=i[0],t=i[1],r=i[2];return Math.hypot(e,t,r)}function Ue(i,e,t){var r=new Ci(3);return r[0]=i,r[1]=e,r[2]=t,r}function Pu(i,e){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i}function rs(i,e,t){return i[0]=e[0]+t[0],i[1]=e[1]+t[1],i[2]=e[2]+t[2],i}function Jt(i,e,t){return i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2],i}function ec(i,e,t){return i[0]=Math.min(e[0],t[0]),i[1]=Math.min(e[1],t[1]),i[2]=Math.min(e[2],t[2]),i}function tc(i,e,t){return i[0]=Math.max(e[0],t[0]),i[1]=Math.max(e[1],t[1]),i[2]=Math.max(e[2],t[2]),i}function Bg(i,e,t){return i[0]=e[0]*t,i[1]=e[1]*t,i[2]=e[2]*t,i}function Ng(i,e){return i[0]=-e[0],i[1]=-e[1],i[2]=-e[2],i}function br(i,e){var t=e[0],r=e[1],s=e[2],n=t*t+r*r+s*s;return n>0&&(n=1/Math.sqrt(n)),i[0]=e[0]*n,i[1]=e[1]*n,i[2]=e[2]*n,i}function Rg(i,e){return i[0]*e[0]+i[1]*e[1]+i[2]*e[2]}function Aa(i,e,t){var r=e[0],s=e[1],n=e[2],a=t[0],l=t[1],o=t[2];return i[0]=s*o-n*l,i[1]=n*a-r*o,i[2]=r*l-s*a,i}function Vg(i,e,t,r){var s=e[0],n=e[1],a=e[2];return i[0]=s+r*(t[0]-s),i[1]=n+r*(t[1]-n),i[2]=a+r*(t[2]-a),i}function Sl(i,e){var t=i[0],r=i[1],s=i[2],n=e[0],a=e[1],l=e[2],o=Math.sqrt(t*t+r*r+s*s),h=Math.sqrt(n*n+a*a+l*l),d=o*h,f=d&&Rg(i,e)/d;return Math.acos(Math.min(Math.max(f,-1),1))}var Lu=Jt,pn=U0;(function(){var i=Yt();return function(e,t,r,s,n,a){var l,o;for(t||(t=3),r||(r=0),s?o=Math.min(s*t+r,e.length):o=e.length,l=r;l<o;l+=t)i[0]=e[l],i[1]=e[l+1],i[2]=e[l+2],n(i,i,a),e[l]=i[0],e[l+1]=i[1],e[l+2]=i[2];return e}})();function Wr(){var i=new Ci(4);return Ci!=Float32Array&&(i[0]=0,i[1]=0,i[2]=0,i[3]=0),i}function l0(i){var e=new Ci(4);return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e}function Kt(i,e,t,r){var s=new Ci(4);return s[0]=i,s[1]=e,s[2]=t,s[3]=r,s}function Ou(i,e,t){return i[0]=e[0]+t[0],i[1]=e[1]+t[1],i[2]=e[2]+t[2],i[3]=e[3]+t[3],i}function Ug(i,e,t){return i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2],i[3]=e[3]-t[3],i}function zg(i,e,t){return i[0]=e[0]*t,i[1]=e[1]*t,i[2]=e[2]*t,i[3]=e[3]*t,i}function Ti(i,e,t){var r=e[0],s=e[1],n=e[2],a=e[3];return i[0]=t[0]*r+t[4]*s+t[8]*n+t[12]*a,i[1]=t[1]*r+t[5]*s+t[9]*n+t[13]*a,i[2]=t[2]*r+t[6]*s+t[10]*n+t[14]*a,i[3]=t[3]*r+t[7]*s+t[11]*n+t[15]*a,i}var Pg=Ug;(function(){var i=Wr();return function(e,t,r,s,n,a){var l,o;for(t||(t=4),r||(r=0),s?o=Math.min(s*t+r,e.length):o=e.length,l=r;l<o;l+=t)i[0]=e[l],i[1]=e[l+1],i[2]=e[l+2],i[3]=e[l+3],n(i,i,a),e[l]=i[0],e[l+1]=i[1],e[l+2]=i[2],e[l+3]=i[3];return e}})();function Lg(){var i=new Ci(2);return Ci!=Float32Array&&(i[0]=0,i[1]=0),i}function qu(i,e){var t=new Ci(2);return t[0]=i,t[1]=e,t}function Og(i,e,t){return i[0]=e[0]*t,i[1]=e[1]*t,i}function Gu(i){var e=i[0],t=i[1];return Math.hypot(e,t)}function qg(i,e){var t=e[0],r=e[1],s=t*t+r*r;return s>0&&(s=1/Math.sqrt(s)),i[0]=e[0]*s,i[1]=e[1]*s,i}(function(){var i=Lg();return function(e,t,r,s,n,a){var l,o;for(t||(t=2),r||(r=0),s?o=Math.min(s*t+r,e.length):o=e.length,l=r;l<o;l+=t)i[0]=e[l],i[1]=e[l+1],n(i,i,a),e[l]=i[0],e[l+1]=i[1];return e}})();var es=256,xa=[],sa;for(;es--;)xa[es]=(es+256).toString(16).substring(1);function o1(){var i=0,e,t="";if(!sa||es+16>256){for(sa=Array(i=256);i--;)sa[i]=256*Math.random()|0;i=es=0}for(;i<16;i++)e=sa[es+i],i==6?t+=xa[e&15|64]:i==8?t+=xa[e&63|128]:t+=xa[e],i&1&&i>1&&i<11&&(t+="-");return es++,t}var Ml,Hu;function Gg(){return Hu||(Hu=1,Ml=function(e,t){var r=e.length;if(e===t)return!0;if(r!==t.length)return!1;for(var s=0;s<r;s++)if(e[s]!==t[s])return!1;return!0}),Ml}var Hg=Gg();const Yg=$a(Hg),b4=-1,lo=0,nn=1,Ga=2,ic=3,rc=4,sc=5,nc=6,y4=7,w4=8,Yu=typeof self=="object"?self:globalThis,Kg=(i,e)=>{const t=(s,n)=>(i.set(n,s),s),r=s=>{if(i.has(s))return i.get(s);const[n,a]=e[s];switch(n){case lo:case b4:return t(a,s);case nn:{const l=t([],s);for(const o of a)l.push(r(o));return l}case Ga:{const l=t({},s);for(const[o,h]of a)l[r(o)]=r(h);return l}case ic:return t(new Date(a),s);case rc:{const{source:l,flags:o}=a;return t(new RegExp(l,o),s)}case sc:{const l=t(new Map,s);for(const[o,h]of a)l.set(r(o),r(h));return l}case nc:{const l=t(new Set,s);for(const o of a)l.add(r(o));return l}case y4:{const{name:l,message:o}=a;return t(new Yu[l](o),s)}case w4:return t(BigInt(a),s);case"BigInt":return t(Object(BigInt(a)),s);case"ArrayBuffer":return t(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return t(new DataView(l),a)}}return t(new Yu[n](a),s)};return r},Wg=i=>Kg(new Map,i)(0),ms="",{toString:jg}={},{keys:Xg}=Object,Gs=i=>{const e=typeof i;if(e!=="object"||!i)return[lo,e];const t=jg.call(i).slice(8,-1);switch(t){case"Array":return[nn,ms];case"Object":return[Ga,ms];case"Date":return[ic,ms];case"RegExp":return[rc,ms];case"Map":return[sc,ms];case"Set":return[nc,ms];case"DataView":return[nn,t]}return t.includes("Array")?[nn,t]:t.includes("Error")?[y4,t]:[Ga,t]},na=([i,e])=>i===lo&&(e==="function"||e==="symbol"),Qg=(i,e,t,r)=>{const s=(a,l)=>{const o=r.push(a)-1;return t.set(l,o),o},n=a=>{if(t.has(a))return t.get(a);let[l,o]=Gs(a);switch(l){case lo:{let d=a;switch(o){case"bigint":l=w4,d=a.toString();break;case"function":case"symbol":if(i)throw new TypeError("unable to serialize "+o);d=null;break;case"undefined":return s([b4],a)}return s([l,d],a)}case nn:{if(o){let p=a;return o==="DataView"?p=new Uint8Array(a.buffer):o==="ArrayBuffer"&&(p=new Uint8Array(a)),s([o,[...p]],a)}const d=[],f=s([l,d],a);for(const p of a)d.push(n(p));return f}case Ga:{if(o)switch(o){case"BigInt":return s([o,a.toString()],a);case"Boolean":case"Number":case"String":return s([o,a.valueOf()],a)}if(e&&"toJSON"in a)return n(a.toJSON());const d=[],f=s([l,d],a);for(const p of Xg(a))(i||!na(Gs(a[p])))&&d.push([n(p),n(a[p])]);return f}case ic:return s([l,a.toISOString()],a);case rc:{const{source:d,flags:f}=a;return s([l,{source:d,flags:f}],a)}case sc:{const d=[],f=s([l,d],a);for(const[p,g]of a)(i||!(na(Gs(p))||na(Gs(g))))&&d.push([n(p),n(g)]);return f}case nc:{const d=[],f=s([l,d],a);for(const p of a)(i||!na(Gs(p)))&&d.push(n(p));return f}}const{message:h}=a;return s([l,{name:o,message:h}],a)};return n},Zg=(i,{json:e,lossy:t}={})=>{const r=[];return Qg(!(e||t),!!e,new Map,r)(i),r};var Si=Uint8Array,ws=Uint16Array,Jg=Int32Array,S4=new Si([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),M4=new Si([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_g=new Si([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),C4=function(i,e){for(var t=new ws(31),r=0;r<31;++r)t[r]=e+=1<<i[r-1];for(var s=new Jg(t[30]),r=1;r<30;++r)for(var n=t[r];n<t[r+1];++n)s[n]=n-t[r]<<5|r;return{b:t,r:s}},T4=C4(S4,2),D4=T4.b,$g=T4.r;D4[28]=258,$g[258]=28;var e7=C4(M4,0),t7=e7.b,l1=new ws(32768);for(var Wt=0;Wt<32768;++Wt){var T0=(Wt&43690)>>1|(Wt&21845)<<1;T0=(T0&52428)>>2|(T0&13107)<<2,T0=(T0&61680)>>4|(T0&3855)<<4,l1[Wt]=((T0&65280)>>8|(T0&255)<<8)>>1}var an=function(i,e,t){for(var r=i.length,s=0,n=new ws(e);s<r;++s)i[s]&&++n[i[s]-1];var a=new ws(e);for(s=1;s<e;++s)a[s]=a[s-1]+n[s-1]<<1;var l;if(t){l=new ws(1<<e);var o=15-e;for(s=0;s<r;++s)if(i[s])for(var h=s<<4|i[s],d=e-i[s],f=a[i[s]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)l[l1[f]>>o]=h}else for(l=new ws(r),s=0;s<r;++s)i[s]&&(l[s]=l1[a[i[s]-1]++]>>15-i[s]);return l},yn=new Si(288);for(var Wt=0;Wt<144;++Wt)yn[Wt]=8;for(var Wt=144;Wt<256;++Wt)yn[Wt]=9;for(var Wt=256;Wt<280;++Wt)yn[Wt]=7;for(var Wt=280;Wt<288;++Wt)yn[Wt]=8;var k4=new Si(32);for(var Wt=0;Wt<32;++Wt)k4[Wt]=5;var i7=an(yn,9,1),r7=an(k4,5,1),Cl=function(i){for(var e=i[0],t=1;t<i.length;++t)i[t]>e&&(e=i[t]);return e},Dr=function(i,e,t){var r=e/8|0;return(i[r]|i[r+1]<<8)>>(e&7)&t},Tl=function(i,e){var t=e/8|0;return(i[t]|i[t+1]<<8|i[t+2]<<16)>>(e&7)},I4=function(i){return(i+7)/8|0},ba=function(i,e,t){return(e==null||e<0)&&(e=0),(t==null||t>i.length)&&(t=i.length),new Si(i.subarray(e,t))},s7=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Pi=function(i,e,t){var r=new Error(e||s7[i]);if(r.code=i,Error.captureStackTrace&&Error.captureStackTrace(r,Pi),!t)throw r;return r},co=function(i,e,t,r){var s=i.length,n=0;if(!s||e.f&&!e.l)return t||new Si(0);var a=!t,l=a||e.i!=2,o=e.i;a&&(t=new Si(s*3));var h=function(oi){var $=t.length;if(oi>$){var se=new Si(Math.max($*2,oi));se.set(t),t=se}},d=e.f||0,f=e.p||0,p=e.b||0,g=e.l,A=e.d,x=e.m,y=e.n,b=s*8;do{if(!g){d=Dr(i,f,1);var T=Dr(i,f+1,3);if(f+=3,T)if(T==1)g=i7,A=r7,x=9,y=5;else if(T==2){var R=Dr(i,f,31)+257,B=Dr(i,f+10,15)+4,N=R+Dr(i,f+5,31)+1;f+=14;for(var L=new Si(N),O=new Si(19),q=0;q<B;++q)O[_g[q]]=Dr(i,f+q*3,7);f+=B*3;for(var U=Cl(O),j=(1<<U)-1,X=an(O,U,1),q=0;q<N;){var re=X[Dr(i,f,j)];f+=re&15;var D=re>>4;if(D<16)L[q++]=D;else{var oe=0,he=0;for(D==16?(he=3+Dr(i,f,3),f+=2,oe=L[q-1]):D==17?(he=3+Dr(i,f,7),f+=3):D==18&&(he=11+Dr(i,f,127),f+=7);he--;)L[q++]=oe}}var Ae=L.subarray(0,R),qe=L.subarray(R);x=Cl(Ae),y=Cl(qe),g=an(Ae,x,1),A=an(qe,y,1)}else Pi(1);else{var D=I4(f)+4,S=i[D-4]|i[D-3]<<8,k=D+S;if(k>s){o&&Pi(0);break}l&&h(p+S),t.set(i.subarray(D,k),p),e.b=p+=S,e.p=f=k*8,e.f=d;continue}if(f>b){o&&Pi(0);break}}l&&h(p+131072);for(var Qe=(1<<x)-1,Fe=(1<<y)-1,at=f;;at=f){var oe=g[Tl(i,f)&Qe],jt=oe>>4;if(f+=oe&15,f>b){o&&Pi(0);break}if(oe||Pi(2),jt<256)t[p++]=jt;else if(jt==256){at=f,g=null;break}else{var ni=jt-254;if(jt>264){var q=jt-257,qt=S4[q];ni=Dr(i,f,(1<<qt)-1)+D4[q],f+=qt}var Vt=A[Tl(i,f)&Fe],Gt=Vt>>4;Vt||Pi(3),f+=Vt&15;var qe=t7[Gt];if(Gt>3){var qt=M4[Gt];qe+=Tl(i,f)&(1<<qt)-1,f+=qt}if(f>b){o&&Pi(0);break}l&&h(p+131072);var ai=p+ni;if(p<qe){var yi=n-qe,Et=Math.min(qe,ai);for(yi+p<0&&Pi(3);p<Et;++p)t[p]=r[yi+p]}for(;p<ai;++p)t[p]=t[p-qe]}}e.l=g,e.p=at,e.b=p,e.f=d,g&&(d=1,e.m=x,e.d=A,e.n=y)}while(!d);return p!=t.length&&a?ba(t,0,p):t.subarray(0,p)},n7=new Si(0),E4=function(i){(i[0]!=31||i[1]!=139||i[2]!=8)&&Pi(6,"invalid gzip data");var e=i[3],t=10;e&4&&(t+=(i[10]|i[11]<<8)+2);for(var r=(e>>3&1)+(e>>4&1);r>0;r-=!i[t++]);return t+(e&2)},a7=function(i){var e=i.length;return(i[e-4]|i[e-3]<<8|i[e-2]<<16|i[e-1]<<24)>>>0},o7=function(i,e){return((i[0]&15)!=8||i[0]>>4>7||(i[0]<<8|i[1])%31)&&Pi(6,"invalid zlib data"),(i[1]>>5&1)==1&&Pi(6,"invalid zlib data: "+(i[1]&32?"need":"unexpected")+" dictionary"),(i[1]>>3&4)+2},Dl=function(){function i(e,t){typeof e=="function"&&(t=e,e={}),this.ondata=t;var r=e&&e.dictionary&&e.dictionary.subarray(-32768);this.s={i:0,b:r?r.length:0},this.o=new Si(32768),this.p=new Si(0),r&&this.o.set(r)}return i.prototype.e=function(e){if(this.ondata||Pi(5),this.d&&Pi(4),!this.p.length)this.p=e;else if(e.length){var t=new Si(this.p.length+e.length);t.set(this.p),t.set(e,this.p.length),this.p=t}},i.prototype.c=function(e){this.s.i=+(this.d=e||!1);var t=this.s.b,r=co(this.p,this.s,this.o);this.ondata(ba(r,t,this.s.b),this.d),this.o=ba(r,this.s.b-32768),this.s.b=this.o.length,this.p=ba(this.p,this.s.p/8|0),this.s.p&=7},i.prototype.push=function(e,t){this.e(e),this.c(t)},i}();function l7(i,e){return co(i,{i:2},e,e)}var c7=function(){function i(e,t){this.v=1,this.r=0,Dl.call(this,e,t)}return i.prototype.push=function(e,t){if(Dl.prototype.e.call(this,e),this.r+=e.length,this.v){var r=this.p.subarray(this.v-1),s=r.length>3?E4(r):4;if(s>r.length){if(!t)return}else this.v>1&&this.onmember&&this.onmember(this.r-r.length);this.p=r.subarray(s),this.v=0}Dl.prototype.c.call(this,t),this.s.f&&!this.s.l&&!t&&(this.v=I4(this.s.p)+9,this.s={i:0},this.o=new Si(0),this.push(new Si(0),t))},i}();function h7(i,e){var t=E4(i);return t+8>i.length&&Pi(6,"invalid gzip data"),co(i.subarray(t,-8),{i:2},new Si(a7(i)),e)}function u7(i,e){return co(i.subarray(o7(i),-4),{i:2},e,e)}function d7(i,e){return i[0]==31&&i[1]==139&&i[2]==8?h7(i,e):(i[0]&15)!=8||i[0]>>4>7||(i[0]<<8|i[1])%31?l7(i,e):u7(i,e)}var m7=typeof TextDecoder<"u"&&new TextDecoder,f7=0;try{m7.decode(n7,{stream:!0}),f7=1}catch{}class F4{constructor(e,t,r,s){fe(this,"esize");fe(this,"ecode");fe(this,"edata");fe(this,"littleEndian");if(e%16!=0)throw new Error("This does not appear to be a NIFTI extension");this.esize=e,this.ecode=t,this.edata=r,this.littleEndian=s}toArrayBuffer(){let e=new Uint8Array(this.esize),t=new Uint8Array(this.edata);e.set(t,8);let r=new DataView(e.buffer);return r.setInt32(0,this.esize,this.littleEndian),r.setInt32(4,this.ecode,this.littleEndian),e.buffer}}const zi=class zi{static getStringAt(e,t,r){var s="",n,a;for(n=t;n<r;n+=1)a=e.getUint8(n),a!==0&&(s+=String.fromCharCode(a));return s}static getIntAt(e,t,r){return e.getInt32(t,r)}static getFloatAt(e,t,r){return e.getFloat32(t,r)}static getDoubleAt(e,t,r){return e.getFloat64(t,r)}static getInt64At(e,t,r){const s=e.getUint32(t,r),n=e.getInt32(t+4,r);let a;return r?a=n*2**32+s:a=s*2**32+n,n<0&&(a+=-1*2**32*2**32),a}static getUint64At(e,t,r){const s=e.getUint32(t+(r?0:4),r),n=e.getUint32(t+(r?4:0),r);return r?n*2**32+s:s*2**32+n}static getExtensionsAt(e,t,r,s){let n=[],a=t;for(;a<s;){let l=r,o=zi.getIntAt(e,a,r);if(!o)break;if(o+a>s&&(l=!l,o=zi.getIntAt(e,a,l),o+a>s))throw new Error("This does not appear to be a valid NIFTI extension");if(o%16!=0)throw new Error("This does not appear to be a NIFTI extension");let h=zi.getIntAt(e,a+4,l),d=e.buffer.slice(a+8,a+o),f=new F4(o,h,d,l);n.push(f),a+=o}return n}static toArrayBuffer(e){var t,r,s;for(t=new ArrayBuffer(e.length),r=new Uint8Array(t),s=0;s<e.length;s+=1)r[s]=e[s];return t}static isString(e){return typeof e=="string"||e instanceof String}static formatNumber(e,t=void 0){let r;return zi.isString(e)?r=Number(e):r=e,t?r=r.toPrecision(5):r=r.toPrecision(7),parseFloat(r)}static makeCRCTable(){let e,t=[];for(var r=0;r<256;r++){e=r;for(var s=0;s<8;s++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t}static crc32(e){zi.crcTable||(zi.crcTable=zi.makeCRCTable());const t=zi.crcTable;let r=-1;for(var s=0;s<e.byteLength;s++)r=r>>>8^t[(r^e.getUint8(s))&255];return(r^-1)>>>0}};fe(zi,"crcTable",null),fe(zi,"GUNZIP_MAGIC_COOKIE1",31),fe(zi,"GUNZIP_MAGIC_COOKIE2",139),fe(zi,"getByteAt",function(e,t){return e.getUint8(t)}),fe(zi,"getShortAt",function(e,t,r){return e.getInt16(t,r)});let Be=zi;const Le=class Le{constructor(){fe(this,"littleEndian",!1);fe(this,"dim_info",0);fe(this,"dims",[]);fe(this,"intent_p1",0);fe(this,"intent_p2",0);fe(this,"intent_p3",0);fe(this,"intent_code",0);fe(this,"datatypeCode",0);fe(this,"numBitsPerVoxel",0);fe(this,"slice_start",0);fe(this,"slice_end",0);fe(this,"slice_code",0);fe(this,"pixDims",[]);fe(this,"vox_offset",0);fe(this,"scl_slope",1);fe(this,"scl_inter",0);fe(this,"xyzt_units",0);fe(this,"cal_max",0);fe(this,"cal_min",0);fe(this,"slice_duration",0);fe(this,"toffset",0);fe(this,"description","");fe(this,"aux_file","");fe(this,"intent_name","");fe(this,"qform_code",0);fe(this,"sform_code",0);fe(this,"quatern_a",0);fe(this,"quatern_b",0);fe(this,"quatern_c",0);fe(this,"quatern_d",0);fe(this,"qoffset_x",0);fe(this,"qoffset_y",0);fe(this,"qoffset_z",0);fe(this,"affine",[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]);fe(this,"qfac",1);fe(this,"quatern_R");fe(this,"magic","0");fe(this,"isHDR",!1);fe(this,"extensionFlag",[0,0,0,0]);fe(this,"extensionSize",0);fe(this,"extensionCode",0);fe(this,"extensions",[]);fe(this,"getDatatypeCodeString",function(e){return e===Le.TYPE_UINT8?"1-Byte Unsigned Integer":e===Le.TYPE_INT16?"2-Byte Signed Integer":e===Le.TYPE_INT32?"4-Byte Signed Integer":e===Le.TYPE_FLOAT32?"4-Byte Float":e===Le.TYPE_FLOAT64?"8-Byte Float":e===Le.TYPE_RGB24?"RGB":e===Le.TYPE_INT8?"1-Byte Signed Integer":e===Le.TYPE_UINT16?"2-Byte Unsigned Integer":e===Le.TYPE_UINT32?"4-Byte Unsigned Integer":e===Le.TYPE_INT64?"8-Byte Signed Integer":e===Le.TYPE_UINT64?"8-Byte Unsigned Integer":"Unknown"});fe(this,"getTransformCodeString",function(e){return e===Le.XFORM_SCANNER_ANAT?"Scanner":e===Le.XFORM_ALIGNED_ANAT?"Aligned":e===Le.XFORM_TALAIRACH?"Talairach":e===Le.XFORM_MNI_152?"MNI":"Unknown"});fe(this,"getUnitsCodeString",function(e){return e===Le.UNITS_METER?"Meters":e===Le.UNITS_MM?"Millimeters":e===Le.UNITS_MICRON?"Microns":e===Le.UNITS_SEC?"Seconds":e===Le.UNITS_MSEC?"Milliseconds":e===Le.UNITS_USEC?"Microseconds":e===Le.UNITS_HZ?"Hz":e===Le.UNITS_PPM?"PPM":e===Le.UNITS_RADS?"Rads":"Unknown"});fe(this,"nifti_mat33_mul",function(e,t){var r=[[0,0,0],[0,0,0],[0,0,0]],s,n;for(s=0;s<3;s+=1)for(n=0;n<3;n+=1)r[s][n]=e[s][0]*t[0][n]+e[s][1]*t[1][n]+e[s][2]*t[2][n];return r});fe(this,"nifti_mat33_determ",function(e){var t,r,s,n,a,l,o,h,d;return t=e[0][0],r=e[0][1],s=e[0][2],n=e[1][0],a=e[1][1],l=e[1][2],o=e[2][0],h=e[2][1],d=e[2][2],t*a*d-t*h*l-n*r*d+n*h*s+o*r*l-o*a*s})}readHeader(e){var t=new DataView(e),r=Be.getIntAt(t,0,this.littleEndian),s,n,a,l;if(r!==Le.MAGIC_COOKIE&&(this.littleEndian=!0,r=Be.getIntAt(t,0,this.littleEndian)),r!==Le.MAGIC_COOKIE)throw new Error("This does not appear to be a NIFTI file!");for(this.dim_info=Be.getByteAt(t,39),s=0;s<8;s+=1)l=40+s*2,this.dims[s]=Be.getShortAt(t,l,this.littleEndian);for(this.intent_p1=Be.getFloatAt(t,56,this.littleEndian),this.intent_p2=Be.getFloatAt(t,60,this.littleEndian),this.intent_p3=Be.getFloatAt(t,64,this.littleEndian),this.intent_code=Be.getShortAt(t,68,this.littleEndian),this.datatypeCode=Be.getShortAt(t,70,this.littleEndian),this.numBitsPerVoxel=Be.getShortAt(t,72,this.littleEndian),this.slice_start=Be.getShortAt(t,74,this.littleEndian),s=0;s<8;s+=1)l=76+s*4,this.pixDims[s]=Be.getFloatAt(t,l,this.littleEndian);if(this.vox_offset=Be.getFloatAt(t,108,this.littleEndian),this.scl_slope=Be.getFloatAt(t,112,this.littleEndian),this.scl_inter=Be.getFloatAt(t,116,this.littleEndian),this.slice_end=Be.getShortAt(t,120,this.littleEndian),this.slice_code=Be.getByteAt(t,122),this.xyzt_units=Be.getByteAt(t,123),this.cal_max=Be.getFloatAt(t,124,this.littleEndian),this.cal_min=Be.getFloatAt(t,128,this.littleEndian),this.slice_duration=Be.getFloatAt(t,132,this.littleEndian),this.toffset=Be.getFloatAt(t,136,this.littleEndian),this.description=Be.getStringAt(t,148,228),this.aux_file=Be.getStringAt(t,228,252),this.qform_code=Be.getShortAt(t,252,this.littleEndian),this.sform_code=Be.getShortAt(t,254,this.littleEndian),this.quatern_b=Be.getFloatAt(t,256,this.littleEndian),this.quatern_c=Be.getFloatAt(t,260,this.littleEndian),this.quatern_d=Be.getFloatAt(t,264,this.littleEndian),this.quatern_a=Math.sqrt(1-(Math.pow(this.quatern_b,2)+Math.pow(this.quatern_c,2)+Math.pow(this.quatern_d,2))),this.qoffset_x=Be.getFloatAt(t,268,this.littleEndian),this.qoffset_y=Be.getFloatAt(t,272,this.littleEndian),this.qoffset_z=Be.getFloatAt(t,276,this.littleEndian),this.qform_code<1&&this.sform_code<1&&(this.affine[0][0]=this.pixDims[1],this.affine[1][1]=this.pixDims[2],this.affine[2][2]=this.pixDims[3]),this.qform_code>0&&this.sform_code<this.qform_code){const o=this.quatern_a,h=this.quatern_b,d=this.quatern_c,f=this.quatern_d;for(this.qfac=this.pixDims[0]===0?1:this.pixDims[0],this.quatern_R=[[o*o+h*h-d*d-f*f,2*h*d-2*o*f,2*h*f+2*o*d],[2*h*d+2*o*f,o*o+d*d-h*h-f*f,2*d*f-2*o*h],[2*h*f-2*o*d,2*d*f+2*o*h,o*o+f*f-d*d-h*h]],n=0;n<3;n+=1)for(a=0;a<3;a+=1)this.affine[n][a]=this.quatern_R[n][a]*this.pixDims[a+1],a===2&&(this.affine[n][a]*=this.qfac);this.affine[0][3]=this.qoffset_x,this.affine[1][3]=this.qoffset_y,this.affine[2][3]=this.qoffset_z}else if(this.sform_code>0)for(n=0;n<3;n+=1)for(a=0;a<4;a+=1)l=280+(n*4+a)*4,this.affine[n][a]=Be.getFloatAt(t,l,this.littleEndian);if(this.affine[3][0]=0,this.affine[3][1]=0,this.affine[3][2]=0,this.affine[3][3]=1,this.intent_name=Be.getStringAt(t,328,344),this.magic=Be.getStringAt(t,344,348),this.isHDR=this.magic===String.fromCharCode.apply(null,Le.MAGIC_NUMBER2),t.byteLength>Le.MAGIC_COOKIE){this.extensionFlag[0]=Be.getByteAt(t,348),this.extensionFlag[1]=Be.getByteAt(t,349),this.extensionFlag[2]=Be.getByteAt(t,350),this.extensionFlag[3]=Be.getByteAt(t,351);let o=!0;!this.isHDR&&this.vox_offset<=352&&(o=!1),t.byteLength<=368&&(o=!1),o&&this.extensionFlag[0]&&(this.extensions=Be.getExtensionsAt(t,this.getExtensionLocation(),this.littleEndian,this.vox_offset),this.extensionSize=this.extensions[0].esize,this.extensionCode=this.extensions[0].ecode)}}toFormattedString(){var e=Be.formatNumber,t="";return t+="Dim Info = "+this.dim_info+`
`,t+="Image Dimensions (1-8): "+this.dims[0]+", "+this.dims[1]+", "+this.dims[2]+", "+this.dims[3]+", "+this.dims[4]+", "+this.dims[5]+", "+this.dims[6]+", "+this.dims[7]+`
`,t+="Intent Parameters (1-3): "+this.intent_p1+", "+this.intent_p2+", "+this.intent_p3+`
`,t+="Intent Code = "+this.intent_code+`
`,t+="Datatype = "+this.datatypeCode+" ("+this.getDatatypeCodeString(this.datatypeCode)+`)
`,t+="Bits Per Voxel = "+this.numBitsPerVoxel+`
`,t+="Slice Start = "+this.slice_start+`
`,t+="Voxel Dimensions (1-8): "+e(this.pixDims[0])+", "+e(this.pixDims[1])+", "+e(this.pixDims[2])+", "+e(this.pixDims[3])+", "+e(this.pixDims[4])+", "+e(this.pixDims[5])+", "+e(this.pixDims[6])+", "+e(this.pixDims[7])+`
`,t+="Image Offset = "+this.vox_offset+`
`,t+="Data Scale:  Slope = "+e(this.scl_slope)+"  Intercept = "+e(this.scl_inter)+`
`,t+="Slice End = "+this.slice_end+`
`,t+="Slice Code = "+this.slice_code+`
`,t+="Units Code = "+this.xyzt_units+" ("+this.getUnitsCodeString(Le.SPATIAL_UNITS_MASK&this.xyzt_units)+", "+this.getUnitsCodeString(Le.TEMPORAL_UNITS_MASK&this.xyzt_units)+`)
`,t+="Display Range:  Max = "+e(this.cal_max)+"  Min = "+e(this.cal_min)+`
`,t+="Slice Duration = "+this.slice_duration+`
`,t+="Time Axis Shift = "+this.toffset+`
`,t+='Description: "'+this.description+`"
`,t+='Auxiliary File: "'+this.aux_file+`"
`,t+="Q-Form Code = "+this.qform_code+" ("+this.getTransformCodeString(this.qform_code)+`)
`,t+="S-Form Code = "+this.sform_code+" ("+this.getTransformCodeString(this.sform_code)+`)
`,t+="Quaternion Parameters:  b = "+e(this.quatern_b)+"  c = "+e(this.quatern_c)+"  d = "+e(this.quatern_d)+`
`,t+="Quaternion Offsets:  x = "+this.qoffset_x+"  y = "+this.qoffset_y+"  z = "+this.qoffset_z+`
`,t+="S-Form Parameters X: "+e(this.affine[0][0])+", "+e(this.affine[0][1])+", "+e(this.affine[0][2])+", "+e(this.affine[0][3])+`
`,t+="S-Form Parameters Y: "+e(this.affine[1][0])+", "+e(this.affine[1][1])+", "+e(this.affine[1][2])+", "+e(this.affine[1][3])+`
`,t+="S-Form Parameters Z: "+e(this.affine[2][0])+", "+e(this.affine[2][1])+", "+e(this.affine[2][2])+", "+e(this.affine[2][3])+`
`,t+='Intent Name: "'+this.intent_name+`"
`,this.extensionFlag[0]&&(t+="Extension: Size = "+this.extensionSize+"  Code = "+this.extensionCode+`
`),t}getQformMat(){return this.convertNiftiQFormToNiftiSForm(this.quatern_b,this.quatern_c,this.quatern_d,this.qoffset_x,this.qoffset_y,this.qoffset_z,this.pixDims[1],this.pixDims[2],this.pixDims[3],this.pixDims[0])}convertNiftiQFormToNiftiSForm(e,t,r,s,n,a,l,o,h,d){var f=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],p,g=e,A=t,x=r,y,b,T;return f[3][0]=f[3][1]=f[3][2]=0,f[3][3]=1,p=1-(g*g+A*A+x*x),p<1e-7?(p=1/Math.sqrt(g*g+A*A+x*x),g*=p,A*=p,x*=p,p=0):p=Math.sqrt(p),y=l>0?l:1,b=o>0?o:1,T=h>0?h:1,d<0&&(T=-T),f[0][0]=(p*p+g*g-A*A-x*x)*y,f[0][1]=2*(g*A-p*x)*b,f[0][2]=2*(g*x+p*A)*T,f[1][0]=2*(g*A+p*x)*y,f[1][1]=(p*p+A*A-g*g-x*x)*b,f[1][2]=2*(A*x-p*g)*T,f[2][0]=2*(g*x-p*A)*y,f[2][1]=2*(A*x+p*g)*b,f[2][2]=(p*p+x*x-A*A-g*g)*T,f[0][3]=s,f[1][3]=n,f[2][3]=a,f}convertNiftiSFormToNEMA(e){var t,r,s,n,a,l,o,h,d,f,p,g,A,x,y,b,T,D,S,k,R,B,N,L,O,q,U,j,X,re,oe,he,Ae,qe;if(y=0,U=[[0,0,0],[0,0,0],[0,0,0]],j=[[0,0,0],[0,0,0],[0,0,0]],t=e[0][0],r=e[0][1],s=e[0][2],n=e[1][0],a=e[1][1],l=e[1][2],o=e[2][0],h=e[2][1],d=e[2][2],f=Math.sqrt(t*t+n*n+o*o),f===0||(t/=f,n/=f,o/=f,f=Math.sqrt(r*r+a*a+h*h),f===0))return null;if(r/=f,a/=f,h/=f,f=t*r+n*a+o*h,Math.abs(f)>1e-4){if(r-=f*t,a-=f*n,h-=f*o,f=Math.sqrt(r*r+a*a+h*h),f===0)return null;r/=f,a/=f,h/=f}if(f=Math.sqrt(s*s+l*l+d*d),f===0?(s=n*h-o*a,l=o*r-h*t,d=t*a-n*r):(s/=f,l/=f,d/=f),f=t*s+n*l+o*d,Math.abs(f)>1e-4){if(s-=f*t,l-=f*n,d-=f*o,f=Math.sqrt(s*s+l*l+d*d),f===0)return null;s/=f,l/=f,d/=f}if(f=r*s+a*l+h*d,Math.abs(f)>1e-4){if(s-=f*r,l-=f*a,d-=f*h,f=Math.sqrt(s*s+l*l+d*d),f===0)return null;s/=f,l/=f,d/=f}if(U[0][0]=t,U[0][1]=r,U[0][2]=s,U[1][0]=n,U[1][1]=a,U[1][2]=l,U[2][0]=o,U[2][1]=h,U[2][2]=d,p=this.nifti_mat33_determ(U),p===0)return null;for(q=-666,S=B=N=L=1,k=2,R=3,A=1;A<=3;A+=1)for(x=1;x<=3;x+=1)if(A!==x){for(y=1;y<=3;y+=1)if(!(A===y||x===y))for(j[0][0]=j[0][1]=j[0][2]=j[1][0]=j[1][1]=j[1][2]=j[2][0]=j[2][1]=j[2][2]=0,b=-1;b<=1;b+=2)for(T=-1;T<=1;T+=2)for(D=-1;D<=1;D+=2)j[0][A-1]=b,j[1][x-1]=T,j[2][y-1]=D,g=this.nifti_mat33_determ(j),g*p>0&&(O=this.nifti_mat33_mul(j,U),f=O[0][0]+O[1][1]+O[2][2],f>q&&(q=f,S=A,k=x,R=y,B=b,N=T,L=D))}switch(X=re=oe=he=Ae=qe="",S*B){case 1:X="X",he="+";break;case-1:X="X",he="-";break;case 2:X="Y",he="+";break;case-2:X="Y",he="-";break;case 3:X="Z",he="+";break;case-3:X="Z",he="-";break}switch(k*N){case 1:re="X",Ae="+";break;case-1:re="X",Ae="-";break;case 2:re="Y",Ae="+";break;case-2:re="Y",Ae="-";break;case 3:re="Z",Ae="+";break;case-3:re="Z",Ae="-";break}switch(R*L){case 1:oe="X",qe="+";break;case-1:oe="X",qe="-";break;case 2:oe="Y",qe="+";break;case-2:oe="Y",qe="-";break;case 3:oe="Z",qe="+";break;case-3:oe="Z",qe="-";break}return X+re+oe+he+Ae+qe}getExtensionLocation(){return Le.MAGIC_COOKIE+4}getExtensionSize(e){return Be.getIntAt(e,this.getExtensionLocation(),this.littleEndian)}getExtensionCode(e){return Be.getIntAt(e,this.getExtensionLocation()+4,this.littleEndian)}addExtension(e,t=-1){t==-1?this.extensions.push(e):this.extensions.splice(t,0,e),this.vox_offset+=e.esize}removeExtension(e){let t=this.extensions[e];t&&(this.vox_offset-=t.esize),this.extensions.splice(e,1)}toArrayBuffer(e=!1){let s=352;if(e)for(let o of this.extensions)s+=o.esize;let n=new Uint8Array(s),a=new DataView(n.buffer);a.setInt32(0,348,this.littleEndian),a.setUint8(39,this.dim_info);for(let o=0;o<8;o++)a.setUint16(40+2*o,this.dims[o],this.littleEndian);a.setFloat32(56,this.intent_p1,this.littleEndian),a.setFloat32(60,this.intent_p2,this.littleEndian),a.setFloat32(64,this.intent_p3,this.littleEndian),a.setInt16(68,this.intent_code,this.littleEndian),a.setInt16(70,this.datatypeCode,this.littleEndian),a.setInt16(72,this.numBitsPerVoxel,this.littleEndian),a.setInt16(74,this.slice_start,this.littleEndian);for(let o=0;o<8;o++)a.setFloat32(76+4*o,this.pixDims[o],this.littleEndian);a.setFloat32(108,this.vox_offset,this.littleEndian),a.setFloat32(112,this.scl_slope,this.littleEndian),a.setFloat32(116,this.scl_inter,this.littleEndian),a.setInt16(120,this.slice_end,this.littleEndian),a.setUint8(122,this.slice_code),a.setUint8(123,this.xyzt_units),a.setFloat32(124,this.cal_max,this.littleEndian),a.setFloat32(128,this.cal_min,this.littleEndian),a.setFloat32(132,this.slice_duration,this.littleEndian),a.setFloat32(136,this.toffset,this.littleEndian),n.set(new TextEncoder().encode(this.description),148),n.set(new TextEncoder().encode(this.aux_file),228),a.setInt16(252,this.qform_code,this.littleEndian),a.setInt16(254,this.sform_code,this.littleEndian),a.setFloat32(256,this.quatern_b,this.littleEndian),a.setFloat32(260,this.quatern_c,this.littleEndian),a.setFloat32(264,this.quatern_d,this.littleEndian),a.setFloat32(268,this.qoffset_x,this.littleEndian),a.setFloat32(272,this.qoffset_y,this.littleEndian),a.setFloat32(276,this.qoffset_z,this.littleEndian);const l=this.affine.flat();for(let o=0;o<12;o++)a.setFloat32(280+4*o,l[o],this.littleEndian);if(n.set(new TextEncoder().encode(this.intent_name),328),n.set(new TextEncoder().encode(this.magic),344),e){n.set(Uint8Array.from([1,0,0,0]),348);let o=this.getExtensionLocation();for(const h of this.extensions)a.setInt32(o,h.esize,h.littleEndian),a.setInt32(o+4,h.ecode,h.littleEndian),n.set(new Uint8Array(h.edata),o+8),o+=h.esize}else n.set(new Uint8Array(4).fill(0),348);return n.buffer}};fe(Le,"TYPE_NONE",0),fe(Le,"TYPE_BINARY",1),fe(Le,"TYPE_UINT8",2),fe(Le,"TYPE_INT16",4),fe(Le,"TYPE_INT32",8),fe(Le,"TYPE_FLOAT32",16),fe(Le,"TYPE_COMPLEX64",32),fe(Le,"TYPE_FLOAT64",64),fe(Le,"TYPE_RGB24",128),fe(Le,"TYPE_INT8",256),fe(Le,"TYPE_UINT16",512),fe(Le,"TYPE_UINT32",768),fe(Le,"TYPE_INT64",1024),fe(Le,"TYPE_UINT64",1280),fe(Le,"TYPE_FLOAT128",1536),fe(Le,"TYPE_COMPLEX128",1792),fe(Le,"TYPE_COMPLEX256",2048),fe(Le,"XFORM_UNKNOWN",0),fe(Le,"XFORM_SCANNER_ANAT",1),fe(Le,"XFORM_ALIGNED_ANAT",2),fe(Le,"XFORM_TALAIRACH",3),fe(Le,"XFORM_MNI_152",4),fe(Le,"SPATIAL_UNITS_MASK",7),fe(Le,"TEMPORAL_UNITS_MASK",56),fe(Le,"UNITS_UNKNOWN",0),fe(Le,"UNITS_METER",1),fe(Le,"UNITS_MM",2),fe(Le,"UNITS_MICRON",3),fe(Le,"UNITS_SEC",8),fe(Le,"UNITS_MSEC",16),fe(Le,"UNITS_USEC",24),fe(Le,"UNITS_HZ",32),fe(Le,"UNITS_PPM",40),fe(Le,"UNITS_RADS",48),fe(Le,"MAGIC_COOKIE",348),fe(Le,"STANDARD_HEADER_SIZE",348),fe(Le,"MAGIC_NUMBER_LOCATION",344),fe(Le,"MAGIC_NUMBER",[110,43,49]),fe(Le,"MAGIC_NUMBER2",[110,105,49]),fe(Le,"EXTENSION_HEADER_SIZE",8);let ct=Le;const Or=class Or{constructor(){fe(this,"littleEndian",!1);fe(this,"dim_info",0);fe(this,"dims",[]);fe(this,"intent_p1",0);fe(this,"intent_p2",0);fe(this,"intent_p3",0);fe(this,"intent_code",0);fe(this,"datatypeCode",0);fe(this,"numBitsPerVoxel",0);fe(this,"slice_start",0);fe(this,"slice_end",0);fe(this,"slice_code",0);fe(this,"pixDims",[]);fe(this,"vox_offset",0);fe(this,"scl_slope",1);fe(this,"scl_inter",0);fe(this,"xyzt_units",0);fe(this,"cal_max",0);fe(this,"cal_min",0);fe(this,"slice_duration",0);fe(this,"toffset",0);fe(this,"description","");fe(this,"aux_file","");fe(this,"intent_name","");fe(this,"qform_code",0);fe(this,"sform_code",0);fe(this,"quatern_b",0);fe(this,"quatern_c",0);fe(this,"quatern_d",0);fe(this,"qoffset_x",0);fe(this,"qoffset_y",0);fe(this,"qoffset_z",0);fe(this,"affine",[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]);fe(this,"magic","0");fe(this,"extensionFlag",[0,0,0,0]);fe(this,"extensions",[]);fe(this,"extensionSize",0);fe(this,"extensionCode",0);fe(this,"getExtensionLocation",function(){return Or.MAGIC_COOKIE+4});fe(this,"getExtensionSize",ct.prototype.getExtensionSize);fe(this,"getExtensionCode",ct.prototype.getExtensionCode);fe(this,"addExtension",ct.prototype.addExtension);fe(this,"removeExtension",ct.prototype.removeExtension);fe(this,"getDatatypeCodeString",ct.prototype.getDatatypeCodeString);fe(this,"getTransformCodeString",ct.prototype.getTransformCodeString);fe(this,"getUnitsCodeString",ct.prototype.getUnitsCodeString);fe(this,"getQformMat",ct.prototype.getQformMat);fe(this,"convertNiftiQFormToNiftiSForm",ct.prototype.convertNiftiQFormToNiftiSForm);fe(this,"convertNiftiSFormToNEMA",ct.prototype.convertNiftiSFormToNEMA);fe(this,"nifti_mat33_mul",ct.prototype.nifti_mat33_mul);fe(this,"nifti_mat33_determ",ct.prototype.nifti_mat33_determ)}readHeader(e){var t=new DataView(e),r=Be.getIntAt(t,0,this.littleEndian),s,n,a,l;if(r!==Or.MAGIC_COOKIE&&(this.littleEndian=!0,r=Be.getIntAt(t,0,this.littleEndian)),r!==Or.MAGIC_COOKIE)throw new Error("This does not appear to be a NIFTI file!");for(this.magic=Be.getStringAt(t,4,12),this.datatypeCode=Be.getShortAt(t,12,this.littleEndian),this.numBitsPerVoxel=Be.getShortAt(t,14,this.littleEndian),s=0;s<8;s+=1)l=16+s*8,this.dims[s]=Be.getInt64At(t,l,this.littleEndian);for(this.intent_p1=Be.getDoubleAt(t,80,this.littleEndian),this.intent_p2=Be.getDoubleAt(t,88,this.littleEndian),this.intent_p3=Be.getDoubleAt(t,96,this.littleEndian),s=0;s<8;s+=1)l=104+s*8,this.pixDims[s]=Be.getDoubleAt(t,l,this.littleEndian);for(this.vox_offset=Be.getInt64At(t,168,this.littleEndian),this.scl_slope=Be.getDoubleAt(t,176,this.littleEndian),this.scl_inter=Be.getDoubleAt(t,184,this.littleEndian),this.cal_max=Be.getDoubleAt(t,192,this.littleEndian),this.cal_min=Be.getDoubleAt(t,200,this.littleEndian),this.slice_duration=Be.getDoubleAt(t,208,this.littleEndian),this.toffset=Be.getDoubleAt(t,216,this.littleEndian),this.slice_start=Be.getInt64At(t,224,this.littleEndian),this.slice_end=Be.getInt64At(t,232,this.littleEndian),this.description=Be.getStringAt(t,240,320),this.aux_file=Be.getStringAt(t,320,344),this.qform_code=Be.getIntAt(t,344,this.littleEndian),this.sform_code=Be.getIntAt(t,348,this.littleEndian),this.quatern_b=Be.getDoubleAt(t,352,this.littleEndian),this.quatern_c=Be.getDoubleAt(t,360,this.littleEndian),this.quatern_d=Be.getDoubleAt(t,368,this.littleEndian),this.qoffset_x=Be.getDoubleAt(t,376,this.littleEndian),this.qoffset_y=Be.getDoubleAt(t,384,this.littleEndian),this.qoffset_z=Be.getDoubleAt(t,392,this.littleEndian),n=0;n<3;n+=1)for(a=0;a<4;a+=1)l=400+(n*4+a)*8,this.affine[n][a]=Be.getDoubleAt(t,l,this.littleEndian);this.affine[3][0]=0,this.affine[3][1]=0,this.affine[3][2]=0,this.affine[3][3]=1,this.slice_code=Be.getIntAt(t,496,this.littleEndian),this.xyzt_units=Be.getIntAt(t,500,this.littleEndian),this.intent_code=Be.getIntAt(t,504,this.littleEndian),this.intent_name=Be.getStringAt(t,508,524),this.dim_info=Be.getByteAt(t,524),t.byteLength>Or.MAGIC_COOKIE&&(this.extensionFlag[0]=Be.getByteAt(t,540),this.extensionFlag[1]=Be.getByteAt(t,541),this.extensionFlag[2]=Be.getByteAt(t,542),this.extensionFlag[3]=Be.getByteAt(t,543),this.extensionFlag[0]&&(this.extensions=Be.getExtensionsAt(t,this.getExtensionLocation(),this.littleEndian,this.vox_offset),this.extensionSize=this.extensions[0].esize,this.extensionCode=this.extensions[0].ecode))}toFormattedString(){var e=Be.formatNumber,t="";return t+="Datatype = "+ +this.datatypeCode+" ("+this.getDatatypeCodeString(this.datatypeCode)+`)
`,t+="Bits Per Voxel =  = "+this.numBitsPerVoxel+`
`,t+="Image Dimensions (1-8): "+this.dims[0]+", "+this.dims[1]+", "+this.dims[2]+", "+this.dims[3]+", "+this.dims[4]+", "+this.dims[5]+", "+this.dims[6]+", "+this.dims[7]+`
`,t+="Intent Parameters (1-3): "+this.intent_p1+", "+this.intent_p2+", "+this.intent_p3+`
`,t+="Voxel Dimensions (1-8): "+e(this.pixDims[0])+", "+e(this.pixDims[1])+", "+e(this.pixDims[2])+", "+e(this.pixDims[3])+", "+e(this.pixDims[4])+", "+e(this.pixDims[5])+", "+e(this.pixDims[6])+", "+e(this.pixDims[7])+`
`,t+="Image Offset = "+this.vox_offset+`
`,t+="Data Scale:  Slope = "+e(this.scl_slope)+"  Intercept = "+e(this.scl_inter)+`
`,t+="Display Range:  Max = "+e(this.cal_max)+"  Min = "+e(this.cal_min)+`
`,t+="Slice Duration = "+this.slice_duration+`
`,t+="Time Axis Shift = "+this.toffset+`
`,t+="Slice Start = "+this.slice_start+`
`,t+="Slice End = "+this.slice_end+`
`,t+='Description: "'+this.description+`"
`,t+='Auxiliary File: "'+this.aux_file+`"
`,t+="Q-Form Code = "+this.qform_code+" ("+this.getTransformCodeString(this.qform_code)+`)
`,t+="S-Form Code = "+this.sform_code+" ("+this.getTransformCodeString(this.sform_code)+`)
`,t+="Quaternion Parameters:  b = "+e(this.quatern_b)+"  c = "+e(this.quatern_c)+"  d = "+e(this.quatern_d)+`
`,t+="Quaternion Offsets:  x = "+this.qoffset_x+"  y = "+this.qoffset_y+"  z = "+this.qoffset_z+`
`,t+="S-Form Parameters X: "+e(this.affine[0][0])+", "+e(this.affine[0][1])+", "+e(this.affine[0][2])+", "+e(this.affine[0][3])+`
`,t+="S-Form Parameters Y: "+e(this.affine[1][0])+", "+e(this.affine[1][1])+", "+e(this.affine[1][2])+", "+e(this.affine[1][3])+`
`,t+="S-Form Parameters Z: "+e(this.affine[2][0])+", "+e(this.affine[2][1])+", "+e(this.affine[2][2])+", "+e(this.affine[2][3])+`
`,t+="Slice Code = "+this.slice_code+`
`,t+="Units Code = "+this.xyzt_units+" ("+this.getUnitsCodeString(ct.SPATIAL_UNITS_MASK&this.xyzt_units)+", "+this.getUnitsCodeString(ct.TEMPORAL_UNITS_MASK&this.xyzt_units)+`)
`,t+="Intent Code = "+this.intent_code+`
`,t+='Intent Name: "'+this.intent_name+`"
`,t+="Dim Info = "+this.dim_info+`
`,t}toArrayBuffer(e=!1){let s=544;if(e)for(let o of this.extensions)s+=o.esize;let n=new Uint8Array(s),a=new DataView(n.buffer);a.setInt32(0,540,this.littleEndian),n.set(new TextEncoder().encode(this.magic),4),a.setInt16(12,this.datatypeCode,this.littleEndian),a.setInt16(14,this.numBitsPerVoxel,this.littleEndian);for(let o=0;o<8;o++)a.setBigInt64(16+8*o,BigInt(this.dims[o]),this.littleEndian);a.setFloat64(80,this.intent_p1,this.littleEndian),a.setFloat64(88,this.intent_p2,this.littleEndian),a.setFloat64(96,this.intent_p3,this.littleEndian);for(let o=0;o<8;o++)a.setFloat64(104+8*o,this.pixDims[o],this.littleEndian);a.setBigInt64(168,BigInt(this.vox_offset),this.littleEndian),a.setFloat64(176,this.scl_slope,this.littleEndian),a.setFloat64(184,this.scl_inter,this.littleEndian),a.setFloat64(192,this.cal_max,this.littleEndian),a.setFloat64(200,this.cal_min,this.littleEndian),a.setFloat64(208,this.slice_duration,this.littleEndian),a.setFloat64(216,this.toffset,this.littleEndian),a.setBigInt64(224,BigInt(this.slice_start),this.littleEndian),a.setBigInt64(232,BigInt(this.slice_end),this.littleEndian),n.set(new TextEncoder().encode(this.description),240),n.set(new TextEncoder().encode(this.aux_file),320),a.setInt32(344,this.qform_code,this.littleEndian),a.setInt32(348,this.sform_code,this.littleEndian),a.setFloat64(352,this.quatern_b,this.littleEndian),a.setFloat64(360,this.quatern_c,this.littleEndian),a.setFloat64(368,this.quatern_d,this.littleEndian),a.setFloat64(376,this.qoffset_x,this.littleEndian),a.setFloat64(384,this.qoffset_y,this.littleEndian),a.setFloat64(392,this.qoffset_z,this.littleEndian);const l=this.affine.flat();for(let o=0;o<12;o++)a.setFloat64(400+8*o,l[o],this.littleEndian);if(a.setInt32(496,this.slice_code,this.littleEndian),a.setInt32(500,this.xyzt_units,this.littleEndian),a.setInt32(504,this.intent_code,this.littleEndian),n.set(new TextEncoder().encode(this.intent_name),508),a.setUint8(524,this.dim_info),e){n.set(Uint8Array.from([1,0,0,0]),540);let o=this.getExtensionLocation();for(const h of this.extensions)a.setInt32(o,h.esize,h.littleEndian),a.setInt32(o+4,h.ecode,h.littleEndian),n.set(new Uint8Array(h.edata),o+8),o+=h.esize}else n.set(new Uint8Array(4).fill(0),540);return n.buffer}};fe(Or,"MAGIC_COOKIE",540),fe(Or,"MAGIC_NUMBER_LOCATION",4),fe(Or,"MAGIC_NUMBER",[110,43,50,0,13,10,26,10]),fe(Or,"MAGIC_NUMBER2",[110,105,50,0,13,10,26,10]);let Ji=Or;function p7(i,e=!1){var t,r,s,n;return i.byteLength<ct.STANDARD_HEADER_SIZE?!1:(t=new DataView(i),t&&(r=t.getUint8(ct.MAGIC_NUMBER_LOCATION)),s=t.getUint8(ct.MAGIC_NUMBER_LOCATION+1),n=t.getUint8(ct.MAGIC_NUMBER_LOCATION+2),e&&r===ct.MAGIC_NUMBER2[0]&&s===ct.MAGIC_NUMBER2[1]&&n===ct.MAGIC_NUMBER2[2]?!0:r===ct.MAGIC_NUMBER[0]&&s===ct.MAGIC_NUMBER[1]&&n===ct.MAGIC_NUMBER[2])}function g7(i,e=!1){var t,r,s,n;return i.byteLength<ct.STANDARD_HEADER_SIZE?!1:(t=new DataView(i),r=t.getUint8(Ji.MAGIC_NUMBER_LOCATION),s=t.getUint8(Ji.MAGIC_NUMBER_LOCATION+1),n=t.getUint8(Ji.MAGIC_NUMBER_LOCATION+2),e&&r===Ji.MAGIC_NUMBER2[0]&&s===Ji.MAGIC_NUMBER2[1]&&n===Ji.MAGIC_NUMBER2[2]?!0:r===Ji.MAGIC_NUMBER[0]&&s===Ji.MAGIC_NUMBER[1]&&n===Ji.MAGIC_NUMBER[2])}function ac(i){var e,t,r;return!!(i&&(e=new DataView(i),t=e.getUint8(0),r=e.getUint8(1),t===Be.GUNZIP_MAGIC_COOKIE1||r===Be.GUNZIP_MAGIC_COOKIE2))}function v7(i){return d7(new Uint8Array(i)).buffer}async function A7(i){const e=new Uint8Array(i),t=e[0]===31&&e[1]===139&&e[2]===8?"gzip":e[0]===120&&(e[1]===1||e[1]===94||e[1]===156||e[1]===218)?"deflate":"deflate-raw",r=new DecompressionStream(t),s=r.writable.getWriter();s.write(e).catch(console.error);const n=s.close().catch(console.error),l=await new Response(r.readable).arrayBuffer();return await n,l}async function Ku(i,e=1/0){const t=g=>g[0]===31&&g[1]===139&&g[2]===8?"gzip":g[0]===120&&[1,94,156,218].includes(g[1])?"deflate":"deflate-raw",r=new Uint8Array(i),s=t(r),n=new DecompressionStream(s),a=new TransformStream({transform(g,A){A.enqueue(g)},flush(g){g.terminate()}}),{readable:l,writable:o}=n,h=o.getWriter(),d=l.pipeThrough(a).getReader();h.write(r).catch(g=>{g instanceof Error&&g.name==="AbortError"||console.error("Error during write:",g)});const f=[];let p=0;try{for(;p<e;){const{done:g,value:A}=await d.read();if(g)break;const x=e-p,y=A.subarray(0,Math.min(A.length,x));if(f.push(y),p+=y.length,p>=e){await Promise.all([d.cancel().catch(()=>{}),h.abort().catch(()=>{})]);break}}}catch(g){g instanceof Error&&g.name==="AbortError"||console.error("Error during decompression:",g)}finally{await Promise.allSettled([d.cancel().catch(()=>{}),h.close().catch(()=>{})])}return f.length===1?f[0].buffer:f.reduce((g,A)=>{const x=new Uint8Array(g.byteLength+A.byteLength);return x.set(new Uint8Array(g),0),x.set(A,g.byteLength),x.buffer},new ArrayBuffer(0))}function x7(i,e=!1){let t=null;if(ac(i)&&(i=v7(i)),p7(i,e)?t=new ct:g7(i,e)&&(t=new Ji),t)t.readHeader(i);else throw new Error("That file does not appear to be NIFTI!");return t}async function Xs(i,e=!1){if(!ac(i))return x7(i,e);let t=null,r=await Ku(i,540),s=!0,n=!0;var a=new DataView(r);const l=a.getInt32(0,!0),o=a.getInt32(0,!1);if(l!==348)if(o===348)s=!1;else if(l===540)n=!1;else if(o===540)n=!1,s=!1;else throw new Error("That file does not appear to be NIFTI!");let h=Math.round(a.getFloat32(108,s));return Ji&&(h=Be.getUint64At(a,168,s)),h>r.byteLength&&(r=await Ku(i,h)),n?t=new ct:t=new Ji,t.readHeader(r),t}function b7(i,e){var t=i.vox_offset,r=1,s=1;i.dims[4]&&(r=i.dims[4]),i.dims[5]&&(s=i.dims[5]);var n=i.dims[1]*i.dims[2]*i.dims[3]*r*s*(i.numBitsPerVoxel/8);return e.slice(t,t+n)}var B4=Object.defineProperty,N4=i=>{throw TypeError(i)},y7=(i,e,t)=>e in i?B4(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t,ho=(i,e)=>{for(var t in e)B4(i,t,{get:e[t],enumerable:!0})},W=(i,e,t)=>y7(i,typeof e!="symbol"?e+"":e,t),R4=(i,e,t)=>e.has(i)||N4("Cannot "+t),We=(i,e,t)=>(R4(i,e,"read from private field"),t?t.call(i):e.get(i)),Hs=(i,e,t)=>e.has(i)?N4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(i):e.set(i,t),fs=(i,e,t,r)=>(R4(i,e,"write to private field"),e.set(i,t),t),Wu="0.56.0",V4=class kr{constructor({name:e="niivue",level:t="info"}={}){W(this,"level"),W(this,"name"),this.name=`${e}`,this.level=t}debug(...e){kr.levels[this.level]>kr.levels.debug||console.debug(`${this.name}-debug`,...e)}info(...e){kr.levels[this.level]>kr.levels.info||console.info(`${this.name}-info`,...e)}warn(...e){kr.levels[this.level]>kr.levels.warn||console.warn(`${this.name}-warn`,...e)}error(...e){kr.levels[this.level]>kr.levels.error||console.error(`${this.name}-error`,...e)}fatal(...e){kr.levels[this.level]>kr.levels.fatal||console.error(`${this.name}-fatal`,...e)}setLogLevel(e){this.level=e}setName(e){this.name=e}};W(V4,"levels",{debug:0,info:1,warn:2,error:3,fatal:4,silent:1/0});var w7=V4,Z=new w7({name:"niivue",level:"info"}),S7=function(i,e,t){const r=i.createShader(i.VERTEX_SHADER);i.shaderSource(r,e),i.compileShader(r);const s=i.createShader(i.FRAGMENT_SHADER);i.shaderSource(s,t),i.compileShader(s);const n=i.createProgram();if(i.attachShader(n,r),i.attachShader(n,s),i.linkProgram(n),!i.getProgramParameter(n,i.LINK_STATUS))throw console.log(i.getProgramInfoLog(n)),i.getShaderParameter(r,i.COMPILE_STATUS)||console.log("Vertex shader compilation error:",i.getShaderInfoLog(r)),i.getShaderParameter(s,i.COMPILE_STATUS)||console.log("Fragment shader compilation error:",i.getShaderInfoLog(s)),Z.error(i.getProgramInfoLog(n)),new Error("Shader failed to link, see console for log");return n},At=class{constructor(i,e,t){W(this,"program"),W(this,"uniforms",{}),W(this,"isMatcap"),this.program=S7(i,e,t);const r=/uniform[^;]+[ ](\w+);/g,s=/uniform[^;]+[ ](\w+);/,n=e.match(r),a=t.match(r);n&&n.forEach(l=>{const o=l.match(s);this.uniforms[o[1]]=-1}),a&&a.forEach(l=>{const o=l.match(s);this.uniforms[o[1]]=-1});for(const l in this.uniforms)this.uniforms[l]=i.getUniformLocation(this.program,l)}use(i){i.useProgram(this.program)}},Ys=`#version 300 es
#line 4
layout(location=0) in vec3 pos;
layout(location=1) in vec3 texCoords;
uniform mat4 mvpMtx;
out vec3 vColor;
void main(void) {
	gl_Position = mvpMtx * vec4(pos, 1.0);
	vColor = texCoords;
}`,U4=`
	vec4 drawColor(float scalar, float drawOpacity) {
		float nlayer = float(textureSize(colormap, 0).y);
		float layer = (nlayer - 0.5) / nlayer;
		vec4 dcolor = texture(colormap, vec2((scalar * 255.0)/256.0 + 0.5/256.0, layer)).rgba;
		dcolor.a *= drawOpacity;
		return dcolor;
}`,wn=`vec3 GetBackPosition(vec3 startPositionTex) {
	vec3 startPosition = startPositionTex * volScale;
	vec3 invR = 1.0 / rayDir;
	vec3 tbot = invR * (vec3(0.0)-startPosition);
	vec3 ttop = invR * (volScale-startPosition);
	vec3 tmax = max(ttop, tbot);
	vec2 t = min(tmax.xx, tmax.yz);
	vec3 endPosition = startPosition + (rayDir * min(t.x, t.y));
	//convert world position back to texture position:
	endPosition = endPosition / volScale;
	return endPosition;
}

vec4 applyClip (vec3 dir, inout vec4 samplePos, inout float len, inout bool isClip) {
	float cdot = dot(dir,clipPlane.xyz);
	isClip = false;
	if  ((clipPlane.a > 1.0) || (cdot == 0.0)) return samplePos;
	bool frontface = (cdot > 0.0);
	float dis = (-clipPlane.a - dot(clipPlane.xyz, samplePos.xyz-0.5)) / cdot;
	float thick = clipThick;
	if (thick <= 0.0) thick = 2.0;
	float  disBackFace = (-(clipPlane.a-thick) - dot(clipPlane.xyz, samplePos.xyz-0.5)) / cdot;
	if (((frontface) && (dis >= len)) || ((!frontface) && (dis <= 0.0))) {
		samplePos.a = len + 1.0;
		return samplePos;
	}
	if (frontface) {
		dis = max(0.0, dis);
		samplePos = vec4(samplePos.xyz+dir * dis, dis);
		if (dis > 0.0) isClip = true;
		len = min(disBackFace, len);
	}
	if (!frontface) {
		len = min(dis, len);
		disBackFace = max(0.0, disBackFace);
		if (len == dis) isClip = true;
		samplePos = vec4(samplePos.xyz+dir * disBackFace, disBackFace);
	}
	return samplePos;
}

void clipVolume(inout vec3 startPos, inout vec3 backPos, int dim, float frac, bool isLo) {
	vec3 dir = backPos - startPos;
	float len = length(dir);
	dir = normalize(dir);
	// Discard if both startPos and backPos are outside the clipping plane
	if (isLo && startPos[dim] < frac && backPos[dim] < frac) {
		discard;
	}
	if (!isLo && startPos[dim] > frac && backPos[dim] > frac) {
		discard;
	}
	vec4 plane = vec4(0.0, 0.0, 0.0, 0.5 - frac);
	plane[dim] = 1.0;
	float cdot = dot(dir, plane.xyz);
	float dis = (-plane.w - dot(plane.xyz, startPos - vec3(0.5))) / cdot;
	// Adjust startPos or backPos based on the intersection with the plane
	bool isFrontFace = (cdot > 0.0);
	if (!isLo)
		isFrontFace = !isFrontFace;
	if (dis > 0.0) {
		if (isFrontFace) {
				if (dis <= len) {
					startPos = startPos + dir * dis;
				}
		} else {
			if (dis < len) {
				backPos = startPos + dir * dis;
			}
		}
	}
}

void clipVolumeStart (inout vec3 startPos, inout vec3 backPos) {
	// vec3 clipLo = vec3(0.1, 0.2, 0.4);
	// vec3 clipHi = vec3(0.8, 0.7, 0.7);
	for (int i = 0; i < 3; i++) {
		if (clipLo[i] > 0.0)
			clipVolume(startPos, backPos, i, clipLo[i], true);
	}
	for (int i = 0; i < 3; i++) {
		if (clipHi[i] < 1.0)
			clipVolume(startPos, backPos, i, clipHi[i], false);
	}
}

float frac2ndc(vec3 frac) {
//https://stackoverflow.com/questions/7777913/how-to-render-depth-linearly-in-modern-opengl-with-gl-fragcoord-z-in-fragment-sh
	vec4 pos = vec4(frac.xyz, 1.0); //fraction
	vec4 dim = vec4(vec3(textureSize(volume, 0)), 1.0);
	pos = pos * dim;
	vec4 shim = vec4(-0.5, -0.5, -0.5, 0.0);
	pos += shim;
	vec4 mm = transpose(matRAS) * pos;
	float z_ndc = (mvpMtx * vec4(mm.xyz, 1.0)).z;
	return (z_ndc + 1.0) / 2.0;
}`+U4,oc=`void main() {
	if (fColor.x > 2.0) {
		fColor = vec4(1.0, 0.0, 0.0, 0.5);
		return;
	}
	fColor = vec4(0.0,0.0,0.0,0.0);
	vec4 clipPlaneColorX = clipPlaneColor;
	//if (clipPlaneColor.a < 0.0)
	//	clipPlaneColorX.a = - 1.0;
	bool isColorPlaneInVolume = false;
	if (clipPlaneColorX.a < 0.0) {
		isColorPlaneInVolume = true;
		clipPlaneColorX.a = 0.0;
	}
	//fColor = vec4(vColor.rgb, 1.0); return;
	vec3 start = vColor;
	gl_FragDepth = 0.0;
	vec3 backPosition = GetBackPosition(start);
	// fColor = vec4(backPosition, 1.0); return;
	vec3 dir = normalize(backPosition - start);
	clipVolumeStart(start, backPosition);
	dir = normalize(dir);
	float len = length(backPosition - start);
	float lenVox = length((texVox * start) - (texVox * backPosition));
	if ((lenVox < 0.5) || (len > 3.0)) { //length limit for parallel rays
		return;
	}
	float sliceSize = len / lenVox; //e.g. if ray length is 1.0 and traverses 50 voxels, each voxel is 0.02 in unit cube
	float stepSize = sliceSize; //quality: larger step is faster traversal, but fewer samples
	float opacityCorrection = stepSize/sliceSize;
	vec4 deltaDir = vec4(dir.xyz * stepSize, stepSize);
	vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	float lenNoClip = len;
	bool isClip = false;
	vec4 clipPos = applyClip(dir, samplePos, len, isClip);
	//if ((clipPos.a != samplePos.a) && (len < 3.0)) {
	//start: OPTIONAL fast pass: rapid traversal until first hit
	float stepSizeFast = sliceSize * 1.9;
	vec4 deltaDirFast = vec4(dir.xyz * stepSizeFast, stepSizeFast);
	while (samplePos.a <= len) {
		float val = texture(volume, samplePos.xyz).a;
		if (val > 0.01)
			break;
		samplePos += deltaDirFast; //advance ray position
	}
	float drawOpacityA = renderDrawAmbientOcclusionXY.y;
	if ((samplePos.a >= len) && (((overlays < 1.0) && (drawOpacityA <= 0.0) ) || (backgroundMasksOverlays > 0)))  {
		if (isClip)
			fColor += clipPlaneColorX;
		return;
	}
	fColor = vec4(1.0, 1.0, 1.0, 1.0);
	//gl_FragDepth = frac2ndc(samplePos.xyz); //crude due to fast pass resolution
	samplePos -= deltaDirFast;
	if (samplePos.a < 0.0)
		vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	//end: fast pass
	vec4 colAcc = vec4(0.0,0.0,0.0,0.0);
	vec4 firstHit = vec4(0.0,0.0,0.0,2.0 * lenNoClip);
	const float earlyTermination = 0.95;
	float backNearest = len; //assume no hit
	float ran = fract(sin(gl_FragCoord.x * 12.9898 + gl_FragCoord.y * 78.233) * 43758.5453);
	samplePos += deltaDir * ran; //jitter ray
`,uo=`
	if (firstHit.a < len)
		gl_FragDepth = frac2ndc(firstHit.xyz);
	colAcc.a = (colAcc.a / earlyTermination) * backOpacity;
	fColor = colAcc;
	//if (isClip) //CR
	if ((isColorPlaneInVolume) && (clipPos.a != samplePos.a) && (abs(firstHit.a - clipPos.a) < deltaDir.a))
		fColor.rgb = mix(fColor.rgb, clipPlaneColorX.rgb, abs(clipPlaneColor.a));
		//fColor.rgb = mix(fColor.rgb, clipPlaneColorX.rgb, clipPlaneColorX.a * 0.65);
	float renderDrawAmbientOcclusionX = renderDrawAmbientOcclusionXY.x;
	float drawOpacity = renderDrawAmbientOcclusionXY.y;
	if ((overlays < 1.0) && (drawOpacity <= 0.0))
		return;
	//overlay pass
	len = lenNoClip;
	samplePos = vec4(start.xyz, 0.0); //ray position
	//start: OPTIONAL fast pass: rapid traversal until first hit
	stepSizeFast = sliceSize * 1.0;
	deltaDirFast = vec4(dir.xyz * stepSizeFast, stepSizeFast);
	while (samplePos.a <= len) {
		float val = texture(overlay, samplePos.xyz).a;
		if (drawOpacity > 0.0)
			val = max(val, texture(drawing, samplePos.xyz).r);
		if (val > 0.001)
			break;
		samplePos += deltaDirFast; //advance ray position
	}
	if (samplePos.a >= len) {
		if (isClip && (fColor.a == 0.0))
				fColor += clipPlaneColorX;
			return;
	}
	samplePos -= deltaDirFast;
	if (samplePos.a < 0.0)
		vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	//end: fast pass
	float overFarthest = len;
	colAcc = vec4(0.0, 0.0, 0.0, 0.0);

	samplePos += deltaDir * ran; //jitter ray
	vec4 overFirstHit = vec4(0.0,0.0,0.0,2.0 * len);
	if (backgroundMasksOverlays > 0)
		samplePos = firstHit;
	bool firstDraw = true;
	while (samplePos.a <= len) {
		vec4 colorSample = texture(overlay, samplePos.xyz);
		if ((colorSample.a < 0.01) && (drawOpacity > 0.0)) {
			float val = texture(drawing, samplePos.xyz).r;
			vec4 draw = drawColor(val, drawOpacity);
			if ((draw.a > 0.0) && (firstDraw)) {
				firstDraw = false;
				float sum = 0.0;
				const float mn = 1.0 / 256.0;
				const float sampleRadius = 1.1;
				float dx = sliceSize * sampleRadius;
				vec3 center = samplePos.xyz;
				//six neighbors that share a face
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,0.0,+dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,0.0,-dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,+dx,0.0), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,-dx,0.0), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(+dx,0.0,0.0), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(-dx,0.0,0.0), dir)).r, mn);
				//float proportion = (sum / mn) / 6.0;
				
				//12 neighbors that share an edge
				dx = sliceSize * sampleRadius * sqrt(2.0) * 0.5;
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,+dx,+dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(+dx,0.0,+dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(+dx,+dx,0.0), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,-dx,-dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(-dx,0.0,-dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(-dx,-dx,0.0), dir)).r, mn);

				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,+dx,-dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(+dx,0.0,-dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(+dx,-dx,0.0), dir)).r, mn);
				
				sum += min(texture(drawing, center.xyz + cross(vec3(0.0,-dx,+dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(-dx,0.0,+dx), dir)).r, mn);
				sum += min(texture(drawing, center.xyz + cross(vec3(-dx,+dx,0.0), dir)).r, mn);
				float proportion = (sum / mn) / 18.0; //proportion of six neighbors is non-zero
				
				//a high proportion of hits means crevice
				//since the AO term adds shadows that darken most voxels, it will result in dark surfaces
				//the term brighten adds a little illumination to balance this
				// without brighten, only the most extreme ridges will not be darker
				const float brighten = 1.2;
				vec3 ao = draw.rgb * (1.0 - proportion) * brighten;
				draw.rgb = mix (draw.rgb, ao , renderDrawAmbientOcclusionX);
			}
			colorSample = draw;
		}
		samplePos += deltaDir; //advance ray position
		if (colorSample.a >= 0.01) {
			if (overFirstHit.a > len)
				overFirstHit = samplePos;
			colorSample.a *= renderOverlayBlend;
			colorSample.a = 1.0-pow((1.0 - colorSample.a), opacityCorrection);
			colorSample.rgb *= colorSample.a;
			colAcc= (1.0 - colAcc.a) * colorSample + colAcc;
			overFarthest = samplePos.a;
			if ( colAcc.a > earlyTermination )
				break;
		}
	}
	//if (samplePos.a >= len) {
	if (colAcc.a <= 0.0) {
		if (isClip && (fColor.a == 0.0))
			fColor += clipPlaneColorX;
		return;
	}
	if (overFirstHit.a < firstHit.a)
		gl_FragDepth = frac2ndc(overFirstHit.xyz);
	float overMix = colAcc.a;
	float overlayDepth = 0.3;
	if (fColor.a <= 0.0)
		overMix = 1.0;
	else if (((overFarthest) > backNearest)) {
		float dx = (overFarthest - backNearest)/1.73;
		dx = fColor.a * pow(dx, overlayDepth);
		overMix *= 1.0 - dx;
	}
	fColor.rgb = mix(fColor.rgb, colAcc.rgb, overMix);
	fColor.a = max(fColor.a, colAcc.a);
}`,M7=`#version 300 es
#line 215
precision highp int;
precision highp float;
uniform vec3 rayDir;
uniform vec3 texVox;
uniform int backgroundMasksOverlays;
uniform vec3 volScale;
uniform vec4 clipPlane;
uniform highp sampler3D volume, overlay;
uniform float overlays;
uniform float clipThick;
uniform vec3 clipLo;
uniform vec3 clipHi;
uniform float backOpacity;
uniform mat4 mvpMtx;
uniform mat4 matRAS;
uniform vec4 clipPlaneColor;
uniform float renderOverlayBlend;
uniform highp sampler3D drawing;
uniform highp sampler2D colormap;
uniform vec2 renderDrawAmbientOcclusionXY;
in vec3 vColor;
out vec4 fColor;
`+wn+`
	void main() {
	vec3 start = vColor;
	gl_FragDepth = 0.0;
	vec3 backPosition = GetBackPosition(start);
	vec3 dir = normalize(backPosition - start);
	clipVolumeStart(start, backPosition);
	float len = length(backPosition - start);
	float lenVox = length((texVox * start) - (texVox * backPosition));
	if ((lenVox < 0.5) || (len > 3.0)) { //length limit for parallel rays
		fColor = vec4(0.0,0.0,0.0,0.0);
		return;
	}
	float sliceSize = len / lenVox; //e.g. if ray length is 1.0 and traverses 50 voxels, each voxel is 0.02 in unit cube
	float stepSize = sliceSize; //quality: larger step is faster traversal, but fewer samples
	float opacityCorrection = stepSize/sliceSize;
	vec4 deltaDir = vec4(dir.xyz * stepSize, stepSize);
	vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	vec4 colAcc = vec4(0.0,0.0,0.0,0.0);
	vec4 firstHit = vec4(0.0,0.0,0.0,2.0 * len);
	const float earlyTermination = 0.95;
	float backNearest = len; //assume no hit
	float dis = len;
	//check if axial plane is closest
	vec4 aClip = vec4(0.0, 0.0, 1.0, (1.0- clipPlane.z) - 0.5);
	float adis = (-aClip.a - dot(aClip.xyz, samplePos.xyz-0.5)) / dot(dir,aClip.xyz);
	if (adis > 0.0)
		dis = min(adis, dis);
	//check of coronal plane is closest
	vec4 cClip = vec4(0.0, 1.0, 0.0, (1.0- clipPlane.y) - 0.5);
	float cdis = (-cClip.a - dot(cClip.xyz, samplePos.xyz-0.5)) / dot(dir,cClip.xyz);
	if (cdis > 0.0)
		dis = min(cdis, dis);
	//check if coronal slice is closest
	vec4 sClip = vec4(1.0, 0.0, 0.0, (1.0- clipPlane.x) - 0.5);
	float sdis = (-sClip.a - dot(sClip.xyz, samplePos.xyz-0.5)) / dot(dir,sClip.xyz);
	if (sdis > 0.0)
		dis = min(sdis, dis);
	if ((dis > 0.0) && (dis < len)) {
		samplePos = vec4(samplePos.xyz+dir * dis, dis);
		colAcc = texture(volume, samplePos.xyz);
		colAcc.a = earlyTermination;
		firstHit = samplePos;
		backNearest = min(backNearest, samplePos.a);
	}
	//the following are only used by overlays
	vec4 clipPlaneColorX = clipPlaneColor;
	bool isColorPlaneInVolume = false;
	float lenNoClip = len;
	bool isClip = false;
	vec4 clipPos = applyClip(dir, samplePos, len, isClip);
	float stepSizeFast = sliceSize * 1.9;
	vec4 deltaDirFast = vec4(dir.xyz * stepSizeFast, stepSizeFast);
	if (samplePos.a < 0.0)
		vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	float ran = fract(sin(gl_FragCoord.x * 12.9898 + gl_FragCoord.y * 78.233) * 43758.5453);
	samplePos += deltaDir * ran; //jitter ray
`+uo,C7=`#version 300 es
#line 215
precision highp int;
precision highp float;
uniform vec3 rayDir;
uniform vec3 texVox;
uniform int backgroundMasksOverlays;
uniform vec3 volScale;
uniform vec4 clipPlane;
uniform highp sampler3D volume, overlay;
uniform float overlays;
uniform float clipThick;
uniform vec3 clipLo;
uniform vec3 clipHi;
uniform float backOpacity;
uniform mat4 mvpMtx;
uniform mat4 matRAS;
uniform vec4 clipPlaneColor;
uniform float renderOverlayBlend;
uniform highp sampler3D drawing;
uniform highp sampler2D colormap;
uniform vec2 renderDrawAmbientOcclusionXY;
in vec3 vColor;
out vec4 fColor;
`+wn+oc+`while (samplePos.a <= len) {
		vec4 colorSample = texture(volume, samplePos.xyz);
		samplePos += deltaDir; //advance ray position
		if (colorSample.a >= 0.01) {
			if (firstHit.a > lenNoClip)
				firstHit = samplePos;
			backNearest = min(backNearest, samplePos.a);
			colorSample.a = 1.0-pow((1.0 - colorSample.a), opacityCorrection);
			colorSample.rgb *= colorSample.a;
			colAcc= (1.0 - colAcc.a) * colorSample + colAcc;
			if ( colAcc.a > earlyTermination )
				break;
		}
	}
`+uo,z4=`#version 300 es
#line 215
precision highp int;
precision highp float;
uniform vec3 rayDir;
uniform vec3 texVox;
uniform int backgroundMasksOverlays;
uniform vec3 volScale;
uniform vec4 clipPlane;
uniform highp sampler3D volume, overlay;
uniform float overlays;
uniform float clipThick;
uniform vec3 clipLo;
uniform vec3 clipHi;
uniform float backOpacity;
uniform mat4 mvpMtx;
uniform mat4 normMtx;
uniform mat4 matRAS;
uniform vec4 clipPlaneColor;
uniform float renderOverlayBlend;
uniform highp sampler3D drawing, gradient;
uniform highp sampler2D colormap;
uniform highp sampler2D matCap;
uniform vec2 renderDrawAmbientOcclusionXY;
uniform float gradientAmount;
uniform float gradientOpacity[256];
in vec3 vColor;
out vec4 fColor;
`,T7=z4+wn+oc+`
	float startPos = samplePos.a;
	float clipClose = clipPos.a + 3.0 * deltaDir.a; //do not apply gradients near clip plane
	float brighten = 2.0; //modulating makes average intensity darker 0.5 * 0.5 = 0.25
	//vec4 prevGrad = vec4(0.0);
	while (samplePos.a <= len) {
		vec4 colorSample = texture(volume, samplePos.xyz);
		if (colorSample.a >= 0.0) {
			vec4 grad = texture(gradient, samplePos.xyz);
			grad.rgb = normalize(grad.rgb*2.0 - 1.0);
			//if (grad.a < prevGrad.a)
			//	grad.rgb = prevGrad.rgb;
			//prevGrad = grad;
			vec3 n = mat3(normMtx) * grad.rgb;
			n.y = - n.y;
			vec4 mc = vec4(texture(matCap, n.xy * 0.5 + 0.5).rgb, 1.0) * brighten;
			mc = mix(vec4(1.0), mc, gradientAmount);
			if (samplePos.a > clipClose)
				colorSample.rgb *= mc.rgb;
			if (firstHit.a > lenNoClip)
				firstHit = samplePos;
			backNearest = min(backNearest, samplePos.a);
			colorSample.a = 1.0-pow((1.0 - colorSample.a), opacityCorrection);
			int gradIdx = int(grad.a * 255.0);
			colorSample.a *= gradientOpacity[gradIdx];
			colorSample.rgb *= colorSample.a;
			colAcc= (1.0 - colAcc.a) * colorSample + colAcc;
			if ( colAcc.a > earlyTermination )
				break;
		}
		samplePos += deltaDir; //advance ray position
	}
`+uo,D7=z4+wn+oc+`
	float startPos = samplePos.a;
	float clipClose = clipPos.a + 3.0 * deltaDir.a; //do not apply gradients near clip plane
	float brighten = 2.0; //modulating makes average intensity darker 0.5 * 0.5 = 0.25
	//vec4 prevGrad = vec4(0.0);
	while (samplePos.a <= len) {
		vec4 colorSample = texture(volume, samplePos.xyz);
		if (colorSample.a >= 0.0) {
			vec4 grad = texture(gradient, samplePos.xyz);
			colorSample.rgb = abs(normalize(grad.rgb*2.0 - 1.0));
			if (firstHit.a > lenNoClip)
				firstHit = samplePos;
			backNearest = min(backNearest, samplePos.a);
			colorSample.a = 1.0-pow((1.0 - colorSample.a), opacityCorrection);
			colorSample.rgb *= colorSample.a;
			colAcc= (1.0 - colAcc.a) * colorSample + colAcc;
			if ( colAcc.a > earlyTermination )
				break;
		}
		samplePos += deltaDir; //advance ray position
	}
`+uo,ju=`#version 300 es
#line 392
layout(location=0) in vec3 pos;
uniform int axCorSag;
uniform mat4 mvpMtx;
uniform mat4 frac2mm;
uniform float slice;
out vec3 texPos;
void main(void) {
	texPos = vec3(pos.x, pos.y, slice);
	if (axCorSag > 1)
		texPos = vec3(slice, pos.x, pos.y);
	else if (axCorSag > 0)
		texPos = vec3(pos.x, slice, pos.y);
	vec4 mm = frac2mm * vec4(texPos, 1.0);
	gl_Position = mvpMtx * mm;
}`,P4=`#version 300 es
#line 411
precision highp int;
precision highp float;
uniform highp sampler3D volume, overlay;
uniform int backgroundMasksOverlays;
uniform float overlayOutlineWidth;
uniform float overlayAlphaShader;
uniform int axCorSag;
uniform float overlays;
uniform float opacity;
uniform float drawOpacity;
uniform bool isAlphaClipDark;
uniform highp sampler3D drawing;
uniform highp sampler2D colormap;
in vec3 texPos;
out vec4 color;`+U4+`void main() {
	//color = vec4(1.0, 0.0, 1.0, 1.0);return;
	vec4 background = texture(volume, texPos);
	color = vec4(background.rgb, opacity);
	if ((isAlphaClipDark) && (background.a == 0.0)) color.a = 0.0; //FSLeyes clipping range
	vec4 ocolor = vec4(0.0);
	float overlayAlpha = overlayAlphaShader;
	if (overlays > 0.0) {
		ocolor = texture(overlay, texPos);
		//dFdx for "boxing" issue 435 has aliasing on some implementations (coarse vs fine)
		//however, this only identifies 50% of the edges due to aliasing effects
		// http://www.aclockworkberry.com/shader-derivative-functions/
		// https://bgolus.medium.com/distinctive-derivative-differences-cce38d36797b
		//if ((ocolor.a >= 1.0) && ((dFdx(ocolor.a) != 0.0) || (dFdy(ocolor.a) != 0.0)  ))
		//	ocolor.rbg = vec3(0.0, 0.0, 0.0);
		bool isOutlineBelowNotAboveThreshold = true;
		if (isOutlineBelowNotAboveThreshold) {
			if ((overlayOutlineWidth > 0.0) && (ocolor.a < 1.0)) { //check voxel neighbors for edge
				vec3 vx = (overlayOutlineWidth ) / vec3(textureSize(overlay, 0));
				//6 voxel neighbors that share a face
				vec3 vxR = vec3(texPos.x+vx.x, texPos.y, texPos.z);
				vec3 vxL = vec3(texPos.x-vx.x, texPos.y, texPos.z);
				vec3 vxA = vec3(texPos.x, texPos.y+vx.y, texPos.z);
				vec3 vxP = vec3(texPos.x, texPos.y-vx.y, texPos.z);
				vec3 vxS = vec3(texPos.x, texPos.y, texPos.z+vx.z);
				vec3 vxI = vec3(texPos.x, texPos.y, texPos.z-vx.z);
				float a = 0.0;
				if (axCorSag != 2) {
					a = max(a, texture(overlay, vxR).a);
					a = max(a, texture(overlay, vxL).a);
				}
				if (axCorSag != 1) {
					a = max(a, texture(overlay, vxA).a);
					a = max(a, texture(overlay, vxP).a);
				}
				if (axCorSag != 0) {
					a = max(a, texture(overlay, vxS).a);
					a = max(a, texture(overlay, vxI).a);
				}
				bool isCheckCorners = true;
				if (isCheckCorners) {
					//12 voxel neighbors that share an edge
					vec3 vxRA = vec3(texPos.x+vx.x, texPos.y+vx.y, texPos.z);
					vec3 vxLA = vec3(texPos.x-vx.x, texPos.y+vx.y, texPos.z);
					vec3 vxRP = vec3(texPos.x+vx.x, texPos.y-vx.y, texPos.z);
					vec3 vxLP = vec3(texPos.x-vx.x, texPos.y-vx.y, texPos.z);
					vec3 vxRS = vec3(texPos.x+vx.x, texPos.y, texPos.z+vx.z);
					vec3 vxLS = vec3(texPos.x-vx.x, texPos.y, texPos.z+vx.z);
					vec3 vxRI = vec3(texPos.x+vx.x, texPos.y, texPos.z-vx.z);
					vec3 vxLI = vec3(texPos.x-vx.x, texPos.y, texPos.z-vx.z);
					vec3 vxAS = vec3(texPos.x, texPos.y+vx.y, texPos.z+vx.z);
					vec3 vxPS = vec3(texPos.x, texPos.y-vx.y, texPos.z+vx.z);
					vec3 vxAI = vec3(texPos.x, texPos.y+vx.y, texPos.z-vx.z);
					vec3 vxPI = vec3(texPos.x, texPos.y-vx.y, texPos.z-vx.z);

					if (axCorSag == 0) { //axial corners
						a = max(a, texture(overlay, vxRA).a);
						a = max(a, texture(overlay, vxLA).a);
						a = max(a, texture(overlay, vxRP).a);
						a = max(a, texture(overlay, vxLP).a);
					}
					if (axCorSag == 1) { //coronal corners
						a = max(a, texture(overlay, vxRS).a);
						a = max(a, texture(overlay, vxLS).a);
						a = max(a, texture(overlay, vxRI).a);
						a = max(a, texture(overlay, vxLI).a);
					}
					if (axCorSag == 2) { //sagittal corners
						a = max(a, texture(overlay, vxAS).a);
						a = max(a, texture(overlay, vxPS).a);
						a = max(a, texture(overlay, vxAI).a);
						a = max(a, texture(overlay, vxPI).a);
					}
				}
				if (a >= 1.0) {
					ocolor = vec4(0.0, 0.0, 0.0, 1.0);
					overlayAlpha = 1.0;
				}
			}

		} else {
			if ((overlayOutlineWidth > 0.0) && (ocolor.a >= 1.0)) { //check voxel neighbors for edge
				vec3 vx = (overlayOutlineWidth ) / vec3(textureSize(overlay, 0));
				vec3 vxR = vec3(texPos.x+vx.x, texPos.y, texPos.z);
				vec3 vxL = vec3(texPos.x-vx.x, texPos.y, texPos.z);
				vec3 vxA = vec3(texPos.x, texPos.y+vx.y, texPos.z);
				vec3 vxP = vec3(texPos.x, texPos.y-vx.y, texPos.z);
				vec3 vxS = vec3(texPos.x, texPos.y, texPos.z+vx.z);
				vec3 vxI = vec3(texPos.x, texPos.y, texPos.z-vx.z);
				float a = 1.0;
				if (axCorSag != 2) {
					a = min(a, texture(overlay, vxR).a);
					a = min(a, texture(overlay, vxL).a);
				}
				if (axCorSag != 1) {
					a = min(a, texture(overlay, vxA).a);
					a = min(a, texture(overlay, vxP).a);
				}
				if (axCorSag != 0) {
					a = min(a, texture(overlay, vxS).a);
					a = min(a, texture(overlay, vxI).a);
				}
				if (a < 1.0) {
					ocolor = vec4(0.0, 0.0, 0.0, 1.0);
					overlayAlpha = 1.0;
				}
			}
		} //outline above threshold
	}

`,L4=`	ocolor.a *= overlayAlpha;
	vec4 dcolor = drawColor(texture(drawing, texPos).r, drawOpacity);
	if (dcolor.a > 0.0) {
		color.rgb = mix(color.rgb, dcolor.rgb, dcolor.a);
		color.a = max(drawOpacity, color.a);
	}
	if ((backgroundMasksOverlays > 0) && (background.a == 0.0))
		return;
	float a = color.a + ocolor.a * (1.0 - color.a); // premultiplied alpha
	if (a == 0.0) return;
	color.rgb = mix(color.rgb, ocolor.rgb, ocolor.a / a);
	color.a = a;
}`,k7=P4+L4,I7=P4+`	if (ocolor.a > 0.0) {
		//https://gamedev.stackexchange.com/questions/102889/is-it-possible-to-convert-vec4-to-int-in-glsl-using-opengl-es
		uint alpha = uint(ocolor.a * 255.0);
		vec3 xyzFlip = vec3(float((uint(1) & alpha) > uint(0)), float((uint(2) & alpha) > uint(0)), float((uint(4) & alpha) > uint(0)));
		//convert from 0 and 1 to -1 and 1
		xyzFlip = (xyzFlip * 2.0) - 1.0;
		//https://math.stackexchange.com/questions/1905533/find-perpendicular-distance-from-point-to-line-in-3d
		//v1 principle direction of tensor for this voxel
		vec3 v1 = ocolor.rgb;
		//flips encode polarity to convert from 0..1 to -1..1 (27 bits vs 24 bit precision)
		v1 = normalize( v1 * xyzFlip);
		vec3 vxl = fract(texPos * vec3(textureSize(volume, 0))) - 0.5;
		//vxl coordinates now -0.5..+0.5 so 0,0,0 is origin
		vxl.x = -vxl.x;
		float t = dot(vxl,v1);
		vec3 P = t * v1;
		float dx = length(P-vxl);
		ocolor.a = 1.0 - smoothstep(0.2,0.25, dx);
		//if modulation was applied, use that to scale alpha not color:
		ocolor.a *= length(ocolor.rgb);
		ocolor.rgb = normalize(ocolor.rgb);
		//compute distance one half voxel closer to viewer:
		float pan = 0.5;
		if (axCorSag == 0)
			vxl.z -= pan;
		if (axCorSag == 1)
			vxl.y -= pan;
		if (axCorSag == 2)
			vxl.x += pan;
		t = dot(vxl,v1);
		P = t * v1;
		float dx2 = length(P-vxl);
		ocolor.rgb += (dx2-dx-(0.5 * pan)) * 1.0;
	}
`+L4,kl=`#version 300 es
#line 480
precision highp int;
precision highp float;
uniform vec4 lineColor;
out vec4 color;
void main() {
	color = lineColor;
}`,E7=`#version 300 es
#line 723
precision highp int;
precision highp float;

uniform vec4 lineColor;
uniform vec4 leftTopWidthHeight;
uniform float thickness; // line thickness in pixels
uniform vec2 canvasWidthHeight;

out vec4 color;

void main() {
    // fragment position in screen coordinates
    vec2 fragCoord = gl_FragCoord.xy;

    // canvas height
    float canvasHeight = canvasWidthHeight.y;

    // 'top' and 'bottom' to match gl_FragCoord.y coordinate system
    float top = canvasHeight - leftTopWidthHeight.y;
    float bottom = top - leftTopWidthHeight.w;

    // left and right edges
    float left = leftTopWidthHeight.x;
    float right = left + leftTopWidthHeight.z;

    bool withinLeft = fragCoord.x >= left && fragCoord.x <= left + thickness;
    bool withinRight = fragCoord.x <= right && fragCoord.x >= right - thickness;
    bool withinTop = fragCoord.y <= top && fragCoord.y >= top - thickness;
    bool withinBottom = fragCoord.y >= bottom && fragCoord.y <= bottom + thickness;

    bool isOutline = withinLeft || withinRight || withinTop || withinBottom;

    if (isOutline) {
        color = lineColor;
    } else {
        discard; 
    }
}`,F7=`#version 300 es
#line 490
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform vec4 leftTopWidthHeight;
out vec2 vColor;
void main(void) {
	//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1
	vec2 frac;
	frac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1
	frac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0
	frac = (frac * 2.0) - 1.0;
	gl_Position = vec4(frac, 0.0, 1.0);
	vColor = pos.xy;
}`,B7=`#version 300 es
#line 506
precision highp int;
precision highp float;
uniform highp sampler2D colormap;
uniform float layer;
in vec2 vColor;
out vec4 color;
void main() {
	float nlayer = float(textureSize(colormap, 0).y);
	float fmap = (0.5 + layer) / nlayer;
	color = vec4(texture(colormap, vec2(vColor.x, fmap)).rgb, 1.0);
}`,Xu=`#version 300 es
#line 520
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform vec4 leftTopWidthHeight;
void main(void) {
	//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1
	vec2 frac;
	frac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1
	frac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0
	frac = (frac * 2.0) - 1.0;
	gl_Position = vec4(frac, 0.0, 1.0);
}`,N7=`#version 300 es
#line 534
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform float thickness;
uniform vec4 startXYendXY;
void main(void) {
	vec2 posXY = mix(startXYendXY.xy, startXYendXY.zw, pos.x);
	vec2 dir = normalize(startXYendXY.xy - startXYendXY.zw);
	posXY += vec2(-dir.y, dir.x) * thickness * (pos.y - 0.5);
	posXY.x = (posXY.x) / canvasWidthHeight.x; //0..1
	posXY.y = 1.0 - (posXY.y / canvasWidthHeight.y); //1..0
	gl_Position = vec4((posXY * 2.0) - 1.0, 0.0, 1.0);
}`,R7=`#version 300 es
#line 534
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform float thickness;
uniform vec2 startXY;
uniform vec3 endXYZ; // transformed XYZ point
void main(void) {	
	vec2 posXY = mix(startXY.xy, endXYZ.xy, pos.x);
	vec2 startDiff = endXYZ.xy - startXY.xy;
	float startDistance = length(startDiff);
	vec2 diff = endXYZ.xy - posXY;
	float currentDistance = length(diff);
	vec2 dir = normalize(startXY.xy - endXYZ.xy);
	posXY += vec2(-dir.y, dir.x) * thickness * (pos.y - 0.5);
	posXY.x = (posXY.x) / canvasWidthHeight.x; //0..1
	posXY.y = 1.0 - (posXY.y / canvasWidthHeight.y); //1..0	
	float z = endXYZ.z * ( 1.0 - abs(currentDistance/startDistance)); 
	gl_Position = vec4((posXY * 2.0) - 1.0, z, 1.0);
}`,V7=`#version 300 es
#line 549
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform vec4 leftTopWidthHeight;
out vec2 vUV;
void main(void) {
	//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1
	vec2 frac;
	frac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1
	frac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0
	frac = (frac * 2.0) - 1.0;
	gl_Position = vec4(frac, 0.0, 1.0);
	vUV = vec2(pos.x, 1.0 - pos.y);
}`,U7=`#version 300 es
#line 565
precision highp int;
precision highp float;
uniform highp sampler2D bmpTexture;
in vec2 vUV;
out vec4 color;
void main() {
	color = texture(bmpTexture, vUV);
}`,z7=`#version 300 es
#line 576
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform vec4 leftTopWidthHeight;
uniform vec4 uvLeftTopWidthHeight;
out vec2 vUV;
void main(void) {
	//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1
	vec2 frac;
	frac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1
	frac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0
	frac = (frac * 2.0) - 1.0;
	gl_Position = vec4(frac, 0.0, 1.0);
	vUV = vec2(uvLeftTopWidthHeight.x + (pos.x * uvLeftTopWidthHeight.z), uvLeftTopWidthHeight.y  + ((1.0 - pos.y) * uvLeftTopWidthHeight.w) );
}`,P7=`#version 300 es
#line 593
precision highp int;
precision highp float;
uniform highp sampler2D fontTexture;
uniform vec4 fontColor;
uniform float screenPxRange;
in vec2 vUV;
out vec4 color;
float median(float r, float g, float b) {
	return max(min(r, g), min(max(r, g), b));
}
void main() {
	vec3 msd = texture(fontTexture, vUV).rgb;
	float sd = median(msd.r, msd.g, msd.b);
	float screenPxDistance = screenPxRange*(sd - 0.5);
	float opacity = clamp(screenPxDistance + 0.5, 0.0, 1.0);
	color = vec4(fontColor.rgb , fontColor.a * opacity);
}`,L7=`#version 300 es
layout(location=0) in vec3 pos;
uniform vec2 canvasWidthHeight;
uniform vec4 leftTopWidthHeight;
uniform vec4 uvLeftTopWidthHeight;
out vec2 vUV;
void main(void) {
	//convert pixel x,y space 1..canvasWidth,1..canvasHeight to WebGL 1..-1,-1..1
	vec2 frac;
	frac.x = (leftTopWidthHeight.x + (pos.x * leftTopWidthHeight.z)) / canvasWidthHeight.x; //0..1
	frac.y = 1.0 - ((leftTopWidthHeight.y + ((1.0 - pos.y) * leftTopWidthHeight.w)) / canvasWidthHeight.y); //1..0
	frac = (frac * 2.0) - 1.0;
	gl_Position = vec4(frac, 0.0, 1.0);
	vUV = pos.xy;
}`,O7=`#version 300 es
precision highp int;
precision highp float;
uniform vec4 circleColor;
uniform float fillPercent;
in vec2 vUV;
out vec4 color;
void main() {
	/* Check if the pixel is inside the circle
		 and color it with a gradient. Otherwise, color it 
		 transparent   */
	float distance = length(vUV-vec2(0.5,0.5));
	if ( distance < 0.5 && distance >= (1.0 - fillPercent) / 2.0){
			color = vec4(circleColor.r,circleColor.g,circleColor.b,circleColor.a) ;			
	}else{
			color = vec4(0.0,0.0,0.0,0.0);
	}
}
`,ps=`#version 300 es
#line 613
precision highp int;
precision highp float;
in vec3 vPos;
out vec2 TexCoord;
void main() {
	TexCoord = vPos.xy;
	gl_Position = vec4( (vPos.xy-vec2(0.5,0.5)) * 2.0, 0.0, 1.0);
}`,Il=`#version 300 es
uniform highp usampler3D intensityVol;
`,Qu=`#version 300 es
uniform highp isampler3D intensityVol;
`,q7=`#version 300 es
uniform highp sampler3D intensityVol;
`,Zu=`#line 636
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float layer;
uniform highp sampler2D colormap;
uniform lowp sampler3D blend3D;
uniform float opacity;
uniform vec4 xyzaFrac;
uniform mat4 mtx;
void main(void) {
	vec4 vx = vec4(TexCoord.x, TexCoord.y, coordZ, 1.0) * mtx;
	uint idx = uint(texture(intensityVol, vx.xyz).r);
	FragColor = vec4(0.0, 0.0, 0.0, 0.0);
	if (idx == uint(0))
		return;
	//idx = ((idx - uint(1)) % uint(100))+uint(1);
	float textureWidth = float(textureSize(colormap, 0).x);
	float fx = (float(idx)+0.5) / textureWidth;
	float nlayer = float(textureSize(colormap, 0).y);
	float y = ((2.0 * layer) + 1.5)/nlayer;
	FragColor = texture(colormap, vec2(fx, y)).rgba;
	float alpha = FragColor.a;
	FragColor.a *= opacity;
	if (xyzaFrac.a > 0.0) { //outline
		vx = vec4(TexCoord.x+xyzaFrac.x, TexCoord.y, coordZ, 1.0) * mtx;
		uint R = uint(texture(intensityVol, vx.xyz).r);
		vx = vec4(TexCoord.x-xyzaFrac.x, TexCoord.y, coordZ, 1.0) * mtx;
		uint L = uint(texture(intensityVol, vx.xyz).r);
		vx = vec4(TexCoord.x, TexCoord.y+xyzaFrac.y, coordZ, 1.0) * mtx;
		uint A = uint(texture(intensityVol, vx.xyz).r);
		vx = vec4(TexCoord.x, TexCoord.y-xyzaFrac.y, coordZ, 1.0) * mtx;
		uint P = uint(texture(intensityVol, vx.xyz).r);
		vx = vec4(TexCoord.x, TexCoord.y, coordZ+xyzaFrac.z, 1.0) * mtx;
		uint S = uint(texture(intensityVol, vx.xyz).r);
		vx = vec4(TexCoord.x, TexCoord.y, coordZ-xyzaFrac.z, 1.0) * mtx;
		uint I = uint(texture(intensityVol, vx.xyz).r);
		if ((idx != R) || (idx != L) || (idx != A) || (idx != P) || (idx != S) || (idx != I))
			FragColor.a = alpha * xyzaFrac.a;
	}
}`,El=`#line 691
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float layer;
uniform float scl_slope;
uniform float scl_inter;
uniform float cal_max;
uniform float cal_min;
uniform float cal_maxNeg;
uniform float cal_minNeg;
uniform bool isAlphaThreshold;
uniform bool isColorbarFromZero;
uniform bool isAdditiveBlend;
uniform highp sampler2D colormap;
uniform lowp sampler3D blend3D;
uniform int modulation;
uniform highp sampler3D modulationVol;
uniform float opacity;
uniform mat4 mtx;
void main(void) {
	vec4 vx = vec4(TexCoord.xy, coordZ, 1.0) * mtx;
	if ((vx.x < 0.0) || (vx.x > 1.0) || (vx.y < 0.0) || (vx.y > 1.0) || (vx.z < 0.0) || (vx.z > 1.0)) {
		//set transparent if out of range
		//https://webglfundamentals.org/webgl/webgl-3d-textures-repeat-clamp.html
		FragColor = texture(blend3D, vec3(TexCoord.xy, coordZ));
		return;
	}
	float f = (scl_slope * float(texture(intensityVol, vx.xyz).r)) + scl_inter;
	float mn = cal_min;
	float mx = cal_max;
	if ((isAlphaThreshold) || (isColorbarFromZero))
		mn = 0.0;
	float r = max(0.00001, abs(mx - mn));
	mn = min(mn, mx);
	float txl = mix(0.0, 1.0, (f - mn) / r);
	if (f > mn) { //issue1139: survives threshold, so round up to opaque voxel
		txl = max(txl, 2.0/256.0);
	}
	//https://stackoverflow.com/questions/5879403/opengl-texture-coordinates-in-pixel-space
	float nlayer = float(textureSize(colormap, 0).y);
	//each volume has two color maps:
	// (layer*2) = negative and (layer * 2) + 1 = positive
	float y = ((2.0 * layer) + 1.5)/nlayer;
	FragColor = texture(colormap, vec2(txl, y)).rgba;
	//negative colors
	mn = cal_minNeg;
	mx = cal_maxNeg;
	if ((isAlphaThreshold) || (isColorbarFromZero))
		mx = 0.0;
	//if ((!isnan(cal_minNeg)) && ( f < mx)) {
	if ((cal_minNeg < cal_maxNeg) && ( f < mx)) {
		r = max(0.00001, abs(mx - mn));
		mn = min(mn, mx);
		txl = 1.0 - mix(0.0, 1.0, (f - mn) / r);
		//issue1139: survives threshold, so round up to opaque voxel
		txl = max(txl, 2.0/256.0);
		y = ((2.0 * layer) + 0.5)/nlayer;
		FragColor = texture(colormap, vec2(txl, y));
	}
	if (layer > 0.7)
		FragColor.a = step(0.00001, FragColor.a);
	//if (modulation > 10)
	//	FragColor.a *= texture(modulationVol, vx.xyz).r;
	//	FragColor.rgb *= texture(modulationVol, vx.xyz).r;
	if (isAlphaThreshold) {
		if ((cal_minNeg != cal_maxNeg) && ( f < 0.0) && (f > cal_maxNeg))
			FragColor.a = pow(-f / -cal_maxNeg, 2.0);
		else if ((f > 0.0) && (cal_min > 0.0))
			FragColor.a *= pow(f / cal_min, 2.0); //issue435:  A = (V/X)**2
		//FragColor.g = 0.0;
	} else if (isColorbarFromZero) {
		if ((cal_minNeg != cal_maxNeg) && ( f < 0.0) && (f > cal_maxNeg))
			FragColor.a = 0.0;
		else if ((f > 0.0) && (cal_min > 0.0) && (f < cal_min))
			FragColor.a *= 0.0;

	}
	if (modulation == 1) {
		FragColor.rgb *= texture(modulationVol, vx.xyz).r;
	} else if (modulation == 2) {
		FragColor.a = texture(modulationVol, vx.xyz).r;
	}
	FragColor.a *= opacity;
	if (layer < 1.0) return;
	vec4 prevColor = texture(blend3D, vec3(TexCoord.xy, coordZ));
	// https://en.wikipedia.org/wiki/Alpha_compositing
	float aout = FragColor.a + (1.0 - FragColor.a) * prevColor.a;
	if (aout <= 0.0) return;
	if (isAdditiveBlend)
		FragColor.rgb = ((FragColor.rgb * FragColor.a) + (prevColor.rgb * prevColor.a)) / aout;
	else
		FragColor.rgb = ((FragColor.rgb * FragColor.a) + (prevColor.rgb * prevColor.a * (1.0 - FragColor.a))) / aout;
	FragColor.a = aout;
}`,G7=`#line 773
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float layer;
uniform float scl_slope;
uniform float scl_inter;
uniform float cal_max;
uniform float cal_min;
uniform highp sampler2D colormap;
uniform lowp sampler3D blend3D;
uniform float opacity;
uniform mat4 mtx;
uniform bool hasAlpha;
uniform int modulation;
uniform highp sampler3D modulationVol;
void main(void) {
	vec4 vx = vec4(TexCoord.xy, coordZ, 1.0) * mtx;
	uvec4 aColor = texture(intensityVol, vx.xyz);
	FragColor = vec4(float(aColor.r) / 255.0, float(aColor.g) / 255.0, float(aColor.b) / 255.0, float(aColor.a) / 255.0);
	if (modulation == 1)
		FragColor.rgb *= texture(modulationVol, vx.xyz).r;
	if (!hasAlpha) {
		FragColor.a = (FragColor.r * 0.21 + FragColor.g * 0.72 + FragColor.b * 0.07);
		//next line: we could binarize alpha, but see rendering of visible human
		//FragColor.a = step(0.01, FragColor.a);
	}
	if (modulation == 2)
		FragColor.a = texture(modulationVol, vx.xyz).r;
	FragColor.a *= opacity;
}`,H7=`#version 300 es
#line 808
precision highp int;
precision highp float;
in vec3 vPos;
out vec2 TexCoord;
void main() {
	TexCoord = vPos.xy;
	gl_Position = vec4((vPos.x - 0.5) * 2.0, (vPos.y - 0.5) * 2.0, 0.0, 1.0);
}`,Y7=`#version 300 es
#line 829
	precision highp float;
	precision highp int;
	precision highp isampler3D;
	layout(location = 0) out int label;
	layout(location = 1) out int strength;
	in vec2 TexCoord;
	uniform int finalPass;
	uniform float coordZ;
	uniform lowp sampler3D in3D;
	uniform highp isampler3D backTex; // background
	uniform highp isampler3D labelTex; // label
	uniform highp isampler3D strengthTex; // strength
void main(void) {
	vec3 interpolatedTextureCoordinate = vec3(TexCoord.xy, coordZ);
	ivec3 size = textureSize(backTex, 0);
	ivec3 texelIndex = ivec3(floor(interpolatedTextureCoordinate * vec3(size)));
	int background = texelFetch(backTex, texelIndex, 0).r;
	label = texelFetch(labelTex, texelIndex, 0).r;
	strength = texelFetch(strengthTex, texelIndex, 0).r;
	for (int k = -1; k <= 1; k++) {
		for (int j = -1; j <= 1; j++) {
			for (int i = -1; i <= 1; i++) {
				if (i != 0 && j != 0 && k != 0) {
					ivec3 neighborIndex = texelIndex + ivec3(i,j,k);
					int neighborBackground = texelFetch(backTex, neighborIndex, 0).r;
					int neighborStrength = texelFetch(strengthTex, neighborIndex, 0).r;
					int strengthCost = abs(neighborBackground - background);
					int takeoverStrength = neighborStrength - strengthCost;
					if (takeoverStrength > strength) {
						strength = takeoverStrength;
						label = texelFetch(labelTex, neighborIndex, 0).r;
					}
				}
			}
		}
	}
	if (finalPass < 1)
		return;
	int ok = 1;
	ivec4 labelCount = ivec4(0,0,0,0);
	for (int k = -1; k <= 1; k++)
		for (int j = -1; j <= 1; j++)
			for (int i = -1; i <= 1; i++) {
				ivec3 neighborIndex = texelIndex + ivec3(i,j,k);
				int ilabel = texelFetch(labelTex, neighborIndex, 0).r;
				if ((ilabel < 0) || (ilabel > 3))
					ok = 0;
				else
					labelCount[ilabel]++;
			}
	if (ok != 1) {
		return;
	}
	int maxIdx = 0;
	for (int i = 1; i < 4; i++) {
		if (labelCount[i] > labelCount[maxIdx])
			maxIdx = i;
	}
	label = maxIdx;
}`,K7=`#version 300 es
layout(location=0) in vec3 pos;
uniform mat4 mvpMtx;
void main(void) {
	gl_Position = mvpMtx * vec4(pos, 1.0);
}`,W7=`#version 300 es
precision highp int;
precision highp float;
uniform vec4 surfaceColor;
out vec4 color;
void main() {
	color = surfaceColor;
}`,j7=`#version 300 es
layout(location=0) in vec3 pos;
layout(location=1) in vec4 clr;
out vec4 vClr;
uniform mat4 mvpMtx;
void main(void) {
	gl_Position = mvpMtx * vec4(pos, 1.0);
	vClr = clr;
}`,X7=`#version 300 es
precision highp int;
precision highp float;
in vec4 vClr;
out vec4 color;
uniform float opacity;
void main() {
	color = vec4(vClr.rgb, opacity);
}`,Fl=`#version 300 es
layout(location=0) in vec3 pos;
layout(location=1) in vec4 norm;
layout(location=2) in vec4 clr;
uniform mat4 mvpMtx;
//uniform mat4 modelMtx;
uniform mat4 normMtx;
out vec4 vClr;
out vec3 vN;
out vec4 vP;
out vec4 vPc;
void main(void) {
	vec3 lightPosition = vec3(0.0, 0.0, -10.0);
	vP = vec4(pos, 1.0);
	vPc = mvpMtx * vec4(pos, 1.0);
	gl_Position = vPc;
	vN = normalize((normMtx * vec4(norm.xyz,1.0)).xyz);
	//vV = -vec3(modelMtx*vec4(pos,1.0));
	vClr = clr;
}`,Q7=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
out vec4 color;
vec4 packFloatToVec4i(const float value) {
	const vec4 bitSh = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);
	const vec4 bitMsk = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);
	vec4 res = fract(value * bitSh);
	res -= res.xxyz * bitMsk;
	return res;
}
void main() {
	color = packFloatToVec4i(gl_FragCoord.z);
}`,Z7=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
float stepmix(float edge0, float edge1, float E, float x){
	float T = clamp(0.5 * (x - edge0 + E) / E, 0.0, 1.0);
	return mix(edge0, edge1, T);
}
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0);
	float ambient = 0.3;
	float diffuse = 0.6;
	float specular = 0.5;
	float shininess = 50.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float df = max(0.0, dot(n, l));
	float sf = pow(max(dot(reflect(l, n), r), 0.0), shininess);
	const float A = 0.1;
	const float B = 0.3;
	const float C = 0.6;
	const float D = 1.0;
	float E = fwidth(df);
	if (df > A - E && df < A + E) df = stepmix(A, B, E, df);
	else if (df > B - E && df < B + E) df = stepmix(B, C, E, df);
	else if (df > C - E && df < C + E) df = stepmix(C, D, E, df);
	else if (df < A) df = 0.0;
	else if (df < B) df = B;
	else if (df < C) df = C;
	else df = D;
	E = fwidth(sf);
	if (sf > 0.5 - E && sf < 0.5 + E)
		sf = smoothstep(0.5 - E, 0.5 + E, sf);
	else
		sf = step(0.5, sf);
	vec3 a = vClr.rgb * ambient;
	vec3 d = max(df, 0.0) * vClr.rgb * diffuse;
	color.rgb = a + d + (specular * sf);
	color.a = opacity;
}`,J7=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.3;
	float diffuse = 0.6;
	float specular = 0.25;
	float shininess = 10.0;
	float PenWidth = 0.6;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	float view = abs(dot(n,r)); //with respect to viewer
	if (PenWidth < view) discard;
	vec3 a = vClr.rgb * ambient;
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color.rgb = a + d + s;
	color.a = opacity;
}`,_7=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float diffuse = 1.0;
	float specular = 0.2;
	float shininess = 10.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 0.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = max(dot(n, l), 0.0);
	vec3 d = lightNormDot * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color = vec4(d + s, opacity);
}`,$7=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	float diffuse = 1.4;
	vec3 l = vec3(0.0, 0.0, -1.0);
	float lightNormDot = max(dot(normalize(vN), l), 0.0);
	color = vec4(lightNormDot * vClr.rgb * diffuse, opacity);
}`,e8=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	float specularRGB = 0.7;
	float specularWhite = 0.3;
	float shininess = 10.0;
	float diffuse = 1.0;
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	vec3 n = normalize(vN);
	vec3 l = vec3(0.0, 0.0, -1.0);
	float lightNormDot = max(dot(n, l), 0.0);
	vec3 d3 = lightNormDot * vClr.rgb * diffuse;
	float s = pow(max(dot(reflect(l, n), r), 0.0), shininess);
	vec3 s3 = specularRGB * s * vClr.rgb;
	s *= specularWhite;
	color = vec4(d3 + s3 + s, opacity);
}`,t8=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
in vec4 vPc;
out vec4 color;
void main() {
	vec3 n = normalize(vN);
	// Compute curvature
	vec3 dx = dFdx(n);
	vec3 dy = dFdy(n);
	vec3 xneg = n - dx;
	vec3 xpos = n + dx;
	vec3 yneg = n - dy;
	vec3 ypos = n + dy;
	float depth = length(vPc.xyz);
	float curv = (cross(xneg, xpos).y - cross(yneg, ypos).x) / depth;
	//at this stage 0.5 for flat, with valleys dark and ridges bright
	curv = 1.0 - (curv + 0.5);
	//clamp
	curv =  min(max(curv, 0.0), 1.0);
	// easing function
	curv = pow(curv, 0.5);
	//modulate ambient and diffuse with curvature
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.6;
	float diffuse = 0.6;
	float specular = 0.2;
	float shininess = 10.0;
	vec3 lightPosition = vec3(0.0, 10.0, -2.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	vec3 a = vClr.rgb * ambient * curv;
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color = vec4(a + d + s, opacity);
}`,i8=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.35;
	float diffuse = 0.5;
	float specular = 0.2;
	float shininess = 10.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	vec3 a = vClr.rgb * ambient;
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color = vec4(a + d + s, opacity);
}`,r8=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
uniform sampler2D matCap;
out vec4 color;
void main() {
	vec3 n = normalize(vN);
	vec2 uv = n.xy * 0.5 + 0.5;
	uv.y = 1.0 - uv.y;
	vec3 clr = texture(matCap,uv.xy).rgb * vClr.rgb;
	color = vec4(clr, opacity);
}`,s8=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	float ambient = 0.35;
	float diffuse = 0.6;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	vec3 a = vClr.rgb * ambient;
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	color = vec4(a + d, opacity);
}`,n8=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.35;
	float diffuse = 0.5;
	float specular = 0.2;
	float shininess = 10.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	vec3 up = vec3(0.0, 1.0, 0.0);
	float ax = dot(n, up) * 0.5 + 0.5;  //Shreiner et al. (2013) OpenGL Programming Guide, 8th Ed., p 388. ISBN-10: 0321773039
	vec3 upClr = vec3(1.0, 1.0, 0.95);
	vec3 downClr = vec3(0.4, 0.4, 0.6);
	vec3 a = vClr.rgb * ambient;
	a *= mix(downClr, upClr, ax);
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color = vec4(a + d + s, opacity);
}`,a8=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
in vec3 vN;
out vec4 color;
//Spherical harmonics constants
const float C1 = 0.429043;
const float C2 = 0.511664;
const float C3 = 0.743125;
const float C4 = 0.886227;
const float C5 = 0.247708;
//Spherical harmonics coefficients
// Ramamoorthi, R., and P. Hanrahan. 2001b. "An Efficient Representation for Irradiance Environment Maps." In Proceedings of SIGGRAPH 2001, pp. 497–500.
// https://github.com/eskimoblood/processingSketches/blob/master/data/shader/shinyvert.glsl
// https://github.com/eskimoblood/processingSketches/blob/master/data/shader/shinyvert.glsl
// Constants for Eucalyptus Grove lighting
const vec3 L00  = vec3( 0.3783264,  0.4260425,  0.4504587);
const vec3 L1m1 = vec3( 0.2887813,  0.3586803,  0.4147053);
const vec3 L10  = vec3( 0.0379030,  0.0295216,  0.0098567);
const vec3 L11  = vec3(-0.1033028, -0.1031690, -0.0884924);
const vec3 L2m2 = vec3(-0.0621750, -0.0554432, -0.0396779);
const vec3 L2m1 = vec3( 0.0077820, -0.0148312, -0.0471301);
const vec3 L20  = vec3(-0.0935561, -0.1254260, -0.1525629);
const vec3 L21  = vec3(-0.0572703, -0.0502192, -0.0363410);
const vec3 L22  = vec3( 0.0203348, -0.0044201, -0.0452180);
vec3 SH(vec3 vNormal) {
	vNormal = vec3(vNormal.x,vNormal.z,vNormal.y);
	vec3 diffuseColor = C1 * L22 * (vNormal.x * vNormal.x - vNormal.y * vNormal.y) +
	C3 * L20 * vNormal.z * vNormal.z +
	C4 * L00 -
	C5 * L20 +
	2.0 * C1 * L2m2 * vNormal.x * vNormal.y +
	2.0 * C1 * L21  * vNormal.x * vNormal.z +
	2.0 * C1 * L2m1 * vNormal.y * vNormal.z +
	2.0 * C2 * L11  * vNormal.x +
	2.0 * C2 * L1m1 * vNormal.y +
	2.0 * C2 * L10  * vNormal.z;
	return diffuseColor;
}
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.3;
	float diffuse = 0.6;
	float specular = 0.1;
	float shininess = 10.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	vec3 a = vClr.rgb * ambient;
	vec3 d = vClr.rgb * diffuse * SH(-reflect(n, vec3(l.x, l.y, -l.z)) );
	color = vec4(a + d + s, opacity);
}`,o8=`#version 300 es
layout(location=0) in vec3 pos;
layout(location=1) in vec4 norm;
layout(location=2) in vec4 clr;
uniform mat4 mvpMtx;
//uniform mat4 modelMtx;
uniform mat4 normMtx;
out vec4 vClr;
flat out vec3 vN;
void main(void) {
	gl_Position = mvpMtx * vec4(pos, 1.0);
	vN = normalize((normMtx * vec4(norm.xyz,1.0)).xyz);
	//vV = -vec3(modelMtx*vec4(pos,1.0));
	vClr = clr;
}`,Ju=`#version 300 es
precision highp int;
precision highp float;
uniform float opacity;
in vec4 vClr;
flat in vec3 vN;
out vec4 color;
void main() {
	vec3 r = vec3(0.0, 0.0, 1.0); //rayDir: for orthographic projections moving in Z direction (no need for normal matrix)
	float ambient = 0.35;
	float diffuse = 0.5;
	float specular = 0.2;
	float shininess = 10.0;
	vec3 n = normalize(vN);
	vec3 lightPosition = vec3(0.0, 10.0, -5.0);
	vec3 l = normalize(lightPosition);
	float lightNormDot = dot(n, l);
	vec3 a = vClr.rgb * ambient;
	vec3 d = max(lightNormDot, 0.0) * vClr.rgb * diffuse;
	float s = specular * pow(max(dot(reflect(l, n), r), 0.0), shininess);
	color = vec4(a + d + s, opacity);
}`,l8=`#version 300 es
#line 1260
//precision highp int;
precision highp float;
uniform vec3 rayDir;
uniform vec3 volScale;
uniform vec3 texVox;
uniform vec4 clipPlane;
uniform highp sampler3D volume, overlay;
uniform float overlays;
uniform float clipThick;
uniform vec3 clipLo;
uniform vec3 clipHi;
uniform mat4 matRAS;
uniform mat4 mvpMtx;
uniform float drawOpacity, renderOverlayBlend;
uniform highp sampler3D drawing;
uniform highp sampler2D colormap;
uniform int backgroundMasksOverlays;
in vec3 vColor;
out vec4 fColor;
`+wn+`
void main() {
	int id = 254;
	vec3 start = vColor;
	gl_FragDepth = 0.0;
	fColor = vec4(0.0, 0.0, 0.0, 0.0); //assume no hit: ID = 0
	float fid = float(id & 255)/ 255.0;
	vec3 backPosition = GetBackPosition(start);
	vec3 dir = normalize(backPosition - start);
	clipVolumeStart(start, backPosition);
	float len = length(backPosition - start);
	float lenVox = length((texVox * start) - (texVox * backPosition));
	if ((lenVox < 0.5) || (len > 3.0)) return;//discard; //length limit for parallel rays
	float sliceSize = len / lenVox; //e.g. if ray length is 1.0 and traverses 50 voxels, each voxel is 0.02 in unit cube
	float stepSize = sliceSize; //quality: larger step is faster traversal, but fewer samples
	float opacityCorrection = stepSize/sliceSize;
	dir = normalize(dir);
	vec4 samplePos = vec4(start.xyz, 0.0); //ray position
	float lenNoClip = len;
	bool isClip = false;
	vec4 clipPos = applyClip(dir, samplePos, len, isClip);
	if (isClip) fColor = vec4(samplePos.xyz, 253.0 / 255.0); //assume no hit: ID = 0
	//start: OPTIONAL fast pass: rapid traversal until first hit
	float stepSizeFast = sliceSize * 1.9;
	vec4 deltaDirFast = vec4(dir.xyz * stepSizeFast, stepSizeFast);
	while (samplePos.a <= len) {
		float val = texture(volume, samplePos.xyz).a;
		if (val > 0.01) {
			fColor = vec4(samplePos.rgb, fid);
			gl_FragDepth = frac2ndc(samplePos.xyz);
			break;
		}
		samplePos += deltaDirFast; //advance ray position
	}
	//end: fast pass
	if ((overlays < 1.0) || (backgroundMasksOverlays > 0)) {
		return; //background hit, no overlays
	}
	//overlay pass
	len = min(lenNoClip, samplePos.a); //only find overlay closer than background
	samplePos = vec4(start.xyz, 0.0); //ray position
	while (samplePos.a <= len) {
		float val = texture(overlay, samplePos.xyz).a;
		if (val > 0.01) {
			fColor = vec4(samplePos.rgb, fid);
			gl_FragDepth = frac2ndc(samplePos.xyz);
			return;
		}
		samplePos += deltaDirFast; //advance ray position
	}
	//if (fColor.a == 0.0) discard; //no hit in either background or overlays
	//you only get here if there is a hit with the background that is closer than any overlay
}`,c8=`#version 300 es
// an attribute is an input (in) to a vertex shader.
// It will receive data from a buffer
layout(location=0)  in vec3 a_position;
layout(location=1)  in vec3 a_color;
// A matrix to transform the positions by
uniform mat4 u_matrix;
out vec3 vColor;
// all shaders have a main function
void main() {
	// Multiply the position by the matrix.
	vec4 pos = vec4(a_position, 1.0);
	gl_Position = u_matrix * vec4(pos);
	vColor = a_color;
}
`,h8=`#version 300 es
precision highp float;
uniform vec4 u_color;
in vec3 vColor;
out vec4 outColor;
void main() {
	outColor = vec4(vColor, 1.0);
}`,u8=`#version 300 es
#line 1359
precision highp int;
precision highp float;
in vec3 vPos;
out vec2 TexCoord;
void main() {
	TexCoord = vPos.xy;
	vec2 viewCoord = (vPos.xy - 0.5) * 2.0;
	gl_Position = vec4((vPos.xy - 0.5) * 2.0, 0.0, 1.0);
}`,d8=`#version 300 es
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform lowp sampler3D in3D;
void main(void) {
 FragColor = texture(in3D, vec3(TexCoord.xy, coordZ));
}`,aa=`#version 300 es
#line 286
precision highp int;
precision highp float;
in vec3 vPos;
out vec2 TexCoord;
void main() {
    TexCoord = vPos.xy;
    gl_Position = vec4( (vPos.xy-vec2(0.5,0.5))* 2.0, 0.0, 1.0);
}`,m8=`#version 300 es
#line 298
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float dX;
uniform float dY;
uniform float dZ;
uniform highp sampler3D intensityVol;
void main(void) {
 vec3 vx = vec3(TexCoord.xy, coordZ);
 vec4 samp = texture(intensityVol,vx+vec3(+dX,+dY,+dZ));
 samp += texture(intensityVol,vx+vec3(+dX,+dY,-dZ));
 samp += texture(intensityVol,vx+vec3(+dX,-dY,+dZ));
 samp += texture(intensityVol,vx+vec3(+dX,-dY,-dZ));
 samp += texture(intensityVol,vx+vec3(-dX,+dY,+dZ));
 samp += texture(intensityVol,vx+vec3(-dX,+dY,-dZ));
 samp += texture(intensityVol,vx+vec3(-dX,-dY,+dZ));
 samp += texture(intensityVol,vx+vec3(-dX,-dY,-dZ));
 FragColor = samp*0.125;
}`,f8=`#version 300 es
#line 298
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float dX;
uniform float dY;
uniform float dZ;
uniform highp sampler3D intensityVol;
void main(void) {
 vec3 vx = vec3(TexCoord.xy, coordZ);
 vec4 XYZ = texture(intensityVol,vx+vec3(+dX,+dY,+dZ));
 vec4 OYZ = texture(intensityVol,vx+vec3(0.0,+dY,+dZ));
 vec4 xYZ = texture(intensityVol,vx+vec3(-dX,+dY,+dZ));
 vec4 XOZ = texture(intensityVol,vx+vec3(+dX,0.0,+dZ));
 vec4 OOZ = texture(intensityVol,vx+vec3(0.0,0.0,+dZ));
 vec4 xOZ = texture(intensityVol,vx+vec3(-dX,0.0,+dZ));
 vec4 XyZ = texture(intensityVol,vx+vec3(+dX,-dY,+dZ));
 vec4 OyZ = texture(intensityVol,vx+vec3(0.0,-dY,+dZ));
 vec4 xyZ = texture(intensityVol,vx+vec3(-dX,-dY,+dZ));

 vec4 XYO = texture(intensityVol,vx+vec3(+dX,+dY,0.0));
 vec4 OYO = texture(intensityVol,vx+vec3(0.0,+dY,0.0));
 vec4 xYO = texture(intensityVol,vx+vec3(-dX,+dY,0.0));
 vec4 XOO = texture(intensityVol,vx+vec3(+dX,0.0,0.0));
 vec4 OOO = texture(intensityVol,vx+vec3(0.0,0.0,0.0));
 vec4 xOO = texture(intensityVol,vx+vec3(-dX,0.0,0.0));
 vec4 XyO = texture(intensityVol,vx+vec3(+dX,-dY,0.0));
 vec4 OyO = texture(intensityVol,vx+vec3(0.0,-dY,0.0));
 vec4 xyO = texture(intensityVol,vx+vec3(-dX,-dY,0.0));

 vec4 XYz = texture(intensityVol,vx+vec3(+dX,+dY,-dZ));
 vec4 OYz = texture(intensityVol,vx+vec3(0.0,+dY,-dZ));
 vec4 xYz = texture(intensityVol,vx+vec3(-dX,+dY,-dZ));
 vec4 XOz = texture(intensityVol,vx+vec3(+dX,0.0,-dZ));
 vec4 OOz = texture(intensityVol,vx+vec3(0.0,0.0,-dZ));
 vec4 xOz = texture(intensityVol,vx+vec3(-dX,0.0,-dZ));
 vec4 Xyz = texture(intensityVol,vx+vec3(+dX,-dY,-dZ));
 vec4 Oyz = texture(intensityVol,vx+vec3(0.0,-dY,-dZ));
 vec4 xyz = texture(intensityVol,vx+vec3(-dX,-dY,-dZ));

 vec4 blurred = vec4 (0.0, 0.0, 0.0, 0.0);
 blurred.r = 2.0*(xOz.r +xOZ.r +xyO.r +xYO.r +xOO.r +XOz.r +XOZ.r +XyO.r +XYO.r +XOO.r) +xyz.r +xyZ.r +xYz.r +xYZ.r +Xyz.r +XyZ.r +XYz.r +XYZ.r;
 blurred.g = 2.0*(Oyz.r +OyZ.r +xyO.r +XyO.r +OyO.r +OYz.r +OYZ.r +xYO.r +XYO.r +OYO.r) +xyz.r +Xyz.r +xyZ.r +XyZ.r +xYz.r +XYz.r +xYZ.r +XYZ.r;
 blurred.b = 2.0*(Oyz.r +OYz.r +xOz.r +XOz.r +OOz.r +OyZ.r +OYZ.r +xOZ.r +XOZ.r +OOZ.r) +xyz.r +Xyz.r +xYz.r +XYz.r +xyZ.r +XyZ.r +XyZ.r +XYZ.r;
 blurred.a = 0.32*(abs(blurred.r)+abs(blurred.g)+abs(blurred.b));
 // 0.0357 = 1/28 to account for weights, rescale to 2**16,
 FragColor = 0.0357*blurred;
}`,O4=`
  gradientSample.a = log2(gradientSample.r*gradientSample.r + gradientSample.g*gradientSample.g + gradientSample.b*gradientSample.b + 1.922337562475971e-06) + 18.988706873717717;
`,p8=`#version 300 es
#line 323
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float dX;
uniform float dY;
uniform float dZ;
uniform highp sampler3D intensityVol;
void main(void) {
  vec3 vx = vec3(TexCoord.xy, coordZ);
  //Neighboring voxels 'T'op/'B'ottom, 'A'nterior/'P'osterior, 'R'ight/'L'eft
  float TAR = texture(intensityVol,vx+vec3(+dX,+dY,+dZ)).r;
  float TAL = texture(intensityVol,vx+vec3(+dX,+dY,-dZ)).r;
  float TPR = texture(intensityVol,vx+vec3(+dX,-dY,+dZ)).r;
  float TPL = texture(intensityVol,vx+vec3(+dX,-dY,-dZ)).r;
  float BAR = texture(intensityVol,vx+vec3(-dX,+dY,+dZ)).r;
  float BAL = texture(intensityVol,vx+vec3(-dX,+dY,-dZ)).r;
  float BPR = texture(intensityVol,vx+vec3(-dX,-dY,+dZ)).r;
  float BPL = texture(intensityVol,vx+vec3(-dX,-dY,-dZ)).r;
  vec4 gradientSample = vec4 (0.0, 0.0, 0.0, 0.0);
  gradientSample.r = BAR+BAL+BPR+BPL -TAR-TAL-TPR-TPL;
  gradientSample.g = TPR+TPL+BPR+BPL -TAR-TAL-BAR-BAL;
  gradientSample.b = TAL+TPL+BAL+BPL -TAR-TPR-BAR-BPR;
${O4}
	// 0.04242020977371934 = 1/(log2(3*8) - log2(1/(255**2*8))) // 3*8 -> max for 1st order gradient
	gradientSample.a *= 0.04242020977371934;
  gradientSample.rgb = normalize(gradientSample.rgb);
  gradientSample.rgb = (gradientSample.rgb * 0.5)+0.5;
  FragColor = gradientSample;
}`,g8=`#version 300 es
#line 323
precision highp int;
precision highp float;
in vec2 TexCoord;
out vec4 FragColor;
uniform float coordZ;
uniform float dX;
uniform float dY;
uniform float dZ;
uniform float dX2;
uniform float dY2;
uniform float dZ2;
uniform highp sampler3D intensityVol;
void main(void) {
  vec3 vx = vec3(TexCoord.xy, coordZ);
  //Neighboring voxels 'T'op/'B'ottom, 'A'nterior/'P'osterior, 'R'ight/'L'eft
  vec4 TAR = texture(intensityVol,vx+vec3(+dX,+dY,+dZ));
  vec4 TAL = texture(intensityVol,vx+vec3(+dX,+dY,-dZ));
  vec4 TPR = texture(intensityVol,vx+vec3(+dX,-dY,+dZ));
  vec4 TPL = texture(intensityVol,vx+vec3(+dX,-dY,-dZ));
  vec4 BAR = texture(intensityVol,vx+vec3(-dX,+dY,+dZ));
  vec4 BAL = texture(intensityVol,vx+vec3(-dX,+dY,-dZ));
  vec4 BPR = texture(intensityVol,vx+vec3(-dX,-dY,+dZ));
  vec4 BPL = texture(intensityVol,vx+vec3(-dX,-dY,-dZ));
  vec4 T = texture(intensityVol,vx+vec3(+dX2,0.0,0.0));
  vec4 A = texture(intensityVol,vx+vec3(0.0,+dY2,0.0));
  vec4 R = texture(intensityVol,vx+vec3(0.0,0.0,+dZ2));
  vec4 B = texture(intensityVol,vx+vec3(-dX2,0.0,0.0));
  vec4 P = texture(intensityVol,vx+vec3(0.0,-dY2,0.0));
  vec4 L = texture(intensityVol,vx+vec3(0.0,0.0,-dZ2));
  vec4 gradientSample = vec4 (0.0, 0.0, 0.0, 0.0);
  gradientSample.r = -4.0*B.r +8.0*(BAR.r+BAL.r+BPR.r+BPL.r) -8.0*(TAR.r+TAL.r+TPR.r+TPL.r) +4.0*T.r;
  gradientSample.g = -4.0*P.g +8.0*(TPR.g+TPL.g+BPR.g+BPL.g) -8.0*(TAR.g+TAL.g+BAR.g+BAL.g) +4.0*A.g;
  gradientSample.b = -4.0*L.b +8.0*(TAL.b+TPL.b+BAL.b+BPL.b) -8.0*(TAR.b+TPR.b+BAR.b+BPR.b) +4.0*R.b;
${O4}
	gradientSample.a *= 0.0325;
  gradientSample.rgb = normalize(gradientSample.rgb);
  gradientSample.rgb =  (gradientSample.rgb * 0.5)+0.5;
  FragColor = gradientSample;
}`,v8=new Float32Array([-1,-1,-1,.28,.28,.28,-1,-1,-1,.28,.28,.28,-1,1,-1,.28,.28,.28,1,-1,-1,.28,.28,.28,1,1,-1,.28,.28,.28,1,1,-1,.28,.28,.28,-1,-1,1,.8,.8,.8,-1,-1,1,.8,.8,.8,1,-1,1,.8,.8,.8,-1,1,1,.8,.8,.8,1,1,1,.8,.8,.8,1,1,1,.8,.8,.8,-1,1,-1,0,0,.74,-1,1,-1,0,0,.74,-1,1,1,0,0,.74,1,1,-1,0,0,.74,1,1,1,0,0,.74,1,1,1,0,0,.74,-1,-1,-1,.42,0,.42,-1,-1,-1,.42,0,.42,1,-1,-1,.42,0,.42,-1,-1,1,.42,0,.42,1,-1,1,.42,0,.42,1,-1,1,.42,0,.42,-1,-1,-1,.64,0,0,-1,-1,-1,.64,0,0,-1,-1,1,.64,0,0,-1,1,-1,.64,0,0,-1,1,1,.64,0,0,-1,1,1,.64,0,0,1,-1,-1,0,.5,0,1,-1,-1,0,.5,0,1,1,-1,0,.5,0,1,-1,1,0,.5,0,1,1,1,0,.5,0,1,1,1,0,.5,0,-.45,1,-.8,0,0,0,-.45,1,-.8,0,0,0,-.45,1,.8,0,0,0,-.25,1,-.8,0,0,0,-.25,1,.8,0,0,0,-.25,1,.8,0,0,0,-.25,1,.6,0,0,0,-.25,1,.6,0,0,0,-.25,1,.8,0,0,0,.45,1,.6,0,0,0,.25,1,.8,0,0,0,.25,1,.8,0,0,0,.25,1,.1,0,0,0,.25,1,.1,0,0,0,.25,1,.6,0,0,0,.45,1,.1,0,0,0,.45,1,.6,0,0,0,.45,1,.6,0,0,0,-.25,1,-.1,0,0,0,-.25,1,-.1,0,0,0,-.25,1,.1,0,0,0,.25,1,-.1,0,0,0,.45,1,.1,0,0,0,.45,1,.1,0,0,0,.45,-1,-.8,0,0,0,.45,-1,-.8,0,0,0,.05,-1,.8,0,0,0,.25,-1,-.8,0,0,0,-.15,-1,.8,0,0,0,-.15,-1,.8,0,0,0,-.25,-1,-.8,0,0,0,-.25,-1,-.8,0,0,0,.05,-1,.8,0,0,0,-.45,-1,-.8,0,0,0,-.15,-1,.8,0,0,0,-.15,-1,.8,0,0,0,.13,-1,-.3,0,0,0,.13,-1,-.3,0,0,0,.07,-1,-.1,0,0,0,-.33,-1,-.3,0,0,0,-.27,-1,-.1,0,0,0,-.27,-1,-.1,0,0,0,-.45,.6,1,0,0,0,-.45,.6,1,0,0,0,-.45,.4,1,0,0,0,-.25,.8,1,0,0,0,-.25,.4,1,0,0,0,-.25,.4,1,0,0,0,-.25,.8,1,0,0,0,-.25,.8,1,0,0,0,-.25,.6,1,0,0,0,.25,.8,1,0,0,0,.45,.6,1,0,0,0,.45,.6,1,0,0,0,.25,.8,1,0,0,0,.25,.8,1,0,0,0,.25,-.1,1,0,0,0,.45,.6,1,0,0,0,.45,.1,1,0,0,0,.45,.1,1,0,0,0,-.25,.1,1,0,0,0,-.25,.1,1,0,0,0,-.45,-.1,1,0,0,0,.25,.1,1,0,0,0,.25,-.1,1,0,0,0,.25,-.1,1,0,0,0,-.45,-.1,1,0,0,0,-.45,-.1,1,0,0,0,-.45,-.6,1,0,0,0,-.25,-.1,1,0,0,0,-.25,-.8,1,0,0,0,-.25,-.8,1,0,0,0,-.25,-.6,1,0,0,0,-.25,-.6,1,0,0,0,-.25,-.8,1,0,0,0,.45,-.6,1,0,0,0,.25,-.8,1,0,0,0,.25,-.8,1,0,0,0,.25,-.4,1,0,0,0,.25,-.4,1,0,0,0,.25,-.6,1,0,0,0,.45,-.4,1,0,0,0,.45,-.6,1,0,0,0,.45,-.6,1,0,0,0,-.1,-.8,-1,0,0,0,-.1,-.8,-1,0,0,0,-.1,.8,-1,0,0,0,.1,-.8,-1,0,0,0,.1,.8,-1,0,0,0,.1,.8,-1,0,0,0,-1,-.45,-.8,0,0,0,-1,-.45,-.8,0,0,0,-1,-.45,.8,0,0,0,-1,-.25,-.8,0,0,0,-1,-.25,.8,0,0,0,-1,-.25,.8,0,0,0,-1,-.25,-.8,0,0,0,-1,-.25,-.8,0,0,0,-1,-.25,-.6,0,0,0,-1,.45,-.8,0,0,0,-1,.45,-.6,0,0,0,-1,.45,-.6,0,0,0,1,.45,-.8,0,0,0,1,.45,-.8,0,0,0,1,.45,.8,0,0,0,1,.25,-.8,0,0,0,1,.25,.8,0,0,0,1,.25,.8,0,0,0,1,.25,.6,0,0,0,1,.25,.6,0,0,0,1,.25,.8,0,0,0,1,-.45,.6,0,0,0,1,-.25,.8,0,0,0,1,-.25,.8,0,0,0,1,-.25,.1,0,0,0,1,-.25,.1,0,0,0,1,-.25,.6,0,0,0,1,-.45,.1,0,0,0,1,-.45,.6,0,0,0,1,-.45,.6,0,0,0,1,.25,-.1,0,0,0,1,.25,-.1,0,0,0,1,.25,.1,0,0,0,1,-.25,-.1,0,0,0,1,-.45,.1,0,0,0,1,-.45,.1,0,0,0,1,-.25,-.8,0,0,0,1,-.25,-.8,0,0,0,1,-.05,-.1,0,0,0,1,-.45,-.8,0,0,0,1,-.25,-.1,0,0,0,1,-.25,-.1,0,0,0]),St=class{constructor(e,t,r,s,n=null,a=null){W(this,"sphereIdx",[]),W(this,"sphereVtx",[]),W(this,"renderShaders",[]),W(this,"isVisible",!0),W(this,"isPickable",!0),W(this,"vertexBuffer"),W(this,"indexCount"),W(this,"indexBuffer"),W(this,"vao"),W(this,"mode"),W(this,"glFlags",0),W(this,"id"),W(this,"colorId"),W(this,"modelMatrix",pt()),W(this,"scale",[1,1,1]),W(this,"position",[0,0,0]),W(this,"rotation",[0,0,0]),W(this,"rotationRadians",0),W(this,"extentsMin",[]),W(this,"extentsMax",[]),W(this,"furthestVertexFromOrigin"),W(this,"originNegate"),W(this,"fieldOfViewDeObliqueMM"),W(this,"mm"),this.vertexBuffer=t,this.indexCount=s,this.indexBuffer=n,this.vao=a,this.mode=r,this.id=e,this.colorId=[(e>>0&255)/255,(e>>8&255)/255,(e>>16&255)/255,(e>>24&255)/255]}};W(St,"BLEND",1);W(St,"CULL_FACE",2);W(St,"CULL_FRONT",4);W(St,"CULL_BACK",8);W(St,"ENABLE_DEPTH_TEST",16);W(St,"generateCrosshairs",function(i,e,t,r,s,n,a=20,l=0){const o=St.generateCrosshairsGeometry(i,t,r,s,n,a,l);return new St(e,o.vertexBuffer,i.TRIANGLES,o.indexCount,o.indexBuffer,o.vao)});W(St,"generateCrosshairsGeometry",function(i,e,t,r,s,n=20,a=0){const l=[],o=[],h=s*a;if(h<=0){let g=Ue(t[0],e[1],e[2]),A=Ue(r[0],e[1],e[2]);St.makeCylinder(l,o,g,A,s,n),g=Ue(e[0],t[1],e[2]),A=Ue(e[0],r[1],e[2]),St.makeCylinder(l,o,g,A,s,n),g=Ue(e[0],e[1],t[2]),A=Ue(e[0],e[1],r[2]),St.makeCylinder(l,o,g,A,s,n)}else{let g=Ue(t[0],e[1],e[2]),A=Ue(e[0]-h,e[1],e[2]);St.makeCylinder(l,o,g,A,s,n,!1),g=Ue(e[0]+h,e[1],e[2]),A=Ue(r[0],e[1],e[2]),St.makeCylinder(l,o,g,A,s,n,!1),g=Ue(e[0],t[1],e[2]),A=Ue(e[0],e[1]-h,e[2]),St.makeCylinder(l,o,g,A,s,n,!1),g=Ue(e[0],e[1]+h,e[2]),A=Ue(e[0],r[1],e[2]),St.makeCylinder(l,o,g,A,s,n,!1),g=Ue(e[0],e[1],t[2]),A=Ue(e[0],e[1],e[2]-h),St.makeCylinder(l,o,g,A,s,n,!1),g=Ue(e[0],e[1],e[2]+h),A=Ue(e[0],e[1],r[2]),St.makeCylinder(l,o,g,A,s,n,!1)}const d=i.createBuffer();if(d===null)throw new Error("could not instantiate vertex buffer");i.bindBuffer(i.ARRAY_BUFFER,d),i.bufferData(i.ARRAY_BUFFER,new Float32Array(l),i.STATIC_DRAW);const f=i.createBuffer();if(f===null)throw new Error("could not instantiate index buffer");i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,f),i.bufferData(i.ELEMENT_ARRAY_BUFFER,new Uint32Array(o),i.STATIC_DRAW);const p=i.createVertexArray();return i.bindVertexArray(p),i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,f),i.bindBuffer(i.ARRAY_BUFFER,d),i.enableVertexAttribArray(0),i.vertexAttribPointer(0,3,i.FLOAT,!1,0,0),i.bindVertexArray(null),{vertexBuffer:d,indexBuffer:f,indexCount:o.length,vao:p}});W(St,"getFirstPerpVector",function(i){const e=Ue(0,0,0);return i[0]===0?e[0]=1:i[1]===0?e[1]=1:i[2]===0?e[2]=1:(e[0]=i[2],e[1]=i[2],e[2]=-(i[0]+i[1]),br(e,e)),e});W(St,"subdivide",function(i,e){let t=i.length/3,r=e.length/3;const s=r,n=Yt(),a=Yt();for(let l=0;l<s;l++){const o=e[l*3+0],h=e[l*3+1],d=e[l*3+2],f=Ue(i[o*3+0],i[o*3+1],i[o*3+2]),p=Ue(i[h*3+0],i[h*3+1],i[h*3+2]),g=Ue(i[d*3+0],i[d*3+1],i[d*3+2]);rs(n,f,p),br(a,n),i.push(...a),rs(n,p,g),br(a,n),i.push(...a),rs(n,f,g),br(a,n),i.push(...a);let A=[t,t+1,t+2];e.push(...A),A=[o,t,t+2],e.push(...A),A=[t,h,t+1],e.push(...A),e[l*3+0]=t+2,e[l*3+1]=t+1,e[l*3+2]=d,r=r+3,t=t+3}});W(St,"weldVertices",function(i,e){const t=i.length/3;let r=0;const s=new Int32Array(t);for(let l=0;l<t-1;l++){if(s[l]!==0)continue;s[l]=r;let o=l*3;const h=i[o],d=i[o+1],f=i[o+2];for(let p=l+1;p<t;p++)o+=3,h===i[o]&&d===i[o+1]&&f===i[o+2]&&(s[p]=r);r++}if(r===t)return i;const n=e.length;for(let l=0;l<n;l++)e[l]=s[e[l]];const a=i.slice(0,r*3-1);for(let l=0;l<t-1;l++){const o=l*3,h=s[l]*3;a[h]=i[o],a[h+1]=i[o+1],a[h+2]=i[o+2]}return a});W(St,"makeSphere",function(i,e,t,r=[0,0,0]){let s=[0,0,1,.894,0,.447,.276,.851,.447,-.724,.526,.447,-.724,-.526,.447,.276,-.851,.447,.724,.526,-.447,-.276,.851,-.447,-.894,0,-.447,-.276,-.851,-.447,.724,-.526,-.447,0,0,-1];const n=[0,1,2,0,2,3,0,3,4,0,4,5,0,5,1,7,6,11,8,7,11,9,8,11,10,9,11,6,10,11,6,2,1,7,3,2,8,4,3,9,5,4,10,1,5,6,7,2,7,8,3,8,9,4,9,10,5,10,6,1];St.subdivide(s,n),St.subdivide(s,n),s=St.weldVertices(s,n);for(let h=0;h<s.length;h++)s[h]=s[h]*t;const a=s.length/3;let l=0;for(let h=0;h<a;h++)s[l]=s[l]+r[0],l++,s[l]=s[l]+r[1],l++,s[l]=s[l]+r[2],l++;const o=Math.floor(i.length/3);for(let h=0;h<n.length;h++)n[h]=n[h]+o;e.push(...n),i.push(...s)});W(St,"makeCylinder",function(i,e,t,r,s,n=20,a=!0){n<3&&(n=3);const l=Yt();Jt(l,r,t),br(l,l);const o=St.getFirstPerpVector(l),h=Yt();Aa(h,l,o),br(h,h);let d=2*n,f=2*n;a&&(f+=2*n,d+=2);const p=Math.floor(i.length/3),g=new Uint32Array(f*3),A=new Float32Array(d*3);function x(k,R){A[k*3+0]=R[0],A[k*3+1]=R[1],A[k*3+2]=R[2]}function y(k,R,B,N){g[k*3+0]=R+p,g[k*3+1]=B+p,g[k*3+2]=N+p}const b=2*n,T=b+1;a&&(x(b,t),x(T,r));const D=Yt(),S=Yt();for(let k=0;k<n;k++){const R=Math.cos(k/n*2*Math.PI),B=Math.sin(k/n*2*Math.PI);D[0]=s*(R*o[0]+B*h[0]),D[1]=s*(R*o[1]+B*h[1]),D[2]=s*(R*o[2]+B*h[2]),rs(S,t,D),x(k,S),rs(S,r,D),x(k+n,S);let N=0;k<n-1&&(N=k+1),y(k*2,k,N,k+n),y(k*2+1,N,N+n,k+n),a&&(y(n*2+k,k,b,N),y(n*2+k+n,T,k+n,N+n))}e.push(...g),i.push(...A)});W(St,"makeColoredCylinder",function(i,e,t,r,s,n,a=[192,0,0,255],l=20,o=!1){let h=i.length/3;St.makeCylinder(i,e,r,s,n,l,o),h=i.length/3-h;const d=[];for(let f=0;f<h*4-1;f+=4)d[f]=a[0],d[f+1]=a[1],d[f+2]=a[2],d[f+3]=a[3];t.push(...d)});W(St,"makeColoredSphere",function(i,e,t,r,s=[0,0,0],n=[0,0,192,255]){let a=i.length/3;St.makeSphere(i,e,r,s),a=i.length/3-a;const l=[];for(let o=0;o<a*4-1;o+=4)l[o]=n[0],l[o+1]=n[1],l[o+2]=n[2],l[o+3]=n[3];t.push(...l)});var ns=St,ya={};ho(ya,{$itksnap:()=>A8,$slicer3d:()=>x8,actc:()=>b8,afni_blues_inv:()=>N9,afni_reds_inv:()=>R9,batlow:()=>y8,bcgwhw:()=>S8,bcgwhw_dark:()=>w8,blue:()=>k8,blue2cyan:()=>T8,blue2magenta:()=>C8,blue2red:()=>M8,bluegrn:()=>D8,bone:()=>I8,bronze:()=>E8,cet_l17:()=>F8,cividis:()=>B8,cool:()=>N8,copper:()=>V8,copper2:()=>R8,ct_airways:()=>U8,ct_artery:()=>z8,ct_bones:()=>P8,ct_brain:()=>O8,ct_brain_gray:()=>L8,ct_cardiac:()=>q8,ct_head:()=>G8,ct_kidneys:()=>H8,ct_liver:()=>Y8,ct_muscles:()=>K8,ct_scalp:()=>W8,ct_skull:()=>j8,ct_soft:()=>X8,ct_soft_tissue:()=>Q8,ct_surface:()=>Z8,ct_vessels:()=>J8,ct_w_contrast:()=>_8,cubehelix:()=>$8,electric_blue:()=>e9,freesurfer:()=>t9,ge_color:()=>i9,gold:()=>r9,gray:()=>s9,green:()=>n9,green2cyan:()=>a9,green2orange:()=>o9,hot:()=>c9,hotiron:()=>l9,hsv:()=>h9,inferno:()=>u9,jet:()=>d9,kry:()=>m9,linspecer:()=>f9,lipari:()=>p9,magma:()=>g9,mako:()=>v9,navia:()=>A9,nih:()=>x9,plasma:()=>b9,random:()=>y9,red:()=>w9,redyell:()=>S9,rocket:()=>M9,roi_i256:()=>V9,surface:()=>C9,thermal:()=>T9,turbo:()=>D9,violet:()=>k9,viridis:()=>I9,warm:()=>E9,winter:()=>F9,x_rain:()=>B9});var A8={R:[0,255,0,0,255,0,255,255,0,205,210,102,0,0,46,255,106,221,233,165,255,147,218,75,255,60,255,255,218,0,188,255,255,222,127,139,124,255,70,0,238,238,240,245,184,32,255,25,112,34,248,245,255,144,173,65,255,250,128,50,244,255,123,255,173,255,127,255,143,220,253,255,0,0,128,255,250,148,178,255,135,100,240,250,255,107,135,0,139,245,186,255,255,0,210,255,47,72,175,128,176,255,139,240,255,216,119,219,72,255,199,154,189,240,230,0,85,64,153,205,250,95,0,255,224,176,138,30,240,152,160],G:[0,0,255,0,255,255,0,239,0,133,180,205,0,139,139,228,90,160,150,42,250,112,112,0,182,179,235,228,165,128,143,105,218,184,255,69,252,255,130,100,130,232,255,222,134,178,20,25,128,139,248,255,160,238,255,105,99,240,0,205,164,255,104,165,216,192,255,140,188,20,245,250,206,255,0,250,128,0,34,127,206,149,230,235,245,142,206,0,0,245,85,228,222,191,105,248,79,61,238,128,224,240,0,255,215,191,136,112,209,0,21,205,183,248,230,250,107,224,50,92,250,158,128,69,255,196,43,144,128,251,82],B:[0,0,0,255,0,255,255,213,205,63,140,170,128,139,87,225,205,221,122,42,250,219,214,130,193,113,205,196,32,128,143,180,185,135,0,19,0,224,180,0,238,170,240,179,11,170,147,112,144,34,255,250,122,144,47,225,71,230,0,50,96,240,238,0,230,203,212,0,143,60,230,240,209,127,128,205,114,211,34,80,235,237,140,215,238,35,250,139,139,220,211,181,173,255,30,220,79,139,238,0,230,245,0,255,0,216,153,147,204,255,133,50,107,255,250,154,47,208,204,92,210,160,0,0,255,222,226,255,128,152,45],A:[0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],I:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130]},x8={labels:["background","tissue","bone","skin","connective tissue","blood","organ","mass","muscle","foreign object","waste","teeth","fat","gray matter","white matter","nerve","vein","artery","capillary","ligament","tendon","cartilage","meniscus","lymph node","lymphatic vessel","cerebro-spinal fluid","bile","urine","feces","gas","fluid","edema","bleeding","necrosis","clot","embolism","head","central nervous system","brain","gray matter of brain","telencephalon","cerebral cortex","right frontal lobe","left frontal lobe","right temporal lobe","left temporal lobe","right parietal lobe","left parietal lobe","right occipital lobe","left occipital lobe","right insular lobe","left insular lobe","right limbic lobe","left limbic lobe","right striatum","left striatum","right caudate nucleus","left caudate nucleus","right putamen","left putamen","right pallidum","left pallidum","right amygdaloid complex","left amygdaloid complex","diencephalon","thalamus","right thalamus","left thalamus","pineal gland","midbrain","substantia nigra","right substantia nigra","left substantia nigra","cerebral white matter","right superior longitudinal fasciculus","left superior longitudinal fasciculus","right inferior longitudinal fasciculus","left inferior longitudinal fasciculus","right arcuate fasciculus","left arcuate fasciculus","right uncinate fasciculus","left uncinate fasciculus","right cingulum bundle","left cingulum bundle","projection fibers","right corticospinal tract","left corticospinal tract","right optic radiation","left optic radiation","right medial lemniscus","left medial lemniscus","right superior cerebellar peduncle","left superior cerebellar peduncle","right middle cerebellar peduncle","left middle cerebellar peduncle","right inferior cerebellar peduncle","left inferior cerebellar peduncle","optic chiasm","right optic tract","left optic tract","right fornix","left fornix","commissural fibers","corpus callosum","posterior commissure","cerebellar white matter","CSF space","ventricles of brain","right lateral ventricle","left lateral ventricle","right third ventricle","left third ventricle","cerebral aqueduct","fourth ventricle","subarachnoid space","spinal cord","gray matter of spinal cord","white matter of spinal cord","endocrine system of brain","pituitary gland","adenohypophysis","neurohypophysis","meninges","dura mater","arachnoid","pia mater","muscles of head","salivary glands","lips","nose","tongue","soft palate","right inner ear","left inner ear","right external ear","left external ear","right middle ear","left middle ear","right eyeball","left eyeball","skull","right frontal bone","left frontal bone","right parietal bone","left parietal bone","right temporal bone","left temporal bone","right sphenoid bone","left sphenoid bone","right ethmoid bone","left ethmoid bone","occipital bone","maxilla","right zygomatic bone","right lacrimal bone","vomer bone","right palatine bone","left palatine bone","mandible","neck","muscles of neck","pharynx","larynx","thyroid gland","right parathyroid glands","left parathyroid glands","skeleton of neck","hyoid bone","cervical vertebral column","thorax","trachea","bronchi","right lung","left lung","superior lobe of right lung","superior lobe of left lung","middle lobe of right lung","inferior lobe of right lung","inferior lobe of left lung","pleura","heart","right atrium","left atrium","atrial septum","ventricular septum","right ventricle of heart","left ventricle of heart","mitral valve","tricuspid valve","aortic valve","pulmonary valve","aorta","pericardium","pericardial cavity","esophagus","thymus","mediastinum","skin of thoracic wall","muscles of thoracic wall","skeleton of thorax","thoracic vertebral column","ribs","sternum","right clavicle","left clavicle","abdominal cavity","abdomen","peritoneum","omentum","peritoneal cavity","retroperitoneal space","stomach","duodenum","small bowel","colon","anus","liver","biliary tree","gallbladder","pancreas","spleen","urinary system","right kidney","left kidney","right ureter","left ureter","urinary bladder","urethra","right adrenal gland","left adrenal gland","female internal genitalia","uterus","right fallopian tube","left fallopian tube","right ovary","left ovary","vagina","male internal genitalia","prostate","right seminal vesicle","left seminal vesicle","right deferent duct","left deferent duct","skin of abdominal wall","muscles of abdominal wall","skeleton of abdomen","lumbar vertebral column","female external genitalia","male external genitalia","skeleton of upper limb","muscles of upper limb","right upper limb","left upper limb","right shoulder","left shoulder","right arm"],R:[0,128,241,177,111,216,221,144,192,220,78,255,230,200,250,244,0,216,183,183,152,111,178,68,111,85,0,214,78,218,170,140,188,216,145,150,177,244,250,200,68,128,83,83,162,162,141,141,182,182,188,188,154,154,177,177,30,30,210,210,48,48,98,98,69,166,122,122,253,145,46,0,0,250,127,127,159,159,125,125,106,106,154,154,126,201,201,78,78,174,174,139,139,148,148,186,186,99,156,156,64,64,138,97,126,194,85,88,88,88,88,88,88,88,88,244,200,250,82,57,60,92,255,255,255,255,201,70,188,177,166,182,229,229,174,174,201,201,194,194,241,203,203,229,229,255,255,209,209,248,248,255,196,255,255,255,242,242,222,177,213,184,150,62,62,62,242,250,255,177,182,175,197,197,172,172,202,224,224,255,206,210,203,233,195,181,152,159,166,218,225,224,255,184,211,47,255,173,188,255,226,253,244,205,205,186,177,255,234,204,180,216,255,205,204,255,221,0,139,249,157,203,185,185,247,247,222,124,249,249,244,255,255,227,213,213,193,216,230,245,245,241,241,177,171,217,212,185,185,198,194,177,177,177,177,177],G:[0,174,214,122,184,101,130,238,104,245,63,250,220,200,250,214,151,101,156,214,189,184,212,172,197,188,145,230,63,255,250,224,65,191,60,98,122,214,250,200,131,174,146,146,115,115,93,93,166,166,135,135,150,150,140,140,111,111,157,157,129,129,153,153,110,113,101,101,135,92,101,108,108,250,150,150,116,116,102,102,174,174,146,146,126,160,160,152,152,140,140,126,126,120,120,135,135,106,171,171,123,123,95,113,161,195,188,106,106,106,106,106,106,106,106,214,200,250,174,157,143,162,244,244,244,244,121,163,91,122,84,105,147,147,122,122,112,112,142,142,213,179,179,204,204,243,243,185,185,223,223,230,172,255,250,237,217,217,198,122,124,105,208,162,162,162,206,210,255,122,228,216,165,165,138,138,164,186,186,245,110,115,108,138,100,85,55,63,70,123,130,97,244,122,171,150,244,121,95,239,202,232,217,179,179,124,122,255,234,142,119,132,253,167,168,224,130,145,150,180,108,136,102,102,182,182,154,186,186,186,170,181,190,153,141,141,123,146,158,172,172,172,172,124,85,198,188,135,135,175,98,122,122,122,122,122],B:[0,128,145,101,210,79,101,144,88,20,0,220,70,235,210,49,206,79,220,211,207,210,242,100,131,255,30,130,0,255,250,228,28,216,66,83,101,49,225,215,98,128,164,164,105,105,137,137,110,110,166,166,201,201,190,190,85,85,166,166,126,126,112,112,53,137,38,38,192,109,131,112,112,225,88,88,163,163,154,154,155,155,83,83,55,133,133,141,141,103,103,177,177,72,72,135,135,24,108,108,147,147,74,158,197,164,255,215,215,215,215,215,215,215,215,49,215,225,128,110,83,109,209,209,209,209,77,117,95,101,94,107,118,118,90,90,73,73,0,0,144,77,77,109,109,152,152,85,85,131,131,138,68,167,160,145,123,123,101,101,109,108,243,114,114,114,142,139,207,101,255,244,145,145,115,115,140,162,162,217,84,89,81,112,73,57,13,27,38,97,104,76,209,154,143,103,209,88,76,172,134,158,154,108,108,161,101,220,194,178,153,105,229,142,143,199,101,30,98,111,162,116,83,83,164,164,132,223,150,150,147,158,165,130,113,113,103,127,140,147,147,151,151,92,68,131,102,134,134,125,79,101,101,101,101,101],A:[0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],I:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},b8={R:[0,0,24,248,255],G:[0,0,177,254,0],B:[0,136,0,0,0],A:[0,32,64,78,128],I:[0,64,128,156,255]},y8={R:[1,10,15,17,21,27,36,49,65,82,99,118,140,161,183,203,222,238,248,253,253,253,252,250],G:[25,42,56,68,79,88,97,105,111,116,122,127,133,138,142,146,150,155,162,170,178,186,195,204],B:[89,92,95,96,98,98,96,91,83,74,64,55,46,43,49,62,79,100,126,151,175,199,223,250],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,11,22,33,44,55,66,77,88,99,110,121,133,144,155,166,177,188,199,210,221,232,243,255]},w8={R:[0,248,242,235,229,222,212,202,193,183,173,145,117,78,39,0,0,0,0,0,0,64,128,191,255,255,255,255,255,238,221,204,214,224,235,245,255,249,242,236,229,223,217,210,204,197,191,184,176,169,161,154,146,139,132,124,117,109,102,0],G:[0,251,247,243,239,235,235,235,235,235,235,216,197,174,150,127,153,178,204,229,255,255,255,255,255,220,185,150,115,77,38,0,31,61,92,122,153,138,122,107,92,77,61,46,31,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B:[0,254,253,252,251,250,251,252,253,254,255,226,198,132,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,40,80,120,160,200,199,198,197,196,196,195,194,193,192,191,184,176,169,161,154,146,139,132,124,117,109,102,0],A:[256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256],I:[0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,255]},S8={R:[255,248,242,235,229,222,212,202,193,183,173,145,117,78,39,0,0,0,0,0,0,64,128,191,255,255,255,255,255,238,221,204,214,224,235,245,255,249,242,236,229,223,217,210,204,197,191,184,176,169,161,154,146,139,132,124,117,109,102,0],G:[255,251,247,243,239,235,235,235,235,235,235,216,197,174,150,127,153,178,204,229,255,255,255,255,255,220,185,150,115,77,38,0,31,61,92,122,153,138,122,107,92,77,61,46,31,15,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B:[255,254,253,252,251,250,251,252,253,254,255,226,198,132,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,40,80,120,160,200,199,198,197,196,196,195,194,193,192,191,184,176,169,161,154,146,139,132,124,117,109,102,0],A:[256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256,256],I:[0,4,8,12,16,20,24,28,32,36,40,44,48,52,56,60,64,68,72,76,80,84,88,92,96,100,104,108,112,116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204,208,212,216,220,224,228,232,236,240,244,248,255]},M8={R:[0,0,0,0,196,255],G:[0,32,128,128,128,32],B:[0,255,196,0,0,0],A:[0,128,64,64,64,128],I:[0,1,64,128,192,255]},C8={R:[0,255],G:[0,0],B:[255,255],A:[0,128],I:[0,255]},T8={R:[0,0],G:[0,255],B:[255,255],A:[0,128],I:[0,255]},D8={R:[0,0,0,0],G:[0,1,128,255],B:[0,222,127,32],A:[0,0,64,128],I:[0,1,128,255]},k8={R:[0,0,0],G:[0,0,0],B:[0,128,255],A:[0,64,128],I:[0,128,255]},I8={R:[0,103,255],G:[0,126,255],B:[0,165,255],A:[0,76,128],I:[0,153,255]},E8={R:[0,43,103,199,216,255],G:[0,0,37,155,213,255],B:[0,0,20,97,201,255],A:[0,44,48,54,56,56],I:[0,64,128,196,240,255]},F8={R:[0,9,24,33,40,46,52,57,62,66,70,74,78,81,85,88,91,94,98,101,103,106,109,112,114,117,119,121,124,126,128,130,133,135,137,139,141,143,145,147,149,151,153,155,157,159,161,163,164,166,168,169,171,172,174,175,177,178,180,181,183,184,186,187,189,190,191,193,194,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,222,223,224,224,225,226,226,227,228,228,229,229,230,231,231,232,233,233,234,234,235,235,236,236,236,237,237,237,238,238,238,239,239,239,240,240,240,241,241,241,242,242,242,243,243,243,243,243,243,243,243,244,244,244,244,244,244,244,244,244,244,244,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,245,244,244,244,244,244,244,244,244,244,244,244,244,244,244,244,243,243,243,243,243,243,243,243,243,243,243,243,242,242,242,242,242,242,242,242,241,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,242,243,243,244,244,245,246,246,247,247,248,249,249,250,250,251,251,252,252,253,253,254,254,254],G:[42,41,41,41,40,40,40,39,39,39,38,38,37,37,36,36,35,35,34,34,33,32,32,31,30,30,30,30,29,29,29,29,28,28,28,27,27,27,26,26,26,25,25,25,24,24,24,24,24,25,25,26,27,27,28,28,29,30,30,31,31,32,33,33,34,34,35,36,36,37,38,39,40,42,43,44,45,47,48,49,50,51,53,54,55,56,57,58,59,60,62,63,64,65,66,68,69,71,72,73,75,76,77,79,80,81,83,84,85,87,88,89,90,92,93,94,95,97,98,100,101,102,104,105,107,108,109,111,112,113,115,116,117,119,120,121,122,124,125,126,128,129,130,132,133,134,136,137,138,140,141,142,144,145,146,147,149,150,151,153,154,155,156,158,159,160,161,163,164,165,167,168,169,170,172,173,174,175,176,178,179,180,181,183,184,185,186,187,189,190,191,192,193,194,196,197,198,199,200,201,203,204,205,206,207,208,209,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,228,229,230,231,232,233,234,235,236,237,238,238,239,240,241,241,242,243,244,244,245,246,247,248,248,249,250,251,251,252,253,254,255],B:[167,167,166,166,166,165,165,165,164,164,164,163,163,162,162,162,161,161,161,160,160,160,159,159,158,158,157,157,156,155,155,154,154,153,153,152,151,151,150,150,149,149,148,147,147,146,146,145,144,144,143,143,142,141,141,140,139,139,138,137,137,136,135,135,134,133,133,132,131,131,130,130,129,128,128,127,127,126,125,125,124,124,123,123,122,121,121,120,119,119,118,118,117,116,116,116,115,115,114,114,113,113,113,112,112,111,111,110,110,109,109,109,108,108,107,107,106,106,106,106,106,105,105,105,105,105,105,105,104,104,104,104,104,103,103,103,103,103,102,102,102,103,103,103,103,104,104,104,104,104,105,105,105,105,106,106,106,106,106,107,107,107,107,108,108,109,110,111,111,112,113,113,114,115,115,116,117,117,118,119,120,120,121,122,122,123,124,125,126,128,129,130,131,132,134,135,136,137,138,140,141,142,143,144,146,147,148,149,150,152,153,155,157,158,160,162,163,165,167,168,170,172,173,175,177,178,180,182,183,185,187,188,190,193,196,199,201,204,207,210,212,215,218,221,224,226,229,232,235,238,240,243,246,249,252,255],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},B8={R:[0,86,166,255],G:[32,92,156,233],B:[76,108,117,69],A:[0,56,80,88],I:[0,64,192,255]},N8={R:[0,0,0],G:[127,196,254],B:[255,255,255],A:[0,64,128],I:[0,128,255]},R8={R:[0,61,122,183,244,255],G:[0,41,81,122,163,255],B:[0,25,51,76,102,255],A:[0,25,51,71,102,128],I:[0,51,102,153,204,255]},V8={R:[0,61,122,183,244,255],G:[0,41,81,122,163,203],B:[0,25,51,76,102,127],A:[0,25,51,71,102,128],I:[0,51,102,153,204,255]},U8={min:-643,max:-235,R:[0,0,0],G:[154,154,154],B:[179,179,101],A:[0,32,0],I:[0,163,255]},z8={min:114,max:800,R:[0,255,255,255],G:[0,0,129,255],B:[0,0,0,255],A:[0,64,88,228],I:[0,80,160,255]},P8={min:180,max:600,R:[0,0,113,255],G:[0,0,109,250],B:[0,0,101,245],A:[0,0,100,160],I:[0,1,128,255]},L8={min:-10,max:110,R:[0,127,255],G:[0,127,255],B:[0,127,255],A:[0,48,128],I:[0,124,255]},O8={min:-10,max:110,R:[0,199,255],G:[0,127,255],B:[0,127,255],A:[0,48,128],I:[0,124,255]},q8={min:-80,max:1e3,R:[0,189,150,150,150,150,255],G:[0,169,54,54,54,54,240],B:[0,153,52,52,52,52,242],A:[0,32,64,0,0,64,64],I:[0,1,82,92,234,242,255]},G8={min:-590,max:600,R:[0,241,241,248,248,178,178,232,255,255,255],G:[0,156,156,222,222,36,36,51,255,255,255],B:[0,130,130,169,169,24,24,37,255,255,255],A:[0,8,0,0,0,64,64,0,0,222,222],I:[0,2,3,64,122,142,172,182,252,253,255]},H8={min:114,max:302,R:[0,255,255],G:[0,129,255],B:[0,0,255],A:[0,88,228],I:[0,103,255]},Y8={min:-23,max:246,R:[0,44,255,255,255],G:[0,128,90,255,255],B:[0,0,70,0,255],A:[0,0,82,184,228],I:[0,64,131,196,255]},K8={min:-100,max:246,R:[0,128,159,255,255,255,255],G:[0,0,56,90,0,255,255],B:[0,0,41,70,0,0,255],A:[0,63,105,135,167,184,228],I:[0,100,128,155,180,209,255]},W8={min:-590,max:600,R:[0,241,241,248,248,178,232,255,255],G:[0,156,156,222,222,36,51,255,255],B:[0,130,130,169,169,24,37,255,255],A:[0,63,105,135,167,184,228,228,228],I:[0,1,52,127,137,162,172,252,255]},j8={min:140,max:1024,R:[0,2,113,255],G:[0,1,109,250],B:[0,1,101,245],A:[0,1,96,168],I:[0,1,128,255]},X8={min:-923,max:679,R:[0,0,0,0,0,255,255,255],G:[154,154,154,154,0,0,254,255],B:[179,179,179,179,0,0,0,255],A:[0,3,8,0,0,10,15,20],I:[0,30,62,88,170,200,232,255]},Q8={min:-10,max:110,R:[0,199,255],G:[0,127,255],B:[0,127,255],A:[0,48,128],I:[0,124,255]},Z8={min:-600,max:100,R:[0,134,255],G:[0,109,250],B:[0,101,245],A:[0,60,148],I:[0,128,255]},J8={min:114,max:246,R:[0,255,255],G:[0,128,255],B:[0,128,255],A:[0,64,96],I:[0,87,255]},_8={min:50,max:1e3,R:[98,210,169,128,255],G:[94,26,77,128,255],B:[45,21,74,128,255],A:[0,25,0,4,168],I:[0,41,87,154,255]},$8={R:[0,13,21,26,27,25,22,21,22,28,39,54,75,98,124,148,171,189,202,210,213,211,206,200,195,193,195,201,211,225,240,255],G:[0,5,11,20,31,44,58,72,86,99,109,116,120,122,122,122,121,121,124,129,137,147,161,175,190,205,218,229,238,245,251,255],B:[0,14,30,46,61,71,77,78,75,68,60,52,48,47,53,65,83,105,131,157,183,205,222,235,241,243,242,240,239,240,245,255],A:[0,4,8,12,17,21,25,29,33,37,41,45,50,54,58,62,66,70,74,78,83,87,91,95,99,103,107,111,116,120,124,128],I:[0,8,16,25,33,41,49,58,66,74,82,90,99,107,115,123,132,140,148,156,165,173,181,189,197,206,214,222,230,239,247,255]},e9={R:[0,10,136,255],G:[0,39,220,255],B:[0,223,253,255],A:[0,48,64,70],I:[0,92,192,255]},t9={R:[0,245,205,120,196,220,230,0,122,236,12,204,42,119,220,103,60,255,165,160,0,245,205,120,196,220,230,0,122,236,13,220,103,255,165,160,0,120,200,255,255,164,164,164,234,0,0,0,0,0],G:[0,245,62,18,58,248,148,118,186,13,48,182,204,159,216,255,60,165,42,32,200,245,62,18,58,248,148,118,186,13,48,216,255,165,42,32,200,190,70,148,148,108,108,108,169,0,0,0,0,0],B:[0,245,78,134,250,164,34,14,220,176,255,142,164,176,20,255,60,0,42,240,200,245,78,134,250,164,34,14,220,176,255,20,255,0,42,240,221,150,255,10,10,226,226,226,30,64,112,160,208,255],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,2,3,4,5,7,8,10,11,12,13,14,15,16,17,18,24,26,28,30,31,41,42,43,44,46,47,49,50,51,52,53,54,58,60,62,63,72,77,78,79,80,81,82,85,251,252,253,254,255]},i9={R:[0,0,128,255,255],G:[0,128,0,128,255],B:[0,125,255,0,255],A:[0,32,64,96,128],I:[0,63,128,192,255]},r9={R:[0,142,227,255],G:[0,85,170,255],B:[0,14,76,255],A:[0,42,84,128],I:[0,85,170,255]},s9={R:[0,255],G:[0,255],B:[0,255],A:[0,128],I:[0,255]},n9={R:[0,0,0],G:[0,128,255],B:[0,0,0],A:[0,64,128],I:[0,128,255]},a9={R:[0,0,0],G:[72,72,255],B:[0,255,255],A:[0,64,128],I:[0,88,255]},o9={R:[0,255,255],G:[72,88,255],B:[0,0,0],A:[0,64,128],I:[0,88,255]},l9={R:[0,255,255,255],G:[0,0,126,255],B:[0,0,0,255],A:[0,64,96,128],I:[0,128,191,255]},c9={R:[3,255,255,255],G:[0,0,255,255],B:[0,0,0,255],A:[0,48,96,128],I:[0,95,191,255]},h9={R:[255,255,0,0,0,255,255],G:[0,255,255,255,0,0,0],B:[0,0,0,255,255,255,0],A:[0,14,28,43,57,71,85],I:[0,43,85,128,170,213,255]},u9={R:[0,120,237,240],G:[0,28,105,249],B:[4,109,37,33],A:[0,56,80,88],I:[0,64,192,255]},d9={R:[0,0,127,255,127],G:[0,127,255,127,0],B:[127,255,127,0,0],A:[0,32,64,96,128],I:[0,63,128,192,255]},m9={R:[0,255,255],G:[0,0,255],B:[0,0,0],A:[0,64,64],I:[0,86,255]},f9={R:[94,50,90,152,215,238,249,254,252,241,209,158],G:[79,131,186,214,240,244,237,210,157,100,57,1],B:[162,189,167,164,155,169,168,123,86,68,79,66],A:[0,12,23,35,47,58,70,81,93,105,116,128],I:[0,23,46,70,93,116,139,162,185,209,232,255]},p9={R:[3,7,13,25,45,67,84,98,110,124,138,154,173,191,210,225,233,233,231,229,230,235,243,253],G:[19,33,48,63,77,87,92,94,95,96,96,97,99,101,106,118,133,149,163,177,192,208,225,245],B:[38,58,79,99,114,122,122,120,117,113,110,105,101,97,94,96,103,112,122,134,149,169,192,218],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,11,22,33,44,55,66,77,88,99,110,121,133,144,155,166,177,188,199,210,221,232,243,255]},g9={R:[0,148,183,223,247,252],G:[0,44,55,74,112,253],B:[4,128,121,104,92,191],A:[0,44,53,64,75,107],I:[0,107,128,154,179,255]},v9={R:[11,59,55,222],G:[4,45,165,245],B:[5,91,172,229],A:[0,23,70,107],I:[0,56,167,255]},A9={R:[3,5,6,8,12,19,28,36,42,48,54,61,68,76,86,96,110,129,154,181,205,224,239,252],G:[19,32,44,58,72,86,98,108,116,122,128,134,141,149,157,167,178,191,204,216,225,232,239,244],B:[39,60,82,104,123,137,144,145,142,138,134,130,126,121,116,110,105,104,112,131,155,178,198,217],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,11,22,33,44,55,66,77,88,99,110,121,133,144,155,166,177,188,199,210,221,232,243,255]},x9={R:[0,85,0,0,0,0,0,0,85,255,255,255,172],G:[0,0,0,0,85,170,255,255,255,255,85,0,0],B:[0,170,85,255,255,170,170,0,85,0,0,0,0],A:[0,5,10,21,26,32,37,42,48,53,64,72,85],I:[0,15,31,63,79,95,111,127,143,159,191,217,255]},b9={R:[13,156,237,240],G:[8,23,121,249],B:[135,158,83,33],A:[0,56,80,88],I:[0,64,192,255]},y9={R:[208,71,33,192,32,195,208,173,233,202,25,210,145,89,87,245,246,38,3,25,57,167,245,86,227,208,81,64,90,199,140,48,212,180,70,120,9,192,245,177,65,157,9,193,100,181,125,145,62,8,108,36,140,237,242,248,161,189,41,114,65,121,97,50,238,149,44,214,124,167,40,167,127,178,231,30,173,244,193,203,204,238,139,135,71,234,234,217,66,14,129,19,97,165,112,244,35,73,192,12,149,71,33,192,32,195,208,173,233,202,25,210,145,89,87,245,246,38,3,25,57,167,245,86,227,208,81,64,90,199,140,48,212,180,70,120,9,192,245,177,65,157,9,193,100,181,125,145,62,8,108,36,140,237,242,248,161,189,41,114,65,121,97,50,238,149,44,214,124,167,40,167,127,178,231,30,173,244,193,203,204,238,139,135,71,234,234,217,66,14,129,19,97,165,112,244,35,73,192,12,149,71,33,192,32,195,208,173,233,202,25,210,145,89,87,245,246,38,3,25,57,167,245,86,227,208,81,64,90,199,140,48,212,180,70,120,9,192,245,177,65,157,9,193,100,181,125,145,62,8,108,36,140,237,242,248],G:[182,46,78,199,79,89,41,208,135,20,154,35,21,43,230,113,191,147,208,37,28,27,86,203,25,209,148,187,139,111,48,102,76,110,106,130,37,160,34,222,90,165,245,222,102,47,19,130,4,232,137,211,240,11,140,21,42,22,241,61,99,115,199,166,114,190,204,60,233,66,115,230,125,103,203,125,13,176,94,131,39,198,167,124,67,175,254,1,15,198,62,237,159,31,218,58,244,47,61,67,94,46,78,199,79,89,41,208,135,20,154,35,21,43,230,113,191,147,208,37,28,27,86,203,25,209,148,187,139,111,48,102,76,110,106,130,37,160,34,222,90,165,245,222,102,47,19,130,4,232,137,211,240,11,140,21,42,22,241,61,99,115,199,166,114,190,204,60,233,66,115,230,125,103,203,125,13,176,94,131,39,198,167,124,67,175,254,1,15,198,62,237,159,31,218,58,244,47,61,67,94,46,78,199,79,89,41,208,135,20,154,35,21,43,230,113,191,147,208,37,28,27,86,203,25,209,148,187,139,111,48,102,76,110,106,130,37,160,34,222,90,165,245,222,102,47,19,130,4,232,137,211,240,11,140,21],B:[191,154,43,10,207,204,164,231,136,58,239,30,147,230,101,111,150,35,128,57,252,79,173,120,25,126,81,85,8,7,122,237,190,152,246,182,130,219,67,76,167,178,235,250,28,61,186,250,199,67,58,50,86,182,108,77,89,112,59,125,226,50,205,227,125,128,104,27,59,66,53,133,159,203,97,125,139,159,158,7,215,47,140,226,223,231,44,110,184,61,233,47,67,148,22,120,173,156,117,181,94,154,43,10,207,204,164,231,136,58,239,30,147,230,101,111,150,35,128,57,252,79,173,120,25,126,81,85,8,7,122,237,190,152,246,182,130,219,67,76,167,178,235,250,28,61,186,250,199,67,58,50,86,182,108,77,89,112,59,125,226,50,205,227,125,128,104,27,59,66,53,133,159,203,97,125,139,159,158,7,215,47,140,226,223,231,44,110,184,61,233,47,67,148,22,120,173,156,117,181,94,154,43,10,207,204,164,231,136,58,239,30,147,230,101,111,150,35,128,57,252,79,173,120,25,126,81,85,8,7,122,237,190,152,246,182,130,219,67,76,167,178,235,250,28,61,186,250,199,67,58,50,86,182,108,77],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},w9={R:[0,128,255],G:[0,0,0],B:[0,0,0],A:[0,64,128],I:[0,128,255]},S9={R:[192,224,255],G:[1,128,255],B:[0,0,0],A:[0,64,128],I:[0,128,255]},M9={R:[3,112,144,188,236,246,255],G:[5,31,29,22,76,158,250],B:[26,87,91,86,62,117,235],A:[0,30,38,49,67,85,107],I:[0,73,92,118,160,205,255]},C9={R:[1,240,255],G:[1,128,255],B:[1,128,255],A:[0,76,128],I:[0,153,255]},T9={R:[0,5,18,34,53,72,90,107,126,144,161,178,194,209,222,233,242,248,251,251,249,244,241,252],G:[0,4,10,11,9,11,17,23,30,36,43,50,59,70,83,98,117,136,157,177,199,220,240,254],B:[3,24,50,76,96,106,109,110,108,104,97,89,79,67,55,42,26,12,6,22,47,79,121,164],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,11,22,33,44,55,66,77,88,99,110,121,133,144,155,166,177,188,199,210,221,232,243,255]},D9={R:[48,48,64,70,65,25,132,195,244,254,218,122],G:[18,18,64,107,150,226,255,241,199,158,57,4],B:[59,59,162,227,255,187,81,52,58,47,7,3],A:[0,22,26,30,34,43,52,57,63,67,77,86],I:[0,1,16,32,49,83,118,140,164,181,219,255]},k9={R:[0,128,255],G:[0,0,0],B:[0,128,255],A:[0,64,128],I:[0,128,255]},I9={R:[68,49,53,253],G:[1,104,183,231],B:[84,142,121,37],A:[0,56,80,88],I:[0,64,192,255]},E9={R:[255,255,255],G:[127,196,254],B:[0,0,0],A:[0,64,128],I:[0,128,255]},F9={R:[0,0,0],G:[0,128,255],B:[255,196,128],A:[0,64,128],I:[0,128,255]},B9={R:[3,64,0,0,255,255,255],G:[0,0,0,255,255,192,3],B:[0,32,48,56,64,96,128],A:[0,8,16,24,32,52,80],I:[0,32,64,96,160,192,255]},N9={min:0,max:0,R:[0,37],G:[242,0],B:[255,255],A:[0,64],I:[0,255]},R9={R:[255,255],G:[255,11],B:[0,0],A:[0,64],I:[0,255]},V9={min:0,max:0,R:[65,10,223,120,216,207,251,93,252,217,21,253,131,165,173,143,144,217,86,89,63,254,172,1,142,107,42,78,221,8,222,71,127,126,167,33,104,2,208,216,0,251,7,105,2,101,248,190,253,62,255,224,166,37,110,138,45,34,6,37,69,201,43,122,199,37,173,194,103,211,75,159,96,4,239,98,110,193,253,166,40,255,48,130,140,243,101,9,177,220,133,32,4,81,48,48,210,109,60,132,1,119,1,159,247,33,212,187,253,144,196,254,168,79,64,196,39,97,73,173,104,216,217,43,101,119,254,5,237,103,203,122,57,87,251,164,19,75,200,2,252,150,66,0,255,157,23,254,55,16,240,161,69,253,207,195,5,60,255,251,200,217,134,123,253,180,27,246,130,136,250,232,4,125,140,22,253,255,13,180,123,61,254,111,10,185,76,192,255,223,186,61,198,5,172,13,83,172,171,6,23,73,134,133,109,61,213,55,57,132,36,209,2,144,1,253,68,155,3,160,2,77,121,70,67,176,223,131,4,162,232,255,150,94,235,191,207,10,246,0,225,4,209,116,57,112,172,253,1,6,92,227,73,62,135,223],G:[162,50,112,245,4,124,176,243,56,125,183,139,182,68,189,4,225,10,20,223,7,46,31,193,225,250,219,41,2,100,83,181,34,150,72,223,168,248,80,253,7,117,214,2,248,10,3,59,179,160,90,244,146,4,207,4,125,255,96,100,1,208,130,51,116,181,236,53,244,5,165,28,181,86,96,42,254,1,134,194,214,92,41,204,137,86,207,3,143,3,100,239,164,94,65,251,131,244,173,57,143,107,217,53,210,0,148,250,45,198,81,40,61,218,252,88,171,0,248,24,248,4,41,100,187,46,208,145,43,168,121,46,175,250,125,107,233,112,207,231,174,215,53,9,43,153,52,124,128,65,210,147,255,147,63,200,148,254,0,179,241,42,239,2,230,8,82,135,87,16,3,87,86,151,254,8,255,86,53,19,7,192,171,201,253,247,197,103,251,126,0,149,54,183,61,126,79,113,10,103,184,75,11,195,222,136,149,131,8,99,240,177,252,255,198,16,7,68,178,66,191,150,73,26,211,109,78,209,240,254,1,166,247,131,2,0,167,127,133,10,43,99,235,3,214,142,176,82,132,38,10,249,255,215,44,81],B:[176,182,248,37,117,35,96,69,32,152,108,20,237,250,2,89,141,216,111,251,211,149,10,44,214,103,31,251,3,32,252,246,97,1,219,167,197,4,36,116,206,118,106,43,205,204,114,69,127,205,87,80,41,251,145,204,253,161,247,1,149,9,43,253,97,72,136,161,171,181,26,255,108,80,218,214,231,255,84,31,109,4,218,3,217,36,68,85,241,39,221,2,240,2,173,42,206,5,110,46,103,27,212,184,2,207,246,45,116,72,110,253,38,105,248,159,243,81,192,93,141,145,24,157,234,131,57,178,62,75,65,176,148,40,253,66,76,240,51,154,17,251,139,253,207,9,114,49,200,254,96,73,138,118,204,102,137,89,145,161,4,112,66,234,147,178,212,205,185,11,203,131,2,250,118,169,1,185,154,53,171,197,61,175,249,96,15,254,95,5,222,75,246,194,2,61,180,25,133,165,15,233,59,35,221,140,109,7,114,255,198,0,115,168,252,23,242,80,75,142,137,255,12,182,68,201,4,111,37,228,83,248,24,192,249,5,54,223,160,122,160,114,145,119,252,31,253,250,10,214,8,47,0,142,222,70],A:[0,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64,64],I:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},U9=class{constructor(){W(this,"gamma",1),W(this,"version",.1),W(this,"cluts",{});const e=Object.keys(ya).filter(t=>!t.startsWith("$")).sort(new Intl.Collator("en").compare);for(const t of e)this.cluts[t]=ya[t]}addColormap(i,e){this.cluts[i]=e}colormaps(){return Object.keys(this.cluts)}colorMaps(){return this.colormaps()}colormapFromKey(i){let e=this.cluts[i];return e!==void 0||(e=this.cluts[i.toLowerCase()],e!==void 0)?e:(i.length>0&&Z.warn("No color map named "+i),{min:0,max:0,R:[0,255],G:[0,255],B:[0,255],A:[0,255],I:[0,255]})}colormap(i="",e=!1){const t=this.colormapFromKey(i);return this.makeLut(t.R,t.G,t.B,t.A,t.I,e)}makeLabelLut(i,e=255){if(i.R===void 0||i.G===void 0||i.B===void 0)throw new Error(`Invalid colormap table: ${i}`);const t=i.R.length,r=i.I??[...Array(t).keys()];if(t!==i.G.length||t!==i.B.length||t!==r.length)throw new Error(`colormap does not make sense: ${i} Rs ${i.R.length} Gs ${i.G.length} Bs ${i.B.length} Is ${r.length}`);let s=new Uint8ClampedArray(t).fill(e);s[0]=0,i.A!==void 0&&(s=Uint8ClampedArray.from(i.A));const n=Math.min(...r),a=Math.max(...r),l=a-n+1,o=new Uint8ClampedArray(l*4).fill(0);for(let d=0;d<t;d++){let f=(r[d]-n)*4;o[f++]=i.R[d],o[f++]=i.G[d],o[f++]=i.B[d],o[f++]=s[d]}const h={lut:o,min:n,max:a};if(i.labels){const d=i.labels.length;if(d===l)h.labels=i.labels;else if(d===t){h.labels=Array(l).fill("?");for(let f=0;f<t;f++){const p=r[f];h.labels[p]=i.labels[f]}}}return h}async makeLabelLutFromUrl(i){const t=await(await fetch(i)).json();return this.makeLabelLut(t)}makeDrawLut(i){let e=typeof i=="object"?i:ya[i];e===void 0&&(e={min:0,max:0,R:[0,255,0,0,255,0,255],G:[0,0,255,0,255,255,0],B:[0,0,0,255,0,255,255],A:[0,255,255,255,255,255,255],I:[0,255]});const t=this.makeLabelLut(e,255);if(t.labels===void 0&&(t.labels=[]),t.labels.length<256){const a=t.labels.length;for(let l=a;l<256;l++)t.labels.push(l.toString())}const r=new Uint8ClampedArray(256*4);let s=0;for(let a=0;a<256;a++)r[s++]=255,r[s++]=0,r[s++]=0,r[s++]=255;r[3]=0;const n=Math.min(t.lut.length,256*4);if(n>0)for(let a=0;a<n;a++)r[a]=t.lut[a];return{lut:r,labels:t.labels}}makeLut(i,e,t,r,s,n){const a=i.length,l=[...i],o=[...e],h=[...t];if(!s){s=new Array(a);for(let g=0;g<a;g++)s[g]=g/(a-1)*255}r||(r=new Array(a).fill(64),r[0]=0);let d=Uint8ClampedArray.from(r),f=Uint8ClampedArray.from(s);if(n)for(let g=0;g<a;g++)l[g]=i[a-1-g],o[g]=e[a-1-g],h[g]=t[a-1-g],d[g]=255-r[a-1-g],f[g]=255-s[a-1-g];const p=new Uint8ClampedArray(256*4);if(typeof f>"u"){f=new Uint8ClampedArray(a).fill(0);for(let g=0;g<a;g++)f[g]=Math.round(g*255/(a-1))}typeof d>"u"&&(d=new Uint8ClampedArray(a).fill(64),d[0]=0);for(let g=0;g<a-1;g++){const A=f[g];let x=f[g+1];g===0&&A!==0&&Z.warn("colormap issue: indices expected to start with 0 not ",A),g===f.length-2&&x!==255&&(Z.warn("padding colormap: indices expected end with 255 not ",x),x=255);const y=x-A;let b=A*4;for(let T=A;T<=x;T++){const D=(T-A)/y;p[b++]=l[g]+D*(l[g+1]-l[g]),p[b++]=o[g]+D*(o[g+1]-o[g]),p[b++]=h[g]+D*(h[g+1]-h[g]),p[b++]=d[g]+D*(d[g+1]-d[g])}}if(this.gamma===1)return p;for(let g=0;g<255*4;g++)g%4!==3&&(p[g]=Math.pow(p[g]/255,1/this.gamma)*255);return p}},Nt=new U9,_0=class{static getClusterBoundaryU8(i,e){const t=new Array(i.length).fill(!1),r=new Array(i.length).fill(!1);for(let a=0;a<i.length;a++)i[a]>0&&(r[a]=!0);const s=e.length/3;let n=0;for(let a=0;a<s;a++){const l=e[n],o=e[n+1],h=e[n+2];n+=3,!(r[l]===r[o]&&r[l]===r[h]&&r[o]===r[h])&&(t[l]=!0,t[o]=!0,t[h]=!0)}return t}static async gzip(i){const e=new CompressionStream("gzip"),t=e.writable.getWriter();t.write(i).catch(console.error);const r=t.close().catch(console.error),s=new Response(e.readable),n=new Uint8Array(await s.arrayBuffer());return await r,n}static createMZ3(i,e,t=!1,r=null){const n=r instanceof Uint8Array&&r.length===i.length/3*4,a=n?7:3,l=e.length/3,o=i.length/3,h=0,d=16,f=l*3*4,p=o*3*4,g=d+f+p,A=new ArrayBuffer(g),x=new DataView(A);x.setUint16(0,23117,!0),x.setUint16(2,a,!0),x.setUint32(4,l,!0),x.setUint32(8,o,!0),x.setUint32(12,h,!0);let y=d;if(new Uint32Array(A,y,e.length).set(e),y+=f,new Float32Array(A,y,i.length).set(i),n&&(y+=p,new Uint8Array(A,y,r.length).set(r)),t)throw new Error("Call async createMZ3Async() for compression");return A}static async createMZ3Async(i,e,t=!1,r=null){const s=this.createMZ3(i,e,t,r);return t?await this.gzip(new Uint8Array(s)):s}static createOBJ(i,e){let t="";for(let n=0;n<i.length;n+=3)t+=`v ${i[n]} ${i[n+1]} ${i[n+2]}
`;for(let n=0;n<e.length;n+=3)t+=`f ${e[n]+1} ${e[n+1]+1} ${e[n+2]+1}
`;return new TextEncoder().encode(t).buffer}static createSTL(i,e){const t=e.length/3,r=84+t*50,s=new ArrayBuffer(r),n=new DataView(s);for(let l=0;l<80;l++)n.setUint8(l,0);n.setUint32(80,t,!0);let a=84;for(let l=0;l<e.length;l+=3){const o=e[l]*3,h=e[l+1]*3,d=e[l+2]*3;n.setFloat32(a,0,!0),n.setFloat32(a+4,0,!0),n.setFloat32(a+8,0,!0),a+=12,n.setFloat32(a,i[o],!0),n.setFloat32(a+4,i[o+1],!0),n.setFloat32(a+8,i[o+2],!0),a+=12,n.setFloat32(a,i[h],!0),n.setFloat32(a+4,i[h+1],!0),n.setFloat32(a+8,i[h+2],!0),a+=12,n.setFloat32(a,i[d],!0),n.setFloat32(a+4,i[d+1],!0),n.setFloat32(a+8,i[d+2],!0),a+=12,n.setUint16(a,0,!0),a+=2}return s}static downloadArrayBuffer(i,e){const t=new Blob([i],{type:"application/octet-stream"}),r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download=e,document.body.appendChild(s),s.style.display="none",s.click(),setTimeout(()=>{document.body.removeChild(s),URL.revokeObjectURL(r)},0)}static async saveMesh(i,e,t=".mz3",r=!1){let s=new ArrayBuffer(0);return/\.obj$/i.test(t)?s=this.createOBJ(i,e):/\.stl$/i.test(t)?s=this.createSTL(i,e):(/\.mz3$/i.test(t)||(t+=".mz3"),s=await this.createMZ3Async(i,e,r)),t.length>4&&this.downloadArrayBuffer(s,t),s}static getClusterBoundary(i,e){const t=new Uint32Array(i.buffer),r=new Array(t.length).fill(!1),s=e.length/3;let n=0;for(let a=0;a<s;a++){const l=e[n],o=e[n+1],h=e[n+2];n+=3,!(t[l]===t[o]&&t[l]===t[h]&&t[o]===t[h])&&(r[l]=!0,r[o]=!0,r[h]=!0)}return r}static getExtents(i){if(!ArrayBuffer.isView(i)&&!Array.isArray(i)||i.length<3)return{mxDx:0,extentsMin:0,extentsMax:0};let e=0;const t=Ue(i[0],i[1],i[2]),r=Ue(i[0],i[1],i[2]);for(let a=0;a<i.length;a+=3){const l=Ue(i[a],i[a+1],i[a+2]);e=Math.max(e,pn(l)),ec(t,t,l),tc(r,r,l)}const s=[t[0],t[1],t[2]],n=[r[0],r[1],r[2]];return{mxDx:e,extentsMin:s,extentsMax:n}}static generateNormals(i,e){const t=[];let r;const s=i.length;let n,a,l,o,h,d,f,p,g;const A=new Float32Array(s),x=e.length;for(r=0;r<x;r+=3){f=e[r]*3,p=e[r+1]*3,g=e[r+2]*3;const y=[i[f],i[f+1],i[f+2]],b=[i[p],i[p+1],i[p+2]],T=[i[g],i[g+1],i[g+2]];n=b[0]-y[0],a=b[1]-y[1],l=b[2]-y[2],o=T[0]-y[0],h=T[1]-y[1],d=T[2]-y[2],t[0]=h*l-d*a,t[1]=d*n-o*l,t[2]=o*a-h*n,A[f]+=t[0],A[f+1]+=t[1],A[f+2]+=t[2],A[p]+=t[0],A[p+1]+=t[1],A[p+2]+=t[2],A[g]+=t[0],A[g+1]+=t[1],A[g+2]+=t[2]}for(r=0;r<s;r+=3){t[0]=-1*A[r],t[1]=-1*A[r+1],t[2]=-1*A[r+2];let y=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];y>0&&(y=1/Math.sqrt(y),t[0]*=y,t[1]*=y,t[2]*=y),A[r]=t[0],A[r+1]=t[1],A[r+2]=t[2]}return A}},it,Qi,wa,c1,Qs,q4=class{constructor(i){Hs(this,it),Hs(this,Qi,0),Hs(this,wa,[]),Hs(this,c1,[]),Hs(this,Qs),fs(this,it,new DataView(i)),this.read()}async extract(i){const e=new Uint8Array(We(this,it).buffer.slice(i.startsAt,i.startsAt+i.compressedSize));if(i.compressionMethod===0)return e;if(i.compressionMethod===8){const t=new DecompressionStream("deflate-raw"),r=t.writable.getWriter();r.write(e).catch(console.error);const s=r.close().catch(console.error),n=new Response(t.readable),a=new Uint8Array(await n.arrayBuffer());return await s,a}throw new Error(`Unsupported compression method: ${i.compressionMethod}`)}read(){for(;!We(this,Qs)&&We(this,Qi)<We(this,it).byteLength;){const i=We(this,it).getUint32(We(this,Qi),!0);if(i===67324752){const e=this.readLocalFile(We(this,Qi));e.extract=this.extract.bind(this,e),We(this,wa).push(e);const t=(e.generalPurpose&8)!==0;if(e.startsAt=We(this,Qi)+30+e.fileNameLength+e.extraLength,e.compressedSize===0&&t){let r=e.startsAt;for(;r+20<=We(this,it).byteLength;){if(We(this,it).getUint32(r,!0)===134695760&&We(this,it).getUint16(r+16,!0)===19280){r+=4;break}r++}e.crc=We(this,it).getUint32(r,!0),e.compressedSize=We(this,it).getUint32(r+4,!0),e.uncompressedSize=We(this,it).getUint32(r+8,!0),fs(this,Qi,r+12)}else fs(this,Qi,e.startsAt+e.compressedSize)}else if(i===33639248){const e=this.readCentralDirectory(We(this,Qi));We(this,c1).push(e),fs(this,Qi,We(this,Qi)+(46+e.fileNameLength+e.extraLength+e.fileCommentLength))}else if(i===101010256){fs(this,Qs,this.readEndCentralDirectory(We(this,Qi)));break}else if(i===101075792){fs(this,Qs,this.readEndCentralDirectory64(We(this,Qi)));break}else{console.error(`Unexpected ZIP signature 0x${i.toString(16).padStart(8,"0")} at index ${We(this,Qi)}`);break}}}readLocalFile(i){let e=We(this,it).getUint32(i+18,!0),t=We(this,it).getUint32(i+22,!0);const r=We(this,it).getUint16(i+26,!0),s=We(this,it).getUint16(i+28,!0),n=i+30+r;if(this.readString(n,s),e===4294967295&&t===4294967295){let a=n,l=!1;for(;a<n+s-4;){const o=We(this,it).getUint16(a,!0),h=We(this,it).getUint16(a+2,!0);if(a+=4,o===1)if(h>=16){t=Number(We(this,it).getBigUint64(a,!0)),a+=8,e=Number(We(this,it).getBigUint64(a,!0)),l=!0;break}else throw new Error(`ZIP64 extra field found but is too small (expected at least 16 bytes, got ${h}).`);a+=h}if(!l)throw new Error("ZIP64 format missing extra field with signature 0x0001.")}return{signature:this.readString(i,4),version:We(this,it).getUint16(i+4,!0),generalPurpose:We(this,it).getUint16(i+6,!0),compressionMethod:We(this,it).getUint16(i+8,!0),lastModifiedTime:We(this,it).getUint16(i+10,!0),lastModifiedDate:We(this,it).getUint16(i+12,!0),crc:We(this,it).getUint32(i+14,!0),compressedSize:e,uncompressedSize:t,fileNameLength:r,extraLength:s,fileName:this.readString(i+30,r),extra:this.readString(i+30+r,s)}}readCentralDirectory(i){return{versionCreated:We(this,it).getUint16(i+4,!0),versionNeeded:We(this,it).getUint16(i+6,!0),fileNameLength:We(this,it).getUint16(i+28,!0),extraLength:We(this,it).getUint16(i+30,!0),fileCommentLength:We(this,it).getUint16(i+32,!0),diskNumber:We(this,it).getUint16(i+34,!0),internalAttributes:We(this,it).getUint16(i+36,!0),externalAttributes:We(this,it).getUint32(i+38,!0),offset:We(this,it).getUint32(i+42,!0),comments:this.readString(i+46,We(this,it).getUint16(i+32,!0))}}readEndCentralDirectory(i){const e=We(this,it).getUint16(i+20,!0);return{numberOfDisks:We(this,it).getUint16(i+4,!0),centralDirectoryStartDisk:We(this,it).getUint16(i+6,!0),numberCentralDirectoryRecordsOnThisDisk:We(this,it).getUint16(i+8,!0),numberCentralDirectoryRecords:We(this,it).getUint16(i+10,!0),centralDirectorySize:We(this,it).getUint32(i+12,!0),centralDirectoryOffset:We(this,it).getUint32(i+16,!0),commentLength:e,comment:this.readString(i+22,e)}}readEndCentralDirectory64(i){const e=Number(We(this,it).getBigUint64(i+0,!0));return{numberOfDisks:We(this,it).getUint32(i+16,!0),centralDirectoryStartDisk:We(this,it).getUint32(i+20,!0),numberCentralDirectoryRecordsOnThisDisk:Number(We(this,it).getBigUint64(i+24,!0)),numberCentralDirectoryRecords:Number(We(this,it).getBigUint64(i+32,!0)),centralDirectorySize:Number(We(this,it).getBigUint64(i+40,!0)),centralDirectoryOffset:Number(We(this,it).getBigUint64(i+48,!0)),commentLength:e,comment:""}}readString(i,e){return Array.from({length:e},(t,r)=>String.fromCharCode(We(this,it).getUint8(i+r))).join("")}get entries(){return We(this,wa)}};it=new WeakMap;Qi=new WeakMap;wa=new WeakMap;c1=new WeakMap;Qs=new WeakMap;var Ke=class xs{static arrayBufferToBase64(e){const t=new Uint8Array(e);return xs.uint8tob64(t)}static async decompress(e){const t=e[0]===31&&e[1]===139&&e[2]===8?"gzip":e[0]===120&&(e[1]===1||e[1]===94||e[1]===156||e[1]===218)?"deflate":"deflate-raw",r=new DecompressionStream(t),s=r.writable.getWriter();s.write(e).catch(console.error);const n=s.close().catch(console.error),a=new Response(r.readable),l=new Uint8Array(await a.arrayBuffer());return await n,l}static async decompressToBuffer(e){const t=await xs.decompress(e);return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}static async readMatV4(e,t=!1){let r=e.byteLength;if(r<40)throw new Error("File too small to be MAT v4: bytes = "+e.byteLength);let s=new DataView(e),n=s.getUint16(0,!0),a=e;if(n===35615||n===8075){const A=await this.decompress(new Uint8Array(e));s=new DataView(A.buffer),n=s.getUint16(0,!0),a=A.buffer,r=a.byteLength}const l=new TextDecoder("utf-8"),o=new Uint8Array(a);let h=0;const d={};function f(A){return Math.floor(A/10)%10}function p(A,x,y){const b=new Uint8Array(o.subarray(x,y));return A===1?new Float32Array(b.buffer):A===2?new Int32Array(b.buffer):A===3?new Int16Array(b.buffer):A===4?new Uint16Array(b.buffer):A===5?new Uint8Array(b.buffer):new Float64Array(b.buffer)}function g(){const A=s.getUint32(h,!0),x=s.getUint32(h+4,!0),y=s.getUint32(h+8,!0),b=s.getUint32(h+12,!0),T=s.getUint32(h+16,!0);if(h+=20,b!==0)throw new Error("Matlab V4 reader does not support imaginary numbers");const D=x*y;if(D<1)throw new Error("mrows * ncols must be greater than one");const S=new Uint8Array(o.subarray(h,h+T));let k=l.decode(S).trim().replaceAll("\0","");t&&(k=k.replaceAll(".","_"));const R=f(A);let B=8;if(R>=1&&R<=2)B=4;else if(R>=3&&R<=4)B=2;else if(R===5)B=1;else if(R!==0)throw new Error("impossible Matlab v4 datatype");if(h+=T,A>50)throw new Error("Does not appear to be little-endian V4 Matlab file");const N=h+D*B;d[k]=p(R,h,N),h=N}for(;h+20<r;)g();return d}static b64toUint8(e){const t=atob(e),r=t.length,s=new Uint8Array(r);for(let n=0;n<r;n++)s[n]=t.charCodeAt(n);return s}static uint8tob64(e){let t="";const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=e.byteLength,n=s%3,a=s-n;let l,o,h,d,f;for(let p=0;p<a;p=p+3)f=e[p]<<16|e[p+1]<<8|e[p+2],l=(f&16515072)>>18,o=(f&258048)>>12,h=(f&4032)>>6,d=f&63,t+=r[l]+r[o]+r[h]+r[d];return n===1?(f=e[a],l=(f&252)>>2,o=(f&3)<<4,t+=r[l]+r[o]+"=="):n===2&&(f=e[a]<<8|e[a+1],l=(f&64512)>>10,o=(f&1008)>>4,h=(f&15)<<2,t+=r[l]+r[o]+r[h]+"="),t}static download(e,t,r){const s=document.createElement("a"),n=Array.isArray(e)?e:[e],a=new Blob(n,{type:r});s.href=URL.createObjectURL(a),s.download=t,s.click()}static readFileAsync(e){return new Promise((t,r)=>{const s=new FileReader;s.onload=()=>{t(s.result)},s.onerror=r,s.readAsArrayBuffer(e)})}static blobToBase64(e){return new Promise(t=>{const r=new FileReader;r.onloadend=()=>t(r.result),r.readAsDataURL(e)})}static async decompressBase64String(e){const t=atob(e),r=new ArrayBuffer(t.length),s=new Uint8Array(r);for(let n=0;n<t.length;n++)s[n]=t.charCodeAt(n);return xs.decompressArrayBuffer(s)}static async compressToBase64String(e){const t=await xs.compressStringToArrayBuffer(e);return xs.uint8tob64(new Uint8Array(t))}static strToU8(e,t){if(t){const o=new Uint8Array(e.length);for(let h=0;h<e.length;++h)o[h]=e.charCodeAt(h);return o}const r=e.length,s=(o,h,d)=>((d==null||d>o.length)&&(d=o.length),new Uint8Array(o.subarray(h,d)));let n=new Uint8Array(e.length+(e.length>>1)),a=0;const l=o=>{n[a++]=o};for(let o=0;o<r;++o){if(a+5>n.length){const d=new Uint8Array(a+8+(r-o<<1));d.set(n),n=d}let h=e.charCodeAt(o);h<128||t?l(h):h<2048?(l(192|h>>6),l(128|h&63)):(h>55295&&h<57344,h=65536+(h&1047552)|e.charCodeAt(++o)&1023,l(240|h>>18),l(128|h>>12&63),l(128|h>>6&63),l(128|h&63))}return s(n,0,a)}static async compress(e,t="gzip"){const r=new CompressionStream(t),s=r.writable.getWriter();s.write(e).catch(console.error);const n=s.close().catch(console.error),l=await new Response(r.readable).arrayBuffer();return await n,l}static async compressStringToArrayBuffer(e){const t=this.strToU8(e);return await this.compress(t)}static isArrayBufferCompressed(e){if(e&&e.byteLength){const t=new Uint8Array(e);return(t[0]<<8|t[1])===8075}else return!1}static strFromU8(e,t){if(t){let r="";for(let s=0;s<e.length;s+=16384)r+=String.fromCharCode.apply(null,e.subarray(s,s+16384));return r}else{const r=(l,o,h)=>((o==null||o<0)&&(o=0),(h==null||h>l.length)&&(h=l.length),new Uint8Array(l.subarray(o,h))),s=l=>{for(let o="",h=0;;){let d=l[h++];const f=(d>127)+(d>223)+(d>239);if(h+f>l.length)return{s:o,r:r(l,h-1)};f?f===3?(d=((d&15)<<18|(l[h++]&63)<<12|(l[h++]&63)<<6|l[h++]&63)-65536,o+=String.fromCharCode(55296|d>>10,56320|d&1023)):f&1?o+=String.fromCharCode((d&31)<<6|l[h++]&63):o+=String.fromCharCode((d&15)<<12|(l[h++]&63)<<6|l[h++]&63):o+=String.fromCharCode(d)}},{s:n,r:a}=s(e);if(a.length)throw new Error("Unexpected trailing bytes in UTF-8 decoding");return n}}static async decompressArrayBuffer(e){const t=await this.decompress(new Uint8Array(e));return this.strFromU8(t)}static arraysAreEqual(e,t){return Yg(e,t)}static range(e,t,r){return Array.from({length:(t-e)/r+1},(s,n)=>e+n*r)}static sph2cartDeg(e,t){const r=-t*(Math.PI/180),s=(e-90)%360*(Math.PI/180),n=[Math.cos(r)*Math.cos(s),Math.cos(r)*Math.sin(s),Math.sin(r)],a=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);return a<=0||(n[0]/=a,n[1]/=a,n[2]/=a),n}static vox2mm(e,t){const r=di(t);lr(r,r);const s=Kt(e[0],e[1],e[2],1);return Ti(s,s,r),Ue(s[0],s[1],s[2])}},oa=Z,Zt=class wi{static readTRACT(e){const t=e.byteLength;if(t<20)throw new Error("File too small to be niml.tract: bytes = "+t);const r=new DataView(e),s=new Uint8Array(e);let n=0;function a(){for(;n<t&&s[n]!==60;)n++;const x=n;for(;n<t&&s[n]!==62;)n++;return n++,n-x<1?"":new TextDecoder().decode(e.slice(x,n-1)).trim()}let l=a();function o(x){const y=l.indexOf(x);if(y<0)return 0;const b=l.indexOf('"',y)+1,T=l.indexOf('"',b),D=l.slice(b,T);return parseInt(D)}const h=o("N_tracts=");(!l.startsWith("<network")||h<1)&&Z.warn("This is not a valid niml.tract file "+l);let d=0;const f=[];f.push(d);const p=[],g=[];for(let x=0;x<h;x++){l=a();const y=o("ni_dimen="),b=o("Bundle_Tag="),T=l.includes("binary.lsbfirst");for(let D=0;D<y;D++){n+=4;const S=r.getUint32(n,T)/3;n+=4;for(let k=0;k<S;k++)p.push(r.getFloat32(n,T)),n+=4,p.push(-r.getFloat32(n,T)),n+=4,p.push(r.getFloat32(n,T)),n+=4;d+=S,f.push(d),g.push(b)}l=a()}const A=[];return A.push({id:"tract",vals:Float32Array.from(g)}),{pts:new Float32Array(p),offsetPt0:new Uint32Array(f),dps:A}}static async readTT(e){let t=new Uint32Array(0),r=new Float32Array(0);const s=await Ke.readMatV4(e);if(!("trans_to_mni"in s))throw new Error("TT format file must have 'trans_to_mni'");if(!("voxel_size"in s))throw new Error("TT format file must have 'voxel_size'");if(!("track"in s))throw new Error("TT format file must have 'track'");let n=pt();const a=s.trans_to_mni;n=hr(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]),lr(n,n);function l(o){const h=new DataView(o.buffer),d=[];let f=0,p=0;for(;p<o.length;){d.push(p);const x=h.getUint32(p,!0);p=p+x+13,f+=x}t=new Uint32Array(d.length+1),r=new Float32Array(f);let g=0;for(let x=0;x<d.length;x++){t[x]=g/3;let y=d[x];const b=h.getUint32(y,!0)/3;let T=h.getInt32(y+4,!0),D=h.getInt32(y+8,!0),S=h.getInt32(y+12,!0);y+=16,r[g++]=T,r[g++]=D,r[g++]=S;for(let k=2;k<=b;k++)T=T+h.getInt8(y++),D=D+h.getInt8(y++),S=S+h.getInt8(y++),r[g++]=T,r[g++]=D,r[g++]=S}for(let x=0;x<g;x++)r[x]=r[x]/32;let A=0;for(let x=0;x<g/3;x++){const y=Kt(r[A],r[A+1],r[A+2],1);Ti(y,y,n),r[A++]=y[0],r[A++]=y[1],r[A++]=y[2]}t[d.length]=g/3}return l(s.track),{pts:r,offsetPt0:t}}static async readTRX(e){function t(g){const A=(g&31744)>>10,x=g&1023;return(g>>15?-1:1)*(A?A===31?x?NaN:1/0:Math.pow(2,A-15)*(1+x/1024):6103515625e-14*(x/1024))}let r=0,s=0,n=new Float32Array([]);const a=[],l=[],o=[],h=[];let d=[],f=!1;const p=new q4(e);for(let g=0;g<p.entries.length;g++){const A=p.entries[g];if(A.uncompressedSize===0)continue;const x=A.fileName.split("/"),y=x.slice(-1)[0];if(y.startsWith("."))continue;const b=x.slice(-2)[0],T=y.split(".")[0],D=await A.extract();if(y.includes("header.json")){const R=new TextDecoder().decode(D);d=JSON.parse(R);continue}let S=0,k=[];if(y.endsWith(".uint64")||y.endsWith(".int64")){S=D.length/8,k=new Uint32Array(S);const R=new Uint32Array(D.buffer);let B=0;for(let N=0;N<S;N++)k[N]=R[B],R[B+1]!==0&&(f=!0),B+=2}else if(y.endsWith(".uint32"))k=new Uint32Array(D.buffer);else if(y.endsWith(".uint16"))k=new Uint16Array(D.buffer);else if(y.endsWith(".uint8"))k=new Uint8Array(D.buffer);else if(y.endsWith(".int32"))k=new Int32Array(D.buffer);else if(y.endsWith(".int16"))k=new Int16Array(D.buffer);else if(y.endsWith(".int8"))k=new Int8Array(D.buffer);else if(y.endsWith(".float64"))k=new Float64Array(D.buffer);else if(y.endsWith(".float32"))k=new Float32Array(D.buffer);else if(y.endsWith(".float16")){S=D.length/2,k=new Float32Array(S);const R=new Uint16Array(D.buffer),B=new Float32Array(65536);for(let N=0;N<65536;N++)B[N]=t(N);for(let N=0;N<S;N++)k[N]=B[R[N]]}else continue;if(S=k.length,b.includes("groups")){l.push({id:T,vals:Float32Array.from(k.slice())});continue}if(b.includes("dpv")){h.push({id:T,vals:Float32Array.from(k.slice())});continue}if(b.includes("dps")){o.push({id:T,vals:Float32Array.from(k.slice())});continue}if(y.startsWith("offsets.")){r=S;for(let R=0;R<S;R++)a[R]=k[R]}y.startsWith("positions.3.")&&(s=S,n=new Float32Array(k))}if(r===0||s===0)throw new Error("Failure reading TRX format (no offsets or points).");if(f)throw new Error("Too many vertices: JavaScript does not support 64 bit integers");return a[r]=s/3,{pts:n,offsetPt0:new Uint32Array(a),dpg:l,dps:o,dpv:h,header:d}}static readTSF(e,t=0){const r=new Float32Array(t),s=e.byteLength;if(s<20)throw new Error("File too small to be TSF: bytes = "+s);const n=new Uint8Array(e);let a=0;function l(){for(;a<s&&n[a]===10;)a++;const p=a;for(;a<s&&n[a]!==10;)a++;return a++,a-p<1?"":new TextDecoder().decode(e.slice(p,a-1))}let o=l();if(!o.includes("mrtrix track scalars"))throw new Error("Not a valid TSF file");let h=-1;for(;a<s&&!o.includes("END");)if(o=l(),o.toLowerCase().startsWith("file:")&&(h=parseInt(o.split(" ").pop())),o.toLowerCase().startsWith("datatype:")&&!o.endsWith("Float32LE"))throw new Error("Only supports TSF files with Float32LE");if(h<20)throw new Error("Not a valid TSF file (missing file offset)");a=h;const d=new DataView(e);let f=0;for(;a+4<=s&&f<t;){const p=d.getFloat32(a,!0);if(a+=4,isFinite(p))r[f++]=p;else if(!isNaN(p))break}return r}static readTCK(e){const t=e.byteLength;if(t<20)throw new Error("File too small to be TCK: bytes = "+t);const r=new Uint8Array(e);let s=0;function n(){for(;s<t&&r[s]===10;)s++;const A=s;for(;s<t&&r[s]!==10;)s++;return s++,s-A<1?"":new TextDecoder().decode(e.slice(A,s-1))}let a=n();if(!a.includes("mrtrix tracks"))throw new Error("Not a valid TCK file");let l=-1;for(;s<t&&!a.includes("END");)a=n(),a.toLowerCase().startsWith("file:")&&(l=parseInt(a.split(" ").pop()));if(l<20)throw new Error("Not a valid TCK file (missing file offset)");s=l;const o=new DataView(e);let h=0,d=new Uint32Array(t/(4*4)),f=0,p=0,g=new Float32Array(t/4);for(d[0]=0;s+12<t;){const A=o.getFloat32(s,!0);s+=4;const x=o.getFloat32(s,!0);s+=4;const y=o.getFloat32(s,!0);if(s+=4,isFinite(A))g[p++]=A,g[p++]=x,g[p++]=y,h++;else if(d[f++]=h,!isNaN(A))break}return g=g.slice(0,p),d=d.slice(0,f),{pts:g,offsetPt0:d}}static async readTRK(e){let t=new DataView(e),r=t.getUint32(0,!0);if(r!==1128354388){let q;if(r===4247762216)throw new Error("zstd TRK decompression is not supported");q=await Ke.decompress(new Uint8Array(e)),e=q.buffer,t=new DataView(e),r=t.getUint32(0,!0)}const s=t.getUint32(992,!0),n=t.getUint32(996,!0);if(s>2||n!==1e3||r!==1128354388)throw new Error("Not a valid TRK file");const a=t.getInt16(36,!0),l=[];for(let q=0;q<a;q++){const U=new Uint8Array(e.slice(38+q*20,58+q*20)),j=new TextDecoder().decode(U).split("\0").shift();l.push({id:j.trim(),vals:[]})}const o=t.getFloat32(12,!0),h=t.getFloat32(16,!0),d=t.getFloat32(20,!0),f=hr(1/o,0,0,-.5,0,1/h,0,-.5,0,0,1/d,-.5,0,0,0,1),p=t.getInt16(238,!0),g=[];for(let q=0;q<p;q++){const U=new Uint8Array(e.slice(240+q*20,260+q*20)),j=new TextDecoder().decode(U).split("\0").shift();g.push({id:j.trim(),vals:[]})}const A=pt();for(let q=0;q<16;q++)A[q]=t.getFloat32(440+q*4,!0);A[15]===0&&(Z.warn("TRK vox_to_ras not set"),A4(A));const x=pt();x4(x,f,A);let y=null,b=null;y=new Int32Array(e.slice(n)),b=new Float32Array(y.buffer);const T=y.length;if(T<1)throw new Error("Empty TRK file.");let D=0,S=0,k=new Uint32Array(y.length/4),R=0,B=new Float32Array(y.length),N=0;for(;D<T;){const q=y[D];D=D+1,k[R++]=S;for(let U=0;U<q;U++){const j=b[D+0],X=b[D+1],re=b[D+2];if(D+=3,B[N++]=j*x[0]+X*x[1]+re*x[2]+x[3],B[N++]=j*x[4]+X*x[5]+re*x[6]+x[7],B[N++]=j*x[8]+X*x[9]+re*x[10]+x[11],a>0)for(let oe=0;oe<a;oe++)l[oe].vals.push(b[D]),D++;S++}if(p>0)for(let U=0;U<p;U++)g[U].vals.push(b[D]),D++}const L=[];for(let q=0;q<g.length;q++)L.push({id:g[q].id,vals:Float32Array.from(g[q].vals)});const O=[];for(let q=0;q<l.length;q++)O.push({id:l[q].id,vals:Float32Array.from(l[q].vals)});return k[R++]=S,B=B.slice(0,N),k=k.slice(0,R),{pts:B,offsetPt0:k,dps:L,dpv:O}}static readTxtVTK(e){const s=new TextDecoder("utf-8").decode(e).split(`
`);if(s.length<7||!s[0].startsWith("# vtk DataFile"))throw new Error("Invalid VTK image");if(!s[2].startsWith("ASCII"))throw new Error("Not ASCII VTK mesh");let a=3;for(;s[a].length<1;)a++;if(!s[a].includes("POLYDATA"))throw new Error("Not ASCII VTK polydata");for(a++;s[a].length<1;)a++;if(!s[a].startsWith("POINTS"))throw new Error("Not VTK POINTS");let l=s[a].trim().split(/\s+/);const o=parseInt(l[1]),h=o*3,d=new Float32Array(o*3);let f=0;for(;f<o*3;){a++;const x=s[a].trim().trim().split(/\s+/);for(let y=0;y<x.length&&!(f>=h);y++)d[f]=parseFloat(x[y]),f++}const p=[];for(a++;s[a].length<1;)a++;if(s[a].startsWith("METADATA")){for(;s[a].length>1;)a++;a++}if(l=s[a].trim().split(/\s+/),a++,l[0].includes("LINES")){const A=parseInt(l[1]);if(A<1)throw new Error("Corrupted VTK ASCII");let x=s[a].trim();const y=[];let b=[];if(x.startsWith("OFFSETS")){a++;let T=0;for(;T<A;){x=s[a].trim(),a++;const D=x.trim().split(/\s+/);for(let S=0;S<D.length&&(y[T]=parseInt(D[S]),T++,!(T>=A));S++);}b=Array.from(d)}else{let T=function(){x=s[a].trim();const R=x.trim().split(/\s+/);S=[];for(let B=0;B<R.length;B++)S.push(parseInt(R[B]));k=0,a++},D=0;y[0]=0;let S=[],k=0;T();for(let R=0;R<A;R++){k>=S.length&&T();const B=S[k++];D+=B,y[R+1]=D;for(let N=0;N<B;N++){k>=S.length&&T();const L=S[k++]*3;b.push(d[L+0]),b.push(d[L+1]),b.push(d[L+2])}}}return{pts:Float32Array.from(b),offsetPt0:Uint32Array.from(y)}}else if(l[0].includes("TRIANGLE_STRIPS")){const A=parseInt(l[1]);for(let x=0;x<A;x++){const y=s[a].trim();a++;const b=y.trim().split(/\s+/),T=parseInt(b[0])-2;let D=1;for(let S=0;S<T;S++)S%2?(p.push(parseInt(b[D+2])),p.push(parseInt(b[D+1])),p.push(parseInt(b[D]))):(p.push(parseInt(b[D])),p.push(parseInt(b[D+1])),p.push(parseInt(b[D+2]))),D+=1}}else if(l[0].includes("POLYGONS")){const A=parseInt(l[1]);for(let x=0;x<A;x++){const y=s[a].trim();a++;const b=y.trim().split(/\s+/),T=parseInt(b[0])-2,D=parseInt(b[1]);let S=parseInt(b[2]);for(let k=0;k<T;k++){const R=parseInt(b[3+k]);p.push(D),p.push(S),p.push(R),S=R}}}else throw new Error("Unsupported ASCII VTK datatype "+l[0]);const g=new Uint32Array(p);return{positions:d,indices:g}}static async readLayer(e="",t,r,s=.5,n="warm",a="winter",l=!1,o=null,h=null,d=0){const f={...j9,colormapInvert:!1,colormapType:0,isTransparentBelowCalMin:!0,isAdditiveBlend:!1,colorbarVisible:!0,colormapLabel:null},p=/(?:\.([^.]+))?$/;let g=p.exec(e)[1];g=g.toUpperCase(),g==="GZ"&&(g=p.exec(e.slice(0,-3))[1],g=g.toUpperCase());const A=r.vertexCount/3;if(r.offsetPt0){if(g!=="TSF")throw new Error("readLayer for streamlines only supports TSF files.");const b=r.pts.length/3,T=e.split("/");let D="Unknown";T.length>1&&T.pop()&&(D=D.split(".").slice(0,-1).join("."));const S=wi.readTSF(t,b);r.dpv||(r.dpv=[]);const k=S.reduce((B,N)=>Math.min(B,N)),R=S.reduce((B,N)=>Math.max(B,N));return r.dpv.push({id:D,vals:Float32Array.from(S.slice()),global_min:k,global_max:R,cal_min:k,cal_max:R}),f}if(A<3){Z.error("n_vert < 3 in layer");return}if(g==="MZ3"){const b=await wi.readMZ3(t,A);f.values=b.scalars,"colormapLabel"in b&&(f.colormapLabel=b.colormapLabel)}else if(g==="ANNOT"){const b=wi.readANNOT(t,A,!0);b instanceof Uint32Array?f.values=b:(f.values=b.scalars,f.colormapLabel=b.colormapLabel)}else if(g==="CRV"||g==="CURV"||g==="THICKNESS"||g==="AREA")f.values=wi.readCURV(t,A),f.isTransparentBelowCalMin=!1;else if(g==="GII"){const b=await wi.readGII(t,A);f.values=b.scalars,f.colormapLabel=b.colormapLabel}else if(g==="MGH"||g==="MGZ"){const b=await wi.readMGH(t,A,!0);"scalars"in b?(f.values=b.scalars,f.colormapLabel=b.colormapLabel):f.values=b}else if(g==="NII")f.values=await wi.readNII(t,A,r.anatomicalStructurePrimary);else if(g==="SMP")f.values=await wi.readSMP(t,A);else if(g==="STC")f.values=wi.readSTC(t,A);else if(wi.isCurv(t))f.values=wi.readCURV(t,A),f.isTransparentBelowCalMin=!1;else return Z.warn("Unknown layer overlay format "+e),f;if(!f.values){Z.error("no values in layer");return}f.nFrame4D=f.values.length/A,f.frame4D=0,f.outlineBorder=d;let x=f.values[0],y=f.values[0];for(let b=0;b<f.values.length;b++)x=Math.min(x,f.values[b]),y=Math.max(y,f.values[b]);return f.global_min=x,f.global_max=y,f.cal_min=o||0,o||(f.cal_min=x),f.cal_max=h||0,h||(f.cal_max=y),f.cal_minNeg=NaN,f.cal_maxNeg=NaN,f.opacity=s,f.colormap=n,f.colormapNegative=a,f.useNegativeCmap=l,f}static async readSMP(e,t){const r=e.byteLength;let s=new DataView(e),n=s.getUint16(0,!0);if(n>5){const f=await Ke.decompress(new Uint8Array(e));s=new DataView(f.buffer),n=s.getUint16(0,!0),e=f.buffer}n>5&&Z.error("Unsupported or invalid BrainVoyager SMP version "+n);const a=s.getUint32(2,!0);a!==t&&Z.error("SMP file has "+a+" vertices, background mesh has "+t);const l=s.getUint16(6,!0),o=new Float32Array(a*l);let h=9;function d(){const f=h;for(;h<r&&s.getUint8(h)!==0;)h++;return h++,new TextDecoder().decode(e.slice(f,h-1))}d();for(let f=0;f<l;f++){const p={};p.mapType=s.getUint32(h,!0),h+=4,n>=3&&p.mapType===3&&(p.nLags=s.getUint32(h,!0),h+=4,p.mnLag=s.getUint32(h,!0),h+=4,p.mxLag=s.getUint32(h,!0),h+=4,p.ccOverlay=s.getUint32(h,!0),h+=4),p.clusterSize=s.getUint32(h,!0),h+=4,p.clusterCheck=s.getUint8(h),h+=1,p.critThresh=s.getFloat32(h,!0),h+=4,p.maxThresh=s.getFloat32(h,!0),h+=4,n>=4&&(p.includeValuesGreaterThreshMax=s.getUint32(h,!0),h+=4),p.df1=s.getUint32(h,!0),h+=4,p.df2=s.getUint32(h,!0),h+=4,n>=5?(p.posNegFlag=s.getUint32(h,!0),h+=4):p.posNegFlag=3,p.cortexBonferroni=s.getUint32(h,!0),h+=4,p.posMinRGB=[0,0,0],p.posMaxRGB=[0,0,0],p.negMinRGB=[0,0,0],p.negMaxRGB=[0,0,0],n>=2&&(p.posMinRGB[0]=s.getUint8(h),h++,p.posMinRGB[1]=s.getUint8(h),h++,p.posMinRGB[2]=s.getUint8(h),h++,p.posMaxRGB[0]=s.getUint8(h),h++,p.posMaxRGB[1]=s.getUint8(h),h++,p.posMaxRGB[2]=s.getUint8(h),h++,n>=4&&(p.negMinRGB[0]=s.getUint8(h),h++,p.negMinRGB[1]=s.getUint8(h),h++,p.negMinRGB[2]=s.getUint8(h),h++,p.negMaxRGB[0]=s.getUint8(h),h++,p.negMaxRGB[1]=s.getUint8(h),h++,p.negMaxRGB[2]=s.getUint8(h),h++),p.enableSMPColor=s.getUint8(h),h++,n>=4&&(p.lut=d()),p.colorAlpha=s.getFloat32(h,!0),h+=4),p.name=d();const g=new Float32Array(e,h,a);o.set(g,f*a),h+=a*4}return o}static readSTC(e,t){const r=new DataView(e),s=r.getInt32(8,!1);if(s!==t)throw new Error("Overlay has "+s+" vertices, expected "+t);let n=12+s*4;const a=r.getUint32(n,!1);n+=4;const l=new Float32Array(a*s);for(let o=0;o<a*s;o++)l[o]=r.getFloat32(n,!1),n+=4;return l}static isCurv(e){const t=new DataView(e),r=t.getUint8(0),s=t.getUint8(1),n=t.getUint8(2);return r!==255||s!==255||n!==255?(oa.debug("Unable to recognize file type: does not appear to be FreeSurfer format."),!1):!0}static readCURV(e,t){const r=new DataView(e),s=r.getUint8(0),n=r.getUint8(1),a=r.getUint8(2),l=r.getUint32(3,!1),o=r.getUint32(11,!1);if((s!==255||n!==255||a!==255)&&oa.debug("Unable to recognize file type: does not appear to be FreeSurfer format."),t!==l)throw new Error("CURV file has different number of vertices ( "+l+")than mesh ("+t+")");if(e.byteLength<15+4*l*o)throw new Error("CURV file smaller than specified");const h=new Float32Array(o*l);let d=15;for(let A=0;A<o*l;A++)h[A]=r.getFloat32(d,!1),d+=4;let f=h[0],p=h[0];for(let A=0;A<h.length;A++)f=Math.min(f,h[A]),p=Math.max(p,h[A]);const g=1/(p-f);for(let A=0;A<h.length;A++)h[A]=1-(h[A]-f)*g;return h}static readANNOT(e,t,r=!1){const s=new DataView(e),n=s.getUint32(0,!1),a=this.decimateLayerVertices(n,t);if(t!==a)throw new Error("ANNOT file has different number of vertices than mesh");if(e.byteLength<4+8*n)throw new Error("ANNOT file smaller than specified");let l=0;const o=new Uint32Array(n);for(let D=0;D<n;D++){const S=s.getUint32(l+=4,!1);o[S]=s.getUint32(l+=4,!1)}if(!r)return o;let h=0;try{h=s.getInt32(l+=4,!1)}catch{return o}if(h!==1||s.getInt32(l+=4,!1)>0)return o;const p=s.getInt32(l+=4,!1),g=s.getInt32(l+=4,!1);l+=g;const A=s.getInt32(l+=4,!1);if(A<1)return o;const x={R:Array(p).fill(0),G:Array(p).fill(0),B:Array(p).fill(0),A:Array(p).fill(0),I:Array(p).fill(0),labels:Array(p).fill("")};for(let D=0;D<A;D++){const S=s.getInt32(l+=4,!1),k=s.getInt32(l+=4,!1);l+=4;let R="";for(let q=0;q<k;q++){const U=s.getUint8(l++);if(U===0)break;R+=String.fromCharCode(U)}l-=4;const B=s.getInt32(l+=4,!1),N=s.getInt32(l+=4,!1),L=s.getInt32(l+=4,!1),O=s.getInt32(l+=4,!1);if(S<0||S>=p){Z.warn("annot entry out of range");continue}x.R[S]=B,x.G[S]=N,x.B[S]=L,x.A[S]=O,x.I[S]=(O<<24)+(L<<16)+(N<<8)+B,x.labels[S]=R}const y=new Float32Array(n);y.fill(-1);let b=0;for(let D=0;D<t;D++){const S=o[D];for(let k=0;k<p;k++)if(x.I[k]===S){y[D]=k;break}y[D]<0&&(b++,y[D]=0)}b>0&&Z.error(`annot vertex colors do not match ${b} of ${n} vertices.`);for(let D=0;D<p;D++)x.I[D]=D;const T=Nt.makeLabelLut(x);return{scalars:y,colormapLabel:T}}static readNV(e){const t=e.byteLength,r=new Uint8Array(e);let s=0;function n(){for(;s<t&&r[s]===10;)s++;const p=s;for(;s<t&&r[s]!==10;)s++;return s++,s-p<1?"":new TextDecoder().decode(e.slice(p,s-1))}let a=0,l=0,o=0,h=0,d,f;for(;s<t;){const p=n();if(p.startsWith("#"))continue;const g=p.trim().split(/\s+/);if(a<1){a=parseInt(g[0]),d=new Float32Array(a*3);continue}if(o<a*3){d[o]=parseFloat(g[0]),d[o+1]=parseFloat(g[1]),d[o+2]=parseFloat(g[2]),o+=3;continue}if(l<1){l=parseInt(g[0]),f=new Uint32Array(l*3);continue}if(h>=l*3)break;f[h+2]=parseInt(g[0])-1,f[h+1]=parseInt(g[1])-1,f[h+0]=parseInt(g[2])-1,h+=3}return{positions:d,indices:f}}static readASC(e){const t=e.byteLength,r=new Uint8Array(e);let s=0;function n(){for(;s<t&&r[s]===10;)s++;const g=s;for(;s<t&&r[s]!==10;)s++;return s++,s-g<1?"":new TextDecoder().decode(e.slice(g,s-1))}let a=n();a.startsWith("#!ascii")||Z.warn("Invalid ASC mesh"),a=n();let l=a.trim().split(/\s+/);const o=parseInt(l[0]),h=parseInt(l[1]),d=new Float32Array(o*3);let f=0;for(let g=0;g<o;g++)a=n(),l=a.trim().split(/\s+/),d[f]=parseFloat(l[0]),d[f+1]=parseFloat(l[1]),d[f+2]=parseFloat(l[2]),f+=3;const p=new Uint32Array(h*3);f=0;for(let g=0;g<h;g++)a=n(),l=a.trim().split(/\s+/),p[f]=parseInt(l[0]),p[f+1]=parseInt(l[1]),p[f+2]=parseInt(l[2]),f+=3;return{positions:d,indices:p}}static readVTK(e){const t=e.byteLength;if(t<20)throw new Error("File too small to be VTK: bytes = "+e.byteLength);const r=new Uint8Array(e);let s=0;function n(x=!0){if(x)for(;s<t&&r[s]===10;)s++;const y=s;for(;s<t&&r[s]!==10;)s++;return s++,s-y<1?"":new TextDecoder().decode(e.slice(y,s-1))}let a=n();if(!a.startsWith("# vtk DataFile"))throw new Error("Invalid VTK mesh");if(a=n(!1),a=n(),a.startsWith("ASCII"))return wi.readTxtVTK(e);if(!a.startsWith("BINARY"))throw new Error("Invalid VTK image, expected ASCII or BINARY "+a);if(a=n(),!a.includes("POLYDATA"))throw new Error("Only able to read VTK POLYDATA "+a);a=n(),(!a.includes("POINTS")||!a.includes("double")&&!a.includes("float"))&&Z.warn("Only able to read VTK float or double POINTS"+a);const l=a.includes("double");let o=a.trim().split(/\s+/);const d=parseInt(o[1])*3,f=new Float32Array(d),p=new DataView(e);if(l)for(let x=0;x<d;x++)f[x]=p.getFloat64(s,!1),s+=8;else for(let x=0;x<d;x++)f[x]=p.getFloat32(s,!1),s+=4;a=n(),o=a.trim().split(/\s+/);const g=[];if(o[0].includes("LINES")){const x=parseInt(o[1]),y=s;if(a=n(),a.startsWith("OFFSETS")){let S=!1;a.includes("int64")&&(S=!0);const k=new Uint32Array(x);if(S){let B=!1;for(let N=0;N<x;N++){let L=p.getInt32(s,!1);L!==0&&(B=!0),s+=4,L=p.getInt32(s,!1),s+=4,k[N]=L}B&&Z.warn("int32 overflow: JavaScript does not support int64")}else for(let B=0;B<x;B++){const N=p.getInt32(s,!1);s+=4,k[B]=N}return{pts:f,offsetPt0:k}}s=y;let b=0;const T=[],D=[];T.push(b);for(let S=0;S<x;S++){const k=p.getInt32(s,!1);s+=4,b+=k,T.push(b);for(let R=0;R<k;R++){const B=p.getInt32(s,!1)*3;s+=4,D.push(f[B+0]),D.push(f[B+1]),D.push(f[B+2])}}return{pts:Float32Array.from(D),offsetPt0:Uint32Array.from(T)}}else if(o[0].includes("TRIANGLE_STRIPS")){const x=parseInt(o[1]);for(let y=0;y<x;y++){const b=p.getInt32(s,!1)-2;s+=4;for(let T=0;T<b;T++)T%2?(g.push(p.getInt32(s+8,!1)),g.push(p.getInt32(s+4,!1)),g.push(p.getInt32(s,!1))):(g.push(p.getInt32(s,!1)),g.push(p.getInt32(s+4,!1)),g.push(p.getInt32(s+8,!1))),s+=4;s+=8}}else if(o[0].includes("POLYGONS")){const x=parseInt(o[1]);for(let y=0;y<x;y++){const b=p.getInt32(s,!1)-2;if(y===0&&b>65535)throw new Error("Invalid VTK binary polygons using little-endian data (MRtrix)");s+=4;const T=p.getInt32(s,!1);s+=4;let D=p.getInt32(s,!1);s+=4;for(let S=0;S<b;S++){const k=p.getInt32(s,!1);s+=4,g.push(T),g.push(D),g.push(k),D=k}}}else throw new Error("Unsupported binary VTK datatype "+o[0]);const A=new Uint32Array(g);return{positions:f,indices:A}}static readWRL(e){const t=new TextDecoder("utf-8").decode(e),r=/coord\s+Coordinate\s*\{\s*point\s*\[([\s\S]*?)\]/,s=/coordIndex\s*\[([\s\S]*?)\]/,n=/color\s+Color\s*\{\s*color\s*\[([\s\S]*?)\]/,a=r.exec(t),l=s.exec(t),o=n.exec(t);if(!a||!l)throw new Error("Invalid WRL file: Could not find vertices or indices.");const h=new Float32Array(a[1].trim().split(/[\s,]+/).map(Number));let d=null;if(o){d=new Float32Array(o[1].trim().split(/[\s,]+/).map(Number));const p=h.length/3;d.length!==p*3&&(console.warn(`Unexpected color count: expected ${p*3}, got ${d.length}`),d=null)}const f=new Uint32Array(l[1].trim().split(/[\s,]+/).map(Number).filter(p=>p!==-1));return{positions:h,indices:f,colors:d}}static readDFS(e){const t=new DataView(e),r=t.getUint32(0,!0),s=t.getUint16(4,!0);(r!==1599292996||s!==17740)&&Z.warn("Not a little-endian brainsuite DFS mesh");const n=t.getUint32(12,!0),a=t.getUint32(24,!0),l=t.getUint32(28,!0),o=t.getUint32(48,!0);let h=n;const d=new Uint32Array(e,h,a*3);h+=a*3*4;const f=new Float32Array(e,h,l*3);for(let g=0;g<l*3;g+=3){const A=f[g];f[g]=f[g+1],f[g+1]=A}let p;return o>=0&&(p=new Float32Array(e,o,l*3)),{positions:f,indices:d,colors:p}}static async readMZ3(e,t=0){if(e.byteLength<20)throw new Error("File too small to be mz3: bytes = "+e.byteLength);let r=new DataView(e),s=r.getUint16(0,!0),n=e;if(s===35615||s===8075){const R=await Ke.decompress(new Uint8Array(e));r=new DataView(R.buffer),s=r.getUint16(0,!0),n=R.buffer}const a=r.getUint16(2,!0),l=r.getUint32(4,!0);let o=r.getUint32(8,!0);const h=r.getUint32(12,!0);if(oa.debug("MZ3 magic %d attr %d face %d vert %d skip %d",s,a,l,o,h),s!==23117)throw new Error("Invalid MZ3 file");const d=(a&1)!==0,f=(a&2)!==0,p=(a&4)!==0;let g=(a&8)!==0;const A=(a&16)!==0;if(a>63)throw new Error("Unsupported future version of MZ3 file");let x=4;A&&(x=8);let y=0;if(t>0&&!d&&l<1&&!p&&(g=!0),g){let R=t;t===0&&(R=o);const B=16+h+(d?1:0)*l*12+(f?1:0)*R*12+(p?1:0)*R*4,N=Math.floor((n.byteLength-B)/x);o!==t&&N%t===0&&(Z.warn("Issue 729: mz3 mismatch scalar NVERT does not match mesh NVERT"),o=t),y=Math.floor(N/o),y<1&&(Z.warn("Corrupt MZ3: file reports NSCALAR but not enough bytes"),g=!1)}if(o<3&&t<3)throw new Error("Not a mesh MZ3 file (maybe scalar)");t>0&&t!==o&&Z.warn("Layer has "+o+"vertices, but background mesh has "+t);let b=16+h,T=null;d&&(T=new Uint32Array(n,b,l*3),b+=l*3*4);let D=null;f&&(D=new Float32Array(n,b,o*3),b+=o*3*4);let S=null;if(p){S=new Float32Array(o*3);const R=new Uint8Array(n,b,o*4);b+=o*4;let B=0,N=0;for(let L=0;L<o;L++){for(let O=0;O<3;O++)S[B]=R[N]/255,B++,N++;N++}}let k=new Float32Array;if((!p||t>0)&&g&&y>0){if(A){const R=new Float64Array(n,b,y*o);k=Float32Array.from(R)}else k=new Float32Array(n,b,y*o);b+=x*y*o}if(t>0&&p&&g){let R=k[0];for(let L=0;L<o;L++)R=Math.max(R,k[L]);const B={R:[],G:[],B:[],A:[],I:[],labels:[]};for(let L=0;L<=R;L++)for(let O=0;O<o;O++)if(L===k[O]){const q=O*3;B.I.push(L),B.R.push(S[q]*255),B.G.push(S[q+1]*255),B.B.push(S[q+2]*255),B.A.push(255),B.labels.push(`${L}`);break}const N=Nt.makeLabelLut(B);return{scalars:k,colormapLabel:N}}return t>0?{scalars:k}:{positions:D,indices:T,scalars:k,colors:S}}static readPLY(e){const t=e.byteLength,r=new Uint8Array(e);let s=0;function n(){for(;s<t&&r[s]===10;)s++;const N=s;for(;s<t&&r[s]!==10;)s++;return s++,s-N<1?"":new TextDecoder().decode(e.slice(N,s-1))}let a=n();if(!a.startsWith("ply"))throw new Error("Not a valid PLY file");a=n();const l=a.includes("ascii");function o(N){if(N==="char"||N==="uchar"||N==="int8"||N==="uint8")return 1;if(N==="short"||N==="ushort"||N==="int16"||N==="uint16")return 2;if(N==="int"||N==="uint"||N==="int32"||N==="uint32"||N==="float"||N==="float32")return 4;if(N==="double")return 8;throw new Error("Unknown data type: "+N)}const h=a.includes("binary_little_endian");let d=0,f=!1,p=0,g=0,A=0,x=0,y=0,b=0,T=0;for(;s<t&&!a.startsWith("end_header");){if(a=n(),a.startsWith("comment"))continue;let N=a.split(/\s/);if(a.startsWith("element vertex"))for(d=parseInt(N[N.length-1]),a=n(),N=a.split(/\s/);a.startsWith("property");){const L=N[1];N[2]==="x"&&L.startsWith("double")?f=!0:N[2]==="x"&&!L.startsWith("float")&&Z.error("Error: expect ply xyz to be float or double: "+a),p+=o(L),a=n(),N=a.split(/\s/)}if(a.startsWith("element face"))for(T=parseInt(N[N.length-1]),a=n(),N=a.split(/\s/);a.startsWith("property");){if(N[1]==="list")A=o(N[2]),x=o(N[3]),g+=A+3*x;else{const L=o(N[1]);g+=L,x===0&&(y+=L,b++)}a=n(),N=a.split(/\s/)}}if(l){T<1&&Z.error(`Malformed ply format: faces ${T} `);const N=new Float32Array(d*3);let L=0;for(let U=0;U<d;U++){a=n();const j=a.split(/\s/);N[L]=parseFloat(j[0]),N[L+1]=parseFloat(j[1]),N[L+2]=parseFloat(j[2]),L+=3}let O=new Uint32Array(T*3),q=0;for(let U=0;U<T;U++){a=n();const j=a.split(/\s/),X=parseInt(j[b])-2;if(X<1)break;if(q+X*3>O.length){const he=new Uint32Array(O.length+O.length);he.set(O),O=he.slice()}const re=parseInt(j[b+1]);let oe=parseInt(j[b+2]);for(let he=0;he<X;he++){const Ae=parseInt(j[b+3+he]);O[q+0]=re,O[q+1]=oe,O[q+2]=Ae,oe=Ae,q+=3}}return O.length!==q&&(O=O.slice(0,q)),{positions:N,indices:O}}(p<12||A<1||x<1||T<1)&&Z.warn(`Malformed ply format: stride ${p} count ${A} iBytes ${x} iStrideBytes ${g} iPadBytes ${y} faces ${T}`);const D=new DataView(e);let S;if(s%4===0&&p===12&&h)S=new Float32Array(e,s,d*3),s+=d*p;else{S=new Float32Array(d*3);let N=0;for(let L=0;L<d;L++)f?(S[N]=D.getFloat64(s,h),S[N+1]=D.getFloat64(s+8,h),S[N+2]=D.getFloat64(s+16,h)):(S[N]=D.getFloat32(s,h),S[N+1]=D.getFloat32(s+4,h),S[N+2]=D.getFloat32(s+8,h)),N+=3,s+=p}const k=new Uint32Array(T*3);let R=!0,B=0;if(A===1&&x===4&&g===13)for(let N=0;N<T;N++){const L=D.getUint8(s);s+=A,L!==3&&(R=!1),k[B]=D.getUint32(s,h),s+=4,k[B+1]=D.getUint32(s,h),s+=4,k[B+2]=D.getUint32(s,h),s+=4,B+=3}else{let N=s;for(let L=0;L<T;L++){s=N+y;let O=0;A===1?O=D.getUint8(s):A===2?O=D.getUint16(s,h):A===4&&(O=D.getUint32(s,h)),s+=A,O!==3&&(R=!1);for(let q=0;q<3;q++)x===1?k[B]=D.getUint8(s):x===2?k[B]=D.getUint16(s,h):x===4&&(k[B]=D.getUint32(s,h)),B++,s+=x;N+=g}}return R||Z.warn("Only able to read PLY meshes limited to triangles."),{positions:S,indices:k}}static readICO(e){const s=new TextDecoder("utf-8").decode(e).split(`
`);let n=s[0].trim().split(/\s+/);n.length>1&&Z.warn("This is not a valid FreeSurfer ICO/TRI mesh.");const a=parseInt(n[0]),l=new Float32Array(a*3);let o=1;for(let f=0;f<a;f++){const p=s[o].trim().split(/\s+/);o++;let g=parseInt(p[0])-1;const A=parseFloat(p[1]),x=parseFloat(p[2]),y=parseFloat(p[3]);if(g<0||g>=a){Z.error("ICO vertices corrupted");break}g*=3,l[g]=A,l[g+1]=x,l[g+2]=y}n=s[o].trim().split(/\s+/),o++;const h=parseInt(n[0]),d=new Uint32Array(h*3);for(let f=0;f<h;f++){const p=s[o].trim().split(/\s+/);o++;let g=parseInt(p[0])-1;const A=parseInt(p[1])-1,x=parseInt(p[2])-1,y=parseInt(p[3])-1;if(g<0||g>=h){Z.error("ICO indices corrupted");break}g*=3,d[g]=A,d[g+1]=x,d[g+2]=y}for(let f=0;f<d.length;f+=3){const p=d[f];d[f]=d[f+1],d[f+1]=p}return{positions:l,indices:d}}static readGEO(e,t=!1){const n=new TextDecoder("utf-8").decode(e).split(`
`),a=n[0].trim().split(/\s+/),l=parseInt(a[0]);let o=parseInt(a[1]),h=parseInt(a[2]);const d=parseInt(a[3]);(l>1||d!==h*3)&&Z.warn("Multi-part BYU/GEO header or not a triangular mesh.");const f=[];o*=3;let p=0,g=2;for(;p<o;){const T=n[g].trim().split(/\s+/);g++;for(let D=0;D<T.length&&(f.push(parseFloat(T[D])),p++,!(p>=o));D++);}const A=[];h*=3;let x=0;for(;x<h;){const T=n[g].trim().split(/\s+/);g++;for(let D=0;D<T.length&&(A.push(Math.abs(parseInt(T[D]))-1),x++,!(x>=h));D++);}if(t)for(let T=0;T<A.length;T+=3){const D=A[T];A[T]=A[T+1],A[T+1]=D}const y=new Float32Array(f),b=new Uint32Array(A);return{positions:y,indices:b}}static readOFF(e){const s=new TextDecoder("utf-8").decode(e).split(`
`),n=[],a=[];let l=0;s[l].includes("OFF")?l++:Z.warn("File does not start with OFF");let o=s[l].trim().split(/\s+/);const h=parseInt(o[0]),d=parseInt(o[1]);l++;for(let g=0;g<h;g++)o=s[l].trim().split(/\s+/),n.push(parseFloat(o[0])),n.push(parseFloat(o[1])),n.push(parseFloat(o[2])),l++;for(let g=0;g<d;g++)o=s[l].trim().split(/\s+/),parseInt(o[0])!==3&&Z.warn("Only able to read OFF files with triangular meshes"),a.push(parseInt(o[1])),a.push(parseInt(o[2])),a.push(parseInt(o[3])),l++;const f=new Float32Array(n),p=new Uint32Array(a);return{positions:f,indices:p}}static readOBJMNI(e){const s=new TextDecoder("utf-8").decode(e).trim().split(/\s*,\s*|\s+/);(s.length<1||s[0]!=="P")&&Z.warn("This is not a valid MNI OBJ mesh.");let n=6;const a=parseInt(s[n++]),l=a*3,o=new Float32Array(l);for(let A=0;A<l;A++)o[A]=parseFloat(s[n++]);n+=l;const h=parseInt(s[n++]),d=parseInt(s[n++]);(h<1||d<0||d>2)&&Z.warn("This is not a valid MNI OBJ mesh.");let f=1;d===1?f=h:d===1&&(f=a),n+=f*4,n+=h;const p=h*3,g=new Uint32Array(p);for(let A=0;A<p;A++)g[A]=parseInt(s[n++]);return{positions:o,indices:g}}static async readOBJ(e){const t=new Uint8Array(e,0,2);t[0]===31&&t[1]===139&&(e=await Ke.decompressToBuffer(new Uint8Array(e)));const s=new TextDecoder("utf-8").decode(e);if(s[0]==="P")return this.readOBJMNI(e);const n=s.split(`
`),a=n.length,l=[],o=[];for(let g=0;g<a;g++){const A=n[g];if(A[0]==="v"&&A[1]===" "){const x=A.trim().split(/\s+/);l.push(parseFloat(x[1])),l.push(parseFloat(x[2])),l.push(parseFloat(x[3]))}if(A[0]==="f"){const x=A.trim().split(/\s+/),y=x.length-3;if(y<1)break;let b=x[1].split("/");const T=parseInt(b[0])-1;b=x[2].split("/");let D=parseInt(b[0])-1;for(let S=0;S<y;S++){b=x[3+S].split("/");const k=parseInt(b[0])-1;o.push(T),o.push(D),o.push(k),D=k}}}const h=new Float32Array(l),d=new Uint32Array(o);let f=d[0],p=d[0];for(let g=1;g<d.length;g++)d[g]<f&&(f=d[g]),d[g]>p&&(p=d[g]);if(p-f+1>h.length/3)throw new Error("Not a valid OBJ file");for(let g=0;g<d.length;g++)d[g]-=f;return{positions:h,indices:d}}static readFreeSurfer(e){const t=new Uint8Array(e);if(t[0]===35&&t[1]===33&&t[2]===97)return wi.readASC(e);const r=new DataView(e),s=r.getUint32(0,!1),n=r.getUint32(4,!1);(s!==4294966883||n!==1919246708)&&oa.debug("Unable to recognize file type: does not appear to be FreeSurfer format.");let a=0;for(;r.getUint8(a)!==10;)a++;a+=2;let l=r.getUint32(a,!1);a+=4;let o=r.getUint32(a,!1);a+=4,l*=3;const h=new Float32Array(l);for(let g=0;g<l;g++)h[g]=r.getFloat32(a,!1),a+=4;o*=3;const d=new Uint32Array(o);for(let g=0;g<o;g++)d[g]=r.getUint32(a,!1),a+=4;const f=r.getUint32(a,!1);a+=4;let p=f===20;if(!p){const g=r.getUint32(a,!1);a+=4;const A=r.getUint32(a,!1);a+=4,p=f===2&&g===0&&A===20}if(!p)Z.warn("Unknown FreeSurfer Mesh extension code.");else{const A=new TextDecoder().decode(e.slice(a)).trim().split(`
`);for(let x=0;x<A.length;x++){if(!A[x].startsWith("cras"))continue;const b=A[x].split("=")[1].trim().split(" ").map(Number),T=Math.floor(h.length/3);let D=0;for(let S=0;S<T;S++)h[D]+=b[0],D++,h[D]+=b[1],D++,h[D]+=b[2],D++}}return{positions:h,indices:d}}static async readSRF(e){const t=new Uint8Array(e);if(t[0]===35&&t[1]===33&&t[2]===97)return wi.readASC(e);t[0]===31&&t[1]===139&&(e=(await Ke.decompress(new Uint8Array(e))).buffer);const r=new DataView(e),s=r.getFloat32(0,!0),n=r.getUint32(8,!0),a=r.getUint32(12,!0),l=r.getFloat32(16,!0),o=r.getFloat32(20,!0),h=r.getFloat32(24,!0),d=new Float32Array(n*3);let f=28,p=1;for(let R=0;R<n;R++)d[p]=-r.getFloat32(f,!0)+l,p+=3,f+=4;p=2;for(let R=0;R<n;R++)d[p]=-r.getFloat32(f,!0)+o,p+=3,f+=4;p=0;for(let R=0;R<n;R++)d[p]=-r.getFloat32(f,!0)+h,p+=3,f+=4;f=28+4*6*n;const g=r.getFloat32(f,!0),A=r.getFloat32(f+4,!0),x=r.getFloat32(f+8,!0),y=r.getFloat32(f+16,!0),b=r.getFloat32(f+20,!0),T=r.getFloat32(f+24,!0);f+=8*4;const D=new Float32Array(n*3),S=new Uint32Array(e,f,n);p=0;for(let R=0;R<n;R++){const B=S[R];B>1056964608&&(D[p+0]=(B>>16&255)/255,D[p+1]=(B>>8&255)/255,D[p+2]=(B&255)/255),B===0&&(D[p+0]=g,D[p+1]=A,D[p+2]=x),B===1&&(D[p+0]=y,D[p+1]=b,D[p+2]=T),p+=3}f+=n*4;for(let R=0;R<n;R++){const B=r.getUint32(f,!0);f+=4+4*B}const k=new Uint32Array(a*3);for(let R=0;R<a*3;R++)k[R]=r.getInt32(f,!0),f+=4;return s!==4&&Z.warn("Not valid SRF"),{positions:d,indices:k,colors:D}}static readTxtSTL(e){const s=new TextDecoder("utf-8").decode(e).split(`
`);if(!s[0].startsWith("solid"))throw new Error("Not a valid STL file");const n=[];for(let h=1;h<s.length;h++){if(!s[h].includes("vertex"))continue;const d=s[h].trim().split(/\s+/);for(let f=1;f<d.length;f++)n.push(parseFloat(d[f]))}const a=Math.floor(n.length/3);if(a*3!==n.length)throw new Error("Unable to parse ASCII STL file.");const l=new Float32Array(n),o=new Uint32Array(a);for(let h=0;h<a;h++)o[h]=h;return{positions:l,indices:o}}static readSTL(e){if(e.byteLength<134)throw new Error("File too small to be STL: bytes = "+e.byteLength);const t=new DataView(e);if(t.getUint32(0,!0)===1768714099)return wi.readTxtSTL(e);const s=t.getUint32(80,!0),n=3*s;if(e.byteLength<84+s*50)throw new Error("STL file too small to store triangles = "+s);const a=new Uint32Array(n),l=new Float32Array(n*3);let o=96,h=0;for(let d=0;d<s;d++){for(let f=0;f<9;f++)l[h]=t.getFloat32(o,!0),h+=1,o+=4;o+=14}for(let d=0;d<n;d++)a[d]=d;return{positions:l,indices:a}}static decimateLayerVertices(e,t){if(e%t===0)return e;const r=12,s=Math.round(Math.log((e-2)/(r-2))/Math.log(4)),n=Math.round(Math.log((t-2)/(r-2))/Math.log(4)),a=Math.pow(4,s)*(r-2)+2,l=Math.pow(4,n)*(r-2)+2;return a!==e||l!==t?e:t}static async readNII2(e,t=0,r=""){let s=new Float32Array;const n=e.byteLength;let a=!0;const l=new DataView(e);let o=l.getUint16(0,a);if(o===469893120&&(a=!1,o=l.getUint16(0,a)),o!==540)throw new Error("Not a valid NIfTI-2 dataset");const h=Number(l.getBigInt64(168,a)),d=l.getFloat64(176,a),f=l.getFloat64(184,a);(d!==1||f!==0)&&Z.warn("ignoring scale slope and intercept");const p=l.getUint32(504,a),g=l.getUint16(12,a);if(g!==2&&g!==4&&g!==8&&g!==16)throw new Error("Unsupported NIfTI datatype "+g);let A=1;const x=[1,1,1,1,1,1,1,1];for(let y=1;y<8;y++)x[y]=Math.max(Number(l.getBigInt64(16+y*8,a)),1),A*=x[y];if(p>=3e3&&p<=3099&&h>580){let y=function(){for(;L<n&&N[L]===10;)L++;const oe=L;for(;L<n&&N[L]!==10;)L++;return L++,L-oe<1?"":new TextDecoder().decode(e.slice(oe,L-1)).trim()},b=function(){let oe=y();if(!oe.startsWith("<")||oe.endsWith(">"))return oe;for(;L<n&&!oe.endsWith(">");)oe+=y();return oe},T=function(oe,he=!1){const Ae=O.indexOf(oe);if(Ae<0)return 1;const qe=O.indexOf('"',Ae)+1,Qe=O.indexOf('"',qe),Fe=O.slice(qe,Qe);return he?Fe:parseInt(Fe)},D=0,S=0,k=0,R="",B=new Uint32Array;const N=new Uint8Array(e);let L=552,O;const q=x[5],U=new Float32Array(t*q);for(;L<n&&(O=b(),!O.includes("</CIFTI>"));)if(O.includes("<BrainModel")){const oe=T("SurfaceNumberOfVertices="),he=T("BrainStructure=",!0).toUpperCase();if(oe%t!==0)continue;let Ae=!1;if(r.includes("CORTEX")&&he.includes("CORTEX")&&(Ae=!0),!Ae||(Ae=!1,r.includes("LEFT")&&he.includes("LEFT")&&(Ae=!0),r.includes("RIGHT")&&he.includes("RIGHT")&&(Ae=!0),!Ae))continue;if(k=oe,D=T("IndexOffset="),S=T("IndexCount="),R=he,O.includes("<VertexIndices>")||(O=b()),!O.startsWith("<VertexIndices>")||!O.endsWith("</VertexIndices>"))return Z.warn("Unable to find CIfTI <VertexIndices>"),U;O=O.slice(15,-16);const qe=O.trim().split(/\s+/);qe.length<S&&Z.error("Error parsing VertexIndices"),B=new Uint32Array(S);for(let Qe=0;Qe<S;Qe++)B[Qe]=parseInt(qe[Qe])}if(k===0||B.length===0)return Z.warn("Unable to find CIfTI structure that matches the mesh."),U;if(g!==16)return Z.warn("Only able to read float32 CIfTI (only known datatype)."),U;const j=new Float32Array(S*q),X=h+q*D*4;for(let oe=0;oe<S*q;oe++)j[oe]=l.getFloat32(X+oe*4,a);let re=0;for(let oe=0;oe<S;oe++)for(let he=0;he<q;he++)U[B[oe]+he*t]=j[re],re++;return Z.debug("CIfTI diagnostics",k,R,D,S,D,r),U}if(A=this.decimateLayerVertices(A,t),A%t!==0)throw new Error("Vertices in layer ("+A+") is not a multiple of number of vertices ("+t+")");if(a)g===16?s=new Float32Array(e,h,A):g===8?s=new Int32Array(e,h,A):g===4&&(s=new Int16Array(e,h,A));else if(g===16){s=new Float32Array(A);for(let y=0;y<A;y++)s[y]=l.getFloat32(h+y*4,a)}else if(g===8){s=new Int32Array(A);for(let y=0;y<A;y++)s[y]=l.getInt32(h+y*4,a)}else if(g===4){s=new Int16Array(A);for(let y=0;y<A;y++)s[y]=l.getInt16(h+y*2,a)}return g===2&&(s=new Uint8Array(e,h,A)),s}static async readNII(e,t=0,r=""){let s=new Float32Array,n=!0,a=new DataView(e),l=a.getUint16(0,n);if(l===540||l===469893120)return wi.readNII2(e,t,r);if(l===23553&&(n=!1,l=a.getUint16(0,n)),l!==348){const g=await Ke.decompress(new Uint8Array(e));if(a=new DataView(g.buffer),e=g.buffer,l=a.getUint16(0,n),l===540||l===469893120)return wi.readNII2(e,t,r);l===23553&&(n=!1,l=a.getUint16(0,n))}l!==348&&Z.error("Not a valid NIfTI image.");const o=a.getFloat32(108,n),h=a.getFloat32(112,n),d=a.getFloat32(116,n);(h!==1||d!==0)&&Z.warn("ignoring scale slope and intercept");const f=a.getUint16(70,n);if(f!==2&&f!==4&&f!==8&&f!==16)throw new Error("Unsupported NIfTI datatype "+f);let p=1;for(let g=1;g<8;g++){const A=a.getUint16(40+g*2,n);p*=Math.max(A,1)}if(p=this.decimateLayerVertices(p,t),p%t!==0)throw new Error("Vertices in layer ("+p+") is not a multiple of number of vertices ("+t+")");if(n)f===16?s=new Float32Array(e,o,p):f===8?s=new Int32Array(e,o,p):f===4&&(s=new Int16Array(e,o,p));else if(f===16){s=new Float32Array(p);for(let g=0;g<p;g++)s[g]=a.getFloat32(o+g*4,n)}else if(f===8){s=new Int32Array(p);for(let g=0;g<p;g++)s[g]=a.getInt32(o+g*4,n)}else if(f===4){s=new Int16Array(p);for(let g=0;g<p;g++)s[g]=a.getInt16(o+g*2,n)}return f===2&&(s=new Uint8Array(e,o,p)),s}static async readMGH(e,t=0,r=!1){let s=new DataView(e),n=e;if(s.getUint8(0)===31&&s.getUint8(1)===139){const B=await Ke.decompress(new Uint8Array(e));n=new ArrayBuffer(B.byteLength),new Uint8Array(n).set(new Uint8Array(B)),s=new DataView(B.buffer)}const a=s.getInt32(0,!1),l=Math.max(1,s.getInt32(4,!1)),o=Math.max(1,s.getInt32(8,!1)),h=Math.max(1,s.getInt32(12,!1)),d=Math.max(1,s.getInt32(16,!1)),f=s.getInt32(20,!1);let p=284;const g=!1;(a!==1||f<0||f>4)&&Z.warn("Not a valid MGH file");let A=l*o*h*d,x=[];if(A=this.decimateLayerVertices(A,t),A%t!==0)return Z.warn("Vertices in layer ("+A+") is not a multiple of number of vertices ("+t+")"),x;if(f===3){x=new Float32Array(A);for(let B=0;B<A;B++)x[B]=s.getFloat32(p+B*4,g)}else if(f===1){x=new Int32Array(A);for(let B=0;B<A;B++)x[B]=s.getInt32(p+B*4,g)}else if(f===4){x=new Int16Array(A);for(let B=0;B<A;B++)x[B]=s.getInt16(p+B*2,g)}else f===0&&(x=new Uint8Array(e,p,A));if(!r)return x;let y=4;f===4&&(y=2),f===0&&(y=1),p+=y*A,p+=4*4;const b=1,T=2,D=20,S=30,k=n.byteLength;let R;for(;p<k-8;){const B=s.getInt32(p+=4,g);let N=0;switch(B){case S:N=s.getInt32(p+=4,g)-1;break;case D:case T:N=0;break;case b:N=0;{let L=s.getInt32(p+=4,g);if(L>0)return Z.warn("unsupported CTABreadFromBinaryV1"),x;if(L=-L,L!==2)return Z.warn("CTABreadFromBinary: unknown version"),x;const O=s.getInt32(p+=4,g);if(O<0)return Z.warn("CTABreadFromBinaryV2: nentries was ",O),x;const q=s.getInt32(p+=4,g);p+=q;const U=s.getInt32(p+=4,g);if(U<0)return x;const j={R:[],G:[],B:[],A:[],I:[],labels:[]};for(let X=0;X<U;X++){const re=s.getInt32(p+=4,g),oe=s.getInt32(p+=4,g);let he=p+4,Ae="";for(let jt=0;jt<oe;jt++){const ni=s.getUint8(he++);if(ni===0)break;Ae+=String.fromCharCode(ni)}p+=oe;const qe=s.getInt32(p+=4,g),Qe=s.getInt32(p+=4,g),Fe=s.getInt32(p+=4,g),at=255-s.getInt32(p+=4,g);j.I.push(re),j.R.push(qe),j.G.push(Qe),j.B.push(Fe),j.A.push(at),j.labels.push(Ae)}R=Nt.makeLabelLut(j)}break;default:N=s.getInt32(p+=8,g)}p+=N}return{scalars:x,colormapLabel:R}}static readX3D(e){const t=e.byteLength;if(t<20)throw new Error("File too small to be X3D: bytes = "+t);const r=new Uint8Array(e);let s=0;function n(){for(;s<t&&r[s]!==60;)s++;const D=s;for(;s<t&&r[s]!==62;)s++;const S=s;return new TextDecoder().decode(e.slice(D,S+1)).trim()}let a=n();function l(D){const S=a.indexOf(D+"=");if(S<0)return"";const k=a[S+D.length+1],R=a.indexOf(k,S)+1,B=a.indexOf(k,R);return a.slice(R,B)}function o(D){const S=a.indexOf(D+"=");if(S<0)return 1;const k=a[S+D.length+1],R=a.indexOf(k,S)+1,B=a.indexOf(k,R);let N=a.slice(R,B).trim();N=N.replace(/,\s*$/,"");const L=N.trim().split(/\s*,\s*|\s+/);if(L.length<2)return parseFloat(N);let O=new Array(L.length),q=0;for(let U=0;U<L.length;U++){const j=parseFloat(L[U]);isFinite(j)&&(O[q]=j,q++)}return O=O.slice(0,q),O}a.includes("xml version")||Z.warn("Not a X3D image");let h=[],d=[],f=[],p=[],g=[0,0,0,0],A=[0,0,0,0],x=[255,255,255,255],y=[255,255,255,255];const b={};function T(){if(!a.endsWith("/>"))if(a.startsWith("<Appearance>"))for(;s<t&&!a.endsWith("</Appearance>");)a+=n();else for(;s<t&&!a.endsWith("/>");)a+=n();const D=l("USE");if(D.length>1){D in b?x=b[D]:Z.warn("Unable to find DEF for "+D);return}const S=o("diffuseColor");if(S.length<3)return;x[0]=Math.round(S[0]*255),x[1]=Math.round(S[1]*255),x[2]=Math.round(S[2]*255);const k=l("DEF");k.length<1||(b[k]=x)}for(;s<t;)if(a=n(),x=y.slice(),a.startsWith("<Transform")&&(g=o("translation"),A=o("rotation")),a.startsWith("<Appearance")&&(T(),y=x.slice()),a.startsWith("<Shape")){let D=1,S=1,k=[],R=[];for(;s<t&&(a=n(),a.startsWith("<Appearance")&&T(),!a.startsWith("</Shape"));){if(a.startsWith("<Sphere")&&(D=o("radius"),S=-1),a.startsWith("<Cylinder")&&(D=o("radius"),S=o("height")),a.startsWith("<IndexedFaceSet")&&(S=-2,k=o("coordIndex")),a.startsWith("<IndexedTriangleSet")&&(S=-7,k=o("index")),a.startsWith("<IndexedTriangleStripSet")&&(S=-3,k=o("index")),a.startsWith("<Coordinate")){R=o("point");const B=R.length%3;B!==0&&(R=R.slice(0,-B))}a.startsWith("<Color")&&(p=o("color")),a.startsWith("<Box")&&(S=-4,Z.warn("Unsupported x3d shape: Box")),a.startsWith("<Cone")&&(S=-5,Z.warn("Unsupported x3d shape: Cone")),a.startsWith("<ElevationGrid")&&(S=-6,Z.warn("Unsupported x3d shape: ElevationGrid"))}if(!(S<-3&&S!==-7))if(S<-1){if(k.length<1||R.length<3||R.length===void 0){Z.warn("Indexed mesh must specify indices and points");break}const B=Math.floor(h.length/3);let N=2;if(S===-7)d=[...d,...k];else if(S===-2){let q=0;for(;N<k.length;)k[N]>=0?(d.push(k[q]+B),d.push(k[N-1]+B),d.push(k[N-0]+B),N+=1):(N+=3,q=N-2)}else for(;N<k.length;)k[N]>=0?(d.push(k[N-2]+B),d.push(k[N-1]+B),d.push(k[N-0]+B),N+=1):N+=3;h=[...h,...R];const L=Math.floor(R.length/3),O=Array(L).fill(x).flat();if(p.length===L*3){let q=0,U=0;for(let j=0;j<L;j++){for(let X=0;X<3;X++)O[U]=Math.round(p[q]*255),q++,U++;U++}}f=[...f,...O]}else if(S<0)ns.makeColoredSphere(h,d,f,D,g,x);else{const B=pt();Ig(B,A[3],[A[0],A[1],A[2]]);const N=Kt(0,-S*.5,0,1),L=Kt(0,+S*.5,0,1);Ti(N,N,B),Ti(L,L,B),Ou(N,N,g),Ou(L,L,g);const O=Ue(N[0],N[1],N[2]),q=Ue(L[0],L[1],L[2]);ns.makeColoredCylinder(h,d,f,O,q,D,x)}}return{positions:Float32Array.from(h),indices:Uint32Array.from(d),rgba255:Uint8Array.from(f)}}static async readGII(e,t=0){let r=e.byteLength;if(r<20)throw new Error("File too small to be GII: bytes = "+r);let s=new TextDecoder("ascii").decode(e);if(s[0].charCodeAt(0)===31){const U=await Ke.decompress(new Uint8Array(e));e=U.buffer,s=new TextDecoder("ascii").decode(U.buffer)}let n=0;function a(){let U=!0,j=n;for(;U;){for(;n<r&&s[n]!=="<";)n++;for(j=n;n<r&&s[n]!==">";)n++;if(U=s[n-1]==="/",j+1<r&&s[j+1]==="/"&&(n+=1,U=!0),n>=r)break}const X=new TextDecoder().decode(e.slice(j+1,n)).trim(),re=X.split(" ")[0].trim(),oe=n;let he=n,Ae=n;if(s[j+1]!=="?"&&s[j+1]!=="!"){const qe="</"+re+">";he=s.indexOf(qe,oe),Ae=he+qe.length-1}return{name:X,startPos:j,contentStartPos:oe,contentEndPos:he,endPos:Ae}}let l=a();if(!l.name.startsWith("?xml"))throw new Error("readGII: Invalid XML file");for(;!l.name.startsWith("GIFTI")&&l.endPos<r;)l=a();if(!l.name.startsWith("GIFTI")||l.contentStartPos===l.contentEndPos)throw new Error("readGII: XML file does not include GIFTI tag");r=l.contentEndPos;let o=new Float32Array,h=new Uint32Array,d=new Float32Array,f="",p=!1,g=!1,A=!1,x=!1,y=[1,1,1];const b=[0,0,0];let T=0,D=!1,S=!1,k=0,R=!1;l.endPos=l.contentStartPos;let B="";function N(U,j=!1){const X=B.indexOf(U);if(X<0)return 1;const re=B.indexOf('"',X)+1,oe=B.indexOf('"',re),he=B.slice(re,oe);return j?parseFloat(he):parseInt(he)}function L(U){const j=B.indexOf(U);if(j<0)return"";const X=j+U.length,re=B.indexOf("]",X);return B.slice(X,re)}const O={R:[],G:[],B:[],A:[],I:[],labels:[]};for(;l.endPos<r&&l.name.length>1;){if(l=a(),l.name.startsWith("Label Key")&&(B=l.name,O.I.push(N("Key=")),O.R.push(Math.round(255*N("Red=",!0))),O.G.push(Math.round(255*N("Green=",!0))),O.B.push(Math.round(255*N("Blue=",!0))),O.A.push(Math.round(255*N("Alpha",!0))),B=new TextDecoder().decode(e.slice(l.contentStartPos+1,l.contentEndPos)).trim(),O.labels.push(L("<![CDATA["))),l.name.trim()==="Data"){if(A)continue;B=new TextDecoder().decode(e.slice(l.contentStartPos+1,l.contentEndPos)).trim();let U;if(S){const j=y[0]*y[1]*y[2],X=B.split(/\s+/);if(j!==X.length)throw new Error("Unable to parse ASCII GIfTI");if(T===2&&(T=8),T===32&&(T=16),T===8){U=new Int32Array(j);for(let re=0;re<j;re++)U[re]=parseInt(X[re])}if(T===16){U=new Float32Array(j);for(let re=0;re<j;re++)U[re]=parseFloat(X[re])}}else if(typeof Buffer>"u"){let j=function(X){const re=atob(X),oe=re.length,he=new Uint8Array(oe);for(let Ae=0;Ae<oe;Ae++)he[Ae]=re.charCodeAt(Ae);return he};if(D){const X=j(B.slice());U=await Ke.decompress(new Uint8Array(X))}else U=j(B.slice())}else if(D){const j=Buffer.from(B.slice(),"base64");U=await Ke.decompress(new Uint8Array(j))}else U=Buffer.from(B.slice(),"base64");if(g){if(T!==16&&Z.warn("expect positions as FLOAT32"),o=new Float32Array(U.buffer),x){const j=o.slice(),X=j.length/3;let re=0;for(let oe=0;oe<X;oe++)for(let he=0;he<3;he++)o[re]=j[he*X+oe],re++}}else if(p){if(T!==8&&Z.warn("expect indices as INT32"),h=new Uint32Array(U.buffer),x){const j=h.slice(),X=j.length/3;let re=0;for(let oe=0;oe<X;oe++)for(let he=0;he<3;he++)h[re]=j[he*X+oe],re++}}else{let j=function(re,oe){const he=re.length,Ae=new Float32Array(he+oe.length);return Ae.set(re),Ae.set(oe,he),Ae};k=y[0]*y[1]*y[2],t!==0&&k%t!==0&&Z.warn("Number of vertices in scalar overlay ("+k+") does not match mesh ("+t+")");let X;if(T===2){const re=new Uint8Array(U.buffer);X=Float32Array.from(re)}else if(T===8){const re=new Int32Array(U.buffer);X=Float32Array.from(re)}else if(T===16)X=new Float32Array(U.buffer);else if(T===32){const re=new Float64Array(U.buffer);X=Float32Array.from(re)}else throw new Error(`Invalid dataType: ${T}`);d=j(d,X)}continue}if(l.name.trim()==="DataSpace"&&(B=new TextDecoder().decode(e.slice(l.contentStartPos+1,l.contentEndPos)).trim(),B.includes("NIFTI_XFORM_SCANNER_ANAT")&&(R=!0)),l.name.trim()==="MD"&&(B=new TextDecoder().decode(e.slice(l.contentStartPos+1,l.contentEndPos)).trim(),B.includes("AnatomicalStructurePrimary")&&B.includes("CDATA[")&&(f=L("<Value><![CDATA[").toUpperCase()),B.includes("VolGeom")&&B.includes("CDATA["))){let U=-1;if(B.includes("VolGeomC_R")&&(U=0),B.includes("VolGeomC_A")&&(U=1),B.includes("VolGeomC_S")&&(U=2),U<0)continue;b[U]=parseFloat(L("<Value><![CDATA["))}l.name.startsWith("DataArray")&&(B=l.name,y=[1,1,1],D=B.includes('Encoding="GZipBase64Binary"'),S=B.includes('Encoding="ASCII"'),p=B.includes('Intent="NIFTI_INTENT_TRIANGLE"'),g=B.includes('Intent="NIFTI_INTENT_POINTSET"'),A=B.includes('Intent="NIFTI_INTENT_VECTOR"'),x=B.includes('ArrayIndexingOrder="ColumnMajorOrder"'),B.includes('DataType="NIFTI_TYPE_UINT8"')&&(T=2),B.includes('DataType="NIFTI_TYPE_INT32"')&&(T=8),B.includes('DataType="NIFTI_TYPE_FLOAT32"')&&(T=16),B.includes('DataType="NIFTI_TYPE_FLOAT64"')&&(T=32),y[0]=N("Dim0="),y[1]=N("Dim1="),y[2]=N("Dim2="))}let q;if(O.I.length>1&&(q=Nt.makeLabelLut(O)),t>0)return{scalars:d,colormapLabel:q,anatomicalStructurePrimary:f};if(o.length>2&&!R&&(b[0]!==0||b[1]!==0||b[2]!==0)){k=Math.floor(o.length/3);let U=0;for(let j=0;j<k;j++)o[U]+=b[0],U++,o[U]+=b[1],U++,o[U]+=b[2],U++}return{positions:o,indices:h,scalars:d,colormapLabel:q,anatomicalStructurePrimary:f}}},z9=()=>{const i=new ArrayBuffer(2);return new DataView(i).setInt16(0,256,!0),new Int16Array(i)[0]===256},G4=(i=>(i[i.UNKNOWN=0]="UNKNOWN",i[i.NII=1]="NII",i[i.DCM=2]="DCM",i[i.DCM_MANIFEST=3]="DCM_MANIFEST",i[i.MIH=4]="MIH",i[i.MIF=5]="MIF",i[i.NHDR=6]="NHDR",i[i.NRRD=7]="NRRD",i[i.MHD=8]="MHD",i[i.MHA=9]="MHA",i[i.MGH=10]="MGH",i[i.MGZ=11]="MGZ",i[i.V=12]="V",i[i.V16=13]="V16",i[i.VMR=14]="VMR",i[i.HEAD=15]="HEAD",i[i.DCM_FOLDER=16]="DCM_FOLDER",i[i.SRC=17]="SRC",i[i.FIB=18]="FIB",i[i.BMP=19]="BMP",i[i.ZARR=20]="ZARR",i[i.NPY=21]="NPY",i[i.NPZ=22]="NPZ",i))(G4||{}),ot=Object.freeze({...G4,parse:i=>{let e=0;switch(i.toUpperCase()){case"":case"DCM":e=2;break;case"TXT":e=3;break;case"FZ":case"GQI":case"QSDR":case"FIB":e=18;break;case"NII":e=1;break;case"MIH":e=4;break;case"MIF":e=5;break;case"NHDR":e=6;break;case"NRRD":e=7;break;case"MHD":e=8;break;case"MHA":e=9;break;case"MGH":e=10;break;case"MGZ":e=11;break;case"NPY":e=21;break;case"NPZ":e=22;break;case"SRC":e=17;break;case"V":e=12;break;case"V16":e=13;break;case"VMR":e=14;break;case"HEAD":e=15;break;case"PNG":case"BMP":case"GIF":case"JPG":case"JPEG":e=19;break;case"ZARR":e=20;break}return e}}),Sa=(i,e="",t="",r="gray",s=1,n=NaN,a=NaN,l=!0,o=.02,h=!1,d=!1,f="",p=0,g=ot.UNKNOWN,A=NaN,x=NaN,y=!0,b=!1,T=null)=>({url:i,urlImageData:e,name:t,colormap:r,colorMap:r,opacity:s,cal_min:n,cal_max:a,trustCalMinMax:l,percentileFrac:o,ignoreZeroVoxels:h,useQFormNotSForm:d,colormapNegative:f,imageType:g,cal_minNeg:A,cal_maxNeg:x,colorbarVisible:y,frame4D:p,alphaThreshold:b,colormapLabel:T});function _u(i,e=80){i=i.replace(/[`$]/g,"");const t=[],r=Math.min(e,i.length);for(let s=0;s<r;s++){const n=i.charCodeAt(s);t.push(n&255)}return t}function Ha(i,e=!1,t=!1){let n=!0;t&&(n=i.littleEndian);const a=new Uint8Array(348),l=new DataView(a.buffer);l.setInt32(0,348,n),l.setUint8(38,114),l.setUint8(39,i.dim_info);for(let h=0;h<8;h++)l.setUint16(40+2*h,i.dims[h],n);l.setFloat32(56,i.intent_p1,n),l.setFloat32(60,i.intent_p2,n),l.setFloat32(64,i.intent_p3,n),l.setInt16(68,i.intent_code,n),e?(l.setInt16(70,2,n),l.setInt16(72,8,n)):(l.setInt16(70,i.datatypeCode,n),l.setInt16(72,i.numBitsPerVoxel,n)),l.setInt16(74,i.slice_start,n);for(let h=0;h<8;h++)l.setFloat32(76+4*h,i.pixDims[h],n);e?(l.setFloat32(108,352,n),l.setFloat32(112,1,n),l.setFloat32(116,0,n)):(l.setFloat32(108,352,n),l.setFloat32(112,i.scl_slope,n),l.setFloat32(116,i.scl_inter,n)),l.setInt16(120,i.slice_end,n),l.setUint8(122,i.slice_code),i.xyzt_units===0?l.setUint8(123,10):l.setUint8(123,i.xyzt_units),e?(l.setFloat32(124,0,n),l.setFloat32(128,0,n)):(l.setFloat32(124,i.cal_max,n),l.setFloat32(128,i.cal_min,n)),l.setFloat32(132,i.slice_duration,n),l.setFloat32(136,i.toffset,n),a.set(_u(i.description),148),a.set(_u(i.aux_file),228),l.setInt16(252,i.qform_code,n),i.sform_code<1||i.sform_code<1?l.setInt16(254,1,n):l.setInt16(254,i.sform_code,n),l.setFloat32(256,i.quatern_b,n),l.setFloat32(260,i.quatern_c,n),l.setFloat32(264,i.quatern_d,n),l.setFloat32(268,i.qoffset_x,n),l.setFloat32(272,i.qoffset_y,n),l.setFloat32(276,i.qoffset_z,n);const o=i.affine.flat();for(let h=0;h<12;h++)l.setFloat32(280+4*h,o[h],n);return l.setInt32(344,3222382,!0),a}function P9(i,e=!0){const t=Math.round(i.length/3),r=Ue(0,0,0),s=Yt(),n=Yt();let a=0,l=1;e&&(l=2);for(let f=0;f<l;f++){a=0;for(let g=0;g<t;g++){const A=Ue(i[g*3],i[g*3+1],i[g*3+2]);g===0&&(Pu(s,A),Pu(n,A)),ec(s,s,A),tc(n,n,A),Jt(A,A,r);const x=pn(A);a=Math.max(a,x)}if(f+1>=l)break;let p=!0;for(let g=0;g<3;++g)s[g]>r[g]&&(p=!1),n[g]<r[g]&&(p=!1);if(p)break;Vg(r,s,n,.5),Z.debug("origin moved inside volume: ",r)}const o=[s[0],s[1],s[2]],h=[n[0],n[1],n[2]];return{min:o,max:h,furthestVertexFromOrigin:a,origin:r}}function $u(i){const e=[!1,!1,!1,!1],t=[!1,!1,!1,!1];for(let r=0;r<4;r++)for(let s=0;s<4;s++)if(isNaN(i[r][s]))return!1;for(let r=0;r<3;r++)for(let s=0;s<3;s++)i[r][s]!==0&&(e[r]=!0,t[s]=!0);for(let r=0;r<3;r++)if(!e[r]||!t[r])return!1;return!0}async function Bl(i){const e=i.getReader(),{done:t,value:r}=await e.read();if(t)return e.releaseLock(),new ReadableStream({start(a){a.close()}});if(!r||r.length<2)return e.releaseLock(),new ReadableStream({start(a){r&&a.enqueue(r),a.close()}});const s=r[0]===31&&r[1]===139,n=new ReadableStream({async start(a){try{for(a.enqueue(r);;){const{done:l,value:o}=await e.read();if(l){a.close(),e.releaseLock();break}a.enqueue(o)}}catch(l){a.error(l),e.releaseLock()}}});return s?n.pipeThrough(new DecompressionStream("gzip")):n}function H4(i=[256,256,256],e=[1,1,1],t=[1,0,0,-128,0,1,0,-128,0,0,1,-128,0,0,0,1],r=2){const s=new ct;s.littleEndian=!0,s.dims=[3,1,1,1,0,0,0,0],s.dims[0]=Math.max(3,i.length);for(let a=0;a<i.length;a++)s.dims[a+1]=i[a];s.pixDims=[1,1,1,1,1,0,0,0];for(let a=0;a<i.length;a++)s.pixDims[a+1]=e[a];if(t.length===16){let a=0;for(let l=0;l<4;l++)for(let o=0;o<4;o++)s.affine[l][o]=t[a],a++}let n=8;return r===256||r===2?n=8:r===512||r===4?n=16:r===16||r===768||r===8||r===2304?n=32:r===64?n=64:Z.warn("Unsupported NIfTI datatypeCode for header creation: "+r),s.datatypeCode=r,s.numBitsPerVoxel=n,s.scl_inter=0,s.scl_slope=1,s.sform_code=2,s.magic="n+1",s.vox_offset=352,s}function L9(i=[256,256,256],e=[1,1,1],t=[1,0,0,-128,0,1,0,-128,0,0,1,-128,0,0,0,1],r=2,s=new Uint8Array){const n=H4(i,e,t,r),a=Ha(n,!1);n.vox_offset=Math.max(352,a.length);const l=Ha(n,!1);if(s.length<1)return l;const o=Math.max(0,n.vox_offset-l.length),h=new Uint8Array(o),d=new Uint8Array(s.buffer,s.byteOffset,s.byteLength),f=n.vox_offset+d.length,p=new Uint8Array(f);return p.set(l,0),p.set(h,l.length),p.set(d,n.vox_offset),p}function Y4(i,e=null){if(!i.hdr)throw new Error("NVImage header is not defined for toUint8Array");if(!i.img&&e===null)throw new Error("NVImage image data is not defined for toUint8Array");const t=e!==null,r=JSON.parse(JSON.stringify(i.hdr));r.vox_offset=Math.max(352,r.vox_offset),t&&(r.datatypeCode=2,r.numBitsPerVoxel=8,r.scl_slope=1,r.scl_inter=0);const s=Ha(r,t);let n;if(t){const f=e,p=i.permRAS;if(p&&(p[0]!==1||p[1]!==2||p[2]!==3)){Z.debug("Reorienting drawing bytes back to native space for saving...");const g=i.hdr.dims,A=g[1]*g[2]*g[3],x=i.dimsRAS?i.dimsRAS[1]*i.dimsRAS[2]*i.dimsRAS[3]:A;if(f.length!==x)console.warn(`Drawing length (${f.length}) does not match expected RAS voxel count (${x}). Cannot reorient drawing reliably.`),n=f;else if(!i.img2RASstep||!i.img2RASstart||!i.dimsRAS)console.warn("Missing RAS transformation info (img2RASstep, img2RASstart, dimsRAS). Cannot reorient drawing reliably."),n=f;else{const y=i.img2RASstep,b=i.img2RASstart,T=i.dimsRAS,D=new Uint8Array(A);D.fill(0);const S=f;let k=0;for(let R=0;R<T[3];R++){const B=b[2]+R*y[2];for(let N=0;N<T[2];N++){const L=b[1]+N*y[1];for(let O=0;O<T[1];O++){const U=b[0]+O*y[0]+L+B;U>=0&&U<A?D[U]=S[k]:k<S.length&&console.warn(`Calculated native index ${U} is out of bounds [0..${A-1}] during drawing reorientation.`),k++}}}n=D}}else n=f}else{if(!i.img)throw new Error("NVImage image data is null when trying to save non-drawing.");n=new Uint8Array(i.img.buffer,i.img.byteOffset,i.img.byteLength)}const a=s.length,l=Math.max(0,r.vox_offset-a),o=new Uint8Array(l),h=r.vox_offset+n.length,d=new Uint8Array(h);return d.set(s,0),d.set(o,a),d.set(n,r.vox_offset),d}async function K4(i,e,t=null){const r=Y4(i,t);if(e.toLowerCase().endsWith(".gz"))try{const n=await Ke.compress(r,"gzip");return new Uint8Array(n)}catch(n){return Z.error("Compression failed:",n),Z.warn("Returning uncompressed data due to compression error."),r}else return r}async function O9(i,e="",t=null){const r=await K4(i,e,t);if(!e)return Z.debug("saveToDisk: empty file name, returning data as Uint8Array rather than triggering download"),r;try{const s=new Blob([r.buffer],{type:"application/octet-stream"}),n=URL.createObjectURL(s),a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download",e),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout(()=>URL.revokeObjectURL(n),100)}catch(s){Z.error("Failed to trigger download:",s)}return r}function q9(i,e,t,r,s=0,n=!1){if(!i.hdr)throw new Error("getValue: NVImage header is not defined.");if(!n&&!i.img)throw new Error("getValue: NVImage image data is not defined.");if(n&&!i.imaginary)return Z.warn("getValue: Attempted to read imaginary data, but none exists."),0;const a=i.hdr.dims[1],l=i.hdr.dims[2],o=i.hdr.dims[3];e=Math.max(0,Math.min(Math.round(e),a-1)),t=Math.max(0,Math.min(Math.round(t),l-1)),r=Math.max(0,Math.min(Math.round(r),o-1)),s=Math.max(0,s);let h=e+t*a+r*a*l;if(i.hdr.datatypeCode===2304){if(!i.img)return 0;if(h*=4,h+2>=i.img.length)return Z.warn(`getValue: Calculated index ${h} out of bounds for RGBA data.`),0;const b=i.img[h]*.2126+i.img[h+1]*.7152+i.img[h+2]*.0722;return Math.round(b)}if(i.hdr.datatypeCode===128){if(!i.img)return 0;if(h*=3,h+2>=i.img.length)return Z.warn(`getValue: Calculated index ${h} out of bounds for RGB data.`),0;const b=i.img[h]*.2126+i.img[h+1]*.7152+i.img[h+2]*.0722;return Math.round(b)}const d=a*l*o,f=s*d,p=h+f,g=n?i.imaginary:i.img;if(p<0||p>=g.length)return 0;const A=g[p],x=isNaN(i.hdr.scl_slope)||i.hdr.scl_slope===0?1:i.hdr.scl_slope,y=isNaN(i.hdr.scl_inter)?0:i.hdr.scl_inter;return x*A+y}function G9(i,e=[-1,0,0],t=[0,0,0],r="same"){const s=[new Uint8Array,[0,0,0]];if(!i.hdr||!i.img||!i.dimsRAS||!i.img2RASstep||!i.img2RASstart)return Z.error("getVolumeData: Missing required NVImage properties (hdr, img, dimsRAS, img2RASstep/start)."),s;if(e=e.slice(0,3),t=t.slice(0,3),Math.min(...e)<0||Math.min(...t)<0)return Z.warn("getVolumeData: Invalid start or end coordinates provided."),s;const n=i.dimsRAS.slice(1,4);for(let y=0;y<3;y++)if(e[y]=Math.max(0,Math.min(Math.round(e[y]),n[y]-1)),t[y]=Math.max(0,Math.min(Math.round(t[y]),n[y]-1)),t[y]<e[y]){const b=t[y];t[y]=e[y],e[y]=b}const a=[t[0]-e[0]+1,t[1]-e[1]+1,t[2]-e[2]+1],l=a[0]*a[1]*a[2];if(l<=0)return Z.warn("getVolumeData: Calculated slab size is zero or negative."),s;let o=i.img.constructor;r==="uint8"?o=Uint8Array:r==="int16"?o=Int16Array:r==="uint16"?o=Uint16Array:r==="float32"||r==="scaled"||r==="normalized"||r==="windowed"?o=Float32Array:r==="float64"?o=Float64Array:r!=="same"&&Z.warn(`getVolumeData: Unsupported dataType '${r}'. Using 'same'.`);let h;try{h=new o(l)}catch(y){return Z.error(`getVolumeData: Failed to create output array for dataType '${r}'.`,y),s}const d=i.img2RASstep,f=i.img2RASstart,p=i.img;let g=0;for(let y=e[2];y<=t[2];y++){const b=f[2]+y*d[2];for(let T=e[1];T<=t[1];T++){const D=f[1]+T*d[1];for(let S=e[0];S<=t[0];S++){const R=f[0]+S*d[0]+D+b;let B=0;R>=0&&R<p.length&&(B=p[R]),h[g++]=B}}}const A=isNaN(i.hdr.scl_slope)||i.hdr.scl_slope===0?1:i.hdr.scl_slope,x=isNaN(i.hdr.scl_inter)?0:i.hdr.scl_inter;if(r==="scaled"||r==="normalized"||r==="windowed"){h instanceof Float32Array||(Z.warn(`getVolumeData: Converting output to Float32 for scaling type '${r}'.`),h=Float32Array.from(h));for(let y=0;y<h.length;y++)h[y]=h[y]*A+x}if(r==="normalized"||r==="windowed"){let y=i.cal_min,b=i.cal_max;r==="normalized"&&(y=i.global_min,b=i.global_max);const T=b-y,D=T===0?0:1/T;for(let S=0;S<h.length;S++)h[S]=(h[S]-y)*D,h[S]=Math.max(0,Math.min(h[S],1))}return[h,a]}function H9(i,e=[-1,0,0],t=[0,0,0],r=new Uint8Array){if(!i.hdr||!i.img||!i.dimsRAS||!i.img2RASstep||!i.img2RASstart){Z.error("setVolumeData: Missing required NVImage properties (hdr, img, dimsRAS, img2RASstep/start).");return}if(r.length<1){Z.warn("setVolumeData: Input slabData is empty.");return}if(e=e.slice(0,3),t=t.slice(0,3),Math.min(...e)<0||Math.min(...t)<0){Z.warn("setVolumeData: Invalid start or end coordinates provided.");return}const s=i.dimsRAS.slice(1,4);for(let f=0;f<3;f++)if(e[f]=Math.max(0,Math.min(Math.round(e[f]),s[f]-1)),t[f]=Math.max(0,Math.min(Math.round(t[f]),s[f]-1)),t[f]<e[f]){const p=t[f];t[f]=e[f],e[f]=p}const n=[t[0]-e[0]+1,t[1]-e[1]+1,t[2]-e[2]+1],a=n[0]*n[1]*n[2];if(a<=0){Z.warn("setVolumeData: Calculated slab size is zero or negative.");return}if(r.length<a){Z.error(`setVolumeData: Input slabData length (${r.length}) is less than the calculated slab size (${a}).`);return}const l=i.img2RASstep,o=i.img2RASstart,h=i.img;let d=0;for(let f=e[2];f<=t[2];f++){const p=o[2]+f*l[2];for(let g=e[1];g<=t[1];g++){const A=o[1]+g*l[1];for(let x=e[0];x<=t[0];x++){const b=o[0]+x*l[0]+A+p;b>=0&&b<h.length&&(h[b]=r[d]),d++}}}}var W4={};ho(W4,{readMgh:()=>Y9});async function Y9(i,e){i.hdr||(Z.warn("readMgh called before nvImage.hdr was initialized. Creating default."),i.hdr=new ct);const t=i.hdr;t.littleEndian=!1;let r=e,s=new DataView(r);if(r.byteLength>=2&&s.getUint8(0)===31&&s.getUint8(1)===139)try{r=await Ke.decompressToBuffer(new Uint8Array(e)),s=new DataView(r)}catch(qe){return Z.error("Failed to decompress MGZ file.",qe),null}if(r.byteLength<284)return Z.error("File too small to be a valid MGH/MGZ header."),null;const n=s.getInt32(0,!1),a=s.getInt32(4,!1),l=s.getInt32(8,!1),o=s.getInt32(12,!1),h=s.getInt32(16,!1),d=s.getInt32(20,!1),f=s.getFloat32(30,!1),p=s.getFloat32(34,!1),g=s.getFloat32(38,!1),A=s.getFloat32(42,!1),x=s.getFloat32(46,!1),y=s.getFloat32(50,!1),b=s.getFloat32(54,!1),T=s.getFloat32(58,!1),D=s.getFloat32(62,!1),S=s.getFloat32(66,!1),k=s.getFloat32(70,!1),R=s.getFloat32(74,!1),B=s.getFloat32(78,!1),N=s.getFloat32(82,!1),L=s.getFloat32(86,!1);if(n!==1&&Z.warn(`Unexpected MGH version: ${n}.`),a<=0||l<=0||o<=0)return Z.error(`Invalid MGH dimensions: ${a}x${l}x${o}`),null;switch(d){case 0:t.numBitsPerVoxel=8,t.datatypeCode=2;break;case 4:t.numBitsPerVoxel=16,t.datatypeCode=4;break;case 1:t.numBitsPerVoxel=32,t.datatypeCode=8;break;case 3:t.numBitsPerVoxel=32,t.datatypeCode=16;break;default:return Z.error(`Unsupported MGH data type: ${d}`),null}t.dims[1]=a,t.dims[2]=l,t.dims[3]=o,t.dims[4]=Math.max(1,h),t.dims[0]=t.dims[4]>1?4:3,t.pixDims[1]=Math.abs(f),t.pixDims[2]=Math.abs(p),t.pixDims[3]=Math.abs(g),t.pixDims[4]=0,t.sform_code=1,t.qform_code=0;const O=hr(A*t.pixDims[1],b*t.pixDims[2],S*t.pixDims[3],0,x*t.pixDims[1],T*t.pixDims[2],k*t.pixDims[3],0,y*t.pixDims[1],D*t.pixDims[2],R*t.pixDims[3],0,0,0,0,1),q=Kt(t.dims[1]/2,t.dims[2]/2,t.dims[3]/2,1),U=Wr();Ti(U,q,O);const j=Ue(B-U[0],N-U[1],L-U[2]);t.affine=[[O[0],O[1],O[2],j[0]],[O[4],O[5],O[6],j[1]],[O[8],O[9],O[10],j[2]],[0,0,0,1]],t.vox_offset=284,t.magic="n+1";const X=t.numBitsPerVoxel/8,oe=a*l*o*t.dims[4]*X,he=r.byteLength-t.vox_offset;return he<oe?(Z.error(`MGH image data size mismatch: expected ${oe}, found ${he}`),null):(he>oe&&Z.warn(`MGH file has extra ${he-oe} bytes after image data. Truncating.`),r.slice(t.vox_offset,t.vox_offset+oe))}var j4={};ho(j4,{readNifti:()=>K9});async function K9(i,e){let t=e,r=null;try{if(ac(t)&&(Z.debug(`Decompressing NIfTI file: ${i.name}`),t=await A7(t),Z.debug(`Decompression complete for: ${i.name}`)),!t||t.byteLength===0)throw new Error("Buffer became invalid after decompression attempt.");if(i.hdr=await Xs(t),i.hdr===null)throw new Error(`Failed to read NIfTI header: ${i.name}`);if(i.hdr.cal_min===0&&i.hdr.cal_max===255&&i.hdr.datatypeCode!==2&&(Z.debug(`Resetting suspicious cal_min/max (0/255) for non-uint8 NIfTI: ${i.name}`),i.hdr.cal_min=0,i.hdr.cal_max=0),r=b7(i.hdr,t),r===null)throw new Error(`nifti-reader-js readImage returned null for ${i.name}`);return r}catch(s){return Z.error(`Error processing NIfTI file ${i.name}:`,s),i.hdr=null,null}}var X4={};ho(X4,{readNrrd:()=>W9});async function W9(i,e,t=null){i.hdr||(Z.warn("readNrrd called before nvImage.hdr was initialized. Creating default."),i.hdr=new ct);const r=i.hdr;r.pixDims=[1,1,1,1,1,0,0,0];const s=e.byteLength;let n=null;const a=new Uint8Array(e);for(let R=1;R<s;R++)if(a[R-1]===10&&a[R]===10){const B=e.slice(0,R-1);n=new TextDecoder().decode(B),r.vox_offset=R+1;break}if(n===null)return Z.error("readNrrd: could not extract txt"),null;const l=n.split(`
`);if(!l[0].startsWith("NRRD"))return Z.error("Invalid NRRD image (magic signature missing)"),null;const o=l.length;let h=!1,d=!1,f=!1;const p=$0(NaN,0,0,0,1,0,0,0,1),g=Ue(0,0,0);let A=Dg();for(let R=1;R<o;R++){let B=l[R];if((B.length===0||B[0]==="#")&&(B.startsWith("#")||B.trim().length===0))continue;B=B.toLowerCase();const N=B.split(":");if(N.length<2)continue;const L=N[0].trim();let O=N[1].trim();switch(O=O.replaceAll(")"," "),O=O.replaceAll("("," "),O=O.trim(),L){case"data file":f=!0;break;case"encoding":if(O.includes("raw"))h=!1;else if(O.includes("gz"))h=!0;else return Z.error("Unsupported NRRD encoding"),null;break;case"type":switch(O){case"uchar":case"unsigned char":case"uint8":case"uint8_t":r.numBitsPerVoxel=8,r.datatypeCode=2;break;case"signed char":case"int8":case"int8_t":r.numBitsPerVoxel=8,r.datatypeCode=256;break;case"short":case"short int":case"signed short":case"signed short int":case"int16":case"int16_t":r.numBitsPerVoxel=16,r.datatypeCode=4;break;case"ushort":case"unsigned short":case"unsigned short int":case"uint16":case"uint16_t":r.numBitsPerVoxel=16,r.datatypeCode=512;break;case"int":case"signed int":case"int32":case"int32_t":r.numBitsPerVoxel=32,r.datatypeCode=8;break;case"uint":case"unsigned int":case"uint32":case"uint32_t":r.numBitsPerVoxel=32,r.datatypeCode=768;break;case"float":r.numBitsPerVoxel=32,r.datatypeCode=16;break;case"double":r.numBitsPerVoxel=64,r.datatypeCode=64;break;default:return Z.error("Unsupported NRRD data type: "+O),null}break;case"spacings":{const q=O.split(/[ ,]+/);for(let U=0;U<q.length;U++)r.pixDims[U+1]=parseFloat(q[U])}break;case"sizes":{const q=O.split(/[ ,]+/);r.dims[0]=q.length;for(let U=0;U<q.length;U++)r.dims[U+1]=parseInt(q[U])}break;case"endian":O.includes("little")?r.littleEndian=!0:O.includes("big")&&(r.littleEndian=!1);break;case"space directions":{const q=O.split(/[ ,]+/);if(q.length===9)for(let U=0;U<9;U++)p[U]=parseFloat(q[U])}break;case"space origin":{const q=O.split(/[ ,]+/);q.length===3&&(g[0]=parseFloat(q[0]),g[1]=parseFloat(q[1]),g[2]=parseFloat(q[2]))}break;case"space units":O.includes("microns")&&(d=!0);break;case"space":O.includes("right-anterior-superior")||O.includes("ras")?A=$0(1,0,0,0,1,0,0,0,1):O.includes("left-anterior-superior")||O.includes("las")?A=$0(-1,0,0,0,1,0,0,0,1):O.includes("left-posterior-superior")||O.includes("lps")?A=$0(-1,0,0,0,-1,0,0,0,1):Z.warn("Unsupported NRRD space value:",O);break;default:Z.warn("Unknown:",L);break}}if(!isNaN(p[0])){r.sform_code=2,d&&(Fg(p,p,.001),g[0]*=.001,g[1]*=.001,g[2]*=.001),A[0]<0&&(g[0]=-g[0]),A[4]<0&&(g[1]=-g[1]),A[8]<0&&(g[2]=-g[2]),v4(p,A,p);const R=hr(p[0],p[3],p[6],g[0],p[1],p[4],p[7],g[1],p[2],p[5],p[8],g[2],0,0,0,1);if(!i.vox2mm)return null;const B=i.vox2mm([0,0,0],R),N=i.vox2mm([1,0,0],R);Jt(N,N,B);const L=i.vox2mm([0,1,0],R);Jt(L,L,B);const O=i.vox2mm([0,0,1],R);Jt(O,O,B),r.pixDims[1]=U0(N),r.pixDims[2]=U0(L),r.pixDims[3]=U0(O),r.affine=[[R[0],R[1],R[2],R[3]],[R[4],R[5],R[6],R[7]],[R[8],R[9],R[10],R[11]],[0,0,0,1]]}let x=null;const y=f?t:e,b=f?0:r.vox_offset;if(f&&!y)return Z.warn("Missing data: NRRD header describes detached data file but only one URL provided"),null;if(!y||b>=y.byteLength)return Z.error(`NRRD data offset (${b}) invalid for buffer length (${(y==null?void 0:y.byteLength)??0})`),null;let T=y.slice(b);if(h)try{Z.debug("Decompressing NRRD data..."),T=await Ke.decompressToBuffer(new Uint8Array(T)),Z.debug("Decompression complete.")}catch(R){return Z.error("Failed to decompress NRRD data.",R),null}const D=r.numBitsPerVoxel/8,k=r.dims.slice(1,r.dims[0]+1).reduce((R,B)=>R*Math.max(1,B),1)*D;return T.byteLength<k?(Z.error(`NRRD image data size mismatch: expected ${k}, found ${T.byteLength}`),null):(T.byteLength>k&&(Z.warn(`NRRD has extra ${T.byteLength-k} bytes after expected image data. Truncating.`),T=T.slice(0,k)),x=T,r.datatypeCode?r.numBitsPerVoxel?x:(Z.error("NRRD parsing failed to set numBitsPerVoxel."),null):(Z.error("NRRD parsing failed to set datatypeCode."),null))}var Vi=class Ma{constructor(e=null,t="",r="gray",s=1,n=null,a=NaN,l=NaN,o=!0,h=.02,d=!1,f=!1,p="",g=0,A=ot.UNKNOWN,x=NaN,y=NaN,b=!0,T=null,D=0){W(this,"name"),W(this,"id"),W(this,"url"),W(this,"headers"),W(this,"_colormap"),W(this,"_opacity"),W(this,"percentileFrac"),W(this,"ignoreZeroVoxels"),W(this,"trustCalMinMax"),W(this,"colormapNegative"),W(this,"colormapLabel"),W(this,"colormapInvert"),W(this,"nFrame4D"),W(this,"frame4D"),W(this,"nTotalFrame4D"),W(this,"cal_minNeg"),W(this,"cal_maxNeg"),W(this,"colorbarVisible",!0),W(this,"modulationImage",null),W(this,"modulateAlpha",0),W(this,"series",[]),W(this,"nVox3D"),W(this,"oblique_angle"),W(this,"maxShearDeg"),W(this,"useQFormNotSForm"),W(this,"colormapType"),W(this,"pixDims"),W(this,"matRAS"),W(this,"pixDimsRAS"),W(this,"obliqueRAS"),W(this,"dimsRAS"),W(this,"permRAS"),W(this,"img2RASstep"),W(this,"img2RASstart"),W(this,"toRAS"),W(this,"toRASvox"),W(this,"frac2mm"),W(this,"frac2mmOrtho"),W(this,"extentsMinOrtho"),W(this,"extentsMaxOrtho"),W(this,"mm2ortho"),W(this,"hdr",null),W(this,"imageType"),W(this,"img"),W(this,"imaginary"),W(this,"v1"),W(this,"fileObject"),W(this,"dims"),W(this,"onColormapChange",()=>{}),W(this,"onOpacityChange",()=>{}),W(this,"mm000"),W(this,"mm100"),W(this,"mm010"),W(this,"mm001"),W(this,"cal_min"),W(this,"cal_max"),W(this,"robust_min"),W(this,"robust_max"),W(this,"global_min"),W(this,"global_max"),W(this,"urlImgData"),W(this,"isManifest"),W(this,"limitFrames4D"),this.init(e,t,r,s,n,a,l,o,h,d,f,p,g,A,x,y,b,T,D)}init(e=null,t="",r="gray",s=1,n=null,a=NaN,l=NaN,o=!0,h=.02,d=!1,f=!1,p="",g=0,A=ot.UNKNOWN,x=NaN,y=NaN,b=!0,T=null,D=0,S=null){if(this.name=t,this.imageType=A,this.id=o1(),this._colormap=r,this._opacity=s>1?1:s,this.percentileFrac=h,this.ignoreZeroVoxels=d,this.trustCalMinMax=o,this.colormapNegative=p,this.colormapLabel=T,this.frame4D=g,this.cal_minNeg=x,this.cal_maxNeg=y,this.colorbarVisible=b,this.colormapType=D,this.useQFormNotSForm=f,!e)return;if(this.hdr&&typeof this.hdr.magic=="number"&&(this.hdr.magic="n+1"),this.nFrame4D=1,this.hdr)for(let N=4;N<7;N++)this.hdr.dims[N]>1&&(this.nFrame4D*=this.hdr.dims[N]);if(this.frame4D=Math.min(this.frame4D,this.nFrame4D-1),this.nTotalFrame4D=this.nFrame4D,!this.hdr||!S)return;this.nVox3D=this.hdr.dims[1]*this.hdr.dims[2]*this.hdr.dims[3];const k=this.nVox3D*(this.hdr.numBitsPerVoxel/8),R=S.byteLength/k;R!==this.nFrame4D&&(R>0&&R*k===S.byteLength?Z.debug("Loading the first "+R+" of "+this.nFrame4D+" volumes"):Z.warn("This header does not match voxel data",this.hdr,S.byteLength),this.nFrame4D=R),(this.hdr.intent_code===1007||this.hdr.intent_code===2003)&&this.nFrame4D===3&&this.hdr.datatypeCode===16&&(S=this.float32V1asRGBA(new Float32Array(S)).buffer),(this.hdr.pixDims[1]===0||this.hdr.pixDims[2]===0||this.hdr.pixDims[3]===0)&&Z.error("pixDims not plausible",this.hdr),(isNaN(this.hdr.scl_slope)||this.hdr.scl_slope===0)&&(this.hdr.scl_slope=1),isNaN(this.hdr.scl_inter)&&(this.hdr.scl_inter=0);let B=$u(this.hdr.affine);if(f||!B||this.hdr.qform_code>this.hdr.sform_code){Z.debug("spatial transform based on QForm");const N=this.hdr.quatern_b,L=this.hdr.quatern_c,O=this.hdr.quatern_d,q=Math.sqrt(1-(Math.pow(N,2)+Math.pow(L,2)+Math.pow(O,2))),U=this.hdr.pixDims[0]===0?1:this.hdr.pixDims[0],j=[[q*q+N*N-L*L-O*O,2*N*L-2*q*O,2*N*O+2*q*L],[2*N*L+2*q*O,q*q+L*L-N*N-O*O,2*L*O-2*q*N],[2*N*O-2*q*L,2*L*O+2*q*N,q*q+O*O-L*L-N*N]],X=this.hdr.affine;for(let re=0;re<3;re+=1)for(let oe=0;oe<3;oe+=1)X[re][oe]=j[re][oe]*this.hdr.pixDims[oe+1],oe===2&&(X[re][oe]*=U);X[0][3]=this.hdr.qoffset_x,X[1][3]=this.hdr.qoffset_y,X[2][3]=this.hdr.qoffset_z,this.hdr.affine=X}if(B=$u(this.hdr.affine),!B){Z.debug("Defective NIfTI: spatial transform does not make sense");let N=this.hdr.pixDims[1],L=this.hdr.pixDims[2],O=this.hdr.pixDims[3];(isNaN(N)||N===0)&&(N=1),(isNaN(L)||L===0)&&(L=1),(isNaN(O)||O===0)&&(O=1),this.hdr.pixDims[1]=N,this.hdr.pixDims[2]=L,this.hdr.pixDims[3]=O;const q=[[N,0,0,0],[0,L,0,0],[0,0,O,0],[0,0,0,1]];this.hdr.affine=q}if(this.hdr.datatypeCode!==128&&this.hdr.datatypeCode!==2304&&this.hdr.littleEndian!==z9()&&this.hdr.numBitsPerVoxel>8){if(this.hdr.numBitsPerVoxel===16){const N=new Uint16Array(S);for(let L=0;L<N.length;L++){const O=N[L];N[L]=((O&255)<<8|O>>8&255)<<16>>16}}else if(this.hdr.numBitsPerVoxel===32){const N=new Uint32Array(S);for(let L=0;L<N.length;L++){const O=N[L];N[L]=(O&255)<<24|(O&65280)<<8|O>>8&65280|O>>24&255}}else if(this.hdr.numBitsPerVoxel===64){const N=this.hdr.numBitsPerVoxel/8,L=new Uint8Array(S);for(let O=0;O<L.length;O+=N){let q=N-1;for(let U=0;U<q;U++){const j=L[O+U];L[O+U]=L[O+q],L[O+q]=j,q--}}}}switch(this.hdr.datatypeCode){case 2:this.img=new Uint8Array(S);break;case 4:this.img=new Int16Array(S);break;case 16:this.img=new Float32Array(S);break;case 64:this.img=new Float64Array(S);break;case 128:this.img=new Uint8Array(S);break;case 512:this.img=new Uint16Array(S);break;case 2304:this.img=new Uint8Array(S);break;case 256:{const N=new Int8Array(S),L=N.length;this.img=new Int16Array(L);for(let O=0;O<L;O++)this.img[O]=N[O];this.hdr.datatypeCode=4,this.hdr.numBitsPerVoxel=16;break}case 1:{const N=this.hdr.dims[1]*this.hdr.dims[2]*Math.max(1,this.hdr.dims[3])*Math.max(1,this.hdr.dims[4]),L=new Uint8Array(S);this.img=new Uint8Array(N);const O=new Uint8Array(8);for(let U=0;U<8;U++)O[U]=Math.pow(2,U);let q=-1;for(let U=0;U<N;U++){const j=U%8;j===0&&q++,(L[q]&O[j])!==0&&(this.img[U]=1)}this.hdr.datatypeCode=2,this.hdr.numBitsPerVoxel=8;break}case 768:{const N=new Uint32Array(S),L=N.length;this.img=new Float64Array(L);for(let O=0;O<L-1;O++)this.img[O]=N[O];this.hdr.datatypeCode=64;break}case 8:{const N=new Int32Array(S),L=N.length;this.img=new Float64Array(L);for(let O=0;O<L-1;O++)this.img[O]=N[O];this.hdr.datatypeCode=64;break}case 1024:{const N=new BigInt64Array(S),L=N.length;this.img=new Float64Array(L);for(let O=0;O<L-1;O++)this.img[O]=Number(N[O]);this.hdr.datatypeCode=64;break}case 32:{const N=new Float32Array(S),L=Math.floor(N.length/2);this.imaginary=new Float32Array(L),this.img=new Float32Array(L);let O=0;for(let q=0;q<L-1;q++)this.img[q]=N[O],this.imaginary[q]=N[O+1],O+=2;this.hdr.datatypeCode=16;break}default:throw new Error("datatype "+this.hdr.datatypeCode+" not supported")}this.calculateRAS(),isNaN(a)||(this.hdr.cal_min=a),isNaN(l)||(this.hdr.cal_max=l),this.calMinMax()}static async new(e=null,t="",r="gray",s=1,n=null,a=NaN,l=NaN,o=!0,h=.02,d=!1,f=!1,p="",g=0,A=ot.UNKNOWN,x=NaN,y=NaN,b=!0,T=null,D=0){const S=new Ma,k=/(?:\.([^.]+))?$/;let R=k.exec(t)[1]||"";R=R.toUpperCase(),R==="GZ"&&(R=k.exec(t.slice(0,-3))[1],R=R.toUpperCase());let B=null;if(A===ot.UNKNOWN&&(A=ot.parse(R)),e instanceof ArrayBuffer&&e.byteLength>=2&&A===ot.DCM){const N=new Uint8Array(e);(N[0]===92&&N[1]===1||N[1]===92&&N[0]===1)&&(A=ot.NII)}switch(S.imageType=A,A){case ot.DCM_FOLDER:case ot.DCM_MANIFEST:case ot.DCM:return;case ot.FIB:[B,S.v1]=await S.readFIB(e);break;case ot.MIH:case ot.MIF:B=await S.readMIF(e,n);break;case ot.NHDR:case ot.NRRD:if(B=await X4.readNrrd(S,e),B===null)throw new Error(`Failed to parse NHDR/NRRD file ${t}`);break;case ot.MHD:case ot.MHA:B=await S.readMHA(e,n);break;case ot.MGH:case ot.MGZ:if(B=await W4.readMgh(S,e),B===null)throw new Error(`Failed to parse MGH/MGZ file ${t}`);break;case ot.SRC:B=await S.readSRC(e);break;case ot.V:B=S.readECAT(e);break;case ot.V16:B=S.readV16(e);break;case ot.VMR:B=S.readVMR(e);break;case ot.HEAD:B=await S.readHEAD(e,n);break;case ot.BMP:B=await S.readBMP(e);break;case ot.NPY:B=await S.readNPY(e);break;case ot.NPZ:B=await S.readNPZ(e);break;case ot.ZARR:throw new Error("Image type ZARR not (yet) supported");case ot.NII:if(B=await j4.readNifti(S,e),B===null)throw new Error(`Failed to parse NIfTI file ${t}.`);break;default:throw new Error("Image type not supported")}return S.init(e,t,r,s,n,a,l,o,h,d,f,p,g,A,x,y,b,T,D,B),S}computeObliqueAngle(e){const t=di(e);lr(t,e);const r=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),s=Math.max(Math.max(Math.abs(t[0]),Math.abs(t[1])),Math.abs(t[2]))/r,n=Math.sqrt(t[4]*t[4]+t[5]*t[5]+t[6]*t[6]),a=Math.max(Math.max(Math.abs(t[4]),Math.abs(t[5])),Math.abs(t[6]))/n,l=Math.sqrt(t[8]*t[8]+t[9]*t[9]+t[10]*t[10]),o=Math.max(Math.max(Math.abs(t[8]),Math.abs(t[9])),Math.abs(t[10]))/l,h=Math.min(Math.min(s,a),o);let d=Math.abs(Math.acos(h)*180/3.141592653);return d>.01?Z.warn("Warning voxels not aligned with world space: "+d+` degrees from plumb.
`):d=0,d}float32V1asRGBA(e){e.length!==this.nVox3D*3&&Z.warn("float32V1asRGBA() expects "+this.nVox3D*3+"voxels, got ",+e.length);const t=e.slice();this.hdr.datatypeCode=2304,this.nFrame4D=1;for(let o=4;o<7;o++)this.hdr.dims[o]=1;this.hdr.dims[0]=3;const r=new Uint8Array(this.nVox3D*4);let s=1;for(let o=0;o<this.nVox3D*3;o++)isNaN(t[o])||(s=Math.max(s,Math.abs(t[o])));const n=255/s,a=this.nVox3D*2;let l=0;for(let o=0;o<this.nVox3D;o++){const h=t[o],d=t[o+this.nVox3D],f=t[o+a];r[l]=Math.abs(h*n),r[l+1]=Math.abs(d*n),r[l+2]=Math.abs(f*n);const p=+(h>0)*1,g=+(d>0)*2,A=+(f>0)*4;let x=248+p+g+A;Math.abs(h)+Math.abs(d)+Math.abs(f)<.1&&(x=0),r[l+3]=x,l+=4}return r}loadImgV1(e=!1,t=!1,r=!1){let s=this.v1;if(!s&&this.nFrame4D===3&&this.img.constructor===Float32Array&&(s=this.img.slice()),!s)return Z.warn("Image does not have V1 data"),!1;if(e)for(let n=0;n<this.nVox3D;n++)s[n]=-s[n];if(t)for(let n=this.nVox3D;n<2*this.nVox3D;n++)s[n]=-s[n];if(r)for(let n=2*this.nVox3D;n<3*this.nVox3D;n++)s[n]=-s[n];return this.img=this.float32V1asRGBA(s),!0}calculateOblique(){if(!this.matRAS)throw new Error("matRAS not defined");if(this.pixDimsRAS===void 0)throw new Error("pixDimsRAS not defined");if(!this.dimsRAS)throw new Error("dimsRAS not defined");this.oblique_angle=this.computeObliqueAngle(this.matRAS);const e=this.vox2mm([0,0,0],this.matRAS),t=this.vox2mm([1/this.pixDimsRAS[1],0,0],this.matRAS),r=this.vox2mm([0,1/this.pixDimsRAS[2],0],this.matRAS),s=this.vox2mm([0,0,1/this.pixDimsRAS[3]],this.matRAS);Jt(t,t,e),Jt(r,r,e),Jt(s,s,e);const n=hr(t[0],t[1],t[2],0,r[0],r[1],r[2],0,s[0],s[1],s[2],0,0,0,0,1);this.obliqueRAS=di(n);const a=Math.abs(90-Sl(t,r)*(180/Math.PI)),l=Math.abs(90-Sl(t,s)*(180/Math.PI)),o=Math.abs(90-Sl(r,s)*(180/Math.PI));this.maxShearDeg=Math.max(Math.max(a,l),o),this.maxShearDeg>.1&&Z.warn("Warning: voxels are rhomboidal, maximum shear is %f degrees.",this.maxShearDeg);const h=Kt(this.dimsRAS[1],this.dimsRAS[2],this.dimsRAS[3],1),d=di(this.matRAS);lr(d,d);const f=Kt(-.5,-.5,-.5,0);As(d,d,Ue(f[0],f[1],f[2])),d[0]*=h[0],d[1]*=h[0],d[2]*=h[0],d[4]*=h[1],d[5]*=h[1],d[6]*=h[1],d[8]*=h[2],d[9]*=h[2],d[10]*=h[2],this.frac2mm=di(d);const p=this.pixDimsRAS[1],g=this.pixDimsRAS[2],A=this.pixDimsRAS[3],x=di(d);x[0]=p*h[0],x[1]=0,x[2]=0,x[4]=0,x[5]=g*h[1],x[6]=0,x[8]=0,x[9]=0,x[10]=A*h[2];const y=this.mm2vox([0,0,0],!0);x[12]=(-y[0]-.5)*p,x[13]=(-y[1]-.5)*g,x[14]=(-y[2]-.5)*A,this.frac2mmOrtho=di(x),this.extentsMinOrtho=[x[12],x[13],x[14]],this.extentsMaxOrtho=[x[0]+x[12],x[5]+x[13],x[10]+x[14]],this.mm2ortho=pt(),_i(this.mm2ortho,n)}THD_daxes_to_NIFTI(e,t,r){const s=this.hdr;if(s===null)throw new Error("HDR is not set");s.sform_code=2;const n="xxyyzzg";let a=-1,l=-1,o=-1;const h=["x","y","z"];h[0]=n[r[0]],h[1]=n[r[1]],h[2]=n[r[2]];const d=e.slice(0,3),f=t.slice(0,3);for(let p=0;p<3;p++)h[p]==="x"?a=p:h[p]==="y"?l=p:o=p;a<0||l<0||o<0||a===l||a===o||l===o||(s.pixDims[1]=Math.abs(d[0]),s.pixDims[2]=Math.abs(d[1]),s.pixDims[3]=Math.abs(d[2]),s.affine=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],s.affine[0][a]=-d[a],s.affine[1][l]=-d[l],s.affine[2][o]=d[o],s.affine[0][3]=-f[a],s.affine[1][3]=-f[l],s.affine[2][3]=f[o])}SetPixDimFromSForm(){if(!this.hdr)throw new Error("hdr not defined");const e=this.hdr.affine,t=hr(e[0][0],e[0][1],e[0][2],e[0][3],e[1][0],e[1][1],e[1][2],e[1][3],e[2][0],e[2][1],e[2][2],e[2][3],e[3][0],e[3][1],e[3][2],e[3][3]),r=this.vox2mm([0,0,0],t),s=this.vox2mm([1,0,0],t);Jt(s,s,r);const n=this.vox2mm([0,1,0],t);Jt(n,n,r);const a=this.vox2mm([0,0,1],t);Jt(a,a,r),this.hdr.pixDims[1]=U0(s),this.hdr.pixDims[2]=U0(n),this.hdr.pixDims[3]=U0(a)}readECAT(e){this.hdr=new ct;const t=this.hdr;t.dims=[3,1,1,1,0,0,0,0],t.pixDims=[1,1,1,1,1,0,0,0];const r=new DataView(e),s=r.getInt32(0,!1),n=r.getInt16(50,!1);if(s!==1296127058||n<1||n>14)throw new Error("Not a valid ECAT file");let a=512,l=0;const o=[];let h=new Float32Array;for(;;){const d=r.getInt32(a,!1),f=r.getInt32(a+12,!1);if(d+f!==31)break;let p=a+20,g=0,A=0;for(;g<31&&(A=r.getInt32(p,!1),p+=16,A!==0);){g++;let x=A*512;const y=x-512,b=r.getUint16(y,!1);t.dims[1]=r.getUint16(y+4,!1),t.dims[2]=r.getUint16(y+6,!1),t.dims[3]=r.getUint16(y+8,!1);const T=r.getFloat32(y+26,!1);t.pixDims[1]=r.getFloat32(y+34,!1)*10,t.pixDims[2]=r.getFloat32(y+38,!1)*10,t.pixDims[3]=r.getFloat32(y+42,!1)*10,t.pixDims[4]=r.getUint32(y+46,!1)/1e3,o.push(t.pixDims[4]);const D=t.dims[1]*t.dims[2]*t.dims[3],S=new Float32Array(D);if(b===1)for(let R=0;R<D;R++)S[R]=r.getUint8(x)*T,x++;else if(b===6)for(let R=0;R<D;R++)S[R]=r.getUint16(x,!1)*T,x+=2;else if(b===7)for(let R=0;R<D;R++)S[R]=r.getUint32(x,!1)*T,x+=4;else Z.warn("Unknown ECAT data type "+b);const k=h.slice(0);h=new Float32Array(k.length+S.length),h.set(k),h.set(S,k.length),l++}if(A===0)break;a+=512}if(t.dims[4]=l,t.pixDims[4]=o[0],l>1){t.dims[0]=4;let d=!1;for(let f=0;f<l;f++)o[f]!==o[0]&&(d=!0);d&&Z.warn("Frame durations vary")}return t.sform_code=1,t.affine=[[-t.pixDims[1],0,0,(t.dims[1]-2)*.5*t.pixDims[1]],[0,-t.pixDims[2],0,(t.dims[2]-2)*.5*t.pixDims[2]],[0,0,-t.pixDims[3],(t.dims[3]-2)*.5*t.pixDims[3]],[0,0,0,1]],t.numBitsPerVoxel=32,t.datatypeCode=16,h.buffer}readV16(e){this.hdr=new ct;const t=this.hdr;t.dims=[3,1,1,1,0,0,0,0],t.pixDims=[1,1,1,1,1,0,0,0];const r=new DataView(e);return t.dims[1]=r.getUint16(0,!0),t.dims[2]=r.getUint16(2,!0),t.dims[3]=r.getUint16(4,!0),2*t.dims[1]*t.dims[2]*t.dims[3]+6!==e.byteLength&&Z.warn("This does not look like a valid BrainVoyager V16 file"),t.numBitsPerVoxel=16,t.datatypeCode=512,Z.warn("Warning: V16 files have no spatial transforms"),t.affine=[[0,0,-t.pixDims[1],(t.dims[1]-2)*.5*t.pixDims[1]],[-t.pixDims[2],0,0,(t.dims[2]-2)*.5*t.pixDims[2]],[0,-t.pixDims[3],0,(t.dims[3]-2)*.5*t.pixDims[3]],[0,0,0,1]],t.littleEndian=!0,e.slice(6)}async readNPY(e){function t(S){return{"|b1":1,"<i1":1,"<u1":1,"<i2":2,"<u2":2,"<i4":4,"<u4":4,"<f4":4,"<f8":8}[S]??1}function r(S){return{"|b1":2,"<i1":256,"<u1":2,"<i2":4,"<u2":512,"<i4":8,"<u4":768,"<f4":16,"<f8":64}[S]??16}const s=new DataView(e),n=[s.getUint8(0),s.getUint8(1),s.getUint8(2),s.getUint8(3),s.getUint8(4),s.getUint8(5)],a=[147,78,85,77,80,89];if(!n.every((S,k)=>S===a[k]))throw new Error("Not a valid NPY file: Magic number mismatch");const l=s.getUint16(8,!0),o=new TextDecoder("utf-8").decode(e.slice(10,10+l)),h=o.match(/'shape': \((.*?)\)/);if(!h)throw new Error("Invalid NPY header: Shape not found");const d=h[1].split(",").map(S=>S.trim()).filter(S=>S!=="").map(Number),f=o.match(/'descr': '([^']+)'/);if(!f)throw new Error("Invalid NPY header: Data type not found");const p=f[1],g=d.reduce((S,k)=>S*k,1),A=10+l,x=e.slice(A,A+g*t(p)),y=d.length>0?d[d.length-1]:1,b=d.length>1?d[d.length-2]:1,T=d.length>2?d[d.length-3]:1;this.hdr=new ct;const D=this.hdr;return D.dims=[3,y,b,T,0,0,0,0],D.pixDims=[1,1,1,1,1,0,0,0],D.affine=[[D.pixDims[1],0,0,-(D.dims[1]-2)*.5*D.pixDims[1]],[0,-D.pixDims[2],0,(D.dims[2]-2)*.5*D.pixDims[2]],[0,0,-D.pixDims[3],(D.dims[3]-2)*.5*D.pixDims[3]],[0,0,0,1]],D.numBitsPerVoxel=t(p)*8,D.datatypeCode=r(p),x}async readNPZ(e){const t=new q4(e);for(let r=0;r<t.entries.length;r++){const s=t.entries[r];if(s.fileName.toLowerCase().endsWith(".npy")){const n=await s.extract();return await this.readNPY(n.buffer)}}}async imageDataFromArrayBuffer(e){return new Promise((t,r)=>{const s=new Blob([e]),n=URL.createObjectURL(s),a=new Image;a.crossOrigin="Anonymous",a.src=n,a.onload=()=>{URL.revokeObjectURL(n);const l=document.createElement("canvas");l.width=a.width,l.height=a.height;const o=l.getContext("2d");if(!o){r(new Error("Failed to get 2D context"));return}o.drawImage(a,0,0),t(o.getImageData(0,0,a.width,a.height))},a.onerror=l=>{URL.revokeObjectURL(n),r(l)}})}async readBMP(e){const t=await this.imageDataFromArrayBuffer(e),{width:r,height:s,data:n}=t;this.hdr=new ct;const a=this.hdr;a.dims=[3,r,s,1,0,0,0,0],a.pixDims=[1,1,1,1,1,0,0,0],a.affine=[[a.pixDims[1],0,0,-(a.dims[1]-2)*.5*a.pixDims[1]],[0,-a.pixDims[2],0,(a.dims[2]-2)*.5*a.pixDims[2]],[0,0,-a.pixDims[3],(a.dims[3]-2)*.5*a.pixDims[3]],[0,0,0,1]],a.numBitsPerVoxel=8,a.datatypeCode=2304;let l=!0;for(let o=0;o<n.length;o+=4)if(n[o]!==n[o+1]||n[o]!==n[o+2]){l=!1;break}if(l){a.datatypeCode=2;const o=new Uint8Array(r*s);for(let h=0,d=0;h<n.length;h+=4,d++)o[d]=n[h];return o.buffer}return n.buffer}readVMR(e){this.hdr=new ct;const t=this.hdr;t.dims=[3,1,1,1,0,0,0,0],t.pixDims=[1,1,1,1,1,0,0,0];const r=new DataView(e),s=r.getUint16(0,!0);s!==4&&Z.warn("Not a valid version 4 VMR image"),t.dims[1]=r.getUint16(2,!0),t.dims[2]=r.getUint16(4,!0),t.dims[3]=r.getUint16(6,!0);const n=t.dims[1]*t.dims[2]*t.dims[3];if(s>=4){let a=8+n;const l=r.getUint32(a+88,!0);if(a=a+92,l>0){const o=e.byteLength;for(let h=0;h<l;h++){for(;a<o&&r.getUint8(a)!==0;)a++;for(a++,a+=4;a<o&&r.getUint8(a)!==0;)a++;a++;const d=r.getUint32(a,!0);a+=4;for(let f=0;f<d;f++)a+=4}}t.pixDims[1]=r.getFloat32(a+2,!0),t.pixDims[2]=r.getFloat32(a+6,!0),t.pixDims[3]=r.getFloat32(a+10,!0)}return Z.warn("Warning: VMR spatial transform not implemented"),t.affine=[[0,0,-t.pixDims[1],(t.dims[1]-2)*.5*t.pixDims[1]],[-t.pixDims[2],0,0,(t.dims[2]-2)*.5*t.pixDims[2]],[0,-t.pixDims[3],0,(t.dims[3]-2)*.5*t.pixDims[3]],[0,0,0,1]],Z.debug(t),t.numBitsPerVoxel=8,t.datatypeCode=2,e.slice(8,8+n)}async readFIB(e){this.hdr=new ct;const t=this.hdr;t.littleEndian=!1,t.dims=[3,1,1,1,0,0,0,0],t.pixDims=[1,1,1,1,1,0,0,0];const r=await Ke.readMatV4(e,!0);if(!("dimension"in r)||!("dti_fa"in r))throw new Error("Not a valid DSIstudio FIB file");const s="index0"in r&&"index1"in r&&"index2"in r&&"odf_vertices"in r;t.numBitsPerVoxel=32,t.datatypeCode=16,t.dims[1]=r.dimension[0],t.dims[2]=r.dimension[1],t.dims[3]=r.dimension[2],t.dims[4]=1,t.pixDims[1]=r.voxel_size[0],t.pixDims[2]=r.voxel_size[1],t.pixDims[3]=r.voxel_size[2],t.sform_code=1;const n=(t.dims[1]-1)*.5*t.pixDims[1],a=(t.dims[2]-1)*.5*t.pixDims[2],l=(t.dims[3]-1)*.5*t.pixDims[3];t.affine=[[t.pixDims[1],0,0,-n],[0,-t.pixDims[2],0,a],[0,0,t.pixDims[2],-l],[0,0,0,1]],t.littleEndian=!0;const o=t.dims[1]*t.dims[2]*t.dims[3],h=o*Math.ceil(t.numBitsPerVoxel/8),d=h*t.dims[4],f=new Uint8Array(new ArrayBuffer(o*4*3));if(s){const x=t.dims[1]*t.dims[2]*t.dims[3],y=new Float32Array(x),b=new Float32Array(x),T=new Float32Array(x),D=r.index0,S=r.odf_vertices;for(let k=0;k<x;k++){const R=D[k]*3;y[k]=S[R+0],b[k]=S[R+1],T[k]=-S[R+2]}f.set(new Uint8Array(y.buffer,y.byteOffset,y.byteLength),0*h),f.set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),1*h),f.set(new Uint8Array(T.buffer,T.byteOffset,T.byteLength),2*h)}"report"in r&&(t.description=new TextDecoder().decode(r.report.subarray(0,Math.min(79,r.report.byteLength))));const p=new Uint8Array(new ArrayBuffer(d)),g=Float32Array.from(r.dti_fa);if("mask"in r){console.log(r);let x=1;"dti_fa_slope"in r&&(x=r.dti_fa_slope[0]);let y=1;"dti_fa_inter"in r&&(y=r.dti_fa_inter[0]);const b=t.dims[1]*t.dims[2]*t.dims[3],T=r.mask,D=new Float32Array(b);let S=0;for(let k=0;k<b;k++)T[k]!==0&&(D[k]=g[S]*x+y,S++);return[D.buffer,new Float32Array(f.buffer)]}const A=new Uint8Array(g.buffer,g.byteOffset,g.byteLength);return p.set(A,0),[p.buffer,new Float32Array(f.buffer)]}async readSRC(e){this.hdr=new ct;const t=this.hdr;t.littleEndian=!1,t.dims=[3,1,1,1,0,0,0,0],t.pixDims=[1,1,1,1,1,0,0,0];const r=await Ke.readMatV4(e);if(!("dimension"in r)||!("image0"in r))throw new Error("Not a valid DSIstudio SRC file");let s=0,n=0;for(const[g,A]of Object.entries(r))if(g.startsWith("image")){if(s===0?n=A.length:n!==A.length&&(n=-1),A.constructor!==Uint16Array)throw new Error("DSIstudio SRC files always use Uint16 datatype");s++}if(n<1||s<1)throw new Error("SRC file not valid DSI Studio data. The image(s) should have the same length");t.numBitsPerVoxel=16,t.datatypeCode=512,t.dims[1]=r.dimension[0],t.dims[2]=r.dimension[1],t.dims[3]=r.dimension[2],t.dims[4]=s,t.dims[4]>1&&(t.dims[0]=4),t.pixDims[1]=r.voxel_size[0],t.pixDims[2]=r.voxel_size[1],t.pixDims[3]=r.voxel_size[2],t.sform_code=1;const a=(t.dims[1]-1)*.5*t.pixDims[1],l=(t.dims[2]-1)*.5*t.pixDims[2],o=(t.dims[3]-1)*.5*t.pixDims[3];t.affine=[[t.pixDims[1],0,0,-a],[0,-t.pixDims[2],0,l],[0,0,t.pixDims[2],-o],[0,0,0,1]],t.littleEndian=!0;const h=t.dims[1]*t.dims[2]*t.dims[3]*(t.numBitsPerVoxel/8),d=h*t.dims[4],f=new Uint8Array(new ArrayBuffer(d));let p=0;for(let g=0;g<s;g++){const A=r[`image${g}`],x=new Uint8Array(A.buffer,A.byteOffset,A.byteLength);f.set(x,p),p+=h}return"report"in r&&(t.description=new TextDecoder().decode(r.report.subarray(0,Math.min(79,r.report.byteLength)))),f.buffer}async readHEAD(e,t){this.hdr=new ct;const r=this.hdr;r.dims[0]=3,r.pixDims=[1,1,1,1,1,0,0,0];let s=[0,0,0],n=[0,0,0],a=[1,1,1];const o=new TextDecoder().decode(e).split(/\r?\n/),h=(e.byteLength+8)%16,d=e.byteLength+(16-h);Z.debug(e.byteLength,"len",d);const f=new ArrayBuffer(d);new Uint8Array(f).set(new Uint8Array(e));const p=new F4(d+8,42,f,!0);r.addExtension(p),r.extensionCode=42,r.extensionFlag[0]=1,r.extensionSize=d+8;const g=o.length;let A=0,x=!1;for(;A<g;){let b=o[A];if(A++,!b.startsWith("type"))continue;const T=b.includes("integer-attribute"),D=b.includes("float-attribute");if(b=o[A],A++,!b.startsWith("name"))continue;let S=b.split("= ");const k=S[1];b=o[A],A++,S=b.split("= ");let R=parseInt(S[1]);if(!(R<1)){if(b=o[A],A++,S=b.trim().split(/\s+/),D||T){for(;S.length<R;){b=o[A],A++;const B=b.trim().split(/\s+/);S.push(...B)}for(let B=0;B<R;B++)S[B]=parseFloat(S[B])}switch(k){case"BYTEORDER_STRING":S[0].includes("LSB_FIRST")?r.littleEndian=!0:S[0].includes("MSB_FIRST")&&(r.littleEndian=!1);break;case"BRICK_TYPES":{r.dims[4]=R;const B=parseInt(S[0]);B===0?(r.numBitsPerVoxel=8,r.datatypeCode=2):B===1?(r.numBitsPerVoxel=16,r.datatypeCode=4):B===3?(r.numBitsPerVoxel=32,r.datatypeCode=16):Z.warn("Unknown BRICK_TYPES ",B)}break;case"IJK_TO_DICOM_REAL":if(R<12)break;x=!0,r.sform_code=2,r.affine=[[-S[0],-S[1],-S[2],-S[3]],[-S[4],-S[5],-S[6],-S[7]],[S[8],S[9],S[10],S[11]],[0,0,0,1]];break;case"DATASET_DIMENSIONS":R=Math.max(R,3);for(let B=0;B<R;B++)r.dims[B+1]=S[B];break;case"ORIENT_SPECIFIC":s=S;break;case"ORIGIN":n=S;break;case"DELTA":a=S;break;case"TAXIS_FLOATS":r.pixDims[4]=S[0];break;default:Z.warn("Unknown:",k)}}}x?this.SetPixDimFromSForm():this.THD_daxes_to_NIFTI(a,n,s);const y=r.numBitsPerVoxel/8*r.dims[1]*r.dims[2]*r.dims[3]*r.dims[4];if(!t)throw new Error("pairedImgData not set");return t.byteLength<y?await Ke.decompressToBuffer(new Uint8Array(t)):t.slice(0)}async readMHA(e,t){const r=e.byteLength;if(r<20)throw new Error("File too small to be VTK: bytes = "+e.byteLength);const s=new Uint8Array(e);let n=0;function a(x){return x===10||x===13}function l(){for(;n<r&&a(s[n]);)n++;const x=n;for(;n<r&&!a(s[n]);)n++;return n-x<2?"":new TextDecoder().decode(e.slice(x,n))}let o=l();this.hdr=new ct;const h=this.hdr;h.pixDims=[1,1,1,1,1,0,0,0],h.dims=[1,1,1,1,1,1,1,1],h.littleEndian=!0;let d=!1,f=!1;const p=$0(NaN,0,0,0,1,0,0,0,1),g=Ue(0,0,0);for(;o!=="";){let x=o.split(" ");if(x.length>2&&(x=x.slice(2)),o.startsWith("BinaryDataByteOrderMSB")&&x[0].includes("False")&&(h.littleEndian=!0),o.startsWith("BinaryDataByteOrderMSB")&&x[0].includes("True")&&(h.littleEndian=!1),o.startsWith("CompressedData")&&x[0].includes("True")&&(d=!0),o.startsWith("TransformMatrix"))for(let y=0;y<9;y++)p[y]=parseFloat(x[y]);if(o.startsWith("Offset"))for(let y=0;y<Math.min(x.length,3);y++)g[y]=parseFloat(x[y]);if(o.startsWith("ElementSpacing"))for(let y=0;y<x.length;y++)h.pixDims[y+1]=parseFloat(x[y]);if(o.startsWith("DimSize")){h.dims[0]=x.length;for(let y=0;y<x.length;y++)h.dims[y+1]=parseInt(x[y])}if(o.startsWith("ElementType"))switch(x[0]){case"MET_UCHAR":h.numBitsPerVoxel=8,h.datatypeCode=2;break;case"MET_CHAR":h.numBitsPerVoxel=8,h.datatypeCode=256;break;case"MET_SHORT":h.numBitsPerVoxel=16,h.datatypeCode=4;break;case"MET_USHORT":h.numBitsPerVoxel=16,h.datatypeCode=512;break;case"MET_INT":h.numBitsPerVoxel=32,h.datatypeCode=8;break;case"MET_UINT":h.numBitsPerVoxel=32,h.datatypeCode=768;break;case"MET_FLOAT":h.numBitsPerVoxel=32,h.datatypeCode=16;break;case"MET_DOUBLE":h.numBitsPerVoxel=64,h.datatypeCode=64;break;default:throw new Error("Unsupported MHA data type: "+x[0])}if(o.startsWith("ObjectType")&&!x[0].includes("Image")&&Z.warn("Only able to read ObjectType = Image, not "+o),o.startsWith("ElementDataFile")){x[0]!=="LOCAL"&&(f=!0);break}o=l()}const A=$0(h.pixDims[1],0,0,0,h.pixDims[2],0,0,0,h.pixDims[3]);for(v4(p,p,A),h.affine=[[-p[0],-p[3],-p[6],-g[0]],[-p[1],-p[4],-p[7],-g[1]],[p[2],p[5],p[8],g[2]],[0,0,0,1]];s[n]===10;)n++;return h.vox_offset=n,f&&t?d?await Ke.decompressToBuffer(new Uint8Array(t.slice(0))):t.slice(0):d?await Ke.decompressToBuffer(new Uint8Array(e.slice(h.vox_offset))):e.slice(h.vox_offset)}async readMIF(e,t){this.hdr=new ct;const r=this.hdr;r.pixDims=[1,1,1,1,1,0,0,0],r.dims=[1,1,1,1,1,1,1,1];let s=e.byteLength;if(s<20)throw new Error("File too small to be MIF: bytes = "+s);const n=new Uint8Array(e);n[0]===31&&n[1]===139&&(Z.debug("MIF with GZ decompression"),e=await Ke.decompressToBuffer(new Uint8Array(e)),s=e.byteLength);let a=0;function l(){for(;a<s&&n[a]===10;)a++;const U=a;for(;a<s&&n[a]!==10;)a++;return a++,a-U<1?"":new TextDecoder().decode(e.slice(U,a-1))}let o=l();if(!o.startsWith("mrtrix image"))throw new Error("Not a valid MIF file");const h=[];let d=!1,f=0,p=0,g=!1;for(o=l();a<s&&!o.startsWith("END");){let U=o.split(":");if(o=l(),U.length<2)break;const j=U[0];U=U[1].split(",");for(let X=0;X<U.length;X++)U[X]=U[X].trim();switch(j){case"dim":r.dims[0]=U.length;for(let X=0;X<U.length;X++)r.dims[X+1]=parseInt(U[X]);break;case"vox":for(let X=0;X<U.length;X++)r.pixDims[X+1]=parseFloat(U[X]),isNaN(r.pixDims[X+1])&&(r.pixDims[X+1]=0);break;case"layout":for(let X=0;X<U.length;X++)h.push(parseInt(U[X]));break;case"datatype":{const X=U[0];X.startsWith("Bit")?(d=!0,r.datatypeCode=2):X.startsWith("Int8")?r.datatypeCode=256:X.startsWith("UInt8")?r.datatypeCode=2:X.startsWith("Int16")?r.datatypeCode=4:X.startsWith("UInt16")?r.datatypeCode=512:X.startsWith("Int32")?r.datatypeCode=8:X.startsWith("UInt32")?r.datatypeCode=768:X.startsWith("Float32")?r.datatypeCode=16:X.startsWith("Float64")?r.datatypeCode=64:Z.warn("Unsupported datatype "+X),X.includes("8")?r.numBitsPerVoxel=8:X.includes("16")?r.numBitsPerVoxel=16:X.includes("32")?r.numBitsPerVoxel=32:X.includes("64")&&(r.numBitsPerVoxel=64),r.littleEndian=!0,X.endsWith("LE")&&(r.littleEndian=!0),X.endsWith("BE")&&(r.littleEndian=!1)}break;case"transform":if(f>2||U.length!==4)break;r.affine[f][0]=parseFloat(U[0]),r.affine[f][1]=parseFloat(U[1]),r.affine[f][2]=parseFloat(U[2]),r.affine[f][3]=parseFloat(U[3]),f++;break;case"comments":r.description=U[0].substring(0,Math.min(79,U[0].length));break;case"RepetitionTime":p=parseFloat(U[0]);break;case"file":g=!U[0].startsWith(". "),g||(U=U[0].split(" "),r.vox_offset=parseInt(U[1]));break}}const A=r.dims[0];A>5&&Z.warn("reader only designed for a maximum of 5 dimensions (XYZTD)");let x=1;for(let U=0;U<A;U++)x*=Math.max(r.dims[U+1],1);for(let U=0;U<3;U++)for(let j=0;j<3;j++)r.affine[U][j]*=r.pixDims[j+1];Z.debug("mif affine:"+r.affine[0]),p>0&&(r.pixDims[4]=p),g&&!t&&Z.warn("MIH header provided without paired image data");let y;if(t&&g)y=t.slice(0);else if(d){r.numBitsPerVoxel=8;const U=new Uint8Array(x),j=e.slice(r.vox_offset,r.vox_offset+Math.ceil(x/8)),X=new Uint8Array(j);let re=0;for(let oe=0;oe<x;oe++){const he=oe%8;U[oe]=X[re]>>7-he&1,he===7&&re++}y=U.buffer}else y=e.slice(r.vox_offset,r.vox_offset+x*(r.numBitsPerVoxel/8));h.length!==r.dims[0]&&Z.warn("dims does not match layout");let b=1;const T=[1,1,1,1,1],D=[!1,!1,!1,!1,!1];for(let U=0;U<h.length;U++)for(let j=0;j<h.length;j++)Math.abs(h[j])===U&&(T[j]=b,(h[j]<0||Object.is(h[j],-0))&&(D[j]=!0),b*=r.dims[j+1]);let S=Ke.range(0,r.dims[1]-1,1);D[0]&&(S=Ke.range(r.dims[1]-1,0,-1));for(let U=0;U<r.dims[1];U++)S[U]*=T[0];let k=Ke.range(0,r.dims[2]-1,1);D[1]&&(k=Ke.range(r.dims[2]-1,0,-1));for(let U=0;U<r.dims[2];U++)k[U]*=T[1];let R=Ke.range(0,r.dims[3]-1,1);D[2]&&(R=Ke.range(r.dims[3]-1,0,-1));for(let U=0;U<r.dims[3];U++)R[U]*=T[2];let B=Ke.range(0,r.dims[4]-1,1);D[3]&&(B=Ke.range(r.dims[4]-1,0,-1));for(let U=0;U<r.dims[4];U++)B[U]*=T[3];let N=Ke.range(0,r.dims[5]-1,1);D[4]&&(N=Ke.range(r.dims[5]-1,0,-1));for(let U=0;U<r.dims[5];U++)N[U]*=T[4];let L=0,O,q;switch(r.datatypeCode){case 256:O=new Int8Array(y),q=new Int8Array(x);break;case 2:O=new Uint8Array(y),q=new Uint8Array(x);break;case 4:O=new Int16Array(y),q=new Int16Array(x);break;case 512:O=new Uint16Array(y),q=new Uint16Array(x);break;case 8:O=new Int32Array(y),q=new Int32Array(x);break;case 768:O=new Uint32Array(y),q=new Uint32Array(x);break;case 16:O=new Float32Array(y),q=new Float32Array(x);break;case 64:O=new Float64Array(y),q=new Float64Array(x);break;default:throw new Error("unknown datatypeCode")}for(let U=0;U<r.dims[5];U++)for(let j=0;j<r.dims[4];j++)for(let X=0;X<r.dims[3];X++)for(let re=0;re<r.dims[2];re++)for(let oe=0;oe<r.dims[1];oe++)q[L]=O[S[oe]+k[re]+R[X]+B[j]+N[U]],L++;return q.buffer}calculateRAS(){if(!this.hdr)throw new Error("hdr not set");const e=this.hdr.affine,t=this.hdr,r=$0(Math.abs(e[0][0]),Math.abs(e[0][1]),Math.abs(e[0][2]),Math.abs(e[1][0]),Math.abs(e[1][1]),Math.abs(e[1][2]),Math.abs(e[2][0]),Math.abs(e[2][1]),Math.abs(e[2][2])),s=[1,1,1];r[3]>r[0]&&(s[0]=2),r[6]>r[0]&&r[6]>r[3]&&(s[0]=3),s[1]=1,s[0]===1?r[4]>r[7]?s[1]=2:s[1]=3:s[0]===2?r[1]>r[7]?s[1]=1:s[1]=3:r[1]>r[4]?s[1]=1:s[1]=2,s[2]=6-s[1]-s[0];let n=[1,2,3];n[s[0]-1]=1,n[s[1]-1]=2,n[s[2]-1]=3;let a=hr(e[0][0],e[0][1],e[0][2],e[0][3],e[1][0],e[1][1],e[1][2],e[1][3],e[2][0],e[2][1],e[2][2],e[2][3],0,0,0,1);this.mm000=this.vox2mm([-.5,-.5,-.5],a),this.mm100=this.vox2mm([t.dims[1]-.5,-.5,-.5],a),this.mm010=this.vox2mm([-.5,t.dims[2]-.5,-.5],a),this.mm001=this.vox2mm([-.5,-.5,t.dims[3]-.5],a);const l=pt();kg(l,a);for(let y=0;y<3;y++)for(let b=0;b<3;b++)l[y*4+b]=a[y*4+n[b]-1];const o=[0,0,0];l[0]<0&&(o[0]=1),l[5]<0&&(o[1]=1),l[10]<0&&(o[2]=1),this.dimsRAS=[t.dims[0],t.dims[n[0]],t.dims[n[1]],t.dims[n[2]]],this.pixDimsRAS=[t.pixDims[0],t.pixDims[n[0]],t.pixDims[n[1]],t.pixDims[n[2]]],this.permRAS=n.slice();for(let y=0;y<3;y++)o[y]===1&&(this.permRAS[y]=-this.permRAS[y]);if(this.arrayEquals(n,[1,2,3])&&this.arrayEquals(o,[0,0,0])){this.toRAS=pt(),this.matRAS=di(a),this.calculateOblique(),this.img2RASstep=[1,this.dimsRAS[1],this.dimsRAS[1]*this.dimsRAS[2]],this.img2RASstart=[0,0,0];return}A4(a),a[0+0*4]=1-o[0]*2,a[1+1*4]=1-o[1]*2,a[2+2*4]=1-o[2]*2,a[3+0*4]=(t.dims[n[0]]-1)*o[0],a[3+1*4]=(t.dims[n[1]]-1)*o[1],a[3+2*4]=(t.dims[n[2]]-1)*o[2];const h=pt();_i(h,a),F0(h,h,l),this.matRAS=di(h),a=hr(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1),a[n[0]-1+0*4]=-o[0]*2+1,a[n[1]-1+1*4]=-o[1]*2+1,a[n[2]-1+2*4]=-o[2]*2+1,a[3+0*4]=o[0],a[3+1*4]=o[1],a[3+2*4]=o[2],this.toRAS=di(a),a[3]=0,a[7]=0,a[11]=0,a[12]=0,(this.permRAS[0]===-1||this.permRAS[1]===-1||this.permRAS[2]===-1)&&(a[12]=t.dims[1]-1),a[13]=0,(this.permRAS[0]===-2||this.permRAS[1]===-2||this.permRAS[2]===-2)&&(a[13]=t.dims[2]-1),a[14]=0,(this.permRAS[0]===-3||this.permRAS[1]===-3||this.permRAS[2]===-3)&&(a[14]=t.dims[3]-1),this.toRASvox=di(a),Z.debug(this.hdr.dims),Z.debug(this.dimsRAS);const d=this.hdr;n=this.permRAS;const f=[Math.abs(n[0]),Math.abs(n[1]),Math.abs(n[2])],p=[d.dims[f[0]],d.dims[f[1]],d.dims[f[2]]],g=[1,d.dims[1],d.dims[1]*d.dims[2]],A=[g[f[0]-1],g[f[1]-1],g[f[2]-1]],x=[0,0,0];for(let y=0;y<3;y++)n[y]<0&&(x[y]=A[y]*(p[y]-1),A[y]=-A[y]);this.img2RASstep=A,this.img2RASstart=x,this.calculateOblique()}async hdr2RAS(e=1){if(!this.permRAS)throw new Error("permRAS undefined");if(!this.hdr)throw new Error("hdr undefined");const t=Ha({...this.hdr},!1),r=await Xs(t.buffer,!0);e===1?(r.dims[0]=3,r.dims[4]=1):e>1&&(r.dims[0]=4,r.dims[4]=e);const s=this.permRAS.slice();if(s[0]===1&&s[1]===2&&s[2]===3)return r;r.qform_code=0;for(let a=1;a<4;a++)r.dims[a]=this.dimsRAS[a];for(let a=0;a<this.pixDimsRAS.length;a++)r.pixDims[a]=this.pixDimsRAS[a];let n=0;for(let a=0;a<4;a++)for(let l=0;l<4;l++)r.affine[a][l]=this.matRAS[n],n++;return r}img2RAS(e=0){if(!this.permRAS)throw new Error("permRAS undefined");if(!this.img)throw new Error("img undefined");if(!this.hdr)throw new Error("hdr undefined");const t=this.permRAS.slice();if(t[0]===1&&t[1]===2&&t[2]===3)return this.img;const r=this.hdr,s=r.dims[1]*r.dims[2]*r.dims[3];let n=e*s;(n+s>this.img.length||n<0)&&(n=0,Z.warn(`img2RAS nVolume (${e}) out of bounds (${e}+1)×${s} > ${this.img.length}`));const a=this.img.slice(0,s),l=[Math.abs(t[0]),Math.abs(t[1]),Math.abs(t[2])],o=[r.dims[l[0]],r.dims[l[1]],r.dims[l[2]]],h=[1,r.dims[1],r.dims[1]*r.dims[2]],d=[h[l[0]-1],h[l[1]-1],h[l[2]-1]],f=[0,0,0];for(let g=0;g<3;g++)t[g]<0&&(f[g]=d[g]*(o[g]-1),d[g]=-d[g]);let p=0;for(let g=0;g<o[2];g++){const A=f[2]+g*d[2];for(let x=0;x<o[1];x++){const y=f[1]+x*d[1];for(let b=0;b<o[0];b++){const T=f[0]+b*d[0];a[p]=this.img[T+y+A+n],p++}}}return a}vox2mm(e,t){const r=di(t);lr(r,r);const s=Kt(e[0],e[1],e[2],1);return Ti(s,s,r),Ue(s[0],s[1],s[2])}mm2vox(e,t=!1){if(!this.matRAS)throw new Error("matRAS undefined");const r=di(this.matRAS),s=di(r);lr(s,r),_i(s,s);const n=Kt(e[0],e[1],e[2],1);Ti(n,n,s);const a=Ue(n[0],n[1],n[2]);return t?a:[Math.round(a[0]),Math.round(a[1]),Math.round(a[2])]}arrayEquals(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((r,s)=>r===t[s])}setColormap(e){this._colormap=e,this.calMinMax(),this.onColormapChange&&this.onColormapChange(this)}setColormapLabel(e){this.colormapLabel=Nt.makeLabelLut(e)}async setColormapLabelFromUrl(e){this.colormapLabel=await Nt.makeLabelLutFromUrl(e)}get colormap(){return this._colormap}get colorMap(){return this._colormap}set colormap(e){this.setColormap(e)}set colorMap(e){this.setColormap(e)}get opacity(){return this._opacity}set opacity(e){this._opacity=e,this.onOpacityChange&&this.onOpacityChange(this)}calMinMax(e=Number.POSITIVE_INFINITY,t=!0){if(!this.hdr)throw new Error("hdr undefined");if(!this.img)throw new Error("img undefined");let r=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,n=0,a=0,l=this.hdr.dims[1]*this.hdr.dims[2]*this.hdr.dims[3];const o=Math.floor(this.img.length/l);e>=o&&(e=this.frame4D),e=Math.min(e,o-1);const h=e*l;let d=[];if(t){const j=[Math.floor(.25*this.hdr.dims[1]),Math.floor(.25*this.hdr.dims[2]),Math.floor(.25*this.hdr.dims[3])],X=[this.hdr.dims[1]-2*j[0],this.hdr.dims[2]-2*j[1],this.hdr.dims[3]-2*j[2]],re=[X[0]+j[0],X[1]+j[1],X[2]+j[2]];l=X[0]*X[1]*X[2],d=new this.img.constructor(l);let oe=-1,he=0;for(let Ae=0;Ae<this.hdr.dims[3];Ae++)for(let qe=0;qe<this.hdr.dims[2];qe++)for(let Qe=0;Qe<this.hdr.dims[1];Qe++)oe++,!(Qe<j[0]||qe<j[1]||Ae<j[2])&&(Qe>=re[0]||qe>=re[1]||Ae>=re[2]||(d[he]=this.img[oe+h],he++))}else{d=new this.img.constructor(l);for(let U=0;U<l;U++)d[U]=this.img[U+h]}const f=d.constructor!==Float64Array&&d.constructor!==Float32Array&&this.ignoreZeroVoxels;if(f)for(let U=0;U<l;U++)r=Math.min(d[U],r),s=Math.max(d[U],s),d[U]===0&&n++;else for(let U=0;U<l;U++){if(isNaN(d[U])){a++;continue}d[U]===0&&(n++,this.ignoreZeroVoxels)||(r=Math.min(d[U],r),s=Math.max(d[U],s))}this.ignoreZeroVoxels&&r===s&&n>0&&(r=0);const p=this.intensityRaw2Scaled(r),g=this.intensityRaw2Scaled(s),A=Nt.colormapFromKey(this._colormap);let x=0,y=0;if(A.min!==void 0&&(x=A.min),A.max!==void 0&&(y=A.max),x===y&&this.trustCalMinMax&&isFinite(this.hdr.cal_min)&&isFinite(this.hdr.cal_max)&&this.hdr.cal_max>this.hdr.cal_min)return this.cal_min=this.hdr.cal_min,this.cal_max=this.hdr.cal_max,this.robust_min=this.cal_min,this.robust_max=this.cal_max,this.global_min=p,this.global_max=g,[this.hdr.cal_min,this.hdr.cal_max,this.hdr.cal_min,this.hdr.cal_max];if(x!==y)return this.cal_min=x,this.cal_max=y,this.robust_min=this.cal_min,this.robust_max=this.cal_max,[x,y,x,y];const b=100*n/(l-0);let T=!1;b>60&&!this.ignoreZeroVoxels&&(Z.warn(`${Math.round(b)}% of voxels are zero: ignoring zeros for cal_max`),T=!0,this.ignoreZeroVoxels=!0),this.ignoreZeroVoxels||(n=0),n+=a;const D=Math.round((l-0-n)*this.percentileFrac);if(D<1||r===s)return Z.debug("no variability in image intensity?"),this.cal_min=p,this.cal_max=g,this.robust_min=this.cal_min,this.robust_max=this.cal_max,this.global_min=p,this.global_max=g,[p,g,p,g];const S=1001,k=(S-1)/(s-r),R=new Array(S);for(let U=0;U<S;U++)R[U]=0;if(f)for(let U=0;U<l;U++)R[Math.round((d[U]-r)*k)]++;else if(this.ignoreZeroVoxels)for(let U=0;U<l;U++)d[U]!==0&&(isNaN(d[U])||R[Math.round((d[U]-r)*k)]++);else for(let U=0;U<l;U++)isNaN(d[U])||R[Math.round((d[U]-r)*k)]++;let B=0,N=0;for(;B<D;)B+=R[N],N++;N--,B=0;let L=S;for(;B<D;)L--,B+=R[L];if(N===L){let U=-1;for(;U!==0;)N>0&&(N--,R[N]>0&&(U=0)),U!==0&&L<S-1&&(L++,R[L]>0&&(U=0)),N===0&&L===S-1&&(U=0)}let O=this.intensityRaw2Scaled(N/k+r),q=this.intensityRaw2Scaled(L/k+r);return this.hdr.cal_min<this.hdr.cal_max&&this.hdr.cal_min>=p&&this.hdr.cal_max<=g&&(O=this.hdr.cal_min,q=this.hdr.cal_max),T&&(O=Math.min(O,0)),this.cal_min=O,this.cal_max=q,this.robust_min=this.cal_min,this.robust_max=this.cal_max,this.global_min=p,this.global_max=g,[O,q,p,g]}intensityRaw2Scaled(e){if(!this.hdr)throw new Error("hdr undefined");return this.hdr.scl_slope===0&&(this.hdr.scl_slope=1),e*this.hdr.scl_slope+this.hdr.scl_inter}intensityScaled2Raw(e){if(!this.hdr)throw new Error("hdr undefined");return this.hdr.scl_slope===0&&(this.hdr.scl_slope=1),(e-this.hdr.scl_inter)/this.hdr.scl_slope}async saveToUint8Array(e,t=null){return K4(this,e,t)}async saveToDisk(e="",t=null){return O9(this,e,t)}static async fetchDicomData(e,t={}){if(e==="")throw Error("url must not be empty");let s=/^(?:[a-z+]+:)?\/\//i.test(e)?e:new URL(e,window.location.href);/(?:.([^.]+))?$/.exec(s.pathname)||(s=new URL("niivue-manifest.txt",e));let l=await fetch(s,{headers:t});if(!l.ok)throw Error(l.statusText);const h=(await l.text()).split(`
`),f=/(.*\/).*/.exec(s)[0],p=[];for(const g of h){const A=new URL(g,f);if(l=await fetch(A,{headers:t}),!l.ok)throw Error(l.statusText);const x=await l.arrayBuffer();p.push({name:g,data:x})}return p}static async readFirstDecompressedBytes(e,t){const r=e.getReader(),s=new c7,n=[];let a=0,l=!1,o,h;const d=new Promise((p,g)=>{o=p,h=g});function f(){const p=new Uint8Array(a);let g=0;for(const A of n)p.set(A,g),g+=A.length;o(p)}return s.ondata=p=>{n.push(p),a+=p.length,a>=t&&(l=!0,r.cancel().catch(()=>{}),f())},(async()=>{try{for(;!l;){const{done:p,value:g}=await r.read();if(p){l=!0,s.push(new Uint8Array,!0);return}s.push(g,!1)}}catch(p){h(p)}})().catch(()=>{}),d}static extractFilenameFromUrl(e){const r=new URL(e).searchParams.get("response-content-disposition");if(r){const s=r.match(/filename\*?=(?:UTF-8'')?"?([^";]+)"?/);if(s)return decodeURIComponent(s[1])}return e.split("/").pop().split("?")[0]}static async loadInitialVolumesGz(e="",t={},r=NaN){if(isNaN(r))return null;const s=await fetch(e,{headers:t,cache:"force-cache"});let n=352,a=await this.readFirstDecompressedBytes(s.body,n);const l=new DataView(a.buffer,a.byteOffset,a.byteLength),o=l.getUint16(0,!0),h=o===348;if(!h&&!(o===23553)||(a.length>111&&(n=l.getFloat32(108,h)),n>a.length&&(a=await this.readFirstDecompressedBytes(s.body,n)),!(a[0]===92&&a[1]===1||a[1]===92&&a[0]===1)))return null;const p=await Xs(a.buffer);if(!p)throw new Error("Could not read NIfTI header");const g=p.numBitsPerVoxel/8,A=[1,2,3].reduce((S,k)=>S*(p.dims[k]>1?p.dims[k]:1),1),x=[4,5,6].reduce((S,k)=>S*(p.dims[k]>1?p.dims[k]:1),1),y=Math.max(Math.min(r,x),1),b=p.vox_offset+y*A*g;if(y===x)return null;const T=await fetch(e,{headers:t,cache:"force-cache"});return(await this.readFirstDecompressedBytes(T.body,b)).buffer.slice(0,b)}static async loadInitialVolumes(e="",t={},r=NaN){if(isNaN(r))return null;const n=(await fetch(e,{headers:t,cache:"force-cache"})).body.getReader(),{value:a,done:l}=await n.read();let o=a;if(l||!o||o.length<2)throw new Error("Not enough data to determine compression");const h=new DataView(o.buffer,o.byteOffset,o.byteLength),d=h.getUint16(0,!0);if(d===35615)return await n.cancel(),this.loadInitialVolumesGz(e,t,r);const p=d===348;if(!p&&!(d===23553))return await n.cancel(),null;let A=352;for(o.length>111&&(A=h.getFloat32(108,p));o.length<A;){let N=function(q,U){const j=new Uint8Array(q.length+U.length);return j.set(q,0),j.set(U,q.length),j};const{value:L,done:O}=await n.read();if(O||!L)break;o=N(o,L)}const x=await Xs(o.buffer);if(!x)throw new Error("Could not read NIfTI header");const y=x.numBitsPerVoxel/8,b=[1,2,3].reduce((N,L)=>N*(x.dims[L]>1?x.dims[L]:1),1),T=[4,5,6].reduce((N,L)=>N*(x.dims[L]>1?x.dims[L]:1),1),D=Math.max(Math.min(r,T),1),S=x.vox_offset+D*b*y,k=new Uint8Array(S),R=Math.min(o.length,S);k.set(o.subarray(0,R),0);let B=R;for(;B<S;){const{value:N,done:L}=await n.read();if(L||!N)return await n.cancel(),null;const O=Math.min(N.length,S-B);k.set(N.subarray(0,O),B),B+=O}return await n.cancel(),k.buffer}static async loadFromUrl({url:e="",urlImgData:t="",headers:r={},name:s="",colormap:n="gray",opacity:a=1,cal_min:l=NaN,cal_max:o=NaN,trustCalMinMax:h=!0,percentileFrac:d=.02,ignoreZeroVoxels:f=!1,useQFormNotSForm:p=!1,colormapNegative:g="",frame4D:A=0,isManifest:x=!1,limitFrames4D:y=NaN,imageType:b=ot.UNKNOWN,colorbarVisible:T=!0,buffer:D=new ArrayBuffer(0)}={}){if(e==="")throw Error("url must not be empty");let S=null,k=null;if(e instanceof Uint8Array&&(e=e.buffer),D.byteLength>0&&(e=D),e instanceof ArrayBuffer)if(k=e,s!=="")e=s;else{const O=new Uint8Array(k);e=O[0]===31&&O[1]===139?"array.nii.gz":"array.nii"}function R(O){const q=O.match(/\.([^.]+)(?:\.gz|\.bz2|\.xz)?$/);return q?q[1]:""}let B="";if(s===""?B=R(e):B=R(s),b===ot.UNKNOWN&&(b=ot.parse(B)),b===ot.UNKNOWN&&typeof e=="string"){const O=await fetch(e,{});if(O.redirected){const q=this.extractFilenameFromUrl(O.url);q&&q.length>0&&s===""&&(s=q,B=R(s),b=ot.parse(B))}}const N=b===ot.DCM||ot.NII;if(!k&&N&&(k=await this.loadInitialVolumes(e,r,y)),!k)if(x)k=await Ma.fetchDicomData(e,r),b=ot.DCM_MANIFEST;else{const O=await fetch(e,{headers:r});if(!O.ok)throw Error(O.statusText);if(!O.body)throw new Error("No readable stream available");const q=await Bl(O.body),U=[],j=q.getReader();for(;;){const{done:he,value:Ae}=await j.read();if(he)break;U.push(Ae)}const X=U.reduce((he,Ae)=>he+Ae.length,0);k=new ArrayBuffer(X);const re=new Uint8Array(k);let oe=0;for(const he of U)re.set(he,oe),oe+=he.length}B.toUpperCase()==="HEAD"&&t===""&&(t=e.substring(0,e.lastIndexOf("HEAD"))+"BRIK");let L=null;if(t)try{let O=await fetch(t,{headers:r});if(O.status===404&&t.includes("BRIK")&&(O=await fetch(`${t}.gz`,{headers:r})),O.ok&&O.body){const q=await Bl(O.body),U=[],j=q.getReader();for(;;){const{done:he,value:Ae}=await j.read();if(he)break;U.push(Ae)}const X=U.reduce((he,Ae)=>he+Ae.length,0);L=new ArrayBuffer(X);const re=new Uint8Array(L);let oe=0;for(const he of U)re.set(he,oe),oe+=he.length}}catch(O){console.error("Error loading paired image data:",O)}if(!k)throw new Error("Unable to load buffer properly from volume");if(!s){let O;try{O=new URL(e).pathname.split("/")}catch{O=e.split("/")}s=O.slice(-1)[0],s.indexOf("?")>-1&&(s=s.slice(0,s.indexOf("?")))}return S=await this.new(k,s,n,a,L,l,o,h,d,f,p,g,A,b),S.url=e,S.colorbarVisible=T,S}static async readFileAsync(e,t=NaN){let r=e.stream();if(!isNaN(t)){let f=0;const p=new TransformStream({transform(g,A){if(f>=t){A.terminate();return}const x=t-f;g.length>x?(A.enqueue(g.slice(0,x)),A.terminate()):A.enqueue(g),f+=g.length}});r=r.pipeThrough(p)}const s=await Bl(r),n=[],a=s.getReader();for(;;){const{done:f,value:p}=await a.read();if(f)break;n.push(p)}const l=n.reduce((f,p)=>f+p.length,0),o=new ArrayBuffer(l),h=new Uint8Array(o);let d=0;for(const f of n)h.set(f,d),d+=f.length;return o}static async loadFromFile({file:e,name:t="",colormap:r="gray",opacity:s=1,urlImgData:n=null,cal_min:a=NaN,cal_max:l=NaN,trustCalMinMax:o=!0,percentileFrac:h=.02,ignoreZeroVoxels:d=!1,useQFormNotSForm:f=!1,colormapNegative:p="",frame4D:g=0,limitFrames4D:A=NaN,imageType:x=ot.UNKNOWN}){let y=null,b=[];try{if(Array.isArray(e))b=await Promise.all(e.map(D=>this.readFileAsync(D)));else{if(isNaN(A))b=await this.readFileAsync(e);else{const D=await this.readFileAsync(e,512),S=new Uint8Array(D);if(!(S[0]===92&&S[1]===1||S[1]===92&&S[0]===1))b=await this.readFileAsync(e);else{const R=await Xs(D);if(!R)throw new Error("could not read nifti header");const B=R.numBitsPerVoxel/8,N=[1,2,3].reduce((U,j)=>U*(R.dims[j]>1?R.dims[j]:1),1),L=[4,5,6].reduce((U,j)=>U*(R.dims[j]>1?R.dims[j]:1),1),O=Math.max(Math.min(A,L),1),q=R.vox_offset+O*N*B;b=await this.readFileAsync(e,q)}}t=e.name}let T=null;n&&(T=await this.readFileAsync(n)),y=await this.new(b,t,r,s,T,a,l,o,h,d,f,p,g,x),y.fileObject=e}catch(T){throw Z.error(T),new Error("could not build NVImage")}if(y===null)throw new Error("could not build NVImage");return y}static createNiftiArray(e=[256,256,256],t=[1,1,1],r=[1,0,0,-128,0,1,0,-128,0,0,1,-128,0,0,0,1],s=2,n=new Uint8Array){return L9(e,t,r,s,n)}static createNiftiHeader(e=[256,256,256],t=[1,1,1],r=[1,0,0,-128,0,1,0,-128,0,0,1,-128,0,0,0,1],s=2){return H4(e,t,r,s)}getVolumeData(e=[-1,0,0],t=[0,0,0],r="same"){return G9(this,e,t,r)}setVolumeData(e=[-1,0,0],t=[0,0,0],r=new Uint8Array){H9(this,e,t,r)}static async loadFromBase64({base64:e,name:t="",colormap:r="gray",opacity:s=1,cal_min:n=NaN,cal_max:a=NaN,trustCalMinMax:l=!0,percentileFrac:o=.02,ignoreZeroVoxels:h=!1,useQFormNotSForm:d=!1,colormapNegative:f="",frame4D:p=0,imageType:g=ot.UNKNOWN,cal_minNeg:A=NaN,cal_maxNeg:x=NaN,colorbarVisible:y=!0,colormapLabel:b=null}){function T(S){const k=window.atob(S),R=k.length,B=new Uint8Array(R);for(let N=0;N<R;N++)B[N]=k.charCodeAt(N);return B.buffer}let D=null;try{const S=T(e);D=await this.new(S,t,r,s,null,n,a,l,o,h,d,f,p,g,A,x,y,b)}catch(S){Z.debug(S)}if(D===null)throw new Error("could not load NVImage");return D}clone(){const e=new Ma;return e.id=o1(),e.hdr=Object.assign({},this.hdr),e.img=this.img.slice(),e.calculateRAS(),e.calMinMax(),e}zeroImage(){this.img.fill(0)}getImageMetadata(){if(!this.hdr)throw new Error("hdr undefined");const e=this.id,t=this.hdr.datatypeCode,r=this.hdr.dims,s=r[1],n=r[2],a=r[3],l=Math.max(1,r[4]),o=this.hdr.pixDims,h=o[1],d=o[2],f=o[3],p=o[4],g=Math.floor(this.hdr.numBitsPerVoxel/8);return{id:e,datatypeCode:t,nx:s,ny:n,nz:a,nt:l,dx:h,dy:d,dz:f,dt:p,bpv:g}}static zerosLike(e,t="same"){const r=e.clone();return r.zeroImage(),t==="uint8"&&(r.img=Uint8Array.from(r.img),r.hdr.datatypeCode=2,r.hdr.numBitsPerVoxel=8),t==="float32"&&(r.img=Float32Array.from(r.img),r.hdr.datatypeCode=16,r.hdr.numBitsPerVoxel=32),r}getValue(e,t,r,s=0,n=!1){return q9(this,e,t,r,s,n)}applyOptionsUpdate(e){this.hdr.cal_min=e.cal_min,this.hdr.cal_max=e.cal_max,Object.assign(this,e)}getImageOptions(){return Sa("","",this.name,this._colormap,this.opacity,this.hdr.cal_min,this.hdr.cal_max,this.trustCalMinMax,this.percentileFrac,this.ignoreZeroVoxels,this.useQFormNotSForm,this.colormapNegative,this.frame4D,this.imageType,this.colormapType)}toUint8Array(e=null){return Y4(this,e)}convertVox2Frac(e){return Ue((e[0]+.5)/this.dimsRAS[1],(e[1]+.5)/this.dimsRAS[2],(e[2]+.5)/this.dimsRAS[3])}convertFrac2Vox(e){return Ue(Math.round(e[0]*this.dims[1]-.5),Math.round(e[1]*this.dims[2]-.5),Math.round(e[2]*this.dims[3]-.5))}convertFrac2MM(e,t=!1){const r=Kt(e[0],e[1],e[2],1);return t?Ti(r,r,this.frac2mm):Ti(r,r,this.frac2mmOrtho),r}convertMM2Frac(e,t=!1){const r=Kt(e[0],e[1],e[2],1),s=this.dimsRAS,n=Ue(0,0,0);if(typeof s>"u")return n;if(!t){const l=di(this.frac2mmOrtho);return _i(l,l),Ti(r,r,l),n[0]=r[0],n[1]=r[1],n[2]=r[2],n}if(s[1]<1||s[2]<1||s[3]<1)return n;const a=di(this.matRAS);return _i(a,a),lr(a,a),Ti(r,r,a),n[0]=(r[0]+.5)/s[1],n[1]=(r[1]+.5)/s[2],n[2]=(r[2]+.5)/s[3],n}},Q4=(i=>(i[i.none=0]="none",i[i.contrast=1]="contrast",i[i.measurement=2]="measurement",i[i.pan=3]="pan",i[i.slicer3D=4]="slicer3D",i[i.callbackOnly=5]="callbackOnly",i[i.roiSelection=6]="roiSelection",i))(Q4||{}),k0={textHeight:.06,colorbarHeight:.05,colorbarWidth:-1,showColorbarBorder:!0,crosshairWidth:1,crosshairWidthUnit:"voxels",crosshairGap:0,rulerWidth:4,show3Dcrosshair:!1,backColor:[0,0,0,1],crosshairColor:[1,0,0,1],fontColor:[.5,.5,.5,1],selectionBoxColor:[1,1,1,.5],clipPlaneColor:[.7,0,.7,.5],clipThick:2,clipVolumeLow:[0,0,0],clipVolumeHigh:[1,1,1],rulerColor:[1,0,0,.8],colorbarMargin:.05,trustCalMinMax:!0,clipPlaneHotKey:"KeyC",viewModeHotKey:"KeyV",doubleTouchTimeout:500,longTouchTimeout:1e3,keyDebounceTime:50,isNearestInterpolation:!1,isResizeCanvas:!0,atlasOutline:0,isRuler:!1,isColorbar:!1,isOrientCube:!1,tileMargin:0,multiplanarPadPixels:0,multiplanarForceRender:!1,multiplanarEqualSize:!1,multiplanarShowRender:2,isRadiologicalConvention:!1,meshThicknessOn2D:1/0,dragMode:1,dragModePrimary:0,yoke3Dto2DZoom:!1,isDepthPickMesh:!1,isCornerOrientationText:!1,isOrientationTextVisible:!0,heroImageFraction:0,heroSliceType:4,sagittalNoseLeft:!1,isSliceMM:!1,isV1SliceShader:!1,forceDevicePixelRatio:0,logLevel:"info",loadingText:"loading ...",isForceMouseClickToVoxelCenters:!1,dragAndDropEnabled:!0,drawingEnabled:!1,penValue:1,floodFillNeighbors:6,isFilledPen:!1,thumbnail:"",maxDrawUndoBitmaps:8,sliceType:3,meshXRay:0,isAntiAlias:null,limitFrames4D:NaN,isAdditiveBlend:!1,showLegend:!0,legendBackgroundColor:[.3,.3,.3,.5],legendTextColor:[1,1,1,1],multiplanarLayout:0,renderOverlayBlend:1,sliceMosaicString:"",centerMosaic:!1,penSize:1,interactive:!0,clickToSegment:!1,clickToSegmentRadius:3,clickToSegmentBright:!0,clickToSegmentAutoIntensity:!1,clickToSegmentIntensityMax:NaN,clickToSegmentIntensityMin:NaN,clickToSegmentPercent:0,clickToSegmentMaxDistanceMM:Number.POSITIVE_INFINITY,clickToSegmentIs2D:!1,selectionBoxLineThickness:4,selectionBoxIsOutline:!1,scrollRequiresFocus:!1,showMeasureUnits:!0,measureTextJustify:"center",measureTextColor:[1,0,0,1],measureLineColor:[1,0,0,1],measureTextHeight:.03,isAlphaClipDark:!1,gradientOrder:1,gradientOpacity:0,gradientAmount:0,invertScrollDirection:!1},Ca={gamma:1,azimuth:110,elevation:10,crosshairPos:Ue(.5,.5,.5),clipPlane:[0,0,0,0],clipPlaneDepthAziElev:[2,0,0],volScaleMultiplier:1,pan2Dxyzmm:Kt(0,0,0,1),clipThick:2,clipVolumeLow:[0,0,0],clipVolumeHigh:[1,1,1]},Nl=class bs{constructor(){W(this,"data",{title:"Untitled document",imageOptionsArray:[],meshOptionsArray:[],opts:{...k0},previewImageDataURL:"",labels:[],encodedImageBlobs:[],encodedDrawingBlob:""}),W(this,"scene"),W(this,"volumes",[]),W(this,"meshDataObjects"),W(this,"meshes",[]),W(this,"drawBitmap",null),W(this,"imageOptionsMap",new Map),W(this,"meshOptionsMap",new Map),this.scene={onAzimuthElevationChange:()=>{},onZoom3DChange:()=>{},sceneData:{...Ca,pan2Dxyzmm:Kt(0,0,0,1),crosshairPos:Ue(.5,.5,.5)},get renderAzimuth(){return this.sceneData.azimuth},set renderAzimuth(e){this.sceneData.azimuth=e,this.onAzimuthElevationChange&&this.onAzimuthElevationChange(this.sceneData.azimuth,this.sceneData.elevation)},get renderElevation(){return this.sceneData.elevation},set renderElevation(e){this.sceneData.elevation=e,this.onAzimuthElevationChange&&this.onAzimuthElevationChange(this.sceneData.azimuth,this.sceneData.elevation)},get volScaleMultiplier(){return this.sceneData.volScaleMultiplier},set volScaleMultiplier(e){this.sceneData.volScaleMultiplier=e,this.onZoom3DChange(e)},get crosshairPos(){return this.sceneData.crosshairPos},set crosshairPos(e){this.sceneData.crosshairPos=e},get clipPlane(){return this.sceneData.clipPlane},set clipPlane(e){this.sceneData.clipPlane=e},get clipPlaneDepthAziElev(){return this.sceneData.clipPlaneDepthAziElev},set clipPlaneDepthAziElev(e){this.sceneData.clipPlaneDepthAziElev=e},get pan2Dxyzmm(){return this.sceneData.pan2Dxyzmm},set pan2Dxyzmm(e){this.sceneData.pan2Dxyzmm=e},get gamma(){return this.sceneData.gamma},set gamma(e){this.sceneData.gamma=e}}}get title(){return this.data.title}get previewImageDataURL(){return this.data.previewImageDataURL}set previewImageDataURL(e){this.data.previewImageDataURL=e}set title(e){this.data.title=e}get imageOptionsArray(){return this.data.imageOptionsArray}get encodedImageBlobs(){return this.data.encodedImageBlobs}get encodedDrawingBlob(){return this.data.encodedDrawingBlob}get opts(){return this.data.opts}set opts(e){this.data.opts={...e}}get labels(){return this.data.labels}set labels(e){this.data.labels=e}get customData(){return this.data.customData}set customData(e){this.data.customData=e}hasImage(e){return this.volumes.find(t=>t.id===e.id)!==void 0}hasImageFromUrl(e){return this.data.imageOptionsArray.find(t=>t.url===e)!==void 0}addImageOptions(e,t){if(!this.hasImage(e)&&!t.name)if(t.url){const s=/^(?:[a-z+]+:)?\/\//i.test(t.url)?new URL(t.url):new URL(t.url,window.location.href);t.name=s.pathname.split("/").pop(),t.name.toLowerCase().endsWith(".gz")&&(t.name=t.name.slice(0,-3)),t.name.toLowerCase().endsWith(".nii")||(t.name+=".nii")}else t.name="untitled.nii";t.imageType=ot.NII,this.data.imageOptionsArray.push(t),this.imageOptionsMap.set(e.id,this.data.imageOptionsArray.length-1)}removeImage(e){if(this.imageOptionsMap.has(e.id)){const t=this.imageOptionsMap.get(e.id);this.data.imageOptionsArray.length>t&&this.data.imageOptionsArray.splice(t,1),this.imageOptionsMap.delete(e.id)}this.volumes=this.volumes.filter(t=>t.id!==e.id)}getImageOptions(e){return this.imageOptionsMap.has(e.id)?this.data.imageOptionsArray[this.imageOptionsMap.get(e.id)]:null}json(){const e={encodedImageBlobs:[],previewImageDataURL:this.data.previewImageDataURL,imageOptionsMap:new Map},t=[];e.sceneData={...this.scene.sceneData},e.opts={...this.opts},this.opts.meshThicknessOn2D===1/0&&(e.opts.meshThicknessOn2D="infinity"),e.labels=[...this.data.labels];for(const s of e.labels)delete s.onClick;if(e.customData=this.customData,this.volumes.length)for(let s=0;s<this.volumes.length;s++){const n=this.volumes[s];let a=this.getImageOptions(n);a===null?(Z.warn("no options found for image, using default"),a={name:"",colormap:"gray",opacity:1,pairedImgData:null,cal_min:NaN,cal_max:NaN,trustCalMinMax:!0,percentileFrac:.02,ignoreZeroVoxels:!1,useQFormNotSForm:!1,colormapNegative:"",colormapLabel:null,imageType:ot.NII,frame4D:0,limitFrames4D:NaN,url:"",urlImageData:"",alphaThreshold:!1,cal_minNeg:NaN,cal_maxNeg:NaN,colorbarVisible:!0}):"imageType"in a||(a.imageType=ot.NII),a.colormap=n.colormap,a.colormapLabel=n.colormapLabel,a.opacity=n.opacity,a.cal_max=n.cal_max||NaN,a.cal_min=n.cal_min||NaN,t.push(a);const l=Ke.uint8tob64(n.toUint8Array());e.encodedImageBlobs.push(l),e.imageOptionsMap.set(n.id,s)}e.imageOptionsArray=[...t];const r=[];e.connectomes=[];for(const s of this.meshes){if(s.type==="connectome"){e.connectomes.push(JSON.stringify(s.json()));continue}const n={pts:s.pts,tris:s.tris,name:s.name,rgba255:Uint8Array.from(s.rgba255),opacity:s.opacity,connectome:s.connectome,dpg:s.dpg,dps:s.dps,dpv:s.dpv,meshShaderIndex:s.meshShaderIndex,layers:s.layers.map(a=>({values:a.values,nFrame4D:a.nFrame4D,frame4D:0,outlineBorder:a.outlineBorder,global_min:a.global_min,global_max:a.global_max,cal_min:a.cal_min,cal_max:a.cal_max,opacity:a.opacity,colormap:a.colormap,colormapNegative:a.colormapNegative,colormapLabel:a.colormapLabel,useNegativeCmap:a.useNegativeCmap})),hasConnectome:s.hasConnectome,edgeColormap:s.edgeColormap,edgeColormapNegative:s.edgeColormapNegative,edgeMax:s.edgeMax,edgeMin:s.edgeMin,edges:s.edges&&Array.isArray(s.edges)?[...s.edges]:[],extentsMax:s.extentsMax,extentsMin:s.extentsMin,furthestVertexFromOrigin:s.furthestVertexFromOrigin,nodeColormap:s.nodeColormap,nodeColormapNegative:s.nodeColormapNegative,nodeMaxColor:s.nodeMaxColor,nodeMinColor:s.nodeMinColor,nodeScale:s.nodeScale,legendLineThickness:s.legendLineThickness,offsetPt0:s.offsetPt0,nodes:s.nodes};s.offsetPt0&&s.offsetPt0.length>0&&(n.offsetPt0=s.offsetPt0,n.fiberGroupColormap=s.fiberGroupColormap,n.fiberColor=s.fiberColor,n.fiberDither=s.fiberDither,n.fiberRadius=s.fiberRadius,n.colormap=s.colormap),r.push(n)}return e.meshesString=JSON.stringify(Zg(r)),this.drawBitmap&&(e.encodedDrawingBlob=Ke.uint8tob64(this.drawBitmap)),e}async download(e,t){const r=this.json(),s=JSON.stringify(r),n=t?"application/gzip":"application/json";let a;t?a=await Ke.compressStringToArrayBuffer(s):a=s,Ke.download(a,e,n)}static deserializeMeshDataObjects(e){if(e.data.meshesString){e.meshDataObjects=Wg(JSON.parse(e.data.meshesString));for(const t of e.meshDataObjects)for(const r of t.layers)"colorMap"in r&&(r.colormap=r.colorMap,delete r.colorMap),"colorMapNegative"in r&&(r.colormapNegative=r.colorMapNegative,delete r.colorMapNegative)}}static async loadFromUrl(e){const r=await(await fetch(e)).arrayBuffer();let s;if(Ke.isArrayBufferCompressed(r)){const n=await Ke.decompressArrayBuffer(r);s=JSON.parse(n)}else{const n=new TextDecoder;s=JSON.parse(n.decode(r))}return bs.loadFromJSON(s)}static async loadFromFile(e){const t=await Ke.readFileAsync(e);let r;const s=new bs;return Ke.isArrayBufferCompressed(t)?r=await Ke.decompressArrayBuffer(t):r=new TextDecoder().decode(t),s.data=JSON.parse(r),s.data.opts.meshThicknessOn2D==="infinity"&&(s.data.opts.meshThicknessOn2D=1/0),s.scene.sceneData={...Ca,...s.data.sceneData},bs.deserializeMeshDataObjects(s),s}static loadFromJSON(e){const t=new bs;return t.data=e,t.data.opts.meshThicknessOn2D==="infinity"&&(t.data.opts.meshThicknessOn2D=1/0),t.scene.sceneData={...Ca,...e.sceneData},bs.deserializeMeshDataObjects(t),t}},j9={colormap:"gray",opacity:0,nFrame4D:0,frame4D:0,outlineBorder:0,cal_min:0,cal_max:0,cal_minNeg:0,cal_maxNeg:0,colormapType:0,values:new Array},ys=class Pr{constructor(e,t,r="",s=new Uint8Array([255,255,255,255]),n=1,a=!0,l,o=null,h=null,d=null,f=null,p=!0,g=""){W(this,"id"),W(this,"name"),W(this,"anatomicalStructurePrimary"),W(this,"colorbarVisible"),W(this,"furthestVertexFromOrigin"),W(this,"extentsMin"),W(this,"extentsMax"),W(this,"opacity"),W(this,"visible"),W(this,"meshShaderIndex",0),W(this,"offsetPt0",null),W(this,"colormapInvert",!1),W(this,"fiberGroupColormap",null),W(this,"indexBuffer"),W(this,"vertexBuffer"),W(this,"vao"),W(this,"vaoFiber"),W(this,"pts"),W(this,"tris"),W(this,"layers"),W(this,"type","mesh"),W(this,"data_type"),W(this,"rgba255"),W(this,"fiberLength"),W(this,"fiberLengths"),W(this,"fiberDensity"),W(this,"fiberDither",.1),W(this,"fiberColor","Global"),W(this,"fiberDecimationStride",1),W(this,"fiberSides",5),W(this,"fiberRadius",0),W(this,"fiberOcclusion",0),W(this,"f32PerVertex",5),W(this,"fiberMask"),W(this,"colormap"),W(this,"dpg"),W(this,"dps"),W(this,"dpv"),W(this,"hasConnectome",!1),W(this,"connectome"),W(this,"indexCount"),W(this,"vertexCount",1),W(this,"nodeScale",4),W(this,"edgeScale",1),W(this,"legendLineThickness",0),W(this,"nodeColormap","warm"),W(this,"edgeColormap","warm"),W(this,"nodeColormapNegative"),W(this,"edgeColormapNegative"),W(this,"nodeMinColor"),W(this,"nodeMaxColor"),W(this,"edgeMin"),W(this,"edgeMax"),W(this,"nodes"),W(this,"edges"),W(this,"points"),this.anatomicalStructurePrimary=g,this.name=r,this.colorbarVisible=p,this.id=o1();const A=_0.getExtents(e);if(this.furthestVertexFromOrigin=A.mxDx,this.extentsMin=A.extentsMin,this.extentsMax=A.extentsMax,this.opacity=n>1?1:n,this.visible=a,this.meshShaderIndex=0,this.indexBuffer=l.createBuffer(),this.vertexBuffer=l.createBuffer(),this.vao=l.createVertexArray(),l.bindVertexArray(this.vao),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,this.indexBuffer),l.bindBuffer(l.ARRAY_BUFFER,this.vertexBuffer),l.enableVertexAttribArray(0),l.enableVertexAttribArray(1),this.f32PerVertex!==7?(l.vertexAttribPointer(0,3,l.FLOAT,!1,20,0),l.vertexAttribPointer(1,4,l.BYTE,!0,20,12),l.enableVertexAttribArray(2),l.vertexAttribPointer(2,4,l.UNSIGNED_BYTE,!0,20,16)):(l.vertexAttribPointer(0,3,l.FLOAT,!1,28,0),l.vertexAttribPointer(1,3,l.FLOAT,!1,28,12),l.enableVertexAttribArray(2),l.vertexAttribPointer(2,4,l.UNSIGNED_BYTE,!0,28,24)),l.bindVertexArray(null),this.vaoFiber=l.createVertexArray(),this.offsetPt0=null,this.hasConnectome=!1,this.colormapInvert=!1,this.fiberGroupColormap=null,this.pts=e,this.layers=[],this.type="mesh",this.tris=t,s[3]<1){this.rgba255=s,this.fiberLength=2,this.fiberDither=.1,this.fiberColor="Global",this.fiberDecimationStride=1,this.fiberMask=[],this.colormap=o,this.dpg=h,this.dps=d,this.dpv=f,h&&this.initValuesArray(h),d&&this.initValuesArray(d),f&&this.initValuesArray(f),this.offsetPt0=new Uint32Array(t),this.tris=new Uint32Array(0),this.updateFibers(l),l.bindVertexArray(this.vaoFiber),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,this.indexBuffer),l.bindBuffer(l.ARRAY_BUFFER,this.vertexBuffer),l.enableVertexAttribArray(0),l.vertexAttribPointer(0,3,l.FLOAT,!1,16,0),l.enableVertexAttribArray(1),l.vertexAttribPointer(1,4,l.UNSIGNED_BYTE,!0,16,12),l.bindVertexArray(null);return}if(o){this.connectome=o,this.hasConnectome=!0;const y=Object.keys(o);for(let b=0,T=y.length;b<T;b++)this[y[b]]=o[y[b]]}this.rgba255=s,this.updateMesh(l)}initValuesArray(e){for(let t=0;t<e.length;t++){const r=e[t].vals.reduce((n,a)=>Math.min(n,a)),s=e[t].vals.reduce((n,a)=>Math.max(n,a));e[t].global_min=r,e[t].global_max=s,e[t].cal_min=r,e[t].cal_max=s}return e}linesToCylinders(e,t,r){function s(L){return Ue(L[0],L[1],L[2])}const n=Math.pow(2,32)-1,a=r.length;let l=0,o=0;for(let L=0;L<a;L++){if(r[L]===n){o++;continue}l++}const h=this.fiberSides,d=h*l,f=this.f32PerVertex;if(f!==5)throw Error("fiberSides > 1 requires f32PerVertex == 5");const p=new Float32Array(d*f),g=new Uint8Array(p.buffer);let A=0,x=Wr(),y=Wr(),b=Wr();const T=Yt();let D=Yt(),S=0;const k=this.fiberRadius;for(let L=0;L<a;L++){const O=r[L]===n;if(O&&S<1)continue;let q=r[L]*4;if(S++,S<=1){x=Kt(t[q+0],t[q+1],t[q+2],t[q+3]),y=l0(x),L+1<a&&r[L+1]!==n&&(q=r[L+1]*4,b=Kt(t[q+0],t[q+1],t[q+2],t[q+3]),Jt(T,s(x),s(b)),br(T,T),D=ns.getFirstPerpVector(T));continue}O?b=l0(y):b=Kt(t[q+0],t[q+1],t[q+2],t[q+3]),Jt(T,s(x),s(b)),br(T,T);const U=Yt();Aa(U,D,T);const j=Yt();Aa(j,T,U),D=sn(D);const X=Yt();Aa(X,T,j),br(X,X);const re=Yt();for(let oe=0;oe<h;oe++){const he=Math.cos(oe/h*2*Math.PI),Ae=Math.sin(oe/h*2*Math.PI);re[0]=k*(he*j[0]+Ae*X[0]),re[1]=k*(he*j[1]+Ae*X[1]),re[2]=k*(he*j[2]+Ae*X[2]),rs(re,s(y),re);const qe=A*f;p[qe+0]=re[0],p[qe+1]=re[1],p[qe+2]=re[2];const Qe=Yt();Jt(Qe,re,s(y)),br(Qe,Qe);const Fe=(qe+3)*4;g[Fe+0]=Qe[0]*127,g[Fe+1]=Qe[1]*127,g[Fe+2]=Qe[2]*127,p[qe+4]=y[3],A++}x=l0(y),y=l0(b),O&&(S=0)}const R=(l-o)*h*2*3,B=new Uint32Array(R);let N=0;A=0;for(let L=1;L<a;L++){if(r[L]===n){A+=h;continue}if(r[L-1]===n)continue;let O=A,q=A+h;const U=q,j=q+h;for(let X=0;X<h;X++)B[N++]=O,B[N++]=q++,q===j&&(q=j-h),B[N++]=q,B[N++]=O++,O===U&&(O=U-h),B[N++]=q,B[N++]=O;A+=h}e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,Uint32Array.from(B),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,g,e.STATIC_DRAW),this.indexCount=R}createFiberDensityMap(){if(this.fiberDensity)return;const e=this.pts,t=e.length/3;let r=0;for(let T=0;T<3;T++){const D=this.extentsMax[T]-this.extentsMin[T];r=Math.max(r,D)}if(this.fiberDensity=new Float32Array(t),r===0)return;const s=64,a=r/(s-1)/2,l=(s-1)/r;let o=new Float32Array(s*s*s);const h=[this.extentsMin[0]-a,this.extentsMin[1]-a,this.extentsMin[2]-a],d=[0,0,0],f=-1,p=s*s;let g=0;for(let T=0;T<t;T++){d[0]=Math.round((e[g++]-h[0])*l),d[1]=Math.round((e[g++]-h[1])*l),d[2]=Math.round((e[g++]-h[2])*l);const D=d[0]+d[1]*s+d[2]*p;D!==f&&o[D]++}function A(T,D){let S=T.slice(),k=-1;const R=D-1;for(let N=0;N<D;N++)for(let L=0;L<D;L++)for(let O=0;O<D;O++)k++,!(O<1||O>=R)&&(T[k]=S[k-1]+S[k]+S[k]+S[k+1]);k=-1,S=T.slice();for(let N=0;N<D;N++)for(let L=0;L<D;L++)for(let O=0;O<D;O++)k++,!(L<1||L>=R)&&(T[k]=S[k-D]+S[k]+S[k]+S[k+D]);const B=D*D;k=-1,S=T.slice();for(let N=0;N<D;N++)for(let L=0;L<D;L++)for(let O=0;O<D;O++)k++,!(N<1||N>=R)&&(T[k]=S[k-B]+S[k]+S[k]+S[B]);return T}o=A(o,s),o=A(o,s);let x=0,y=1/0;const b=s*s*s;for(let T=0;T<b;T++)o[T]<=0||(x=Math.max(x,o[T]),y=Math.min(y,o[T]));if(!(x<=1||x<=y)){g=0;for(let T=0;T<b;T++)o[T]=Math.max(0,o[T]-y);x-=y;for(let T=0;T<t;T++){d[0]=Math.round((e[g++]-h[0])*l),d[1]=Math.round((e[g++]-h[1])*l),d[2]=Math.round((e[g++]-h[2])*l);const D=d[0]+d[1]*s+d[2]*p;this.fiberDensity[T]=o[D]/x}}}updateFibers(e){if(!this.offsetPt0||!this.fiberLength)return;const t=this.pts,r=this.offsetPt0,s=r.length-1,n=t.length/3;if(!this.fiberLengths){this.fiberLengths=new Uint32Array(s);for(let R=0;R<s;R++){const B=r[R]*3,N=(r[R+1]-1)*3;let L=0;for(let O=B;O<N;O+=3){const q=Ue(t[O+0]-t[O+3],t[O+1]-t[O+4],t[O+2]-t[O+5]);L+=pn(q)}this.fiberLengths[R]=L}}const a=new Float32Array(n*4),l=new Uint32Array(a.buffer);let o=0,h=0;for(let R=0;R<n;R++)a[h+0]=t[o+0],a[h+1]=t[o+1],a[h+2]=t[o+2],o+=3,h+=4;const d=this.fiberDither,f=d*.5;function p(R,B,N){const O=255*(d*Math.random()-f);return R=Math.max(Math.min(R+O,255),0),B=Math.max(Math.min(B+O,255),0),N=Math.max(Math.min(N+O,255),0),R+(B<<8)+(N<<16)}function g(R,B,N,L,O,q,U){const j=Ue(Math.abs(R-L),Math.abs(B-O),Math.abs(N-q));br(j,j);const X=U-f;for(let re=0;re<3;re++)j[re]=255*Math.max(Math.min(Math.abs(j[re])+X,1),0);return j[0]+(j[1]<<8)+(j[2]<<16)}const A=this.fiberColor.toLowerCase();let x=null,y=null;if(A.startsWith("dps")&&this.dps&&this.dps.length>0){const R=parseInt(A.substring(3));R<this.dps.length&&this.dps[R].vals.length===s&&(x=this.dps[R].vals)}if(A.startsWith("dpv")&&this.dpv&&this.dpv.length>0){const R=parseInt(A.substring(3));R<this.dpv.length&&this.dpv[R].vals.length===n&&(y=this.dpv[R])}const b=new Int16Array(s);if(this.dpg&&this.fiberGroupColormap!==null){const R=new Uint8ClampedArray(this.dpg.length*4),B=new Array(this.dpg.length).fill(!1),N=this.fiberGroupColormap;N.A===void 0&&(N.A=Array.from(new Uint8ClampedArray(N.I.length).fill(255)));for(let L=0;L<N.I.length;L++){let O=N.I[L];O<0||O>=this.dpg.length||N.A[L]<1||(B[O]=!0,O*=4,R[O]=N.R[L],R[O+1]=N.G[L],R[O+2]=N.B[L],R[O+3]=255)}b.fill(-1);for(let L=0;L<this.dpg.length;L++)if(B[L])for(let O=0;O<this.dpg[L].vals.length;O++)b[this.dpg[L].vals[O]]=L;for(let L=0;L<s;L++){if(b[L]<0)continue;const O=b[L]%256*4,q=p(R[O],R[O+1],R[O+2]),U=r[L],j=r[L+1]-1,X=U*4+3,re=j*4+3;for(let oe=X;oe<=re;oe+=4)l[oe]=q}}else if(y){const R=Nt.colormap(this.colormap,this.colormapInvert),B=y.cal_min,N=y.cal_max;let L=3;for(let O=0;O<n;O++){let q=Math.min(Math.max((y.vals[O]-B)/(N-B),0),1);q=Math.round(Math.max(Math.min(255,q*255)))*4;const U=R[q]+(R[q+1]<<8)+(R[q+2]<<16);l[L]=U,L+=4}}else if(x){const R=Nt.colormap(this.colormap,this.colormapInvert);let B=x[0],N=x[0];for(let L=0;L<s;L++)B=Math.min(B,x[L]),N=Math.max(N,x[L]);N===B&&(B-=1);for(let L=0;L<s;L++){let O=(x[L]-B)/(N-B);O=Math.round(Math.max(Math.min(255,O*255)))*4;const q=R[O]+(R[O+1]<<8)+(R[O+2]<<16),U=r[L],j=r[L+1]-1,X=U*4+3,re=j*4+3;for(let oe=X;oe<=re;oe+=4)l[oe]=q}}else if(A.includes("fixed"))if(d===0){const R=this.rgba255[0]+(this.rgba255[1]<<8)+(this.rgba255[2]<<16);let B=3;for(let N=0;N<n;N++)l[B]=R,B+=4}else for(let R=0;R<s;R++){const B=p(this.rgba255[0],this.rgba255[1],this.rgba255[2]),N=r[R],L=r[R+1]-1,O=N*4+3,q=L*4+3;for(let U=O;U<=q;U+=4)l[U]=B}else if(A.includes("local"))for(let R=0;R<s;R++){const B=r[R],N=r[R+1]-1;let L=B*3;const O=N*3,q=d*Math.random();let U=g(t[L],t[L+1],t[L+2],t[L+4],t[L+5],t[L+6],q),j=B*4+3;for(;L<O;)l[j]=U,j+=4,L+=3,U=g(t[L-3],t[L-2],t[L-1],t[L+3],t[L+4],t[L+5],q);l[j]=l[j-4]}else for(let R=0;R<s;R++){const B=r[R],N=r[R+1]-1,L=B*3,O=N*3,q=g(t[L],t[L+1],t[L+2],t[O],t[O+1],t[O+2],d*Math.random()),U=B*4+3,j=N*4+3;for(let X=U;X<=j;X+=4)l[X]=q}if(this.fiberOcclusion>0){let R=function(B,N){const L=N*(B&255),O=N*(B>>8&255),q=N*(B>>16&255);return L+(O<<8)+(q<<16)};this.createFiberDensityMap();for(let B=0;B<s;B++){const N=r[B],L=r[B+1]-1,O=N*4+3,q=L*4+3;let U=N;const j=Math.min(this.fiberOcclusion,.99);for(let X=O;X<=q;X+=4){let re=this.fiberDensity[U++];if(re<=0)continue;re=re/((1/j-2)*(1-re)+1);const oe=1-Math.min(re,.9);let he=l[X];he=R(he,oe),l[X]=he}}}const T=this.fiberLength,D=Math.pow(2,32)-1,S=[];let k=-1;for(let R=0;R<s;R++)if(!(b[R]<0)&&!(this.fiberLengths[R]<T)&&(k++,k%this.fiberDecimationStride===0)){for(let B=r[R];B<r[R+1];B++)S.push(B);S.push(D)}this.fiberSides>2&&this.fiberRadius>0?this.linesToCylinders(e,a,S):(this.indexCount=S.length,e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,Uint32Array.from(l),e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,Uint32Array.from(S),e.STATIC_DRAW))}indexNearestXYZmm(e,t,r){const s=this.pts,n=this.pts.length/3;let a=0,l=1/0,o=0;for(let h=0;h<n;h++){const d=Math.pow(s[a]-e,2)+Math.pow(s[a+1]-t,2)+Math.pow(s[a+2]-r,2);d<l&&(l=d,o=h),a+=3}return l=Math.sqrt(l),[o,l]}unloadMesh(e){if(e.bindBuffer(e.ARRAY_BUFFER,null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),e.bindVertexArray(null),e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer),e.deleteVertexArray(this.vao),e.deleteVertexArray(this.vaoFiber),this.offsetPt0=null,this.tris=null,this.pts=null,this.layers&&this.layers.length>0)for(let t=0;t<this.layers.length;t++)this.layers[t].values=null;if(this.dpg&&this.dpg.length>0)for(let t=0;t<this.dpg.length;t++)this.dpg[t].vals=null;if(this.dps&&this.dps.length>0)for(let t=0;t<this.dps.length;t++)this.dps[t].vals=null}blendColormap(e,t,r,s,n,a,l=!1){const o=this.pts.length/3,h=Math.min(r.opacity,1);function d(D,S,k){return D*(1-k)+S*k}function f(D,S){return Math.min(D+S,255)}const p=l?-1:1,g=Math.min(Math.max(r.frame4D,0),r.nFrame4D-1),A=o*g;let x=s;r.isTransparentBelowCalMin||(x=Number.NEGATIVE_INFINITY),r.colormapType!==0&&(s=Math.min(s,0));const y=255/(n-s);let b=new Array(o).fill(!1);if(r.outlineBorder!==0){const D=new Uint8Array(o).fill(0);for(let S=0;S<o;S++)p*r.values[S+A]>=x&&(D[S]=1);b=_0.getClusterBoundaryU8(D,this.tris);for(let S=0;S<o;S++)p*r.values[S+A]<x&&(b[S]=!1)}const T=new Float32Array(256).fill(h);if(x>s&&r.colormapType===2){let D=Math.round((x-s)*y);D=Math.max(D,1);for(let S=1;S<D;S++)T[S]=h*Math.pow(S/D,2);T[0]=0,x=s+Number.EPSILON}for(let D=0;D<o;D++){const S=p*r.values[D+A];if(S<x)continue;let k=Math.round((S-s)*y);if(k<0&&r.isTransparentBelowCalMin)continue;k=Math.max(0,k),k=Math.min(255,k);let R=T[k];k*=4;let B=D*28+24;if(this.f32PerVertex!==7&&(B=D*20+16),r.isAdditiveBlend){const N=D*4;t[N+0]=f(t[N+0],a[k+0]),t[N+1]=f(t[N+1],a[k+1]),t[N+2]=f(t[N+2],a[k+2]),t[N+3]=f(t[N+3],255)}else{if(b[D]&&(R=r.outlineBorder,r.outlineBorder<0)){e[B+0]=0,e[B+1]=0,e[B+2]=0;continue}e[B+0]=d(e[B+0],a[k+0],R),e[B+1]=d(e[B+1],a[k+1],R),e[B+2]=d(e[B+2],a[k+2],R)}}}updateMesh(e){if(this.offsetPt0){this.updateFibers(e);return}if(this.hasConnectome)return;if(!this.pts||!this.tris||!this.rgba255){Z.warn("underspecified mesh");return}function t(l,o,h){return l*(1-h)+o*h}const r=this.generatePosNormClr(this.pts,this.tris,this.rgba255),s=this.pts.length/3,n=new Uint8Array(r.buffer),a=new Uint8Array(s*4);if(this.layers&&this.layers.length>0)for(let l=0;l<this.layers.length;l++){const o=this.layers[l],h=o.opacity;if(h<=0||o.cal_min>o.cal_max)continue;if(o.outlineBorder===void 0&&(o.outlineBorder=0),o.isAdditiveBlend===void 0&&(o.isAdditiveBlend=!1),o.colormapLabel&&o.colormapLabel.R&&!o.colormapLabel.lut&&(o.colormapLabel=Nt.makeLabelLut(o.colormapLabel)),o.colormapLabel&&o.colormapLabel.lut){const p=o.colormapLabel.lut,g=Math.floor(p.length/4),A=Math.min(Math.max(o.frame4D,0),o.nFrame4D-1),x=s*A,y=new Uint8Array(s*4);let b=0;for(let D=0;D<o.values.length;D++){let S=4*Math.min(Math.max(o.values[D+x],0),g-1);y[b+0]=p[S+0],y[b+1]=p[S+1],y[b+2]=p[S+2],b+=4}let T=new Array(s).fill(!1);o.outlineBorder!==0&&(T=_0.getClusterBoundary(y,this.tris)),b=0;for(let D=0;D<o.values.length;D++){let S=D*28+24;this.f32PerVertex!==7&&(S=D*20+16);let k=h;if(T[D]&&(k=o.outlineBorder,o.outlineBorder<0)){n[S+0]=0,n[S+1]=0,n[S+2]=0,b+=4;continue}n[S+0]=t(n[S+0],y[b+0],k),n[S+1]=t(n[S+1],y[b+1],k),n[S+2]=t(n[S+2],y[b+2],k),b+=4}continue}if(o.values instanceof Uint8Array){const f=new Uint8Array(o.values.buffer);let p=new Array(s).fill(!0);o.outlineBorder!==0&&(p=_0.getClusterBoundary(f,this.tris));let g=0;for(let A=0;A<o.values.length;A++){let x=A*28+24;this.f32PerVertex!==7&&(x=A*20+16);let y=h;if(p[A]&&(y=o.outlineBorder,o.outlineBorder<0)){n[x+0]=0,n[x+1]=0,n[x+2]=0,g+=4;continue}n[x+0]=t(n[x+0],f[g+0],y),n[x+1]=t(n[x+1],f[g+1],y),n[x+2]=t(n[x+2],f[g+2],y),g+=4}continue}o.useNegativeCmap&&(o.cal_min=Math.max(Number.EPSILON,o.cal_min),o.cal_max=Math.max(o.cal_min+1e-6,o.cal_max)),o.isTransparentBelowCalMin===void 0&&(o.isTransparentBelowCalMin=!0);const d=Nt.colormap(o.colormap,o.colormapInvert);if(this.blendColormap(n,a,o,o.cal_min,o.cal_max,d),o.useNegativeCmap){const f=Nt.colormap(o.colormapNegative,o.colormapInvert);let p=o.cal_min,g=o.cal_max;isFinite(o.cal_minNeg)&&isFinite(o.cal_minNeg)&&(p=-o.cal_minNeg,g=-o.cal_maxNeg),this.blendColormap(n,a,o,p,g,f,!0)}}e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,Uint32Array.from(this.tris),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),this.indexCount=this.tris.length,this.vertexCount=this.pts.length}reverseFaces(e){if(this.offsetPt0||this.hasConnectome)return;const t=this.tris||[];for(let r=0;r<t.length;r+=3){const s=t[r];t[r]=t[r+1],t[r+1]=s}this.updateMesh(e)}hierarchicalOrder(){const r=this.tris.length/3,s=Math.log(r/20)/Math.log(4);if(r!==Math.pow(4,s)*20)return NaN;if(this.pts.length/3!==Math.pow(4,s)*10+2)return NaN;for(let a=0;a<15;a+=3)if(this.tris[a]!==0)return NaN;for(let a=15;a<24;a+=3)if(this.tris[a]!==3)return NaN;for(let a=24;a<30;a+=3)if(this.tris[a]!==4)return NaN;return s}decimateFaces(e,t){let r=this.tris;const s=12,n=20;for(let a=e-1;a>=t;a--){const l=Math.pow(4,a+1)*(s-2)+2,o=Math.pow(4,a)*(s-2)+2,h=r.length/3,d=Math.pow(4,a)*n;console.log(`order ${a+1} -> ${a} vertices ${l} -> ${o} faces ${h} -> ${d}`);const f=Array.from({length:l},(g,A)=>A+1);for(let g=0;g<h;g++){const A=r[3*g],x=r[3*g+1],y=r[3*g+2];f[A-1]=Math.min(f[A-1],x,y)}const p=new Uint32Array(d*3);for(let g=0;g<d;g++)p[3*g]=f[r[3*g]-1],p[3*g+1]=f[r[3*g+1]-1],p[3*g+2]=f[r[3*g+2]-1];r=p}this.tris=new Uint32Array(r)}decimateHierarchicalMesh(e,t=4){const r=this.hierarchicalOrder();if(isNaN(r))return Z.warn("Unable to decimate mesh: it does not have a hierarchical structure"),!1;if(t>=r)return Z.warn(`Unable to decimate mesh: input order (${r}) must be larger than downsampled order (${t})`),!1;const s=this.pts.length/3,a=Math.pow(4,t)*(12-2)+2;if(this.pts=new Float32Array(this.pts.slice(0,a*3)),this.decimateFaces(r,t),this.layers&&this.layers.length>0)for(let l=0;l<this.layers.length;l++){const o=this.layers[l];o.values instanceof Float32Array||o.values.length!==s?o.values=new Float32Array(o.values.slice(0,a)):Z.warn("decimation logic needs to be updated")}return this.updateMesh(e),!0}async setLayerProperty(e,t,r,s){const n=this.layers[e];if(!n||!(t in n)){Z.warn("mesh does not have property ",t," for layer ",n);return}if(t==="colormapLabel")if(typeof r=="object")n[t]=Nt.makeLabelLut(r);else if(typeof r=="string"){const a=await Nt.makeLabelLutFromUrl(r);n[t]=a,this.updateMesh(s);return}else Z.error("colormapLabel requires a string or object");else n[t]=r;this.updateMesh(s)}setProperty(e,t,r){if(!(e in this)){console.warn("Mesh does not have property:",e,this);return}if(typeof t!="number"&&typeof t!="string"&&typeof t!="boolean"){console.warn("Invalid value type. Expected number, string, or boolean but received:",typeof t);return}this[e]=t,this.updateMesh(r)}generatePosNormClr(e,t,r){(e.length<3||r.length<4)&&(Z.error("Catastrophic failure generatePosNormClr()"),Z.debug("this",this),Z.debug("pts",e),Z.debug("rgba",r));const s=_0.generateNormals(e,t),n=e.length/3,a=n===r.length/4,l=this.f32PerVertex,o=new Float32Array(n*l),h=new Uint8Array(o.buffer);let d=0,f=0,p=0,g=(l-1)*4;for(let A=0;A<n;A++)o[p+0]=e[d+0],o[p+1]=e[d+1],o[p+2]=e[d+2],l!==7?(h[g-4]=s[d+0]*127,h[g-3]=s[d+1]*127,h[g-2]=s[d+2]*127):(o[p+3]=s[d+0],o[p+4]=s[d+1],o[p+5]=s[d+2]),h[g]=r[f+0],h[g+1]=r[f+1],h[g+2]=r[f+2],h[g+3]=r[f+3],a&&(f+=4),d+=3,p+=l,g+=l*4;return o}static async readMesh(e,t,r,s=1,n=new Uint8Array([255,255,255,255]),a=!0){let l=new Uint32Array([]),o=new Float32Array([]),h="",d;const f=/(?:\.([^.]+))?$/;let p=f.exec(t)[1];if(p=p.toUpperCase(),p==="GZ"&&(p=f.exec(t.slice(0,-3))[1],p=p.toUpperCase()),p==="JCON"&&Z.error("you should never see this message: load using nvconnectome not nvmesh"),p==="JSON"&&Z.error("you should never see this message: load using nvconnectome not nvmesh"),n[3]=Math.max(1,n[3]),p==="TCK"||p==="TRK"||p==="TT"||p==="TRX"||p==="TRACT"){if(p==="TCK"?d=Zt.readTCK(e):p==="TRACT"?d=Zt.readTRACT(e):p==="TT"?d=await Zt.readTT(e):p==="TRX"?d=await Zt.readTRX(e):d=await Zt.readTRK(e),typeof d>"u"){const y=new Float32Array([0,0,0,0,0,0]),b=new Uint32Array([0]);d={pts:y,offsetPt0:b},Z.error("Creating empty tracts")}return n[3]=0,new Pr(d.pts,d.offsetPt0,t,n,s,a,r,"inferno",d.dpg||null,d.dps||null,d.dpv||null)}if(p==="GII")d=await Zt.readGII(e);else if(p==="MZ3")d=await Zt.readMZ3(e),"positions"in d||Z.warn("MZ3 does not have positions (statistical overlay?)");else if(p==="ASC")d=Zt.readASC(e);else if(p==="DFS")d=Zt.readDFS(e);else if(p==="BYU"||p==="G")d=Zt.readGEO(e);else if(p==="GEO")d=Zt.readGEO(e,!0);else if(p==="ICO"||p==="TRI")d=Zt.readICO(e);else if(p==="OFF")d=Zt.readOFF(e);else if(p==="NV")d=Zt.readNV(e);else if(p==="OBJ")d=await Zt.readOBJ(e);else if(p==="PLY")d=Zt.readPLY(e);else if(p==="WRL")d=Zt.readWRL(e);else if(p==="X3D")d=Zt.readX3D(e);else if(p==="FIB"||p==="VTK"){if(d=Zt.readVTK(e),"offsetPt0"in d)return n[3]=0,new Pr(d.pts,d.offsetPt0,t,n,s,a,r,"inferno")}else p==="SRF"?d=await Zt.readSRF(e):p==="STL"?d=Zt.readSTL(e):d=Zt.readFreeSurfer(e);if(d.anatomicalStructurePrimary&&(h=d.anatomicalStructurePrimary),d instanceof Float32Array)throw new Error("fatal: unknown mesh type loaded");if(!("positions"in d))throw new Error("positions not loaded");if(!d.indices)throw new Error("indices not loaded");if(o=d.positions,l=d.indices,"rgba255"in d&&d.rgba255.length>0&&(n=d.rgba255),"colors"in d&&d.colors&&d.colors.length===o.length){const y=o.length/3;n=new Uint8Array(y*4);let b=0,T=0;for(let D=0;D<y;D++)n[T++]=d.colors[b]*255,n[T++]=d.colors[b+1]*255,n[T++]=d.colors[b+2]*255,n[T++]=255,b+=3}const g=o.length/3;if(l.length/3<1||g<3)throw new Error("Mesh should have at least one triangle and three vertices");n[3]=Math.max(1,n[3]);const x=new Pr(o,l,t,n,s,a,r,null,null,null,null,!0,h);if("scalars"in d&&d.scalars.length>0){const y=await Zt.readLayer(t,e,x,s,"gray");typeof y>"u"?Z.warn("readLayer() failed to convert scalars"):(x.layers.push(y),x.updateMesh(r))}return x}static async loadLayer(e,t){let r=new Uint8Array().buffer;function s(A){const x=window.atob(A),y=x.length,b=new Uint8Array(y);for(let T=0;T<y;T++)b[T]=x.charCodeAt(T);return b.buffer}if(e.base64!==void 0)r=s(e.base64);else{if(!e.url)throw new Error("layer: missing url");const A=await fetch(e.url,{headers:e.headers});if(!A.ok)throw Error(A.statusText);r=await A.arrayBuffer()}let n,a=[];if(e.name&&e.name!=="")n=e.name;else{if(!e.url)throw new Error("layer: missing url");try{a=new URL(e.url).pathname.split("/")}catch{a=e.url.split("/")}finally{n=a.slice(-1)[0]}}n.indexOf("?")>-1&&(n=n.slice(0,n.indexOf("?")));let l=.5;"opacity"in e&&(l=e.opacity);let o="warm";"colormap"in e&&(o=e.colormap);let h="winter";"colormapNegative"in e&&(h=e.colormapNegative);let d=!1;"useNegativeCmap"in e&&(d=e.useNegativeCmap);let f=null;"cal_min"in e&&(f=e.cal_min);let p=null;"cal_max"in e&&(p=e.cal_max);const g=await Zt.readLayer(n,r,t,l,o,h,d,f,p);g&&t.layers.push(g)}static async loadFromUrl({url:e="",headers:t={},gl:r,name:s="",opacity:n=1,rgba255:a=[255,255,255,255],visible:l=!0,layers:o=[],buffer:h=new ArrayBuffer(0)}={}){let d=e.split("/");if(s===""){try{d=new URL(e).pathname.split("/")}catch{d=e.split("/")}s=d.slice(-1)[0],s.indexOf("?")>-1&&(s=s.slice(0,s.indexOf("?")))}if(e==="")throw Error("url must not be empty");if(!r)throw Error("gl context is null");let f;if(h.byteLength>0)f=h;else{const g=await fetch(e,{headers:t});if(!g.ok)throw Error(g.statusText);f=await g.arrayBuffer()}const p=await this.readMesh(f,s,r,n,new Uint8Array(a),l);if(!o||o.length<1)return p;for(let g=0;g<o.length;g++)await Pr.loadLayer(o[g],p);return p.updateMesh(r),p}static async readFileAsync(e){return new Promise((t,r)=>{const s=new FileReader;s.onload=()=>{t(s.result)},s.onerror=r,s.readAsArrayBuffer(e)})}static async loadFromFile({file:e,gl:t,name:r="",opacity:s=1,rgba255:n=[255,255,255,255],visible:a=!0,layers:l=[]}={}){if(!e)throw new Error("file must be set");if(!t)throw new Error("rendering context must be set");const o=await Pr.readFileAsync(e),h=await Pr.readMesh(o,r,t,s,new Uint8Array(n),a);if(!l||l.length<1)return h;for(let d=0;d<l.length;d++)await Pr.loadLayer(l[d],h);return h.updateMesh(t),h}async loadFromBase64({base64:e,gl:t,name:r="",opacity:s=1,rgba255:n=[255,255,255,255],visible:a=!0,layers:l=[]}={}){if(!e)throw new Error("base64 must bet set");if(!t)throw new Error("rendering context must be set");function o(f){const p=window.atob(f),g=p.length,A=new Uint8Array(g);for(let x=0;x<g;x++)A[x]=p.charCodeAt(x);return A.buffer}const h=o(e),d=await Pr.readMesh(h,r,t,s,new Uint8Array(n),a);if(!l||l.length<1)return d;for(let f=0;f<l.length;f++)await Pr.loadLayer(l[f],d);return d.updateMesh(t),d}},X9="data:image/jpeg;base64,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ZwAAAAAAAAALY3JvcFJlY3RUb3Bsb25nAAAAAAA4QklNA+0AAAAAABAASAAAAAEAAQBIAAAAAQABOEJJTQQmAAAAAAAOAAAAAAAAAAAAAD+AAAA4QklNBA0AAAAAAAQAAAAeOEJJTQQZAAAAAAAEAAAAHjhCSU0D8wAAAAAACQAAAAAAAAAAAQA4QklNJxAAAAAAAAoAAQAAAAAAAAABOEJJTQP1AAAAAABIAC9mZgABAGxmZgAGAAAAAAABAC9mZgABAKGZmgAGAAAAAAABADIAAAABAFoAAAAGAAAAAAABADUAAAABAC0AAAAGAAAAAAABOEJJTQP4AAAAAABwAAD/////////////////////////////A+gAAAAA/////////////////////////////wPoAAAAAP////////////////////////////8D6AAAAAD/////////////////////////////A+gAADhCSU0EAAAAAAAAAgAAOEJJTQQCAAAAAAACAAA4QklNBDAAAAAAAAEBADhCSU0ELQAAAAAABgABAAAAMjhCSU0ECAAAAAAAEAAAAAEAAAJAAAACQAAAAAA4QklNBB4AAAAAAAQAAAAAOEJJTQQaAAAAAAM9AAAABgAAAAAAAAAAAAACAAAAAgAAAAAEAG0AYwA2ADEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAABudWxsAAAAAgAAAAZib3VuZHNPYmpjAAAAAQAAAAAAAFJjdDEAAAAEAAAAAFRvcCBsb25nAAAAAAAAAABMZWZ0bG9uZwAAAAAAAAAAQnRvbWxvbmcAAAIAAAAAAFJnaHRsb25nAAACAAAAAAZzbGljZXNWbExzAAAAAU9iamMAAAABAAAAAAAFc2xpY2UAAAASAAAAB3NsaWNlSURsb25nAAAAAAAAAAdncm91cElEbG9uZwAAAAAAAAAGb3JpZ2luZW51bQAAAAxFU2xpY2VPcmlnaW4AAAANYXV0b0dlbmVyYXRlZAAAAABUeXBlZW51bQAAAApFU2xpY2VUeXBlAAAAAEltZyAAAAAGYm91bmRzT2JqYwAAAAEAAAAAAABSY3QxAAAABAAAAABUb3AgbG9uZwAAAAAAAAAATGVmdGxvbmcAAAAAAAAAAEJ0b21sb25nAAACAAAAAABSZ2h0bG9uZwAAAgAAAAADdXJsVEVYVAAAAAEAAAAAAABudWxsVEVYVAAAAAEAAAAAAABNc2dlVEVYVAAAAAEAAAAAAAZhbHRUYWdURVhUAAAAAQAAAAAADmNlbGxUZXh0SXNIVE1MYm9vbAEAAAAIY2VsbFRleHRURVhUAAAAAQAAAAAACWhvcnpBbGlnbmVudW0AAAAPRVNsaWNlSG9yekFsaWduAAAAB2RlZmF1bHQAAAAJdmVydEFsaWduZW51bQAAAA9FU2xpY2VWZXJ0QWxpZ24AAAAHZGVmYXVsdAAAAAtiZ0NvbG9yVHlwZWVudW0AAAARRVNsaWNlQkdDb2xvclR5cGUAAAAATm9uZQAAAAl0b3BPdXRzZXRsb25nAAAAAAAAAApsZWZ0T3V0c2V0bG9uZwAAAAAAAAAMYm90dG9tT3V0c2V0bG9uZwAAAAAAAAALcmlnaHRPdXRzZXRsb25nAAAAAAA4QklNBCgAAAAAAAwAAAACP/AAAAAAAAA4QklNBBQAAAAAAAQAAAAyOEJJTQQMAAAAAAmrAAAAAQAAAKAAAACgAAAB4AABLAAAAAmPABgAAf/Y/+0ADEFkb2JlX0NNAAH/7gAOQWRvYmUAZIAAAAAB/9sAhAAMCAgICQgMCQkMEQsKCxEVDwwMDxUYExMVExMYEQwMDAwMDBEMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAQ0LCw0ODRAODhAUDg4OFBQODg4OFBEMDAwMDBERDAwMDAwMEQwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCACgAKADASIAAhEBAxEB/90ABAAK/8QBPwAAAQUBAQEBAQEAAAAAAAAAAwABAgQFBgcICQoLAQABBQEBAQEBAQAAAAAAAAABAAIDBAUGBwgJCgsQAAEEAQMCBAIFBwYIBQMMMwEAAhEDBCESMQVBUWETInGBMgYUkaGxQiMkFVLBYjM0coLRQwclklPw4fFjczUWorKDJkSTVGRFwqN0NhfSVeJl8rOEw9N14/NGJ5SkhbSVxNTk9KW1xdXl9VZmdoaWprbG1ub2N0dXZ3eHl6e3x9fn9xEAAgIBAgQEAwQFBgcHBgU1AQACEQMhMRIEQVFhcSITBTKBkRShsUIjwVLR8DMkYuFygpJDUxVjczTxJQYWorKDByY1wtJEk1SjF2RFVTZ0ZeLys4TD03Xj80aUpIW0lcTU5PSltcXV5fVWZnaGlqa2xtbm9ic3R1dnd4eXp7fH/9oADAMBAAIRAxEAPwDQUSpKJUi1gU0JykAkpdrUQMVnp/TMrOftob7R9J50aPiV0VXSel9MqFuWfWs7buCf5FX539tApedxum5eUYoqc8eIGn+efZ/0lqVfVZ4bvyrmUt79/v8A5tv/AEkfI67e/wBmM0UVjQHQuj/qGrPssfa7da42O8XGfyoJbL+ndBoaf0r8iwdmAR/nbdv/AE1VdVjz7Kw0eB1/gEpTohVMDRUeWN+4KDsPHdzW35CPyI8J4RQ59nTKj9Alv4hVbcC9nA3jy5+5bUJiyUUPPFpBg6HwUYW3fiV2D3DXse6zcjEfVqPc3x7hJDXCcFMkkpkCpShypApKf//Q0VEhSShSLUZC0+i9Ft6i/wBV814rTDn93Ectr/8AJofR+lu6nkO3EtwqD+ns4k8+ix3/AFf7n/batdV66Lh9j6f+iwqxsBZpvA09v7tP/nxAlIDp5XWcTBZ9k6c1p2aFw+gD/wCjHrFtybb7DZa4vce5VNrkVpQXUmBUwoNRAkpcBSATBSCKlwE4CQUgihaEoUoSRQwLUN9QKPCYhJDjZeFEvrHxaqMLonslZediRNrB/WH8UlNFOEyeElP/0dJRc2222rFoE35DgxnlP5xUpAEkwBqT5Kth9U+yZF2a0TkbCzGB4aXe02f2K08rQ7HWs6nBxm9B6e79HUIy7Ry5x9zq5/l/Tv8A+2VjsdKpteXElxLnEyXHkk8uKs1lNteA2q1YYq1asMKSU7URqE0ojUVJApBRCkEUMgpBRCkEULpIlVT7XBrBJPZHt6dk1M3uboOY1hFDUTKREJkkMCEGxkhHKg4JKcTJo9KzT6LuELatTKqD2nx5CpBiBU//0rOfb6ePtHNhj5DVyyDZJVrq1v6YM7MaPvPuWe06pSOqYhuVFXKiqNJVuooBc3WFHYVVrKOwpymy0orSq7CjNKSEwUwhNKmCnBBSBOFAFSBRQ63RdhfYSfeAIHl3WsuWrscxwc0lpHBGisHqOUW7TYYQMb6oZdSbU3KeK4jSQOJ/OVRIunlNKcpSi5PKiUkIrBIVF7YcQr71TvEOlAqf/9Ojnv35Vn9Yj7vag7S1Sd+kyyPF5/EqzlUGsDRRzl6qZYR9No6irdblRYYKtVu4Tggt1jkdjlTY5WGOTkNtjkZrlVY5Fa5FDZa5TBQGuUw5OCE4KeUIOThyKEsp9yFuT7kkJJTSoSlKKmcpiVGUiUkMXFVcn6JPgrDiq2QfYfggp//UzqoGeJ7Wwf8AOXQ9aww1jXtGkALncsGrqFwHZ5I+Z3hdhe5uZ09rhqXs3D48qnzJMckD0sgt3lQJ45x60CHkXDa6EVj1PLpg7h31VdpgqeErDBKNFu1uVhjlRY9WGPUgWNxjkZrlUY9Ga5OCG01yIHKs1yI1yKGwHJw5BDlIOTkJdyfchbk+5JCWUpQ9yfckpnKRcoSmLkUKc5Vr3e0ornKta6XBviQgp//Vp9br9PNbZ2tYD82+x3/fVp9HzycUVOP83oELrdHq4fqge6g7v7J9r/8AvqysHINb4nR35VFzOPiH4s3LZTA2PJ2MhjXBzR2OnwOoWZawtcrZyeD8j8EG1wcooWGadSQtdCOx6qnQqbXqcFgIbzHo7Xqix6Ox6eFhbjXojXqq16K16cENkOUg5AD1IORQnDk+5BDlLcipLuT7kLcn3JISbkxch71Fz0lLvegNO67yaCfv0TWWQFHHPsLzy86fAaBJD//W0CGuBa4S1wIcPEHQrl8mh2JkvodrsPtPi0/Qd/mrpZVDq+J9opFtYm2kHQcuZy5v9Zn02J842ERNFzGXEjXlTFnZU2uj+BUw9VuFsCTYLpTA6oYJKkCnAIJbDHI7Hqm1yKx6eFhbjXorXqo16K16eFraD0QPVUPUw5FDaDlIOVcPUg9FSbclvQt6i58JISl6G+xCdaq92QACSUlJLHmxwradXd/AfnFWAQAANANAFXxa3BptePe/geDew/tIySCX/9e1KUnkdkyZSrHI6pgekTkVD9C4zY0fmOP53/FP/wDA1QbIOq6byOoOhB1ELJzemGqbccF1XLqxqWf1f3q/+oTJw6hfGXQtMFTCE3TUahTBTKX2zCm0oYcFIEJKTNeiNsVcKQcnBDba9ED1TD1MWIobgenD1UFqf1UUNr1FCy1VnXwq92UBolaGxZkAd1PDode4X2j9ENWNP5x/e/qNQ8PAfcRdkgivltZ0Lv637rFqgf7AlSCtCUKYCeEUP//QsJJJlMsUpN0MhRUggpq5XS6rybKiKbTz+47+s0fR/rNWXdj247tt7DWTw7lp/qvXQhOQHNLXAOaeWkSD8imkLgXm9vdOAte3pWM6TUTQfBurf8x3/klVf0vLb9HZaP5J2n/Nf/5JN4V3E1AnRHY2Sz6VNg/skj/o7lAtcOWuHxaR/BKlWpLckGvPDSfgCpNxcl30an/5pH/VQiq2JeoOtKts6Xkv+ntYPMyfuarNXSsdmtk2nz0H+aEaK2w5VdeRkO21NLvE9h/WctHE6bVSQ+2LbRqP3QfIfnf2le2taA1oAaOANAmRAQSyCkFAKYRQyCdRlPKSn//ZADhCSU0EIQAAAAAAUwAAAAEBAAAADwBBAGQAbwBiAGUAIABQAGgAbwB0AG8AcwBoAG8AcAAAABIAQQBkAG8AYgBlACAAUABoAG8AdABvAHMAaABvAHAAIABDAEMAAAABADhCSU0EBgAAAAAABwAGAAAAAQEA/+ESK2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTgtMDctMTJUMjA6MDc6NDcrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTA3LTEzVDE3OjU0OjI3KzAxOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDE4LTA3LTEzVDE3OjU0OjI3KzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL2pwZWciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3MmVhYjVmZS02NDZkLWVhNDMtODQyNC0xNWQzZTgwOWExNDQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo0OGNjMGI3YS1iYTJkLWZmNDAtYmNkNC1jNGQzMzIyZjBiNzQiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphYzFjM2NhNS1hYTg4LWI5NGMtOGE4MS05YmU4MjA3ZGZiODciPiA8cGhvdG9zaG9wOkRvY3VtZW50QW5jZXN0b3JzPiA8cmRmOkJhZz4gPHJkZjpsaT5hZG9iZTpkb2NpZDpwaG90b3Nob3A6YThjMGNhZTYtODNjYy1hYzQ4LWI2YzAtN2FiODNlOWJkMGM3PC9yZGY6bGk+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YWMxYzNjYTUtYWE4OC1iOTRjLThhODEtOWJlODIwN2RmYjg3IiBzdEV2dDp3aGVuPSIyMDE4LTA3LTEyVDIwOjA3OjQ3KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpjYmI3MzZlZC0zOTRhLTM2NDgtYThiOC02Mzk1MmY0NDcxMjIiIHN0RXZ0OndoZW49IjIwMTgtMDctMTNUMTY6MTM6NTgrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ2YjNkYTI3LWI4YjEtYmU0Yi1hYTQ4LTExZGM5NmZkNTIyZiIgc3RFdnQ6d2hlbj0iMjAxOC0wNy0xM1QxNzo1NDoyNyswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvanBlZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iZGVyaXZlZCIgc3RFdnQ6cGFyYW1ldGVycz0iY29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9qcGVnIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo3MmVhYjVmZS02NDZkLWVhNDMtODQyNC0xNWQzZTgwOWExNDQiIHN0RXZ0OndoZW49IjIwMTgtMDctMTNUMTc6NTQ6MjcrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ2YjNkYTI3LWI4YjEtYmU0Yi1hYTQ4LTExZGM5NmZkNTIyZiIgc3RSZWY6ZG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjg3NjM1NDk5LWZiMTItYWU0MC04NWEzLThkMWFiN2NkZGVhOSIgc3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmFjMWMzY2E1LWFhODgtYjk0Yy04YTgxLTliZTgyMDdkZmI4NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8P3hwYWNrZXQgZW5kPSJ3Ij8+/+IMWElDQ19QUk9GSUxFAAEBAAAMSExpbm8CEAAAbW50clJHQiBYWVogB84AAgAJAAYAMQAAYWNzcE1TRlQAAAAASUVDIHNSR0IAAAAAAAAAAAAAAAEAAPbWAAEAAAAA0y1IUCAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARY3BydAAAAVAAAAAzZGVzYwAAAYQAAABsd3RwdAAAAfAAAAAUYmtwdAAAAgQAAAAUclhZWgAAAhgAAAAUZ1hZWgAAAiwAAAAUYlhZWgAAAkAAAAAUZG1uZAAAAlQAAABwZG1kZAAAAsQAAACIdnVlZAAAA0wAAACGdmlldwAAA9QAAAAkbHVtaQAAA/gAAAAUbWVhcwAABAwAAAAkdGVjaAAABDAAAAAMclRSQwAABDwAAAgMZ1RSQwAABDwAAAgMYlRSQwAABDwAAAgMdGV4dAAAAABDb3B5cmlnaHQgKGMpIDE5OTggSGV3bGV0dC1Q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",e2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAEACAIAAABK8lkwAAFEQElEQVR4AeS1B3RVV5ou+F3lhHJCCAlJCCWEJEACRAYTDMZE4+zuSj1V1VNrut5bb70w0/1YU7NmpldPT6/3prunl6tcXu1sjI0xGZMRIJCIkgzKEhLKEsoR6c63zzn33HOvbjj3Srh79Xxsrs7+97//nf7/+zxghAvtnxCSEAK8Avw18LfA7rDYMPw3uBYEyfyPFOADFycq04G/AqbsO0xJDm7F/iOQKq2gbBIbgMsOZ1yWfPRDG7AT+HPMOoz/WpvAa0CFqV8hdf9Fduw28oGvNXHel/J4E3BWYyw1nctN/LmUGWq4G8DW2c8S97ATKNFsrQX4sxm/4ENgn4hRCBy3HDkvXa0LWAl8ZxnimGScKTyB32mCNgM/Nw/+D0CraWQc+J9n77bfAB5rln0sWZwiTaIx+v8zkOXU28ulHW1atMlj0brzT9YCa6VrWZqXuRSZVy7ioitheEe1O9Nr29NrH+HREIZc2sPP1B8n+MClsAIBAekZGelxC6uPs6pTfsZVNkgF7hi1gtKtFjtoz5kBoy0Mhx1EPuxk5fXr16elpfn6+nZ1dZWWllZXV2NmiEVsPOL5G47wYAT7wc8LXkYYJzAxjOF+9Hejuw1tzWjmh6vB9yr/LXBU+a8L/v6Ii0NkJIKC4OMjLGNjGBhAVxeePsX4uN44m92+oM1LgCWmzlOS1wXURqIvB2UalpZ8ik9haMiNFS4c4M8Ba2s/cE7P7CNun+yAHifyv7+tJY8Y9Mjq3LmYPx8REQgMhIeHeK++PrS3jzY2jvKqQip2bygHXtFMSAcygIvHrOIo/d3W8XdjEUTT4gdc+uFYv6NdzcGcBCREISoQgR7wYKr3oa8d7fWoNyqH8vT3nH5uYlLWBg28pQvyxuTEpMkUJ3I2LhShrCZ2RzHagx5WUAc6HOzqf4LE9jEWxnbgCz7Cf3P8RnlArvQlPk6iwpHzSd0CQF54Ba9sW7Tt+0Ubz58PMZk3ZGYufSkzZxEWncAJnkpfsJ8Cw+nptT9Lr6lAxX3cv43bTWjSuZND4mce8AuHXr+HS4iPR0EBcnMzsrLSi1OPCwEIOCTLzLsONaBW2ZCVAJC6f7A35ddmDfgHez6Zzre8d+/ed955p6CgICAg4OnTp2fOnPnggw8qKyvhOpigS7AkHekpSGExzMXcCERQAPzhLwvAOMZlAehCVytan+BJLYR4P8RDWnSuIu6J6fa/mC3/m/zHmQB4eWHpUmRlYeFC8VBRUZgzRxGA0VH096OzE83NqKlBeTnu3tWZQm5cUxxeXYKlC+XeAB7+n3jID97APDz8hXhw+dm80bMEw0tw86Ybi1wQm2Pd/8ps6te548WYAcjj5Xr8/qOFBvx3swg40oDly0V5ZWZiwQKh3xQAT08hAL29aG0deb9+5FI9+n5/aE4F/j35Kss0jVWeXoS4ErS0aKMdkrjN6k6Yq/lYtNNCAH7A//0D8+OYnV2RtQpQkIWsJCTFICYIQRQApjoFgElegxqmdzGKO9EZEPE7/99YzW4E/sA/PxfcqEUA/sb/L/snfOBTiMJc5HIVkmc4wmUBGMFIN7ob0cjyKUUpm829KYf7lVkD2k3GQw4EIDwc6/KwSVwPkH0FeSX43pHS6BSAxVh8AAf2YE/OvJzGRYiORkfHPaA+Pn5vRkbw7rjdiUiMRewRHCnXl0XJyQHp6dl7w7N3Ydcd3LmJm5dx+RzO8XaczjVd9zwp52zCqGcPCvz9sWULNmzAqlVYtizU2zu9VxAN2SR+2pI2UGt3JNPBVjLEj23iNOja9dy5czdu3Lhv3z65Gx4e7u3t/fjxY1cFIBnJTNPlWM5MzURmFKJsujF3qQd84kWmAmtBiyzeJSi5juvsOl1rifzHS7maH/TtcM0a0fLzsWSJeBd7mJpCVRUePkRJCYqKUFzsMCbcAnfAZpr812K1h/I3P5rx8A1Vt+uzhadbAmCiP9Z9pGLRFcbg3pm0WKyzckwE3arDNygIe/Zg2zbxiGT/6TgnRHxU0Onvc6nfVRU4mKUZzuhGerqVACjItegxM1ORmqu9hyM/4AfbWUZ2fgWvvISXVmP1ElNiWmEIQ3dx9xqukZca/P8yIN6IP1UHn2r1hxoQq3b+yd8QELC4P2E7tq/H+nzkx6gUbol61JP3LuLiCZxoF/RugdBpX6rHcgfXnZeH3FzVox95rGvu38EM5wLAEG/hrdfxegISxEXzphed7ug4Tg3MzOzJzNwLRNCHEheAgM/wGUnBWcij6elpGRnpgIcXvFZgBRs1hmR0FEcb0ACXcVp6j9uuUT/BlGR67tiBl16CQUmd9HRjevqjmpppTCqP/1ZaKljvCmo+Gme1hKOjo+fPn6+1pKSkUBX0RwhF6GZs3oANJNhcq2JSwdp8/hweHvDxgZdFqsQhjm0LthSjmFl+ARfO4ixmFVxg505s3Yr16xEV5cSZeyRRsK1di6VLxcfJk+jsnNUNyQIgoQxlJP1e9Mrdh5IY7MCOYDkzkpKEZ0ICnjyZ3Tuxg1lgfzWQcfZm+/vjnXfwxhviBe1hBCNsSBTfFRWgBuzaJSYq4ENmZODiRaenFbTEHxUTE4L9GXEawhBGNtuHfcxeB4cJROBarM1BzgIsOOIf7u8vL2t08gwBAav9Uw7i4C7sSkKSA2eOsnHPVIgv8EUd6jBzUADYTGBdsz8jAchAxht44228zWoX/eHhRZ1HFkV9W4TvgMnM/p7MO31IfQPz5lEe6DaFqTGMPcIjh1H/9/SwtPSrWRhfiY0bZRPVmEuwfj7BJ7Wo1XPYMhtfFimY7Xh+SgrefhsHDyIrS7VdwqVbGbdC0stxorLM1lISEmUFyHblabRZa5xx2Y6NjY2wcDQYGhoaJV/rAzODbLUVW9fDsjSbm1FXJ37Jnb29ojZVAQgIQGgoIiP51kI4+SthJVYyyci9zObv8F0LWjAb4JscOIDdu7X5rAsUwTffRHKy+DhyBNXVs7IdYPFiwenh4XJPZnx1kGkvW6imionO2dkvXgBmjfqtIhpnI9Srr+K11+ywP3PVYICvL9l/FErekrRlDcjPN7kxzagBcXFocZRXBhisBYDszzatInzhS/Z/D++twqrpcfrQx814wzsUoR7woIWM9Bbe8g3w9fafAE44kEj53vIDAt4KeItMGIIQ7ehzPPeyRbbLsTwIQUYY/4g/tqN9RtfNlMvNRVSUaghHuKwB93DP3iRHAkBGPoADVDOF/YeG8MknKV98sejyZfJfBJBZXBxNjjAa8Sd/woXpRudBDH6AD1rRai9sEkrTPy2NYC2tXYuqKuzfL2iF0ZD5Jt7kA/wev+9Bj+PD7td2moE/2PD52sH8sDCx7ltvIS1NNnDFIzhyGqevhl3tSe9BCg4pMvTfLWeS/Q/ZWELOCn31aJhxgdXW1j548GDFihXJpDoJRUVFFaweHSDv78GeXdgVj3jFxMq7fRv37omaqalBUxPa24UAGDXbpAZQAKKjRU1y0YwMkXAFBfD3Z1HJ0SIR+RW+qkTlzA6HzEy88w7eeEMIjRUeP3785MmT7u5u6p/BYAgICIiMjExISEhNTdW6rVghXtjPDx9/LA40C+Bh2SQwVcj15SjXjtsQALbTpzE1NRvL28Tss/+MU9Q8jwmyeTM2bbIcpyCXlKC+HgMDQgD8/UfDwkZiRxCrjJP9mcVmAZADUQNMAmCwtUWZ/QMQYJ4lC8A0MFH3YZ8V+5N5b+HWYzxuQxsFiQIQgYgkJOUgh40O+/33nw8YBAaAKw4OnwTs8fc/EHBAZv8neMKUqEc9E2YCE37wi0Y09ymTvjorHencUic6/2CTxfQjj1SfJ3+OjY36+voJG/KoAe4IAAVwN3bvxV5ehGI6fBiff44rV6izbNF8GhofPBDUEBSEX/wCnp505pQudL2P96dgO/XT5Yk9PTh2DK2tGB/Hz36GAPF4aUjjC/HiPsfnDk5qI/GpAbdduaytW7Frl8r+VJ3P8Nmn+LQYxcoW0/GNEIDL02b+1lGdGB3VJjOA6hwqNenBBJcEdGJ42PFejdPDTUxMHDt2zGg0ZmZm+vr6dnR03Lhx48yZM07PzdehSO/Hfma5Yiou5pvi5k3cuYPmZrsz+UwdHaKVS8QXFyeybdUqrFsnhFxKtWAEUww+xsdVqIK7oL689poN9qfC3bx5s6ysrL6+vrOzc3h4mAIQGBgYFRVFFczOzl65cmVhYaHqT0pgkJER/P736O7GjEAxIZtnZ8s9meutXJrQJFe7Ui/BwYoG3L+P2ccLpH6rNYzuasCyZSI7LHDtGo4cweXLlHGRTsLXMBIRMRrrqQpAVZXIL75XRIRpFtmfGnDxooMlZQEw91lRtgSAbL4d27dgi9Z4AzdO4MRVXC1DWT/6ZaMnPFORWoCCzdj8Kl4NDQhd6b8fYvSyvT3wzP+eAhCQFO0fbYTxOI5fwIVSlFajmnxIixe85mJuFrLWYA23sQzL1LmUhAY0UIGKUOTma82di9xcZGaK7/148B8fFBT8NfANGZWFeQ7nnuKpzXl2BWAndr6CVzhZ6ZOsv/lGMIXE/mxxgLQahKRHRood7N7N3lIs5cRmNPNabUaW2NWE27eFeLDo9+2TDauxugIVd3DHHonMQu6npGD9eqxZoxpO4/QxHFPYX93iSV2rGmwWidE8i7RIEabOJyIxBjFmAfivWNaD+HY0NIiKuHsXAwM2xcQ2Hj9+XFlZuWDBAh8fn2fPnlEDnJ6b7P8O3tkH5arR1YWTJ3HunKiutjadl6xsq6VFNIoHybC2Fq++ivDwFKS8gTeoph/ggza0ufc4O3eKPNKyP0939OjR06dPX716dfoxHz16RHtsbOy6deuqqqr27t0bEhIiD5EVuC9u86OPMCOQ+knlJpAppgsATMKgCAAx+wLwY/C+vSVdUQJDQICRpL14scZWU4Ovv8aHH1pkudE42tU10gWUm20VFUIDWKAKSA7UgLg4PqTBTu1ZC4DM/pOTVu5k3o3YqLWQ9z/BJ0dw5Bmeae2TmCQds9WilkPv+r0b7h8O/Mbxsf+W/wMzpwKnPsbHh3H4FE5pR5/jeROa2B7gQStaxzG+CmaFXI/1JD1SEN3ceac8UnWecifJTDoKwAP5gkg+HHNNAChTL+PlHdih9O/dE0xxQiF0WQASgHB1wunTSEwUxCq9OSc2orEOdXyH6cFJrZHaPtmHBbZihXhpCRReqog9AXAGnnnKicvSpSgoUHtksmu4dh7nzQ4RWo2aQV0a8RJeWmdYR4XPRCYFQDsYuRs/kT6YFMx4SiHl9dIlFwrNaDTW19frdN6Gba/jdTP7V1UJRaeuF5tkTx/BWDBCdzcOHxYH4Mcbb/AFF2IhZaYTne/jfbgOlv22bUomyyD7f/TRR19++eXNmzcdTGxrazt8+PDTp08HBwffe++94OBg2b5qFerqRCnzet2HTOUSalBDlmfOTPeSBYDJ7w1v0c/MFLMiI4XQzgL+BdjfFtnqAks5IcHSxAe4fNkwMGAVZAQYtbRQANjMAkBQANhabNw5wbIi+4dr2EgRAEuQ00gsyWRHE6pR/S2+/QJfDGDA3kGu4/oUpuZgzk/xU51nl2OewRl7DmT/z/CZP/yjEZ2CFNkYhSiyBJm6BCVwFV5eyM1Vy+ZJ3ZMHDx48eVInP4GkDHnncI6SM32qhy2TB2lrK7Yq/dFRfP89zpjP4y0JQKbVNPqQyiUYYOD0LdhisJW1GdNNd++K2jFhMRZnIMMHPngR8PAQySQJlYwylN3FXWs3rQC4VXoRiPgz/Nlv8JvfGn/7svHlRGPiNBdFB+fPx8svG//iL4y//rXxvfcQEKBzhV8B7ZoueXy7PVdmwB7s2Y/9Sp/l8dFH+OMfVfY3uH5Ksz+pmdE+/1xmumVYRhLk67t6Y0FBWLcOGzdaGL/55hun7K/i+vXrlIFvv/1Wa2RAhvWwken6kJIieJyUJkFmeZuOQxiyHtUox79xbLboRUQYIpXsVmCorTVIpKzNtCmJ/a1oqalJCAB/zcjIEDVrB2R/NnO/t1fMp+ZbIhvZOcjRWi7h0lmcdcD+Mm7i5mmcvjqdImyhHOWkfgfsL+MZnjHmRVy02iFVyp3LFwyfh+BgufcADyQog0EIykUuPWxOtVEWG7BhEzap0kTdFsxu8SC2BKC2VnhevSr3FmIhg2zExunxbbxkVZWYboIXvBZgQQIS3LkLO4cyIzERSUnw9VUNNaipRKXdXW5wZwdhCHsX7/4UP30Vr/IBFKtRJB3Wax3/XrKyISQEBw7gJz/BW28JRdcNoxrBHihFO7FzF3bxYkW/vh5ffolPP0V1texgcPeizcVM3vvqKxw9KvfI/nz9WMS6FK2gAIWFCAszWy5cuHDy5Emd7C/j2rVrp06dKioqUi1xcVi5UgR3ExoSH8WoAwGwIQ+zJgCG2QjygjdxzfwZEIDAQLO7oa8PPT2YmLDKHE/gd7YilZcLDjeD6ksNmDvX5rLWAkCZkZRGCw94pCI1XcM9Vai6jdt01XPw8xg7D3Tq8LyC4cto1hOzAhWUlkd4pD0IadMPfnAVublCACQ8x3NVANT7JvtTA2xOtWaaEISsw7r1Kkvx2VhLJlrXCsCc6cGuXUN+PlaskOmVQe7h3h3c6UOf1itq+sT2drS0YHQUfsrhyR3RiCY1w038r3ZHoqMRayamcYy3orUNbdZukdLvZTeX34M9B3FwBVZYWAcGhNS1tWFoCEYj5sxBQgIWL9a6bNiAsTE8e4avvzYbbWu3Les9W46k4+3YPg/zRIdLf/stjhxBQ4M8aqeqjTpOaVD/CO/bt0WJLliALVsCEMAsKkXp1/ha/6UtXYrly83d3t7eK1eunD9/3tXLp2wsWbIkPz/f1yTzy5aJAikudjUSRCZrSFzmd8qAPXfSCh2YTor4xcSIuWlpqKyE+/hXwf4Wb+0Mnp6imd2fk5eem4flELeBQ8BpG9PJ/tSA7ds1pvR0oQGtrVaeZAnyZhzizCZbAjAf8xOR6Atf1ULmLUOZzlP3MqmATOANh243hACgWvdl3sd9ykAGMlRLAhK41WoXYkBUHJM7JUXukf2ZgYODgxQANrmgkpBEDeBvPeqtZlsLwCqsWo3VlAGlz6K5cQMjI1Zuc2xupasLN2/i1i2sWwdJSxiqGMVncMb5Mch5vb0qNYcilA0vAiKwOXIvep/h2eyuwFOTcHmTFtazZ4WUMrWfPhVKQAEICUFyspDMLVu0MrBtG548EYzBGpBxyOYyKwFthQD/ry2vLGRtwiZuSemfOoXjx9UKsUUtFgXu7Q0PD4yPi/1OwzlpazfMhf7996JKSXkxMYUovI7rV3G1E516Lo0kmZ2NyEizpbS0tLi4eIB35SK6urpu3bp1586dwsJC2cIaycrCvHni7l2DzP7+/nKPpeWUNWQfRQDUCDMSALswSA9o1MXJLsADHlOYcmem0UZKuSFf3d2iUHhnzAoFzCtqwMWLVp5kfzZzv7NT5HZdnZUbn2Mu5motpMJa1Orf0g0dAnBFavpBorfaA/cZgxjXBCA3VwiACRLtPxAfGgEQXsilBjgRgAAErMCKlYJaJIyOsgpRUuLCbuh8544sAARDMSBZYBjDTiZSY7icCf7w94MfXgRYzAEB5mXFwiOzuwKpfz3WW5g++wyHD+PcOWsppVhSMhsb8dZbKChQzevXi4tXBeBVeyvxoaJNkey4rMVa82bKygRHX7ok96ZVpplHWGuUpMREhIcrAkB1bm1FbS0ePsTYmOw1KDWo0YzDw7h2TRxk715almEZc+6c0AnnYB2bq13Cw4cP79+/794TcG55ebkqAJAEJjXVXQGQ0IIWknsNapwKANsWbLGIQN0dGsJsIFWcIzUe8eEIZ5nQMorRHvQ0oakSlS6RmoooRGUiMwlJ/AhEIAWAMXvRyyPzvOUo1zobtInywsDkpwaYU4LqTQ2YO1dkoQbWAkD2Z5uGCEREIlLtDmGoFa3d6HZpS7935vCfgf/iSsBBDPKGuQ1uT90nn9WFEIGBgv2pARIYjbRfhSp+V1eD1dPcjPh4McRKpAawGAc1NQsrAWDFLsfyIAQp/Xv3cPcuBgdd2FBbm5jFp8vKYo+hGJBhr+Gak4mTk6KZ4AlPNrwIiMDmyFOY4sKzGD4DGTnIoYybTefP48gRHDtme0JDAz79FH5+iI1FQoJsY1LzWcm/lIaZgNxDNTJXyJUruHhR/rTH/vPn46WXsGaNSKqUFISEKMN9fSKZqqpERhQV4fJlWAmAgtu3cecONm9GcDBXz0a2TgFISkJysrnb1NRUWVnZ2dnp3sEbGhqqqqp6e3tDQ0PV+AsWuBglLk5w98KFck9mdqeTutBFN/IQKVX0vb2RnS3iUOndgfmhspC1DutYUMyxBCSQLPzgR/sYxrhoIxq56G3cvoIrMgXoQQhCNmMzk4SPtRALmbcUANonMEFRaUYzReUu7hah6BZu2Q/z55uBdHtjNj8V1AGn5a9/sBwghVADdu0S96cgPd2YkWHQCEAwgpnbydDkjR0BmIM5bGqXR3OV/V+Q5nEb3IwqANykmX71gFVKpiB7SCD7s6mDovNAEQAf+MgawKfUBrAQAA7TydznCzx0nvHW4JSyMlkAYFIe5wKgEwbXfF/QszkA05GFZO6Pj4vKpwY4QFcXzp1DZibee0+1ZWQgNXWmApCP/BVYoXRKS3H9OmprYZ/98/OxZw9eflkklRWoBGx81Q0bsHQpixGnTg0+eTJNACYmRNIxcwoLIxGZjvQkJNWj3vE+g4JEmkZFmS2NjY0k8Zmc/cmTJ1QRVQAYf948F0OQtdlM0CkAqqciAGocNwVAwU7sfAWvkKxTkWo15AvfeeJw8wp56SikThzH8Qu44DQmhWQ3dm/H9vVYbzXkDW+KAdsyLNuADaxiJvY36B+zHekQ/78ha4DROr0OKX//67RZdebBaQIwMqJogDkVWRJMu4sXVR+yP5t5ztOngv2bmqbvj0rpD3+1O4hBNv2Xb3TF0xWKEjsZwpC9fToHb4caoCxttCkA27fD01N0ZXq3KwAs1GxkM42UfkeHuM36eleOI4Hvxomjo7IuMeBiLNbDAs7xP7o849fAP+JHBWsmDnHmPgn30SMMDDiZdu8e7tzB1q2IjZUNCxYgMXFGO5mP+XzvNKQp/ZIS3Lply1FJ79Wr8dZbeO01MxEzpZ7gCROUdBBliApNDGUVh/0Ee/ciJYWUM3js/xgsHTYHUhT38WNUVgouApVwIYnD6dMLpomxsLS1tbW2ts7k+JzOINnZ2XLX1xfR0QgPR0+P7hAaAShHOTn9GZ7pmScLwA7sCEaw6CcliTjz59vkJodQyCQYB97Em/uwz+kEqg4vPAIRPvA5jdOODoclb+Gt1/Aa/R3HZD6/jbdjERuILz4CxtWHNiPS4s/0sYgI/D8QzQJ1jtcl+5NLzAJAjaMGzJ0LU2JYCwBph80WvODlpeG6MYyx6XwD/eyv9dcpAxOYYFO7LDTtPp2Ap+ftMK8kyOzfi151vL9f0YClS0U3HvEyIVSi0oYAZCCD2WOOXl0tytgNPH8uJlZVqcXDsOlIn6kAdLk5rwOIxo+HEISwabbdhfZ2XTN5aVQLkwDwb/TM9k3dZZErnbo6oTGSnNtMzZwcHDyIt98Wu5dxHudv43YtagcMA2QTUnR6YHpBUEEOcji6ZPFUzNeD0cPD3OMpq1g8BRcaH4ePzwIsSIRzHQsLE9SsRVdXV2dn50yO393d3WNJ9lyFTa8ALF4sEti0LZnTdS49hSnZfw3WKCZZS1wWABnbDuKglv2b0dyJTlKYJzxDEcob5gOpo37wI7OPY5xccBM3bUbkFFI/3eZjvtVQIxq70MXpjBmOcHp6wIP2zdhshHEI+NzZdplgW4BDQKHmNSTD30vfehmVZE4N6Osz5yTS04UGSALA7dkQACqG7S0ZDJrE5wNNYlLPHoxuPdiPBLJ/bq7akwXAykUrAEQucqkBtgWAV0lxME9lGdfUuLkzTmQzCQDDMvhpnP6XvrAfA9RwbTVidBRjY7pmtrTImS3D1xehoQgIwPCwmzuxUHRWUlmZLS+R4RERePVV7NunVNoQhr7AF9/hu8u43G/oV10XBhUUBs5bjZzVQNbgYMzg4M+BKKkdA3rNIY2C6ZqbkZw8D/PYnG41OFg0LfolzOQhOH1gYMBqlTlzdM9n9mZny5/P8IxsXoYy/avbFoDTpzE15eI5lgF79mKv3OGLlKK0GtXtaB/FKAUgAhHJSF6KpRuxcQ6U45Gyd2N3C1rqUEfP6UF3YicdrNj/Ei6VoKQKVR3ooLr4wjcSkSlIYfB1WBeIwJfwUh9K+SonrOMdFj8t4q+ZZREvJOCgNEb+v6DaDfp5lXzOzF292tSnALBdvAiJr9hYbspQQ4MQgPZ2m3FI91rG5/3IquYU8nFclQGDbk8veHlpSJgSa9S5WliYEAA2CXxlUv0jPBKzzcsbKyuFAJBX5s4VfU6gBpzDuR70WAhADGL40nxvZSLTlBdaXw/3wImcbkIUohg8GtFMLPxbxxSmtKkGH8qBj66Zvb3o69MayP7+/m4KAGub5UF2UPpMhMePYSc1t2zB9u2Ij1e6h3H4Y3x8BVesvGuCgthuAWwfDA5icJA1tFejAdWqa1ubKMXkZNYnU4sJ0IlOB7vlMXlYLUZGRobdlj5TBMJqFTZdoPbKlC1BZnOXVm9CE6fUoz4JSaJP8ZED3r/vShjBBUloI0d0o/sIjpzBmeu4bnWZZOrVWE3ifg2vJSJRNvLpN2MzReuwzM4aUCq2Yms2slXLAAbodgInruEaF9I6ByFoFVZVoIIixCrej+W2ZPmQYP9DWku80j9oMl/TaoBekP2pAWYBYI5SAEhmra2yAJhdyf5sdkA9Y1O7fvBj078NFyTLFfYnAhDArNTucxzjumaS+nNzYVBWI/uz2XRkxrHJAqBqwEVclLuKACzAAjbzpOZmNDXh+XO4h2fP8OQJuroQGamN//8HARC8iEGWjdKPikJsrNbhn+3NHB/HxIR23NMTXl5uboO8k4xkpcOnrKkRAmMNkdVpadiwAYWFiukCLhzHccH+0xEYiKCgSqqJSQBk8xogWmrfqp58+m6FR8hEbI4FwJtC4W3uTkxMjI/rKwP7mJDgYBVH0LA/QRp1VQBgkg1FANSYrgmAQCxihzH8GT77FJ/eEuJrDbIG67kd7UYYf4FfhCJUtpO46V+EohZBzwpIfFSLdVinjUD2/2f8M9l/enA+8/f4nnrGPfwEP5mP+T+xscdH/GeJeM3Y9C+9aGgQGtDaauYvZGQIDXBRAHgKipzanYM5wQh2aSc6NcDg4gFDEMKmdocwxKZrJgWAzQQLATDK+1D2KwYeYPt2RSzI/pxpLQDxiOfTmqO3MGdaXDyLJSghjGASgAQkMP5t3Lbrz1rVlKtUqt4z2oA9+PhoaYB6y4VnMTyZjqXIolX6qanIykJ4OHp6ZMOfQKUESxhZv39tYTG4vw3eNu9c6TQ2imYHK1di9Wrl+xmeXcZlFrzt1YOChAbIWxscNJoEgGAh/hz4D2q/rw/9/fKnVYrbhIeHaJqbEMDMMD0IC8Cg80o1AlCLWvL4Uzx1dQOyAOzADiWTMzNFTFYE1dFFnMTJozhqk/1VVKCCyp2IxIM4qBqXYmkOcrQCwOJfjuVhCFMtfO7v8J1N9lfxGI+/xtdRiPoVfoUfFxUVQgPMAkD2z8hYeKmJ7E8eV4zV1YL9TSU2HUxsNrUbichoRLu6k73AUYcO77l+Ol4pN6N2e9HL5nhKKf9nZyM3F0+i8US2lZPku9E93VHE7JU04A6pXyBa0oBsZJehDKoAxCGOzTy3owNtbZgJOJ3NVEXW8adjYECwhgnU51CE4kUgNFQwkgn9gqj6ZzE8ubYOdaw6pU+xWbdOZOdnn6k+DbandsziNnjb8zBP6Tx9KvTYFqXHx2PZMixerHSp0DdxcxCDtoNSANhkkP0HLdzCtJ2hIdHkSQgKROAsHu2FIyVF5O085fZkHncjDK+ANca5y7BMMcm6cvGiS3FqUHMJl9icepLEWdursIryL1sykZmO9NM4rfpkIYubULsDGChC0UU43xIPch7ns5G/Bsvt+VgnmFH5Mdhw1CvwZH9qwJYtpj5TNj09dW79otZFZifWF5t9dKCjHe1q1xe+vCK2JjTp3EYKsNGZz3rgHjesMyKQgATuwRveqoWb7ESn41mHxMw8fJGnsT14YiNFD5mHKQCHFAEgODMPCWYB8IFPDGKoRea5XV2izQSdPIj5JAzOJbjQOMblbLB+//Z2tLaqPTrzaqjwTFDMIubMQUICYmNVA2WqYzrzGtxfgZnIm92GbQEIUExr16KnBx4eOHVKfNguidkE5ZMXSOZV+rxbO3JO6l9iZgMwT+7irt24gYEOBMACo6OiSfCDH9uLPO5sQ6ZpCWMYc1sAYBKPGQrALXTeRK1OZz4fV1QFIBKRyUhmMsj0x4JaiIVJSNLukFPsSr4lrmGM3M/D+NsaXWt/4kwSvqNDaEBtrdBlBRkZi9JrzQJgNAqJcCgAT/HUiutTkUpp1C8Am6TmGOvE/bsgAGlI4za0lmY0c6uOZ51ELE6SzLNMhm5RuBKbWzua8OgRHjwSGRAjdTmT888J9oMH+xGIYKJYzCVPSVTlPrq7rSJwCS6kdg2mpqC+HjU1Wv/FWLwcy2e0h+lYvhzZ2VpDLWob0GBnT+5gGMPFKC5CkYV192788pf4zW+waRMChDAYp8/smLVT8p7NVz05KbScz2ENsYW0NFaT0q9BzSM8eoZndiWQ7E8NkDE4aHAgAM+fiybBG95ss3a2Fw1fX60AkB8p5yMYcS9YJSoZQSZfgZgYEZmXrhtPhADgvisrVqNaa4lHfBzi1O8EJGhHq1DFR9cZvFNogGjTcWG6yeigB5fKjPRerqHVeenpizIWRSFK6ZP62QYGHESgwjG961GvWnKQQ2H2gY+eDawENgpGcgJy+Xpglb5DecFrKZZmw0xHHeioQ12nuGbHIG93AROm7sfA+9IHa/NvpJtmmwL+Sjvn70DdMDPcv5OiSNsAwhDGZvYlZfT3w0F560FvL/r6tAZ5lVa0WjkqidDTY7x/H/fuIS9PNqzF2gpUsHj4vJgVZGZi2zasXasaylH+AA86DZ2zE9+ES7iUgYxEJFLhzdbVq5GVhfx8lJSIYz58aGxosK6DX0tNhtH9DYQgJBShSocPwWYLUVFISUF0tNJl8lEO7Qb18xMC4OWldIeGHGWI0SiaBA94sDnesEYvBLwkYGbwlKC1MK/ZnEBmf39/uUf6ZpvJNuQIW7DFIn5lpc7pt6WmH13oakZzP/qDESxbosULK28cg5hYwQNmNKGpEY3645P9lwFbnfoZbdssWX8F8LKma7AXggLAtmuXyCRiUXz8ovRFmAu0SMOyADgDdY71noQkuRuBiDVYcx/3z+CM44lUmi3I3YR5eu5nPRLLsKwKt7vR7dhzIzauxupIRJqPiQo9YvyG8t+M00DfF3iD/L/Lwv6F8p/p7F9QUBAbK56+paWluLh4YkLRD1Fm5As28zwW9gzZH1K1UZOHhxEQIBusV5kGQ1ERcnOxcKFxzhzZ/3W87gvfq7jKe6EwTgjRozTph1QF3t6IjBTsv24d9uxBsFIYk4bJy7h8Azcw2xjF6DEco9q9iTdTkGIeCA3Fzp3YsAEPHqC8HI94rEdGpnZzs8HGdUi/Me5sYA54g3OUDl+BzRbmzxdNBYmDdGA3KNk/MDAb+E/AW3CWJILzFdKXpMCJmo2NiaaZ7eHn5+ft7a2mqRtgBF9fXwer2IZM0BJa0UrurkY1ZgAbApCdjVOnhILqwC2puQRWCmVAFQDmoVp3oQgNR7jWswMdFF/9wfnkv3PqZHQ0Ypnqp+1HMTsODBhlDeDNMcIvqQEZi5AujY2P6xSAe7h3B3c2YINaGluxtQENvKtSlNqbxWvcj/2v4JUYfaVItx3Y0Y72T/HpMIbtueUhjzHNWSGB26MgOV3iEP8nA++Zb1Bc4heSfZlZAz6T/3zBwg366U9/+vLLLy9YsMBoNNbW1p46derDDz8cHR2FLACBCAxCkHmFkRFB3DMHg2gEgEtwIUf+jY04fhzh4YbXXyfX0GDEgt/gNyuxsha1Peh5jkrgH/6dCzs4hLeBDC/GREoK8vPh6SnMUmp9ja9P4mQVqmbhpHJMTd5zw5/gEyrBbuzOR76FJ49WWChaZ6dI3LIy6oGxtBT379uQgXZ39uIP/wAo166+5vTgsbGYO9fcbUMbKc9uUG47KIjUmC13HQsARZdNAvnFKcWQDK2CMWvnzJnT09MDdxEYGMggVqs4Yd24OEHQCxfKPZm7MTOQXxiEFJWJTOVmZI25eVPP9L8B/i8XV+xHPzXffA+a6uaHttL70NeLXpeCG2fsYbSVis5gKC+XBUBEXwQkpCfgojQis79zYScZD9/AjQIUkKBlC3P0AA4wOSkJl3Bp+pQMZGzDNgoAZ+nf6yqsGsOYH/zO4qxNelmP9a/i1dfwGn1U4zVcu4mb1GOn8dPkP9QAqcJUCU0zGMCWZv0Ia9eu3b1796ZNm5RDZWT4+PjU1dWdPXsWsgCQL9jMM3ibOi7UOagwmjgWrGQPV6+KM/T1YcuW5MWL3wQ+hycFgE2UkiRyrgjAb8XP60C0ycAA19Du035m/Mw3+OYMzszCMVXIeW26+0pU/gF/aEFLNao3YEMc4qz9o6KwnsmwHlVVKCnBjRtGHp+ZrgnmHnzhy6Z07L9mZKTYggxyQTe66Wp37aCg0KCgbFkAxscFYfPXHnx8RJNAFVTC2gcfvNeSiMLCwsLDw2ciAIwQEhJitUp/v8M5MjWbQOIuQxlmDFlIFAFQV9EnAHCdMXnhbGqXmcDHsJEYEiey6Y88c/Z3WwPI/qyMwUFDUJBRMEC8aUAWAH24jMuLsTgVqWyyJQYxP8fP52P+MixjoFa08up4XZGIXIiFS7GUlbtIKI54xCX4yLEc/xnwJ7i9GgWcxch88bu4W4e6LnSNY5x0H4tYigoVYiu2BiNYndiO9gu4cAVX9F6HzPX6kJiYmJmZqbVkZ2cnJSXJ30IApGL1MY8/pyg+x8wxMaHlCG0iOsKVK4lPn26oqFhRUFCQn4+8vFnYiQkDvx0oWl50bfm1ixcv3iq9NYuRzVDfxSje9UN8yMRiHvDVmWQLsMDGlEXMsUVYsQI5OaAsnzjBezPOQAY84cmmdOy/ZmioaDIoAL3odRQ0KGhJYGC2/E32Z3OAwEDRZF/J2/GGu1giXRaW6OjomJiYmpoauIsoCVardHc7nKMRgApUsOYpipgxZAHYgR1KzbP2uMr8+Whq0hnBJcacwhSb2tUmg0VisEBFiU78yOzvngZMTgoNYFux4ifAfwLShJWZ5YoA8LCncGoe5v0p/jQCEbKRmboP+9ZhXTWqO9AxhjFveIcjnKWaiETZ5zEeP8cXwJfA39o7J48TAviLdpfKQaJna0BDIxp70MOlSYBRiKKuRCNaO5H1+R2+48bcTzaD8mNzZwYJWouHh4dqEQLgBS8v6cP0OEbRZg4+2pQ5Ea1XsYNCFO6u2b21ZmvulVzkA5/NwkZUzAn5u5dfKcpZWpSyaCTiG5w6NZvBrSHfsBG3cOs2bheggGlBgslCVjrSmQrW/guZGwuxYAFiYvDll+jpcbGmtCvzeU1Pbv81g4IwZ47y7Zymyf7UAJ0CEBamagt1xYm0AK2taGkRbOTtrVji4+PnkyJnAEaIi4tTu6T+tjaMjNifsHgxsrMRHi73ZNbGbIB0LEdbgzWKSVYa3QLgEixe3xJSKhjtdZ2msyNX1zPVVQ0oL6cARK1Yka2wPyGzv4ZknKISlV/hKx/4HMCBuZir2iMRyWZ7XZRzym7B/s2Og/cBhwEffD6JyXxBXqCKsDmYMoIRBj+CIyUogVsYNYxStKaHHcWo/N3U1PT48eMYsor5JssbGxvlb8HI1hnDC3XlTu3Ckno8KDz8cQiy/3t473W8HopQ1ADVYiMlJaitFQX83OUd/B3/fwkv6jnJlU/igb+iJS7O8LOfwd8f4+M4f34WDmrCNuAQsMrCZlAq7ZbxFpUgEYmZyExDGn/JAZQEb3hb+G/diuBgcVUffojhYff2Ib2f6QXFrdu4dtr8/MyEyxxSM8YmkoKCKADxcsepAMTGIjpa/uxARyc6ne75yRM0NCA1VekmJycvXLjQ09NzcnLSjRsIDAxMSkpKTEzUxnfCtzIpS6BizaIAwCQn1gJw+rTOQnOJKH3hS4JTu8/x/LmpdCaEyE6oQ8w96/RzTwOMbl6LDQ0IkXjUFmpqyFyLOzsXR0WZTGT/igpXF2UZ8hKe4dl2bC9AgQNP0ugVXDmDM3X4djcaHR9VPksb8BEq+vGHZjRvwIYwhDmI/xiPz+HcMRy7iIvuXSCVZghDSuUKFleucxjDtMvf165dS01NHR0dZTkYjcb6+vpTp05duXJFHhUCYMEXloFmEZIaOMqUeZi3C7sO4mCoMVS2sGiPHsXVq+KhOztF8rqIQ59KWR6FqAxkrMO6vdhLCpZfcf9+Q0cH6upEm+WD2qxZqXoaQeVtPI3TyUjOQc5yLF+FVeux3kIaV67EyIg48OHD7u1gXEjbuNJhjfv4TPex0gWnr0P2XxIYqHScCkBCAuKFWDALW9DShS6ne2Z5V1ebBcDf3z8rKys7O/v+/ftu3EBmZmZ6errWUlvr8KFDQ7UCMLvsTzShiQHrUZ+EJNGnxsvL6Tidq6UYSPmD6aVAbhhVpZ2MxqYOBSCAzaXgBvfZ3jZsaMDfAX9h+9iTFdnPy7OxUeo8eyZ4oarKjUXv4i7TshKVK7GSz5CClBjEqFo4gIGneFqN6gd4cAM3LuDCNrWadKADeB/vV6GqFKV5yFuERfGID0e46sByaEBDOcopRZdwidtw+QAmimZ9keunj2vtfX1977///r1792JiYthtaWm5ffv22NiYPCoE4Dmes5lnW3GD2/D0FM0E61WmYa1x7WZsVjWTDPPll/joI8q+2zvo75f+dKObYssnIS3+Er8MRjCNvr7GjRtx5w55YfbVTkrsTioQ8I9mm8EsEJLu1F3BlTVYQ2rYgR2pSDV7cmdkxLIyPHrkxtoseHOd+/uLNg2Tk6Kp8IWvH/zsBeRQTnBKdnCcaYFRwST2EBsriJy/0jHJenr2/PixKOcdO8yWvLy85cuXuycAS5cuzcnJUbvUQ15kpYNC07A/UYay2RUAmERFEQB1RWen+ytB6KxnFxAq1CxU7ZLOKNfydz/6+9Cn9VTL7V8QRptsP81Kms4uz55bMVcRAKYLm7toQ9tn+OwqrmYicwEWRCEqCEEkvjGM8Yo4ytQlR/P23It/GZev43o2srntuZjLe2YdQqpN0lETmshIbDO8OrL8kK3soFFrHxoaunz5ss0IQgBIi+NaifOmFnrPcGdKHC8vtWe9igqJEEMQQrXMR75qvnYNZ8/OhP2tUYGKszibhayd2ClbSBFsp04Ze3pkw4tQgmkwKEcmetDzHb6rRCUT7k28SUowuxUWoqjIPQFgwas1jzlzRJsGoxHDw4LGZXVggkYgwl7AVViVH5wfFBxknmw0nWE6cnORnS1/yrqrZ8/d3XjwQHCkysNpaWlr1qy5K8Gl45P9CwsLU1JSVAtplsEdaJZWAFj5ZOpmNGNWwZjUFSo9q0v0MzPFipGR6OpyMGuV1M7rXsULXrGIjUa0+WLRzTSTv7vQ1YlOdYisR26i9pP19N4t8Cnw9uxejT4NIJkublkMlRBmJgAy+MrqQ/MeKADkqElM2t+mC6eYwMRdMHeV7PXjP0kAZvHeLIjeYBBNgj1hmA4P/h8RpaEpDl9f+PnNwu4Yh80E61WMpiYhGcmpSNXOLitDaeks3pVAKUpZhFrLwoVISrKzpxcHy2SnAHyCT77BN9riRFaW4Ahb3O0UvehlUzphYQgPt+lG2TMpH+IQtwALKMPT85wcsdF749r/vBYBJhNFIyDA9tpca9Uq5Ash70c/WY+6q3PbJSUoLrawbN68edu2bZFkSd0ICwvbunXrxo0btcZbtxzmEqWCXDxvntzjntkw22BBWkfWqI49FEoCEKh7lSQkJSLRoMmwVrS2oU39bkGLlf9CLNR/ikKp/XgwpaInPLOQRQ3AP0n9jg7B/vX1s7gUVZAEZZ/9ZwpS/+yyP6SkItc7EQaH8JC9BzFotrG2WeEzhyVNcAllT7Y4NhaxJBq129mJpib09c3udQlKakJTO9pVy9y5iImZ7vjiZcBSA5rRfB7ni1BkYU1MRHy8G7G70d2FLqVDDY6KIi9PP09LC5qbzd1c5K4SbGMhhcHG4L3GvTvGd4SGhtZdqcNr0igD2ro1ga1bQfINCuJnMYpLUDKOcZ3brqzEtWsWTB0fH7979+4DBw7M0SeEAQEBdN61a9f8+fNV440bKCpCY6P9aRoi5m5fkABgurRkZzsVgBBJAFbpXoIsmYY0raURjcx5+ZtpVo96bbFnIEOwqj7kS+yf9CKuxhmWYmmOMSfQaJJCsj/bjwrjrDnNHAZKvGAQsv+Q0QbR2xOG6fCCRItsZhurVyrgmYJFq4nTJ/jcLqMHIzhEZLuC3l48e/ZCru4ZnnEbMVD4KyQEwcGzEPYv+H+bqCctyHz/qDvCXdxlUu/FXrMpMhIREW5spgc9FLkRjPhDEvJ580Tr6bFyq60VnLtihdLdiI21qOUs6tAkJiGxwzZs24/9y7CsvX1t5fn/knw+WbgmJSErS4iTVkCInTuxZw/WruVnG9qu4Mp1XHdp5xcvIjMTKSkIC1MsK1asGB8f9/HxOXHiRF1dnYO5CxYs2LlzJwWgsLBQNXZ14fx5XLoEa8lVQYHUCAAJugxlOovHVVSikvH5NEr6xcaKdRctQlWVg1mrkVWKNQ9xvwMdjuNHInI5luchT7XUoKYa1VrG5x6YZgUokLt0XoEVlOoGNDgO7g3vNVi0GtEv4mYcwSgvvYb7NBvLy390AXBBKAw/1lokerbp2iOEATaEYTqEAJAT2cw2aovMi/0aVXAV05jVehVL8I194KN2JyYwPv5CrmxcBDaHZvn7+MxC2EP8PzWF16aQpVgm4XkIno7mUA3NkgcyLyuc3B2OcMUUECCaW2gW3NycilTRSUggO6KszNLF8Pix8f59bNokmJzg/b+Ld6MRvQ7ruA2unYY0Fh5/6XzmTFT3949e7n1Zmc1pXOH778Wvl5dYIj8f27Zh3z55/BROfY/vtdSjBy0tOHlSqNV775mNa9euDQ8PT0pKun79+v3792tra41Gc7Z7eHgkJyfn5OSQ97ds2ZKdna0ekP+PH8fp0+jstL+kzP7+klJKAsCGFwY5/hZssVjdoQAEI3grtjai8UN8OIUpB55024ANvvDVLleOcqsN3Md9VQAgCf9jPP4D/iCrvj28glcYPwEJL+5ybMIAw17s3YZt5qUfP8a9eyLxfjwYf+RT6wRZnlyvaA5526BIj1YYHEMIQDe6u9BlYQ4LE20mAhBOHgvXGjrRab3KvyEIJh8hh4+onD6OoDmY41KQ53huUYQeHvKLGlxPQPJFPeoVAVi4EKmpNt2KipCXh3ffVbrc8AEc2I3dfejzg18QgmQ7Sfm77zp9bpUUo3ilYaXYDaeRNJcvF+RKAYiNBZk3LU32P4Ij3+LbEpS4cZPXryMiAoGB2L/fbMySQIqvqKhoaGjo6uoa4VULiQyIjIxMTEzMzMzMz8+nGEjuShl89RW++QbFxQ7XkylYQhvayI9VqHJj2zphWwCoUUOOynUFVjzDM6bHd/iOHzZ99mAPiXI1VqsWVhyf4C7uat1qUXsLtwpRuBiLZUsOcjiRfHEUR22yhgc8yP6v4bXt2P7ibgZYCQyHYDgQw9yGEUYqXyISl2Ip2Z/N7HjzJm7ffpE7UWGc4TTDC9hTpYhrQLWIrSX6Ss0fRRh0QAjAOMbb0U52jkSkYo6MRFQUGhvd3yYjsI5NoMZwiTGMvYAL+VeDvj48MxenD3zmYm4MYnhwnQHIv4EINPdHRzGm3NhfAr9zZS81qKlG9VZsFR0+REYGZcBYU2OZkYaSEuPx42J8xw6z1Rve5kwAqR+HDwsmjcZFKkoUolKQIgbS00WzRA96TuLkN/jmOI67fZFc0dMTExPYuxe+vmZ7gYTJycnu7u5RXg6oQf7h4eGe9DbjBPDz0dFjR492ctsnTjhcKS5O8C8FUoLMzniRYJVxiR/wQyYypbv2VjSApGYDfK5flAz/In8kn+RLPU5Awg3c4PRWtMoeNKYhbSVWkiJ3YZd28mVcLkIRZcMq6DVcy0UuN0Bmly2cK6crgz/CIz6ibA9HOIMXoICKtRM7MYHGiUaS8ou5m0MUAHLXfxC/wxQAlkMc4rKQZbFiaSkuX0Z5+Qt9Jrep32aU2ZUBXhOq5D/EsCoAwnBLapZ2x/CS/zCfWtBiLvvoaMTEzGibnK6J8BRPGX9W7+FfH9rb0damNZAuM5ChUwDiEc/yDkCA2UQ56e1Ve5OAp+698LZZyc1oZljRz8lBXh5qaqY5Gr76yujhgZ4erF2LRMvSvn8fRUU4e1ah0Q50HMbhSUxSV/KRb7FVafQBHpBBvsf313F9hnd59CgGBtDRgW3bkJZmMUS6j2Z+2sUrNTXRJ09GHz9+7MKFiunDFpWdnS3I1wRScxnK8IIhy4wiAIQjASC+ax+JeTIcw9xYgzWctRZrKe1MqhGMeMIzDGHJSM5DnqLKEv4/9toDOqosTRP8Qgh5B/LeIWSQBEgI4REpTEICiclM0lRm1XZXVZ/p0zO1s3vOnO3d2RmmZ3dqtvv0ntM1VZ2T25llsysRJkF4I4yEcDJICCGHDPIS8t4gFPvd9yJevAiFQhECMqf66NOV9O5//+v++//fRxSh6CquUgBmrsjpV3AlAhFqwdiGbeR6Ll6LWqrUJCYd4UhC4OJUC+5On6HRodOjtV8hvPx1EaQRdilf//NsLq2tuHAB1669sceR8Zovp32tGnBM9ytjRFJNyT5gYrdFAJrRzMZM1JmDKL1Br3RMTg8MVHry+q92cZ95zvN7tW2tB+mqoQE9PfD2lg0pSFmP9cUoHsLQnLPXYd1KrDQyMd3b2+d9HLJMKUp1ArBmDdauJZ1r29tn5KImK0tbVycoKCYGvr5YvBijo2Lzigo8eIC6OsOMalR/js/LUZ6EpFCEesLTDnbjGCdlNKKxAhWFKBzAwGsJZ06OSJqaGqFMPHtk5GyO/wE4IIKtx+fL1l7c71ul9cXLbNy6pdjNlLVMvhJ4eEaMF3kth59TAPZgjwc8RJ8X4xlCQ8VtzaBzbOzst2Pen+JTb3gvxdId2ME2jWlZAJzgNHMOn+k0Tp/H+dnOcAEXfOHrBjfyvmKUal5UPdn/BV44wGExFiujU5g6NXrq9Kh3+ZsO0Gxoa0NWFs6ceZWimAtvQNdU674+GfgbqZmAdfdvpWYDdALA6m1Ag8EcQt4IEUzw4sV8jufoKBI6RKIeCVycW7zytX8J/Mq2Gf/4ynvaBFImq3ubrqhYYzuxswUtf8QfX+KlhXlbsGU3dm/ERoOJBEzy6+yc91ke4iG1JwMZrHNoNNi4EUVFLCGtmUTUFBVpObiUBLNUPPvYGDo6MD5uZtk+9J3FWTaShTvcZQGgsR/9rz2c1WSyahQUIDUViYlYtkykFSXKwwMODsJhYkIzOBj4/HlXa8uBXY278Az4Of4e+H/Jqj/5Cfz8RMvOpp+ZyuaKZF5eWILMy6/9CjNB7pb32oRNOpOsQ2YEQLzV2FjZsbFjWmjfxbtRiJIHGHZXuJpdvwQl3+LbLGR1oMPCMehA/eDbMfFMhkj9bGpLF7qykX1i9ETe6J+9MZp8CAQA/sAiM4P37+PqVZw+jdLSN7I53iD7Gz3nm97DRugEgLlSh7pudPvAR/TJFxERYBWRg+YBzg0PV3pcth71ltPRatgSwzf+oDNQXCzoasMGIYESyL8TmGCt3sCNGpgJZiACSQQswvfxvtFAYSFKSl7lLCMYuYd7d3GXIiT669fjyRPxoOaXFVHt7dX29lqxtPQCbfz5TiLMSLAFBSEqCsHB8PGBu7ssAJrJSQwOtnd3fznd0t3d2P1u67tu/9WNpxJZ4uqKjz+WNUBLDZhJrzLtShjAwHcmAMRjPDYjAJcuYXp6hq+WYtw4pvkSQ61o3YZta7HWF75ml6UDnzsHOedxXryORYxh7Df4TQ96GtG4GZtXYIVZtyEMFaEoF7mXcfnBaLt2dPSNReVvJAGQNOB0APz94eKC8XF0duLpUxQV4dYt8f2mUCwpkEXMMt4mNeu3SbXCrd/M1xuBvfJFeqpGtU4AiOho0eYnAPJcPbisWe5Tww52bEr35UvR3gSkhQ1Li13tXt/qXV0iTVeswN69im0XdoUgJAUp5ShvQlM/+l/gxWIs9oBHEIJiEZuGtI3YaLQOw8517tx5xePkIz8VqWSXAFFXwO7dggc7O7VtbbOoqMa2DRT3N68EbaS0ttmOOgWc7BLR7zqAAxGIMJxo+3b4kjB9QQ14KCq4CFjDf15eagGQGVn73QgawDTgdg1oiESk6Ht46A5TWoq/k11+oziTccfG/rYC/64WtQ/xkInEnAlF6FIsdYGLBhpSeTe6yeMVqKBWUvWtPMY0ps/gTCUqH+BBEpJYtP7wd4Mb1xzHeB/6qCis3FKUck12/3bU5++6R/UnVGGv+fUrbYtKtvgzqMH/44+AAKHczs6YmEB3N+rr0dv7Jh9kH3B0DpdZxtvmnmlms3OwbrfP3+SlJRgEgHnABDIwUUwMYmNx6dJ8Vl2+XExXrVw5VzIwlZ3hrHTHxoT2vwmwWkZFTenAHHNxea0bXL6M0FAsXYoNGxTbCqEJK57jOStqAANTmLKHPQWA9RaMYNMVOjpw5oyIvPZV+WgEIznIIV98hs9EPzgYBw9icBBff61lXdnI9/JpmPH/BfiVyZjmO5IBC0KVi1zyoKwB1FTDwMqVgk3YsrPvXL6cBYjMkgk3X+dCOmb7zk4v70jVaZUFgAjRC4Ao/d+oPcfYKHBwmcToTdxkC0MY02YJlrBkZAHoRW8LWprRPI+TVKOazRveFE5KpStcZQFgorajvQ51si6ySo6OjvLXzBJFZmz/ML+4MOeZ/2zfKc7Ne/zcmzmQiN6x7+LmBgFoQIOUka06SmLBxMcjMhINDbYtGREhJvr6yr02tHHZetRbnsRs9oKX0u3vF+1NQFrYsLSXF5Ysed17nDiBxYsxMYFt29RmiYT85phbW4vTp5GVhZoam/ZklWrNEXABCiIRyTfNRKbor1qFyUnY2eHUKTQ2aq3WAGXpICAWCKBOid5qIAPgNfeL3nckA7Me+QmeUABkGdiDPYaBwED85Cc3/Pyy2LKzKwYGsDgZf5+sH2aGl82PPecNCsAvhOTsBhZLhgSKEnx8IITZQLIvJQGYNJ7bhCa213ueHvSwWXAQZxodU5/NgOOmhmvzPcYA8G+l9j8Uzlki+i+k9iZw7DsQAXt1pxSlD/FQJwBEUhKSk20WAM5KTFR6JSjhskYOw4CbkcEf/kEIcoKTYunowPPnr3Ct/wD8jfmR53jeIXOXBAcHQQ4BAWJHY3RLf8lut2zenRLz29+ir48Mi61bhYjqSes/Akf1XlnSd5VCmGSlu3dx/TouXEBV1dy7ODnB0VHpvcCLKUyZdcxGtje8PeCRhjTRX7sWLi7w9salS8jPV+jaghKYUDoFIC4srKNpm579wyUXjelCb1wJzIDv+yW+lGXgAA7w1rL94pVFWdmHjh/3HR/3vY4zuE721+e5IOKy7/icIxi5rts3VW9LEhqAG78CfvU9RM4aaKWcPWqF57VXUIEFfHcwEoBiFBehKAMZ7nAX/VWrsHo1cnIwMmLteiTUlSuFbEgYxnAhCrmskU8lZCJSEIvYaEQr3RcvhOiQPOeJaUsp2ojGBjSMY1zRm2XLEBs7UwAUCr4l0ZyNGB3FN98IHi8q0jCG8fGIiBA6Y2dn6tnTo2lqwtOnKCvTFhQgLw8TE3Ov7+UlhMvTUzEMYYjNrC8vewInHCHUQqcBVOigIERHiw+qTpmgP2vpOigoLi0tNmDLrS8YlhTVwN8DOcAlg0FWgtcsA5o5xrV8/+nTOE0BoAxQA5hap08jK0s0YDPgJx31p1L7fnFCagtYwPcGIwEYxegDPLiP+zuwQ/SdnbFmDdLScOuWtevRPzUVbm5yj0txwREY68cMAUhBSjKSle7jx6isFDLwJkB2qERlOcrXYI1sSUpCSgpyc00cq1Tf2rl5ZwbEhJIS0agwy5cjLAx+foKy/xcG56f4LTk7CwNP0dWFlhbU1aGiQiPd2RxhRkDTCK1+ZPFibN8utFmFTnSS72Y7DIe+xteTmKRIvIW3hGnpUhw5IhbZuBGlpdxdnIEnoXTNhKMjgoMRHo6YGKxYEZaSElu43sdnUXc3x3ol3me7BjyzwNhl8r8p5WsemJv9FdzGbd66W9u9MuvdrKx1Z84oI7FYwAIWIMHepH8P9+7gThrSvOAl+unpWL8e9+5hYsKq9eifpmP3AQzkI/8u7pr6UAAGAQ9dLxOZW7AlGMHKeEEBiovneyGteQZV4yEeFqBAEYCgIGzeLFQnJ0dx6TEWAOtpR8CUpWprRZPxH3ltSQCOUgAYh3/GlOlGGjNr/nv8H43oeo7xcdjZiRNv2CA0QA9KbD3qG9Fo4ZBkw1/j193obkHLTuwMQICwUpnY3n4b1dVoaEBrK0jqAwNio6kpsZezMzw84O0tNqWGRUcLGSCJDiI2lr539dSfP2eUeGPB/kfn967zQdV41ZdZX6ZldV26RKXa+91tvIAF/InAVAAGMZiHvNVY/S7eFX0fH2zahKIiXLumdnsOOAPuJpPpuXEjgnVUfgu3uBQXNN2zUmrp4nMd1h3EwbfxtjJ4+zZu3TIQ5kxoZzKsjSBX5iI3EYkUHtmye7egvuFh3L8vG6pmCMCs26qZ2oqDDUoNFrl6pgz8OfACR3t0AuDrK3hZhSIUPcKjaUxbXnMMY1nIakBDFaq2Yut6rPeQdZivzMa3IxiFwUGDADg5CQHw0Mu1HrGxz+Libty5c00SgG5rwn5a9ztvzBVdEx3uB46jO6v70o2vpBN2AQeAJVjAAhagh/1M003cTEJSAhJiECP6W7fi0SOUl6O9XfEhgTvpOFwPT09kZGCLjlKf4ukN3KAGmNlTEgDvdO/N2LwHew7jsDN0dFZRgbNncfnyHIdmpR82tYVITY1vv519hSu4EoYw0h6vyS5Z7uOP4eCAgADk5aG3VwjAIQ5kAEstneSU/sM6TdKa+bQ4UzW4GL4BWGTGpxnN13H9Du5YdQSgAAXlKC9G8VqsTUEKhVD30DLc3ESbBZSQalQ/xuPC6MLi2NvwKhU8awNOSM1GZrcSlpbJltqfvZ6NFrCAfymwN2u9hmvLsTwa0Xawg6srtm9HdTV+9zvFgRzuaCIAO3ciMxO+vvycxvRVXOUiWjXl6ZFWg9jKHyT2J6Z7pWcIitXh8WMcP46TJzEwMPe5ybyPDT1S/1Hj8ZOWBWAAAydx0glOH+ADqh0tS5fipz9FTAzS0/vKy6uq/7lOt+K/mVUDkqwNstaqQUv8NQa9RpqgEpVncfYMzvSi19rjAKMY5QPlInclVspKH4GIIAT5wtcLXq5wdYQjn/4lXk5gYghDXLwTnS1oaUADpf0JnrAhFqI9wAIWsIA/UZgXANLKJVwKR/he7BX9tDTs2YOWFly/zl4nUAUshqAcHTeuXy8cMnRsfhEXOZ2LmF38fydvVA7EV24RsyRMTyMnBxcu4PRpNDdbe/SkmZ9a5d/JOac/w7Pf4XeDGHwH72zHdiF1wLZtyHCsrLxTVa1eP2ne4a3Qy6VRcC35Jpgd+zkHShHjD38XuFBWScod6KhCVQEKKLS1qJ3H4UjunM7mDGe+dSACfeDjCU8TARjGcB/6KACtaG1Eo2H+ggAsYAF/4rCfbeACLoQghKSQilTR37cPz5+jtxclJZUSidlLlLWJQwkJOHgQ+/fLE4tRfB7nOX22lQ/wt5LqUEkBePECxcW4exe3buHqVUxMzOsSu6VmO5rR/AW+aEBDOco3YANvuhiLNVVVCWxm3LU2Lv8BcNTUVmnGZjrp+Ezrz88i4TEifeFLsqYAjGCEjFyHumpUzytkRhjDGLWEzbZpZP84wA0YfvUjLGABC/geYG9hLBvZPvDxglc0ouHsjMOHMTKCqanKx49lAeDfTfHx+PBDvPceli7llHrUn8ZpTrS861htbV1lZc23vRUVS0tK8OABWlutPXGL/K/19dx/AhPncK4EJXdwZzVWJ/QnxFRVRdfWuigbqfa0EcettFmBqTKUsVnlq3k9kVnAAhbwLx6WBKADHSdx0hWun+LTEIQgMBAff9xhZ1d16lQzORuoSE9/fvCg3wcfIDKS3Va0HsfxUzjFiRaW/Q1QB9RWVtberKyq2khNsQlHZfY/+jqj0IIWtsu4HF8Zv6wqKBqIAu7pBv/wGjf6T1KbD/4vqS1gAQtYwOuDveXhalQfwzE72B3BkQhEIDS0cs3/VHnNE1gCOFZ47q9I3+8X6UPPRjRmIYvOVaiyvOb/LQkALlQCbBttPfFXut/Xj1GMFlcVs/GbgtYgbLektoAFLGAB/wKhgXZupwQkvIf3DuDAaqz+x3/Ez3/+sqXlNOASErLnr/8af/mXKEXpGZw5iZNP8MSaPRewgAUsYAHfOxbh6NxOXeh6iqdDGHrR/qLoTFBOjrMQBcQMDiIqavDFqstZ7llZyKpDnVV7/qfv+9ILWMACFrAAwN5Kvza0fYEvaiprFlWWAVuArZI5r6KCLfdG0I3v+yILWMACFrAA22Bvk/fNyptelSWA3Ii8koq8voo+bP++77GABSxgAQuwEXbQAP8rMKSy3QIyIOwz21+hv7UfyJbmsGX3dfThZ7M4z9asw78HpgCt1NqBv9DbqTX5ejtbD/Cvbb611lx704gHfqXfaxD4L0Cg5QO9ufbm8AbP/IrzR4F/9yd36Fnbn85Jv+/23eO7u9dW4Kax9XPA36bD2gM/+5kZeymQO+fkf5jt/hZZPhKR4Qj3gY8LXOxgN47xfvS3o70OdcMYllz8HBzg4oVFplOf4yNIErDCyDwN/Dcr7/sPNkUnMTExMjLSx8fH0dFxampqYGCgpaWloqKCH7AZ26Um4zqQI+ma1QgLQ0QEfH3h7g57e7x8iaEhdHaivh6trXitCA0NDQsL8/X1dXd358VpmZiYGBoa6urqampqam5unv/SQUEID4efHzw8IK2MyUlxke5ucQve5fVBA40//JdgiRvcnOBkL1JdlIs53LSwTjCCwxDmBz8PeDhCigYmBjH4HM+b0NSKVwq+v78uGEz46WmMjaG3V0SCH/OHjw9CQuDtDTc3LF4sUoXL9fejvR2Nja8YVVe4RiAiAAFLsZTfjKoWWgZkCEPd6G5DWwMa8JrAmIcghH894UmuWIRF8l5kiR70kDGe4dkUpl7XdhERESEhISx2k7Tv7u5ua2urf63JyRgyr7zh7Q53Jidz9SVejmKUTNiJTuZVL3otr/Bv+LtFi1UmEjf9Daa7+P8XokPu2rp1Ky/Fb1Zubm5u44wEYFUcJc/+n0bGUqnNgSVmrRYldz3Wr8XaJCRRA/iuTCBZAPrQ14KWGtSUoOQO7vBpXVz+0fmvIZWbgkfAF5IAEO8bNIDsf9TKsC+x/oVSU1MzMjL4d9myZX5+fk5OThSAvr6+Z8+elZWV5efnX7lyZZolOwOrzMeO1J8JLJe+qyT2v2H9UbBuHZKSEB0tCINsQQGYmsLgoCjp2lqUlODuXVRU4JWxadMmXjk+Pp7F4O/v7+HhoVTC4OBgZ2cnr19ZWfnw4UNGQKvVWruuRoMNG7B6NeLjmZXiFp6ecHISQxMTQgC6ukBdqanBo0d48ECw4HxB0o9DXDSiQxHKb/KUXGOkqgs2CsBGbExBSjzima5cijQkCwAzlgLQgQ4SUAUqilF8D/dsOiR1nK+6YoUIRkCATg2ZTaOj6OkRkaiuRmkpyspsvHx6ughybCzCwsQe7u4GAWBI29rw9KlY9P599PXZGthkJK/CKsY2ClGBCCR5UVllAWBAKABd6GIV16HuCZ4wJvye3wvyvdZgTSISYxBD6WXkveDlDOeZYlOP+kpUlqKU1IH5IiAggDmfmJgYExMTGhrKYjdJ+66urpaWltra2vLycmY+v+e9F3OSGbUCK5ifFABf+HrAg0lFGqSSUQDIhHJeVaO6DGWFKKQwmF1KcB4zZv80UgzGfxYmiZR+ASrZp59++v7778fFxdFQUVHB233++ee9xsVFAfDiP2qAuy030cw0WWQD0v0+7NuJnSwq3tysD6/KC6ci9SIu1jr/pYuLFj9VBjskAVDDS/e/d/5Hng179+49ePDgrl27goONjsouE2XHjh0rV66krh47dmyI5GWMfy2xO1uXap4kANv1XXncCjg74+BBvP02Nm9GRIQZB6rCzp2oqhJ0cvEizp3DfBEdHb1nz55t27atW7cuMDDQgmd7e/uDBw9Wr1598eJFVsXcSyckiENu2YK0NISEWPIcGMDDh8jPx7VruH3b1iuQm9Zi7WqsTkCCzB2LRF7rMAZcsHqp5Vj+Nt7eiq3pSJ8tXWWQ5h7gwS3cuozLtbAiGsCuXcjIEFydnAxvb/M+lZUoLEReHq5eFXpgxYmXi3UZ5DVrzKeKOsKM7ZUruHvXymhQAjOQsQEbSF6MrWXnYQyTuQpQcBu3r+EayRq24C28tQVbGPaVWEmZsew8iclylFNs7uDOdVy3VXJcXV0zMzM3b968du1aVrSnp6elew0Pl5WVFRQU5OfnX79+vb+/36a9lmBJJjI3Y3Ma0pKQRO207N+AhhKU3Mf9POQxwcwtSMqlIGqlLx2mFQEAWKEsZ/KV3E1OTu7p6WHl5uQYkY+9TdfAbDxqkf1Zih/ho8M4zMtbcGO5rsM6ZlsQgrJc3J2dNXMvjdfP/uT9Tz755MMPP1QsHR0dJHpHR0eSvp2dHT/eeecdDw8PrVb75Zdfmkz/M8FEojHMeg6T2d9V+r4uteq5z+HoiE8/xZEjeOutOTyp8GxkbVdXHDs2j+gwOXjfAwcOxMfHz+lMeZA9g4KCKIGlpaWWvLdtExq2Zw8VZu5zsALpv2oVoqLg64tvv7Xy/D7w2YEdMkklInEeEVCDSfge3tuHfZSBOZ1DhKaFrMCKUISexMlCFFpwXroUhw9j3z7s2AEnJ0vL8h3YqBCRkTh1CiUlFg+xfr1Yd+9exMZaFeGVKxEWBi8vXLw45wX3Yu9u7CZ5xSLWmuiR2vgKbGTwaERnI7sGNdZMJN3vx37qLjXAAx7WTHGAAzWJLRWpPN45nLuHe7AOTOC9e/fu3LmTLLlo0aK57+XmtkFCSkpKXFzc+fPnHz16ZOVezEn5ahQAK6dEipePXI/1yUhehmUMI5XV1Emw/bTaIAmCjjC9vb1ZqupRFqyPj4/JGrYJgBkenYufveF9BEc+xacskpmjfeijjPMhl+iFzBOen+EzjbPGxWUUuCXt+YoaYAP7x8TEkNwPs5wkVFdXU+2fPHlCwXdycoqKitq8efOWLVs4xI++vr6mpqarV6+aLLJBrwFCBiLXNjSQ/VOlkTZJF3KsOsq77+L9943YvwyMVROaRjHKw/B13d3djfyZDQMDuHTJpujwUkeOHPnss8+Cg4PV9omJifb29uFhkXbMfmaPg4ODMhobG/vpp59SAulQW1trfunt2/HJJ/jgA7i4qM0jGOlEJ2/BZHWBC+mbj24YXrJEzOKUly+RnT3n+VkhrC6SFEkHrwxSySf45CN8xLxV21+8eNHW1jY0NMRvan9ISIidnZ0ySgWmvyMcpzBVAvNsTe79wQ/w0UdYt87M6PT0tFa/oMJGlEJ/f13wZtWAtWt16y7RVdDcoBD96EdYvBjj47hxYzYvXudDfHgIhxheM8Okmv5+TE6Cx+YRXV1NxrdhG6VxKZZ+g2/KmLsWEYUo7nUYh8nmZoaZCYODFvbirAhE+MLXFa45VtRXenr6+++/f+DAgejoaNgIlj9LJiAg4MSJE3l5eXP6r8EaphOvFo5wM8MjIxgdFZVrbw+Ws6rEIIniD/CDUISSHv+IP/ai1/QJtEbcKAmCThJYmGQt9Si7cjmrYa0AmCdRK5h5H/Yxh0zYvx71RSh6iqdd6JrABFONLBCNaD4klZwOh1wO5bnwtt1AOV4JGpu8qfDbtm1bzNoAnj59+tvf/vbbb7+tqamRR5csWVJVVUVm3LFjB7uZmZmlpaV37twZ4SsaYynwARDv4RH30facku05OWQQSNR/HTOVfCYSEsAtSKAqXD96/Q7u1KJ2GMPOzs5hYWFr1qzZtWsX2Vkf63149gzl5Whutv7Ke/bsYSWo2b+zs/P27dtlZWXNzc0K5YWGhiYlJTH7/fz8ZDdKAidSJH75y1+Sv0zXTU3Fe+/h44/VOV2Fqgd4wL9taKMM0EIB8IPfMixjnbAZph88KPilrQ2FhRYOvw7rjuAIq4tFYjrGIDAa7e3o7RVlJj2AZfjDn2T3Ht5Ts39vby/r/NGjR42NjYOkIcDLyysiIiIlJSUjI8NFr21kn/fxfh/6WtDCrJ65OC9EKTRh/8ePH5eXlzPOrEztokVgbOPi6PSfnZ1lh8BAHDkijt/Tg6amGYtyeP9+vP++CfvLxfUcz8cxbg97sjAjnIY0JzgZHaizE/X1IkozoIHmY3xMLcxEptHA2BgePkRVFVpa0NeHiQlBymRkHx9ERCAxUaSuHjGIIX+Rkij2zNvZwh6MYFIkPamjRgO886NHrEORBorYyHuFh2PFCrGdHrzjZ/jMDna8cj7yLbwyq+aTTz75+OOPvb2NNL67u/vJkyd8ZX6MkpQBVpmPjw8LLSEhwZ9SrAfl/0c/+pGjoyPTPj/f0l68EfOTV2OSGw2UlaGiQrxod7d4XZYPOYcCEBCAqCgkJyPUkM9bsZUM+RIvv8SXL6BKY8H2RnWnFgDe5d69e0xU+eSsUx6VyWZywrkFYFYGtYL912P9LuxilaqNl3H5Ei7xkSpQwdeSjbwhg5WO9J3YeQAHXF1c453fBX6G+UNj6wTyOzkuUZ9VOTk5Z86cUdif6OvrO378OBmQCUHGdHV1XblyJb8LZyGppMzMuO3b4zcFxMfj2rXCx48pAIVWHYVkuH692pCtyf4j/si4DWFIdz2NZuvWrW1tbT/84Q9J0MJkby9m5eVZLwBcgTKWoCpa5s2JEyeuXLnCS718+VKx29vbp6WlcfS9995bsUIn53FxvN92stjNmzeN1qUmvf224CYV+1/ABbZc5PLdTY4RichN2LQP+8ihBuuuXaisFHSjOoYaqUiVSYrFbzRw7x6Ki3kTwW6trYJHhoetEYAMZDD9AhCgWKj3p06dYjQKCgoo/IqdT79+/XqOMhokCNkYhCBO5+1O4MSMOOOdd7Bxo8FCZc3OzmaOFRcXNzQ0jJAFNBpB6CtXIiPjP1PLmTQ6oRWBJN9+8YWZ98OOHfD1VQz1qD+P87dx+wmedKBjDGMUALJPPOK3YAsrazmW61wpXdu2oaTErAAcxEG+hSn7372LGzfw4IGIbWOjEfvwxaOjsXo1tmzB7t2CyCSEIOQQDnWj+3N8rhS7GjweT8W9TNn/yhXk5gr5l8XGJLvIkgzUpk3YuVMIjwQHOBzG4R70tKK1AQ1mnzgqKurw4cNHjhxRsz+Df+3atbt371Lm6+vrOzs7ZQGgurPYIyMjk5OT161bx0pZulSXaW5ublyEE3t7eysqTPNZOc87eIeRNGJ/RvvyZVA2qAHMT767GnzK5cuRmqrLGEdH2UwKHcQgH/Q0ThucZwiAFlqtnpeZVN988w15P1TSkqamphs3bjyb8daWBMASg1rB/hpoWNUsKrWR2fk1vj6FU1OYUtsnMPFIyP2jRjSS437o/sMIj4i593h97A9J2MPDw+XvxsbGkpISVriJz+TkJJmRlEcBYJfJwfpXC4BGiQ0LePv2xdu27RZEOewTl9Odk9NOCeid6xzMb87VkyxRhrJzOHccx41eQKu9devW9PR0YGAgaUhnJZXHxFgbI42Gab2JVaQH5YQK97vf/Y7XN3Gempq6d+8eHbjjT3/6U/n6xMaNG2nPy8tTqwU2bBBEQDrT4yIu/h6/N7mCApYrG1PcBS6sGZ2VzJeeLoqhoGDmlDCEySRlxP7V1bh6VRAHScqENeYCq3Qt1rLSFEtra+uxY8f+8Ic/kBRMnFn55O6Ojg7e+sc//vGSJUt098aGe7h3C7e60KU4u7qKcs5UcenY2NjXX3/NxRk39YvyAUTjLfr68NlnigYkJzOVUF6OO3dUhyBZpKVh7VrF0IzmP+APWciqRKX6tMMYpjBUo5p68Bf4C4PCka/ZyEfd3Wr/NKRRjHdjt9Gdv/0Wp0/PdNbvMSyV7yM8foz2dnzyCfSlRGZ/G2/XoIbyP3PeLuzii6/ESnV0cOwYzpwRTzk+bn4vsidbaSmJDR9+iMREecQTntzrKZ7+E/5p5jwm/J49e/bv309aV4zkRGr8xYsX5WpS+w9JqKur41uzTJ4+fXro0KG4OJ1QeXh4cCkmCamWDzpzu83Y/Bbeika0wVRTg6+/FmHkW5pFFxOnSzxzZSWeP8cPfiDYQMJO7KxFLXWdkTQkjNaIiCVBMFyhQIKPjw+/u82+GmBn/hwWGFRrFfsTqUhlJhmyDShBSTaymaAm7K/GFVw5gRN0w/yhmd80Ly8vReGpnC2zMAi1lKPyt7e3t1L8pmDFs2olPIrMyflJTvtfteOvBEnMAXJrWJjaUIzifOSb9b19+3ZpaenExISu7+EBf38laSwjOTl51apVcn7IuHHjBithJvsr4NCFCxeuX7+uWBgxLsKljPxWrRLcpAcLkgLAZ7V8nvM4fxM3O9BhMCUlQV9vJtiDPSQpdXYhPx9ffIFf/hKnTtnK/pB4KhGJagujcf78+Znsr6C8vPzs2bNkB7WRi8QjXm1hJChk6jQ5d+7cyZMnjdhfjfp6TVaWYMD+fsW2ebNQVSNQ6Y2Dcw3XTuO0CfsrIH3wFShORtblyxGtYijAGc6ZyCTdGLmR/f/wB0Fes/CIAcXF+OMfhb+KuzOQQTb0ha+JbyhCSZGme/Hu3OvsWfPsrwbFhp7Hj6ufOwlJm7ApGckz3d96660dO3YkJCQolubmZirxr3/9a761CfubID8//6uvvqJzTY2ef4GoqCguyGXNTklBSjrSDf3JSXEpatts7K/GtWv45huRAyowhuux3tAXbG90ZhMBkNEtYbZ97OY+ihpaG3xXYIWRsAO5yL2Kq3NOZJrSrRrVmA/mx/49/F0sQe6Pj4+Pjo6adeWQQriOEsw4kfrZWF1AFapykHMDN/iAQgDY/gwIm/0spAq9DhEv8fIZns0WDa1W29PT069iCjizhJ2tCVBcXNyKFSsUO4vh/v37RUVFliNVXFxMt2fPnikWLhKnZqLwcMFNKsIrQhEFTDtX9vCmJSipQIXBFBWFiIiZnluwZQd2GBU5yfT3v8dXX2lqajTSHTU2pkIYwiIRqXQ7OjoYCl7W8izyQkFBAZ9AsXCRMOPXpYqtXm3oVlVVUTPIOJbWbWjA5ctQCS1lPTXVaB0EBSE01HBgdDB6j/DIwqoFKChF6RCGDKbgYAQGqn02YiPDG4Qgg+nOHZw+bUJGlvDkiTi86oIOcFiLtalINXEknZGsF2GRwXTlitjo5k1r92pqwvnzgi5V4F4kXxNHd3f3zZs3Z2RkKJYXL16cPn36+PHjFRUV1mxVX1+flZV15syZgYEBxcgFN23a5OPjY+IcgYhYxHrD22AqLMTt23j61NqrMaV5r0eGB6W2rcIqP/jp+lqWlFFNGQsAC+e3Ksrmxz+QXEw2MS8A5ivHFvYnCS0X/LdcsZShrBCFTWiyZnouWm5jBG8Em2ZYhoGs17kDi0oWAAnXcZ0CoBvyBT7Sy8DOWcLv5KRm8GEMD2LQUvApWvb2hu6LF5iaMutowonR0dHLli1TuiyDx48fW3M/ulVWVqrXiSJTKyBXBanoA6hDXSUqrVmZUteMZkOf9/Lzg6+vUXjgtBmbt2KrwVRejlOnNN98oxkctHxlC/CFr6G0gMbGxrq6Omsm1tTUkBoMt4c/l1K6AQGIjTXiWOoKFXTudVn/ZN72dsWQmIiEBN13L5unZ6+XV28v5NbR29HS2yINmGt6MLxtaDP0qdNeXoZ4w57sSV42OJDscnJw6RJsApmOdxweVgwrsTIRiWqXpVhKSeB2BlNHh5ANiodNKCmhDlNXFUMc4rgX11d7rV27dt26dR4eHorl2rVrly5dsjLnZdTW1l68eJH6rVgcHBzS09PT0tJMPAMQEIxgk8lCGm1CQQFKS9UGisoy6GtWsP20elQShJlMobXA3fYzTa/O/kQoQsMQprZUoeoJrL0/FTkPQsRTbNt2TqQDHxpbJiX2f20CIOJE6s/MhKsr9OxfjWojp9VAvNTiIKShwtKCrMnFWDzrMKWChOvtreu+fCnIoL9/pqPJswYFBYWGhjqrlIYsxvy25o50U1Oek5MTlwoODm5tbR1lnzXm6YlR3egE+rrRPSniPAtcDJ996OuH8eHd3eHmhq4uxUDKWId13tBfeWKClKE5e1ZNN1altDFc4eoGN8NJ+vq6u7uticbz5897enqULhfhUko3LAzh4QbnsbExauecpKOrNlJbWZmiHhQS6jU1kfp+FJLw/52DatLkBIM9G36h+z+AgSEMGexOTnB0VHrJSF6FVV4wSILgcdKr6oJWYWwMjx4JYV63TjaQjmMQQ1pQBJ4cze2MZj14IDRvYvZbzIaHD0Wg4uIUA1kyClG9KulbtWpVSoqBTrq6uvLy8m5Qb2xEbm4ul6KcMOdlC5el5fLly1qtgSXd4e4BD6OZjKEqja1CTQ0aGgTL29nJhhCEBCFINzpDAKS+sLzF3wggynS9ElFigOrS9tYfxhOezOxFWPQCL5hDIxix4OwP/0AEqi2NaKxHvfXbUQBSbRYAy5WeIrG/iQCQ+o9Ju+GFBNm6ePFiarvZVRwkyN9TEoyG164VArBmDT/b0CYLgJlVnIC9kgDESxpwSjU0NISBAaXHmAcj2E/j9xzPzayTmoqEBEO3rg6NjdCayvXMuPj7+wcEBCjdyclJ0ndbW5s1Ue7o6KDnxMSEo547uBQX5AqCmEhR2WyK+wtL7E/8reGTnswuo1HS3GIj/VuN1akiNfTIy9OwjJ89w6uBic1mOLQqGSyDoVN7mqxDdVaFGS0tLU1NTXOuqZE1oLJSUMCuXbKRcaWWkHbICf+N/f+usU7aJPxiFrsxicQjfgVWGDlQhAoL5xPQ6mrU1ioCQIQjPAxhigAsx/I4GCibEReaQSqfPXW1s+1VVSUCpQI3otgUoUjuxsTEJCYm+vr6Kg7FxcUFBQV8u3ncrLCw8OHDh4oAeHp6JiQkxMfHV1RUKD4maaAL9cuXtu3EKZSNvj54e8uGJVhCHtaHQ2tS6YoAHJX7nxlpQInUBGwSgCQkJWgTIhHpBz83uPFWrNJBDHagow51ZSh7BjO1R8FnU7oDGKA/ZcP6uzcCP8P8ccj0GkmIkdnfW2XNmkDWBZmgvyXrDvQx1hL8/PyCgoLMrkw7R+Xv/v7+wcFBw5i7u2D/zEy5R+pnG8bwrKdcJrU4YwEgC7e0qL1Ykyux8hqumU6PjcWePdiyxWBhuZaXm3iZJQlvb28fHx+l293d3dXVZX146cwpwcHBcpdLeUs5+nf8vSw1K2Fc0w5wIN8bmcgLKollHiYiMRCByqimoAB37+KVMYGJcYw7CWXWybwib5ZBNzorXS7CpZSul5eoBAU9PT2MmzXLilfr7NQ2N2NoSOSVhMBAIScUAAl2UrMNpA93uBv6XHxYl592sItGdAxiDKMkVpLawMB8AtrYCGOpC0CAP/zlb8aZTxmBCMMwGZzbjY1ZSF12vzK71/g4GKhftwK6hKTykq+UcQrA8uXL1TOePHlSVlY2n3sBnMjp7777rmLh4tHR0WoBYBqwGU1jHpA39I+n4L9a3owS9U9qlWKq6ZPNWLwJrb6cNismw5ee/Y1hKgDqiMcj/i28tU67LhnJzAxXuKo9+9BXjepiFN/CrQu4MAajl2OSecBD6fajn/54szDKlqPqTlwcPvwQ+8j+AYqtDmd+L9j/gq7/LVpbW5v0KcuMWbVqVW5u7rNnpvK2evVqqr383djY2KIiay3Zn41lChSikOzPv3MfPMO4294uKqG1FXp6TUPaBmzgUgyjwW3NGhw8iA8+gMS8Apx1+zaKiy1TvwwvCUp3QIL1sZb9FQHgUp6enja8lda8mUXrAx8jE+myt1fpLcfyWMQaLvj4MUpL52ComXuZi0svervRHYIQuUtJU2TeMvz9/dVS2oWuHvQoXRcX0RSMjo6OjIxYHyfN8+daRkAvAHxq5bWla2hsjXY4wpU7CrS1UWbkz1CEhiHMSICZ/HV1Zpe8NOemJECufImhUE7svRSSGO4mTwcbHQOSYBiT44y7bQdy/lx31JkH6hDNIADc1CC84eHhkZGRSre5ubmmpoZijHlheHi4tra2vr4+KipKtkRERHALtQ9zgJlgNC02FitXzhSA/03I4ez43exDWhK+4WklNZi29S72sw3swI792L9LuysGMWYdlmDJOqxji0OcL3y/xtdDGFJGqfBOqnuNYGQYwzadTGvrVYyRpHxFRwv2Z4sypM1FXMxC1mmcVk9hQlDYq6qq4igYQGZmJtn/5MmTFAbZwc7Obv/+/Tt37qTay5bHjx/TXzefs8j+27bxk5cl+1/H9bkPqjHKdd2tHz5EQYHgdwme8MxAxhM8OYmTou/oiD17sHs39u1DgF7SmM3nz+Pq1VkpjjJzy9BzdXV1c3MzPNDICNPa+vDSn1w222qWYPFd4xG/DMsMfYprfT36DbIXBdZclOGONTXQx5/cyFwls5BlyLp2sJvUTlIy29Feh7pGNFo+Ax0a0KCwEms7NtagNLO+nkZDNyUfiHrUq/eytxdNwUsJ1seZ2qYZHFTOS5H18FDG7KRmA1KRmoxkV7gaTLW1CiUFICAQgUYTmPl8AnM4as1+93twv1clAO5SEwJApfeHv5EzpUhfaJhV2fKBjRxsnjnSTBnrUPUdpX253ZCDg0NwcHBgYKBaAJqamvAK4AotLS2KAPj5+QUFBTk7O4+NjcmWJjQxE4zmbNyI0lJwX1a3McYtKPnE7IcQhD/9OgVAOcReuH+Mjw/jsAMc5lwiE5l0I8X/Hr9XjIuwiE3pTmKSzfpjvSL7GxAWpmf/KMVGXib7H8Oxme7379/Py8uTBSApKemHP/whU4cs39fX5+joyPfesmXL3r17ZecbN27cvXu3q0un81qyP5sEsj9bG9owV0abQOd15w7WrNEmJ0PPLBQAmcUKlw/o2H/nTnnov7P19mqPHcPJk3j61Pw+t0xL1lmC0p2QYH1cTfy5lJOTQe9h67UlkNk3YiNJymAqLsajR4Zd4ByKUFK8weHZM/JXGMI4MQUpcYjjtw98hABctpvABAWgBS01qClByR3cKUf5bLtXoKIMZZuxWe4uWbIkPT1969atubm5Fs6ckZFBNy8vL8XyCI+4lNI1LlIslmB9TDA+HjM+/iXwY6nnwou5KGPWCYC+lpzgtBVb12O9Yai5GY8fKwJABWXojOYyt/XprYa1j1pA9u9V9fUCAFCk2Yycu7vN7jXLlWYegezfaWxZKmnAkJ8EI9eOjvb2drwCOjs7nz9/rrZwCx8fHwqD3B3AANOpFKWrsMrgdOgQKwdubsjLs+ZKc+C1C4CMbcARHPkIH+lSZ3CQtMIbg+JGVvf0FKyqJyYZLJtmNFeishCF5o9qy+Hmxf7mokfNl9k/Nlax3cZtUj8FwOwqT548uXDhAt/ywIED7K5evXrVqlW1tbWDg4MODg4hISHkBdmztLT03LlzV69e1c2U2X/5cn5Wo5rsfwM3bOdAFXJyNDz2v/pXSkD2Ym/7jvauPW7PyP6qG6GpCadOaU6cwIMHswZ0BomZMNFLCdafzsTfQcIcjxJvKkJqhCP8MA7vwR57JSfr60HyvXdP8QlAQCACDUv39KC9/a2R9N3YvQ3bjJSDa5wB2cw31TcGMRx9iqdUiEu4dEYMzDimFkzgu7i7BmvSka5/0u3Pnj3j05eUlJg9c2pq6v79+3fs2KFYuAIbJUe5/fi4qBsFbm5u7u7u1seZdZPCZogzVI+mmTu3VLW0H/sZKMbZYLp/H4WGgvWAhyc8DaM8+sCA0eltBtm/R9WlXLkBrsAI92Iz3Yt/ra2YmYTZKWmAGt6SBjyjPC9daiQ2vb29PT3qg9l+sd7evr4+tYXMwI0UASDu4V4uchORaEhpMtKPf4yQEKxYIRK7tPSVNECrFc0wXfRtvYipACQDBylU/OFSFKtr18RBKyrQ1obRUSEAZMCoKKxdC9IQlUCPTdjECysC8AIv2JTRRWLmIivPpJm/DKjg46Nj/8RExVaAAlI/2wQmZpt39uxZMuPo6OjOnTsp6RqNJiYmxsQnNzc3Ozv7+PHjIyMjoh8crM3MFAIggezP9krsTzx5gosXERqKvXvlcPj/xP/gnoO9u6O/cnIaVNxYwOfO4cwZPH5susIp8ZCzYZEEpauVYP3pTPxNVrPp5t7wJndnIGMf9iUgQWdlsl28qKG+qmTGF75+8DPM7O090NPzAX78Lt51gYvRolNAtpggmpSklAG2YAS7w/1rfG1aKtJhr+P6cu3yEITQjV0PD4+PPvrI0dExJyenqKiopaVFcQ8JCVmzZg0z5NChQ+R02diIRgpMjiZHvTBprb8f4XrW9fX19fPzsz7OPpQZQBEAOzvRVHxqZ+x+aTb2P4ADH+CD7dhuMFVW4tYtoQF6MIZGYeQTyOk9f/RIGqCGu9RGnOH8ynuZEOa4pAE9Eu8T3cBV4KHY0t1deSMZQxJe5WIzV3CToLbUo/4yLjOdDuOwwUrh++ADpKSgoAAPH4qyJbvqU8ucBvx/UoMZUpyeFk3pSX1bL2I/M2GaEe1yywXt7Th5EufPiyyZnDSaRAt5p7sbf/7nCAiQbWEIo9aFIrSZCwBjGGNTZjjBiU9u08k0NmiAadC0np469l+9WjGWovQYjpH9hzDH2586daqjo6OioiI1NZXs7+/v7+zsPDU1Rc1vbGwsKyvLz8+/fPmyIQNI/Wyurvy8gRtk/2pUz5/6FTD4QUGM8IY1a+4C/z977QFeVXalC/5XCQkhJJSFAkIRSSiQRQ4iF1DkcmG76tnuZ0+P3cndM+3vven3+OZ989kd7A522+5yV9lV5aIIRY4FEkkkiSAJBRQB5ZwllHXn3+fce+65VzcKUe35pn8WV+ess/fae6+91v/jN0hCEuWZjfIhMDY6KgbI1txsOjfZVsokvPYWLSGd/982dSYAcao707Ak/OEfichkJC/H8hnQ9Y+GiT1xgtcgVFAFX/jSlNdtPT3v9uwir6nH1KGuAx0jGPFo9Ag+E+wb4Is/glJ6b+EtUuggBk/gxMRNN6P5jObMTMx8F+8GI5j1FxIS8v3vfz8lJaWwsLC2tla+cRJKeHg4natWrVIOw7I/juOncbpdcJABLS1Gl8OJc+fOZTkNDBi6wwoWQbPQWtlrLMqtqnmorDyREQ2RcK9cwbVr6hlucKMZ3tn1Jo1vgXoto8OCADSZrjU0JMxhmGzkn80Ocnd3Z8LVnsHBQTvzbwmDEkxWIUyGUQC84e0Cl7dNuiEmRtimTSgqEkpcXo6qKlRW8kErcbqF9MruP9afXitMjykQABlV68JndHb6HjmCzz5DXh7MEjGFizmNisK77yq+KESxmWUBIMn2oEf5xKZiIvDVYPp0HfsvXar4SlBC6qe1oc2eGHfv3n306BGbnO0aEBDAqx0bG+vq6qqrq3v27Fl9fb1h6NKl2owMLF7MxwY0kP1pU8D+EmacPftWQMB2P7+2uXP9Jc9qNi/QVV19XKZ+tvEfHMSW8sx/OqRoAAXAHe5+8KMGGHFYSYk41NmzuH3bZDKriCY/k3r39/fv79svv77Cqzu4Q42vQlUrWikA0zE9rDAs+UzyGv81Ue9GKUG2YRs5mjpxH/cn7o8RqBADGKBUpGpSxWrdWC2BDd/X1ycuZcYMQ6u7AqN4jMe8jJM4WYxik4C1taipMbw6OTklJiayrnJycmzmkWpHXVxC3TcPJ8msUT+xHdvJ/iYyiTNncP48KirUPt6IRh1N8InDhGIMWQDGpX3KIPsLmXeGM83sWg62jtbmCFcJas+IhNc5GKePjo5aX0UGOWcQgyy5rdg6G7ONvgUEYP16Ya2tOgEoKxN6UFysLS21nIpfmb0gSQ20jh7Exax3D5nl1CmZ/dX7MAqfm4v8fGzfDm8ds4cgJAhB8nMHOnhmZWwgAmksL/u3GCsd9I8dPZCrq1Zm/5UrFR9JQWZ/ErT9kYaGhh5KsDbIy0u7cSNoEmT279P0Obprs4hD3M7mnTtObVw3ay6+A/jo/FvuoevCg64L564WXp2ShaYcVu84zaz3b4FvFRWVP3lSeO9eT1aWaIYJ8ITnDIk+CBL//v40p37BLEUouoRL13E9F7md6FRPSb6eXBRQtC9g3/KNyxXnFmwpQ1khCvtg5qae4Ekb2l6Evli7dO3yhcujL0dTNAh3CUZDT6L8/yy///j+rdxbX3Z+aba6qqsFzXZ2YtYsnWfx4sXLly9nXY3boleKEGtL0TyYtjz7crr11JN0DuEQBcDIe+4cTp7EjRv4KiBrgE7jJQHwMjNKcJf2De1AI+FNn9Owisb0Is7ibD3qK1G5DutWYdX0ibdGJaClp2NgACUlKCoS1Pr4sTYnB8PDFnXRuBqkF4cF25wAFBSAHXjvnplDmhTYy5eoq1MEYJYocl2ZN6O5CU3KQKp9BCIiEfkCL+zc2QpgpX2ZN3qT2X/dOsVRi1qZ/e1f2n7o2D8khM8P8TALWQ81D6ck8gqs2I3db+PtuGdxOC11+rcxOk26sA+w9/zero6uLnSR8qb8UG+S/S3ir/8RlXnuZXl++UXh9xF/Aw2v8MpkjAc83KGj4D/j/20z8X/w/LlHcfQ0Tr/Ey4lhyfJ1Z+qG/YenB0xPTU2Vnew29uF93Od9mdmKi0vN1pR/Xzfv8Yro5YvC093wTUub3oefZgTefxxWeG8ubsTjRoPZUYWFoqWUkoyIiNi4cWNlZeWFCxes5G4/9u/F3pVyE+TrdHN0VJgef2s946ux+iAOmmH/I0dw6hS+IrQbC8AM8wKgwl9Z+rBRlwR7MQD8K/7hqzqnKYxl4BEelaAkD3k5yFmCJQuxMBCBZmZ5eGDRImGbN+PhQ9y/j+xs3L2rvmQD3xmr5tQJwP1O3H1p5VyGNTs7QRbSg8rGFpWfSbs1qOGGnOAke+IRn4hEO1l4nsT+KY6eRmb/TZsURwtajmmOkSDKtGWYamjnzRPsv349n/vQl4nMTE3mlETegi3s/33YpxNUFoAHXvi8uPju3B/w9Xdw1biSHSgAtHKUq6bqOC4Z+rwbocDoz5tBnX2fNRpMmwZvb7i6Su9/gRhNTAxiqKjZyE5AwlmcrUCFeqorXN3gZnjPRnlQ+YniE5/i0za0WVqwc6jzzLkzIaEhMTExnp6espNNloY0MwIQGIh9+7BzJzswz9k5T3CIXOmdLS0tr14JTZoxY0ZwcLCXlyCyD3x8kJGBJUuQkIDwcJw8if5+k5CPHyMnBytWwE2/97e2v9Ve2z5eN34p/5JhnL6vIhDBAqD2v4W3+Pry5c3INJ16DA0Js0dp4xC3G7tZQk7qQjh7VrD/8eNv4NotwVUyBS7mOUeFw1a+7bZbAwZ0gf7DBECGwtZavMKrK7hyD/cWY/ECLEhGchKS5mHeDCGKExASgl27kJ6OBQtEaV28iMZG02sXhD8+1QJQCDwAKu2bPTyMkRFVLBcXfcBhDLN7yU08oexhv/Hk7O0e9NgMvApBK+HuSIIh8vW1r2m3b1e+kBxJ/cdwrJCn0pibrXU0XcZTyf40CWT/LE1WAxqUAREREQkJCeHh4d7e3i4uLoODg21tbS9evHj69GlfX5+VyGz7d/HuO3jHRXU72ZnZF30uXvRZ+yfbtomltQjQBMga8BE+os7pBx5W6PV/akwO/c/K0x68QZAxWy19uyqZSgDIn7NnIzYWaWkIkK5jGqYxrRGaCB/4kNnLYFBuZzjT1PGu4dp5nLfC/jJqa2tv3bq1ePHiTZs2yR5/+FNjIhH5Ei8N4/z88PWv4913tSR0PfLz83Nzc8vKyhobG/slcif1h4aG8nLT09O186TynjkT+/drAgLg4YGPP8bgoHr1lhbcvo3UVGzdqndp8M0d3/Su846pi8lry6tBTb+2n9oWhKB4xC/F0vVYz37huM7OTQ0nD0d+BBSLeQMDwmBH6W7F1h3YMRMzDa4zZwT7nzjxJi9/IvyZVtVrt2QTwGrQ6KrV03o8T/uWHTA8aiW86XPaWEXfij3anuu4TiMxJiKR1x2L2BjEULB5+6azAgNx8CCio0WTfPEFSkpMloRqRenF4WNOEIAHkk0FSlBC5lUEgEK3BmvoOYVT1ieuxdoMZDA7Diy2ejX27MHbb4vnHOADFsAAqZ/2CI8sztLY1UsTIWZkZAj2j4vjI0kqU5OZhSz5q4+Pz5YtW1atWpWamhoZGTlr1iwKwMDAQEtLS0VFxePHj2/cuEE+Mht5AzaQ+r+Or6udJ3HyDM6cP3W+26ed0TXLl8sawNJRNGBYMyyN3SPvztVV2A4lxGgWRkfxVYEaYEa9n0k2ASEhSEjA0qUinUyqjDht3NfwtX70/xq/7kSnfFMSSRhE7Sme3sM9tUJYwaNHjwoKChQBIMj+czBHFgBdCezeLfpNxf4nTpy4dOlSdnZ2VVWVScDExMS1a9e+JUH2aNeuxdgYenrw+eeqlhe4dk3XxSkpOo8mTPP2jrcX1i8s/m1xIxpf4RUFgLIUjegU6AYNDeHkSdfUU67QN35fnzCbWIVV67COnGJwZWXh6FHr7D+OcZrh3clJ2GvBXRIAlQjpBWBMZGrM4BbK7jzJReREfwM4DESb+T4qQe1xlTA8PDzpg7lIsLzKX0m7mWGFc0pRSuMjb5yNzMtKQMJ8zOftG8k2sWgR/Pzg7o6PP0aZqtrFdY1bvL7JC0DZpNNihCd4QvIl6SvKRnarRS0JiwJoaVY60vdh3w4Vd9mBZOwlE+7VvS3DWMPY0Yajx64cI0HYnq1xYCUdU4SGCrqiSchEJk1+Dg8Pf+edd95++20KgHqiu7s7lSA+Pn716tXz5s0LCgo6fvy4SXAWwS7s2o/9aufv8fujOHoRF8XlnjpFAcCsWZink9UlWMJ80jhGdR7tjBnw9FRFGRwUpj6IBEwRJkbT2p3XRvJfIx48wPPngjyp4zLYGNuwrQIVX+ALsyJdhO6naLJzh+3t7ZWVlXV1dWFhYbInGMFyZepir1mDbduQnq5MOXr06KeffkoBMBuwREJra+vY2NiuXbt03g0bxGF4kpwcdQZGRnDmDGbOFCyXlKT3piM8PTwc4Wbjd3ZqTp7ElaMe6fc8FGd3t0iRTaQhbSmWGt7b2oQAXLhgfdaI2OaI4d3VVdhrgezvZ+zRCcCQULchg5vs5qE7ZoGNmMbfVUU2w8D/qeohgxLUHjajh4fH6wgApzOI9VWUygIqgVjTbes/VqGKdgVXIhCRjGTeHZt6OZYHItAwPjISBw6I6//lL9Hbq3O+EQH4EPgIUwIttHdxdzEWH8ABxfkO3tFA4w//O7jTgAb1+FCE8thbsIVcPgMzeBgn/A74tq11wjBrj2D/mTOVfGt3HnvVcKy94QaeTs1ZTO4TGRmC/SWKpZhlajLLJNmcOXPmwYMH33vvveTkZHlgV1dXbW0tS42fYmJiNBqNt7c3FUKuvzNkBRXWYd1mbPaAoeHJfZ/j80vQc1BHh9AACsC3v43gYNm3CZtkDWAN6edp/Py0vr6q0KQNpW4kjElQXp0k2J8KjQTldVSC2XTZKQOvXoGC6OaGkBADCa/G6lzk3sbtFrSYjOdhioBiR66voaGhublZEYBZmOUDH903Mt3KlVi3Thl87969c+fOWWJ/wwV98YWXl1doaOiiRYt0LmpAQQFyc2GsiLW1+OwzocI7dqjXMY/8fM2XX+LcOcTd82IvKP72dlEC1uEHvxjEsJsMrrw8sZ/+fhtXIC7hleF9+nRh5mDnnUoC4G/s0QlAH/poBreXlzAJh60F/Acr7K+aeFo9qq+vr9e4+L0kdJNPJ4sZEkxWISzP+DrwmZnNq2qkBjW0a7i2DMtWYRX7ej3WGz7HxGDLFpSW4uxZnYcFpqox6UXr6EFczPi0DtywdVAAEpEYjeiFWCh73OH+Ht5jga7EygpUtKFtGMN0BiCAwxZh0QqskEfm44uFJEAbAkAKpl7sRUSE+uguLkd37vyygQrTgLa2KTiIUV6XLhXsv3gxH7lCJjJp8pfNmzfv3LlTYX/Sx+3bt6uqqgYHB2fNmkU/B6SmpvLTrl27SEaVlZVFRUXy4DjE8eITkKCsk4OcczhnYH8Zz5/j5En4+AgNcHeXfUxBl7arS9P1AA9kz+zZmpAQ1a5JG52d6jDDElQZE7A/ISbjTaJZwDPgHeCglRFZWUhLMwgAkYxk5kQWgFEKDXQyI9hfo9FqHKjUbgnKK+nNoLW8soUL4eenfL1///6NGzfsCZuVlZWWlmYQACoYn3nL+fkmI1++xAcfiN+nT0X5JCQIKVdjaAhlZXj8GNnZIhXkg+Xw84WvUn8tLWhttbGfIASFIMTIVVGBZ89sHqQHPd1QcaKHhyizadPEtiYJP0sC0IWuTqgK0tkZvr4iHZ2dpy3ST6aVlb5heDQlwa6urk7j4veTUFdXN9lzcbO+s4wvj0tMRlE0pvslH2YjOw95z/GcWdqDPYZva9YgJwe3b+t6eXxcmB7Sy7ij61vo+anTgIu4GIxgb3iT3xUnWZ7Gru5AxwhGpmGan2g+Q/tdxuUgnBR/J2bICHuFpabqRzzEiSU4wIdzERGanTuFAPzud5PZtsUlvbwE+9MkZCErU5PZB6H8wcHBK1asWLt2rfzp9OnTn3zyyYULF0ZHdZwVFhbW2Nj4ne98Jykpia9r1qzJzc1VBGAe5iUhSb3UbdzONFv0T56IVmFzHjokO5zhLDSApY6uUpSylSIjERioTx2pualJkIcKAwMDr169Ul7dJdifH5PxAxLMjuQBDgN37Avb2IjiYqFxUVE6z1zMjUCE/DyIQZr8vJwC4OYGmt0YGhoy0jyqmFL/0dGIi1M+UbN5L01Mmh2oqal5+vTpixcv5s6dq3PNm4eYmIkCQPT2Cvl++FAIBBcMDdVxLHu3p0ccv7ISBQUama5nYiZ7h7/yXF4XB7S12djPLFEcKm4aGRHT2Am2wGZsR7uRy9+fZYTaWpORrKq59qQm0l/SAAX9VJmXkoS3olUWdQMonLNnw5ippwStEtSeoKCgkJCQgoKCScdkhEBmxuoq9sIcw5FSjuGYK1yp5elI13kpk8nJSEjAvXviVasVpseUCoBCga8tAw1oOIETPMl+7E9AgvpToCiuwIlTLuESD/9n+MKO8J/AF/+iew4+ffq7Sz4PCTsYJm1em56uYdnTrl61HUhr53lI/RkZoliF2jwkQfNX/pKQkJCSkiI/l5eXX7ly5cyZM+qpdXV1Z8+ejYyMlAUgPj4+MTHRz8+vvV10XRjC5mCOMrgYxfnIb0Sj+W1kZQnmoG3fLjson7IGfISPYhKbSEEGVFeTpUwC9EpQXmdIsP9aOdjT01Mdra+vz76pGuspr68XaqUIgD/8fXnH8iro7UEPOVF+raIYz5xp/541EpTXMYzRdC+8UJKxHg0NDbws+yNTA+rr6w0CwFBShegPa3pS3oZ8Id7e4g6pYuxd3oak0YYdUvxESehnm7tGM5iO6Z4wXI0Qlq4ue07RjOYmGGseD0KbIACQRN023vLHEn/Ve/c9dH8gPbGw2ZpGg+fMQWQkiovtTbrd1DQwMMDbaWlpUSg7PDx8zhxDr00CYWFhoaqCaWtra2xsfEWJhpR6TzNT+q2EY+eZ654buLEESwwCQLDGwsP5N5f/BeGPS08yplYAZGinQANKUfo7/K4TnVuwZQ3WeMDD0sgqVPHMl3F5BKf1bWODmX3RIVXjz8+dw+efn286HfI9fM9J4yRrwI4dkDWgqEg9STPJc5JWKQAbNkCS6CxkZWoylY8siIiICPn52bNneXl5EwM8f/68oKDgxYsXMllwPGfJAuANb4XpIAknWcLaZk6d0mnAihWyIxrRsgY4pX2UkjJoGFlejspKEyrq6urq7OxUhvj4+MyaNcv+O/WRAFW0LvtYxqYSUEf6Vb1COlMKph3tbWiLQ5xump8fAgLsL08PCcrrIAZpuhdqCclYD+pZd3e3/Sfh4B7yrAKGMlImkz0azstFVOuYHmUe5sVqY5XXqirWj/7lvMXNuMGtHW6q70MYGrLnFHWoq0UtScQJTjoXGTk6Gg8eTBz8vs1wrq4ICsL7gYrjKdrO8w4lUGxe4AU5YRb0VRcbi/h4XLz4eqxjni6qq6vZdGoBiI2N9fPzk1vPUbi7u0dHR0dFRanjE/KzkMY/BoKMpuQDnzm+UD3qK1HJmveHXkcDAsCyl1fRanGNpj671tElXCaZZwfxHM9/hV9RCXKRm4IUUlUgAmdghgYaNmEHOlh85SjPQ95d3H2KpzsdjH/pEo4exYkT+X04Pxuz38bbst/NDYoGdHRYq5JS0W+2QPbPyJAfM5FJY2Dlo7e3t8Khzc3N9fX1ZmM0Nja2tLTIAsDx3nrecYGLi+o6hjFsoKcJYHtoef2KBiQmysdapFnUtbCrcVlXePgR5Zia4mIqkgnHtElQAgYEBLA9nJ2dx8bGbKZBo9FwvL+/viilaLpe+hv+/xG732jCDeCOlXj/A/i/LX3TijLXHaQJTY1oNHxjP4eFab28NL29sANseLXIkXt7oGdtZ2dhyqISYDfGx8eNxvMmVdEsK581+MI3FanJSFY8paVCynU4bHFiI5wOKwzuCEYwUoUqMo4isYKRExKEOtqXYSPMmYOICOONNfIGldcKVJShLB3punfyWmoqkpLAcrUJB/WhsrKyvLx82bJlimf+/PmpqanXr1+fRKKSk5MTExOdnAxJrqioqKI+S/gr/h8exneGMctT9tRiWincMSl0oYuFahAADw9hwGX+7x3H5XHV2HHJHMMbEQC5Fci3/w58CMhFSzq7jMvZyE5EYiQieSRPeMoCwEOSSVl8L/BCjkDidnU1MDXZkGZpuatXBft//rl45hIUgBCELMVS+WtkpE4DPv7Y2p5/QXqXbIalEaR+CgBbAmDhkv2zkGWUSgm6DQ8PDw0NmQ3DTyMjI/KzqwT1Gd31hcIHXrWVDYsW6OzUaQB5LSREJEuLjD/NeLGyS1SOPObRIzx5IkYagzrU0GBQLyIsLCwiIuLFixc27zc8PJyDnVUcx2hNTVJvH8YoRkfxf03Tb97tLqbdsx7PiK2mT5crXIdXeDWAAfm5GtUv8dJoalwc5s3TPnxoDydwz7Nnz1ZeW9DSilblVsD7ctcl38PDYzr3YTc42EO9aYaycPv2YxVWpWvTqUvya0kJiorQ0aH//MTixCcin06TW7QUpSUoMQgArzgtDYsW4eZNh2PxamJi1A7eXQ1qlFcuVIQigwAQS5Zg+XJZALQTLzRTMhvwFso+Ac+ePSsuLu7s7JzFTpGwaNGiJUuW3Llzh/3o6MkWL168YMEC5bW/v7+kpIRLGEZ0dYmr0q9FrgtEICYLjToTWq0wHUwYfzIC4DTpbdmEL7AH2E1p1zm+zv996MtF7nEc/yV++ff4+7/D3/0L/uUTfEI+VdifIKfRFPSgpxe9Zle53oHPL+jYX8Z5nKfVUnf1WLFCaMCmTdZ2+6+SBtAemf1M4iD70yTo2F8zlemiznfCQNOsGMqY7Wnka2oAbWBAt51/wdy5e4GLugH37iEnZ+K8tra2mpqaLlaqHtHR0bGxsfZsNSYmJioqSnnt7e2tra1taWkRL07odertduqGk5Ns/v5OgYEyJVkyIwQFISDA8NqBDiUtXeii9KrrBCkpWLgQdrB/ZGRkfHy8n5++GEEqqqlDnT773VClIjAwMDg42P67CwkJ4RTDO0N1m6EhHf4Mqns2jyRt0ibtpnVYp3hkHbcPzpLZkxVTFKIwH/n96De40tOxciW8vBwL5OIiriYpSXG0oa0c5equrETlEzx5jueGWQkJWLtWrChBK5kjmAa8Y+lbfn7+E1UG/f3916xZs379ekdTtHTp0pUrV6rrPy8vj8FHR0cNgxoaUKcvLcADHtTUBCTAcfjC11uomh59fRQc/QvT89fSLctGuf29o/HfiAD8DBiUHmL1GgDsAvbZeaFubggPJ+UaBregpRWtE0feBsj8RwF18jlY1oAxjCnOnTuFBiQmWls3C/i5pAHMYpPJN5n9PT35eB3XKQClKJ3apDWisR71ymsMYlgxnvC0PTMvDydPUgNWGFyi838KJF6/jps38fKl2XlVVVXl5eXKa1JSUmpqqkZjmzVSUlISVamsqKhgKOW1CU0NaFBe2Snx8XLmbGP6dMTFQdVcZOg6dbQiFBWgwPA5OlrQ05IlNiMvW7ZsoSQVMoYwVIGKKui33dgomlalhfPmzXN3d7dvz9M5mKJocNXXo6nJxjStBYbTIlobvQ/7dmCHRs/gpaVCxwsL7cohcIpXpGd//oYCv7Fz5gAGHuJhDnIMLkpmRga2bIFDWLVK8LiPj+KgrlBdTEY9wIO7uGvk2rwZ27djzhyTPNkBjcT+RgLwQPWcm5t7//79fgN7sqE3btu2bf78+fYfi0q/devWDCZEj/Hx8ZycnEfUZzUqKsSdqbAES1ZhlWM5BCIRSeXwg5/BxbpqadG/DDoacCLeiAB8CVzRP1PN96xfv2fPPkkLYM9tpqWRjLTOzgZPNapJBBNHyuw/MQ3kCFkDFM+0aUIDaKqaNANywMeSDNBuKt6lSwX7L14MiabJ/llCLEwxPDw8NDSkX26aJfqgn1/l55GRkVG9dpGMymGgYw94LMfy9VhvV8Zv3Nhw6tR7Fy92qXx7K1/svXxj9tUcS5NKSkqKi4uVV39///T09DVr1lhfavny5RzGTlDHKVWV+3M8r0SlOvOkgnXr7DoHeYNpdnU1eMpQpo72GI9zkduGNsMIXs22bQgNtRKW1M+mXcp71IN89BRPhzGs3/RzqLTQw8ODgrF27Vp79rxu3TomxOi62f8qRbQBrZEtxdJv4VuHcIjNrwzJysKtW/hqQEa+jdsd6DC41q/Hrl3YsMHeEFRlCobqyqkrvDXencnAPOTdwi3ehcEVGIi9e3HwIMLDLSXJAkj9XwMM1EwFvqz63NnZefv27Rs3bigeNze33bt3HzhwgPptz7ECAwMPHjzIKcHBwYrz1q1b2dnZjY2NRkOrq/H4McrKFEcSkrZj+9t426G72IAN6YJBVWBpvXihdri6uoZLcHFxgeOwY45WElfVm01cBaJYBkAyXxYtemvfvu5Z+wcHcfmy7bleXli7VrtsmcHTic5SlJIfJw7+FfBrC3Gu4MpszA5ByDLoYs2dKwSgoQGffmpjD7lAqWTPSC9eXrEUfLKMBLI/rRe9E2exwtrb24OCgvhMfuSV1NfXTxw2e/ZseYw8patLR9pFKGI/kPG5Z9mzBVsoe33ou6kSo4nwgQ9H7jy1c59PhjvlbaXOP/fi3L0X9nb1d32ID9mBEy+0vLz8yZMnGzZsmDNnjvxl48aNVVVVbW1tamFQIzo6evv27RtUXMDSz8vLU4/nQdjSGcgIQIDs2bwZNTXo7cXt29bSTurfsQMZhhZGBSqYE8q/4iFl38GdhVi4H/t1LkrR3r3a/n7NF1+IxpuAlJSU/fv372BoQwK093H/IR4aBhUVoaBA3LK/v5KKly9fdnd3P3jwwMqeV65cuXPnzk2bNhlcra3IzxcBHUQCEtjt67BuK7YGIlDxnz+PK1egUli7EBMTExAQMDo6WlNT09zcbP/EbnRnISse8e/iXYP3wAGMjlIYRQ+Pj1ubn5KC3buxZw+8vRXfDdzIRraRqOhxDddiEBOBCF/46lxJSfjmNzF9Oi5dwsOHE6cYExKEVLDCuGL0NrX7srEAENevXyfXs4YTEhJkDyv/G9/4BvX+4sWLt6xqbFpa2rZt2/bu3btgwQLFWVtbe+3aNbWoGHD3LhYuRHy84tiN3aMY9YIXj9wMGzfCpt6BHXuxl6Vu8La1mZQWyy8jIyMiIoLPLNfMzEzr5ToRkxENe3BF0oCouDjP/WzV/e8GTndyEuTOO+3rM71BBV5eWlYaW1Ut/2xUssAk9nAe50mmNJaXPl8gJ1MDsrJszO0BTskyQCZYvnGjT4gH8AiPyP5GxKECq4F3kJiYyOf58+cvWbIkJydHqzVSTLZlamqqfGGQ7qyurk75ehd3ed/qxuPzNEwLQxgJa6IE+sM/DWkrsIJsuwZrxI4pALMAsQXgz7Dgzxewhqign+Ez4Zmg3iyXO3fuKAIwc+bMgwcP8uHSpUv3798fGhpSRjo5OS1btow9cODAATKLqs7vmtQc6ZUHWYRFB3BA9mg0ePdduLkhNBT37plh6eBgUPK3bMG+fZg2zeC/hVv3cM9kMKmEXBmN6AXQt2JqKpydBXffvCl4vKmJPldXV2ow23X9+vW7du2iJCsR2IGkpFrUGoKS1LgzShB3IMHNze1rX/sag4SFhTEVE7WcwdPT07du3bpv3z5nrq6Ae2DzS/duobuE2xnOHvCYiZmUyXCEkwSTkLQYi+djvnooueXUKVy4AIfw9a9/nSLNnY+MjJSVlZ0/f/4md2U3KLFzMIeNQzXSudzd8a1vgfceF4fcXDx7hg5jNp85E1FR4iLYY7xIfYUTRSi6gitsHLNr1aDmHM4xCe/jfRclYcnJ4jYZkJnMy0N5Obq71bNEcgMCNFxl3jwsWoS1awXbqnANeZfQbNKoY2NjJPrZs2f7+fkFBuokNioq6rvf/S5/Fy5cmJ+fX1VVRb2UK5+37+/vP3fuXLbz8uXLmdII1bkGBgbOnTvHTunp6TFzsJISIZZhYYLO9CAVspd5xeSQEpRUo/oVXqknsSo4IBGJS7GUTb0aq41iXr+OO3eEEksgmbzzzjsUsFmz2PNob2/nbltaWp4/f27/XdsnAHrG1tod9yU1ICQkav/+fRSAoCDO/trX+JebFndaUKDt6jIaz7Zn8fAema41awz+JjTdxm3Sn62tTYAGrdpWWQO+h+8ptbVzpxAAGmvYJkowr/RsRmn/htJSbNzYl7kg01IdSzde8vTp002bNrFuIiMjSQ2tra0suN7eXnkAK2n37t0sI/m1qKiosLCwQ9VIPCaJYDZmr8Va2TMd07+Bb7AgyO8VqGA2etE7jnFyRyAC52Iui2kJlvgI4geY0tNCAK54158IDf1Qys56zfoudHVpuy7i4sQ9P3r0KCsrKz4+fjG5TwLF4Hvf+15cXNzatWupT93d3dQwCgNLn9K1bt06NfvzvJx+754pR5NBYhEbilCKk+yZMQPvv4+EBKxejYoKNDejv1/4PTwEq0RHIy1N3L4aZA1aIQonbvsCLvBaZ2FWJCJ1rvnzfzR3LpYsAa+quVkzOjp9+nS2OvWYNK2em498Tv8SX5oGvX1bsFt4OJYulR2+vr7/9b/+16SkJKaisrKSrfXqlWhXRg4KCmL7kTLIC0ZBmAq2PbtUwmHzlfJ9shdb3R3uFACqOBMVhSgex2Tcl1/ixAkcOwaHwDuiSL/99tvyK/WP+kReq62ttT/IGZxhUbHMlmGZwcvmXLBAx8iNjWBhj42RJuHlJW5xzhwkJSExUR3nOZ6fxElS/ChGLa3FsveClxvc3sE7/NV5KdjvvYcVK1BYCDIaRV1ejlpLNaLeBARoSa+xsZr5OsmM1gdk+cmLTlyL5Hjy5Ene4KFDh0iXstPb25sqvmLFiuLiYtY825YXzbL38PCgVFDpExISqBDqOMPDw8eOHTt16lRBQYHFJJ47Bx8fuLlh82bFl450yjyLsBzltahtQ1sf+pgcJzgx277wZfuzdxZgAWvDKBol/OJFZGcrDu6KtS2zP8GtshrZj29AACaBGbi+v3HO/sagmKZViJF969ezT7FyJYqLUV1NyWIe4eIissSrJDuwVfmggEwn9ypzZGUptSyZiMFTPKUGMKd7sEf2kHEUDejutnmMjePjG69eFaxSWppZvTGzYWMDAsyLT2dn5927dxcsWLBlyxa+bt++3d3dnZfE+xgYGPDx8SGVZGRk0MOvo6OjN27cmEidp3GazcBqUIv/Qiykkfqb0dyPfqaF3EHiCDBsRYfhF8PnTp77wrvxxLe//ZGnp8iMliff04lOysBd3J14wkuXLpEo2QOxsbGyh3RP+ti2bVtdXV1PT49E3zM4hm2jnlhdXX327FlON5s45SCseMVJaqV1dqK1FRKXil5mG+o70YAsZJ3ACdKQ2eC8PX6dhmmkDFKn7Pyxp+dQRgZo4+MUADc3PZUY18MxHCM7DGHITNwzZ0gGoiKZbz1WSGhvb29ra+M9SiXkQRWkPJhOz8nB8eMiiB7/3WJdUQN8rJQd2ZVVd+ECTp8WpOcQZGVSXnlrKSkp0dHRDgkAy+wojvJhEINroVLmUKpVqHjoY1P26QSA8m5cGzKKUMRUM041qq0vdxVXWdVcdBd2sVvVhxGmXk4WAEoOHyRojUNdxmXWHm95GMNm13r06JGTkxMZfM+ePUyL4g+RID+PjY1RAFxczNNjS0vLmTNnTpw4cf36dRt5PHKErS6I5q23lBS5wIUaQBPHQh9PrQiAj6WqyMoSpXXypNrHm/ViHlRg5043dxFW8MYEYL+wkwtOTsd0Xu0arJHdAQFkRmEtLYIIZAGgnDPzTk5GAZgUuVcf4ZH9y2onaAD1gyUVghCFiXjpsgZ89pn1YBkUACCeTzU1ZR99lIVnWSiVfKvNT/jyyy/Dw8NJplRmvm7YsGH16tWk0cHBQV5VmErcvvjii4sXL1ZUVJhEYEF8ik8HMNCGts3Y7AlP5RP5lGZlu+y3TGRezr98lfzm7a197z3l017spQDQilFsMqu5ufn48eNsCfYD1Uvxk0CjoqIsrVVcXHz69Oljx47V1NSYHcC1fo/f8yCtaOVBSNbKp1mzhFlCD3qu4Mo5nPsCX4zBIvmVoOQTfMJ07cCO5VguO3VrsJLMsT+TcwEXWFHUD/NB29pETQwOCoHatEldkX4SLG56ZEQQ9vnzvFdR1q8Brpybizt3QG7hwyRA2nIlKavAV0tcZgXtaP8dfsd7ZLo2YmMAAow+k/RpFkDZuIEbvMezOGuT/WXwdjrQUY96rkW60Jj0sdXlZLC2b+EWtYS3bKVyiNzc3J6eHvL4li1b1q1b56zXEgUTPQpycnKuXr164cKFXHuuh+xPDWhuxosXWLcOS5eafJdOZfVc5Cmy/6VLOHNGVKYKbW1t9fX18+bNUzykGjrhCN6MAOyTBGCNaOaP8TF/ea8bsCEIQcqQwEBhllCDmku4RCXndb7+ds7jPAWANgdzZM/q1SKxtBs3LE2aLTF9hv41U9h9CAF4JtkmYK7pnJGREXKiVqvt6Ogg+7u7u7P35s41Gsc7o06QPflrduFe9P4Wv2UGyHErsCINaSRMK6cbwQip/wme3Mf9m7hZhSrcgtbHB7Rdu+QxfFE0gHdhEoE69OGHHzY1NWVkZFC65syZY2W5hoaGBw8eXL9+nQL28uVLKyPZz7/Bb+SDkKMXYIF1AePeeIq7uHsd13kQm9daitIP8MFLvCxE4VIsnY/5LubqmfnkgFzkkh2+xJfUJGtBm5rwwQcUfJSUgCqelgYPD2vj+/uRn4/79wVhX7kCrRaTQkuLoIiyMhQW4vFjEc+42R0AWaC8vDw4OFjxVFZWsuomEaof/Z/hM2aY3MobXIiFbCLrU6j3BSh4iIfZyCanszjtX463/xzPudYjPFqMxclI9oWvzVkUqjKUPcVTLsri4bM9a5WWltbW1paVleXl5S1dujQ1NdXb29vK+MHBwcLCwocPH965c4fF30xOtx9k8NJS5OVh2TIsWICkJPj7255VWYmCAgoObt2CObF5/PhxZmamp6dnTEwMpC6mMnGHDmzsTQkA2f8t3WMf+j7Fp5WoZFkswzKyQCQirUwlLfP65erJR/4kFmcLaow9bWiTNeB7+J4rXGXnjh06DSgzXzAbJZPF+TrvUOJ+oBM4IT2WSt8ngNT/m9/8prq6moWVkpISGRnp6+vr4uLCAmptbeUlPXny5ObNm48ePbJ+iixk8fh3cIdtEIe4cIQHIGAmZrrDXQMN+4qyynORzcn4pEIOVkr/A+A3Z8+CBd3Mml6rDxkZjr170fURPmJjT6R1brugoGDx4sVJSUkUraCgILbEtGnTNBrN0NBQT08Pi56MX1JSwsq7e/eunddBzlUOEotY+SBUgmmYxq9DGCJBt6CFOlGOcrZxDnI6RZbtAjNwBEdYMOSmeZhHgfeH/wzMcILTMIYZuRnN1ah+hmeP8bgOdXYFHRnB+fOiXRcvRnIy2F1hYaJjvbzg5iYGDA2htxdtbeRatp3gbHZdY+PESLctLfEUY2MiDOWDmtzaKuqQYspgpVKVvQ7IUHFxca9evQoNDR0dHSXTXb58+dmzZ5MOSFYlNVNiU5Eaj3gmOQhB3vD2gAdLcRSj1FSKNy+xFrXsdDI4s035n8RajHMap+/jPokiCUkxiGHBBCKQy7Hyea3jGGfNsIA5kmLDDqY+VaCiCEV8cGit/v7+c+fO5ebmLlq0aP78+aTRiIiIgICAmTNnymU/PDzc29vLtqV8VlVVFRcXs3lfUKgnAQrw0aO4fRspKUhIQHS0KKqgIPj4YPp0ODtDqxUF0deHzk40NaG6WldaJIrxcfO56ur67W9/S7GfPXu2VqvlJtmV7FN+OiyPeKE8WQSpsvOHP8Thv4GX3nUT+Ydx+BZuGQ2cJX5M+3LtWhw+jLR1+vfe/4XDP8PP4Ak9zRpA5qWqpyCFNUQNIB37wIeXCokFSGfsVbKAzGUP8IAcZ7ZANmIjt5eElTrPeIfYw89/PmGzptvdjM0UgL3YoHgqWvHBB/i3fxPtrEySsAT4E+Cb0jMbm8F/wdOZnEcIwGWLmSV7JiQkhIWF+fj4UADIoe3t7ayeQl6qg2DLhSKU1EYBIG/KAkB2a0e73AAmuZot/5kxAzO/BXwbSFN9vAl81NDwqZXlWE/sBAoAO8HNzU3uBBYWO6Gmpqa2ttbaXrXWPkYhSj4IBcANgkxlmmYnU8leYFKtpSqwMIT5wc8TnmQKOUUyR1ifqNVY/sbOjIpiRuDnJ/IpC8DwsKiY9nbR1c+fi9a1gA1mvev/jH05NuYjC0B3t5CSgQFHj2tl0/D09Fy4cCG5bGxsjFeWRzGzCa1dq7Jt1YzMUhzD2Cu8Yv8y1ZTYJjRh6sALZcEEIICVrxYArkgBoPw3opG/Zma2Sdz3rw6sFRkZScn09/eXBYAeln1fXx/bltzKzmUy7YljVyKDgxEaioAA0oRBAFhXsgC0tIBd1mtMOMbQ2HEgKQXvqzz/InmMaNFFuMZsC4UMM6POSGaCfzIzlw1JYaexRSMQEYQgCgDpDJIAyL1ai1reqM0dnJDMCthh/zxhu1dxdTZmh+D2cr0nFtgBNOzEkSPqgV4StW/Uv2ZKNuEyRqyxP9Hd3f3gwQNMBapRTbN/vI7wWEx9pwAfySL1H6nWXYA1AWiQMCU7N8FzwZfP30RkSAVGCXlNFTEFe76iQtikcMMB71Siv78/Ozv7TURme9ro0CkFFYX21az1UsJXdLAmCuVUKqXZAwH/RTJrEELyQ4kqvfSum9LrLbvWWCuNXad/7ZVef2afCE4KYr8bpVVW6l0d0uvP7ZntB3xXskiV83PgA+nU/4n/xH/iP/H/KzghHD/7W8zsh0ars/Va3DoPbLFnOmVivcTKss0U7A/5bTs0lw1BhXGNv4UmPEyDX2igVVmvBv9NA41GFcmSCWQCq1QuP2P2dwH+BngFoUKK/QII47d2/ODHaJtrWPmZBu8cmiT7fxuoUS3RBvxA/vCXkhJq35j1SktIOAjcM/5YBXx/Curij4AS48D3pNUEfgj0vMnz0aKAj4w9XwBpjh/jz4FWfYSfSaXiCBYDZ4138ZG0NeJ94MWEXU812IL330x+D6uX+S7QoP/QLHWP72tt26QxGqQV9NgJPJ6wnX8AAqY6ecHAP05Y6LG0AYE/BTpUH6qBb03Fqv8FeKkK2/pa3ZgqFW278RGuAO/qB+wFnpq7XovYO8HjgtpDG68hMB54W+XeCJTS7qK62mygI/KfQ+aXiUJUugix0dh9DS3XkFl75BAKcYhx5+g/zAASaPkoKbGekSNWFpWRgsT5SAQ8VD4uVYQjdUf+p2BoUw7gMY9N6nZY5uFGjnZJZ1Bha4tThSM4FHwdGxYBNDe9l/y0shw5j/DIehatbDIlBfNXSleiYBjIBm5fP3KoyaGzjY9jZAT9/ejqQksL6usxNGR71iGXGhwkh4wDTnpfeA/CLiDffB7MRgkOxoZowF/JTAWiHopbMpsQMzF2h2F6mPowErHVHAdGzYz/gY1DjWFsEIM96GlHewMa2tBmKwuQJMBB0bIfR1TrKAgENrOGx3H0qI2ph2xs3dw1HRH06zXxW2oLUjORaeee7arArWnwTZvo7gXOW93ka+HQEUfCWs1ibCyWHAAOGqvxHeDEcZwYtbFVasD/pn5nKyQnIzmK4kRJOoV/M3xyAQ5nZuL78fhBPJzn6d3uZO9+lHrgww+tFc9h8+tvxMYfYKO7CK7HWCl+cQ1HxB0fOUw+ri7Ej+YgXvme2IvEH9snAIetjUhE4l8jUU3/KCvETwrldYk/UbdUqY1oNvAdgwa0K5GEAIQA38MbhXSFh5uOoPs2/nwh5qi1duW/2iUAFk++ciX+YqWx63Y1bv8TmpqYw2CT4rIKCsDwsE4AmptRW4uKChQX4/Fja7MOj47CvQY/It1G6n3h/2iit6rjmD9JdDS+EY0Y3dsgov4fIQAPLSTETIywMPypWgCqyf4/Afcm4Ar8d8OnNtupoAAMYIAC0IrWetRXoaoEJU/wpBOdFrIg//mTN6IBKvqYAfyV+tMq1vAdcU+WL+mIjTYkffzIyPEP8oGkVf9yogakfYA0+wXAdstqNEhNxXdSTdy9RnP9TUX7x6+d1cPcnxvw34yc/+x4FkNDcfAg3if7h6o2/+RjnPidYP9RO7Tq10CTu7vE+3oLTGo9LC9oLACx/HPtGuIlDWDqdKB8btyI0lLcvWtxlVgzvtVYnYEMrmjk/QXvV3/BsRSAItoO7FC+Jw4iMRGurhgZsZXlWItfPOBBAUhAgqvae7IIhYW2gk4ddNsLkTrrzaBPtdTt21i4EH+xCLNm6T9HrMTKHOQ8wINJ5JHBKACx6o+dnbj9qVhIPyl4YgvbB60W5eUoKEBOjoj36JHlndXUoKEaaxUBCAlHOO+XHGrvSSgANP23fkRFIcr+bMyYgfBwxAaqXDW3xK4McFXpk8NoQlMhCnORm41s9gblwfKOYie9ip2YIdWrAZunCwGg9fRYnBPH67QSkhqgF+xGmwfyT0MaGYMJsWe3ttNB9k9LQ+wsE/cT03HUAP2YmqnIo25n1IA5Ok+b42fx9RXsf+CAugnLUHYCJ2g96LFnI3FxZPxghfrlSIWFrSasTDjJf9iW1ACaESgANG7IGBozT0pG/aU5G428cuiyMsXRjW5etvq+KVYJZO6E18q/FIDsr+J/sUihtTr+D4NG6iFjHf+UtGUmq9bQ24vsbB0760EBoGlsBDL/VcxcaexicC7BhcziOfCevXvWaBAfL8r7L/4CP/iBKHJnZwtDSbVGbEs6ISGH25sWNzedAOjhCU8KQKTdlB0WJsz6ll4HwQjehE0/xA//FH/6x/hjrjZVkY2hkWztBD9Z+X8AAeYnhYZi82Zs2vRmtmQGqYKzU6csHNmf9gcNCw1DHmRXsENSDdmoRa3M/o2KllpAUJAgXzbXj36ks717VTqSbGaKi/KUmSmakzZHr17w9xfxnj3D8eN2Hktmf1+oNIM9Y0ZbUIQiWrJqU4mJwp4+nXxSpQCJRi5ZAL5KSDyp1f21BMP1e0n/e9WT5e9au1ckQS9cKCxcx4+zMZs0noOcO7hjZ+HJWLZMsH+kmiRra0V8Y4Ex3muvUWTjbTvBaTqmT5Qicuv77yM4GJ6e+PRTjI1NiG5BAMpRbjabptmKihLsbywvFADaS7w0lxDTGFzMHgEwTYJluMLVHe4mTg94bMf2UIT6wOcIjjwXcup4aPNQch4BbAN6vDBTqjYZlyVrszh73TqUl6OiwlpDOlSlVjEf88nZX+LLVrQ6ypmmCAkR7Dlv3tTs7I3A8klI/bT0dMXRgQ5S/3Ecr0KVpUlUjeRkIwsMtHcrBgEYGNBpwB/9ker7qlUoLRWmrwON5SKghpP9V2CF0QCZ/RndGBIxF76Ft2ayLiXIAuDhMXGs8coWys4LXqYC0NMjqUwRvkocFrs7bPGzUf4WAYf456fK+DNAvsPdNT6O7GwsWoRDhxQfb4ECQBvBiP17J/vTjMDINC5h5qAy2LH/aokUnOFMAfCDH7l7nmhKo7bcsgVaLfr68MUXE6IPDgq2ratTaDgMYQxibyuR/WkSOjsx638B/ygJgDbqOq7bkwouG65ejULI/XBXKvyl4XEI+LH1gBQAlnoIQmIQQ7LzUpExG2capvGmPsSHbQopS/k9IZmDMEnKtvewLVXusp+Knxu4UYwrwCMbYTZvFgJAs9CQr4/e471eh71QIracpk1jWkgW9hzPWmekpmoYSRqTyiy2tu4JCHhD+39NmJ5i/34cOIANGxTHIAZJ/RQAUqXZCHFxRrwfG2ucpu9IVRRmbQ8u6pf8fJ0GrF6t8m7ciGfPhAYMD1sJxAom+9OMvHfuCPbP15Oa0eG1EjcXKYLh4qLTgMePJ5NNU/YnhMQUCo75KvEz/rMEo86MlQRA4KfqKdSA5w5rwMOHuH0bCxcKjpUQhCCSOQXgJm5apkujBWT2D1OXCy+dYRncHH5qiEcN+NRKg/rDPxKRLFHe9WZsjkCE8mnrVjQ0CJIpKJiwAAmXpt8Q2T/Mci2brkn2j4qSHxsazs5qeJsP3EOUJsoTnv3ot5lYLmuUCnkz1qRnyEgIzYE9EopQquASLFmP9WuxVvlE527sbkTjJ/hE5/oZvoQwR2C6KWb7fxfsTybUJegFXlzGZZqlEC0SafxK5CtSpwFnz06WjK1jR77LX692WS3vOlWTyn3qBGBSMUUYDZWEOpImvy4kq5B8Nv0tkIk/FGjMu7dvx8GD2LFD7SP10x7gwcTh5NnkvUjeoaP+adPMLPIKrwrRUYSw71jejZPJO+maGtDSonKxDjZtEtxuFTL7z8Ecg6utTcTKtJh6WQDUnoQEYbazZi6HZgRAhC+yvu2vEJo3O4lMnZ2tdpBtSeke8LBnNtVXFgAjMCDDvva229D2CI9+i9/+HD//d/x7KUrVX9etm7CuDBJudbXy5gY3Uw2wlJzAQCEA/BWY3UCFadB9iRKyEKWbqzGJYHgJ50rhcHW1uJlJ3SUlYug5nl/CpX/CP/0avz6Jk+qv6UjfgA06sp5Mxk03FYe4bdi2FVvVm5bZvw995sP8MzA6anhl41MDLPTka+VCIL/TJR8uuhd/+JO5yWZGt6OxQQCmA0n91BEfH/mNsV1G87kQ/iCgsZis9esF+x84oPaxPMj+13Hd7IwfSfatxVi82Az7l6DkGI79GD/+CfATq3syFYCODp0GGEFw+0bROxbAppIFwMjLQLT2dkuzXuBFIQrrUa94BIUnwsvL4dT6wpdTYxFrcNXVobAQL1/i/wvQWvlmZ4M9eybI+vFjxeEHP1kD7Jm9apVg4aAglYuhGJBhJwdz236Kp5/hs1M41YUuxcmyWrDAXHGRc2kqSLQcbntpsj9Nt4lGCsBww7CpAFhFGHUmzOJmJs94enSj+yiOfo7Pr+CK2s/7WoIlU0IrrnAl+9OmwUAPpH6uWIQii8Gu0jqMPBQAmovLax964rbrXVzyy1zKFBcFgGYnbZp3k/3TDBFcCgq4BNA+FZf2+uc1gqHlly0T1G/M/rwmsv95nLcULgMInOBkjV7Cpb/D30nU/5OfoPEMUGl1W04TXffvC95WMQkT6YJNmwTDWwCpPwMZLlBVyZMnIsq9e9azwlo0KUdZAxyFNMl4mghc5HCgrx7aqQtFvqapQPYnp3jBhqJ6eAj2X2miFBOiObx3c033HM+v4Vo2stXO+HjExk4Y2tcnOLepSXE4LgACjUICGnRfED0ZAWhsFDvp78eU4hzOXcXVWtQqnljEzsf8AATYF0BjhddI/VuxNR7xiucZnlEAaNZCCgEAKioMnpgYnQZMciPW4OKSly8IWockJKUiNdAMs9mHkBDB/vPmKQ7n/Hxn5/xJRvtqkJyMgweFTZ+u+Nh4x3GcAmBnjA50cMov8UtB+pqfkP1/j9/nI3/UjrlOZr2kbhob0ID584UArFkzcfBqrKYAJCPZ4GKryCFsoRCFNLUnIUGYozAjACJwocOB3hRs94f2tWZLIEllZ6tZ2xveErGvtD5PZn8/P5WLQRiKAV9Tv8ztPBe5BSjQqqZGRCA01MKJVHsgLdsWABcXtQC0tkLQ/4BOAHzhSwEIRrD1GEJnwo23UV2NqcYIRh7gwRM8UTu5vUhE2jHbWk2kIEUWAMUziMEruHJZc3kUVmlhVNaAq0ZOWQDMSPTrQNy+i0s+BaALXYo3DWnUgEmGJPunquY2NYnwLiX21OkbhoXLoriS+g8cUPfeIzwi9dPGMW496DBYOiOf4BPB+5L9SvOrbGSr82kT5gWgvt4cgW/aJDQg0EifAxBA9qcZjZQn19XZXL4d7UUoKkWp4omLE1w+a5YD2Q1CENnfqG2ePUNRETo68AcOrSNkag9I3DSVdJPbV2DFLFhM6MyZOgEwgNPlOJM5xARMKP5XePUSL2tRq3j8/Y3lR4GxAPjAhxrgBz9ry8ns7+oqvzU0SAKABuU7GZZmJQBrLywMPj4WtzGFeIZnlahUeyhOrGdb86yxvxe8SP0UALXzMi7TTNaytCdcLTbSAGqqrAFTDRcXLQUgD3mKhwJAm0wsjUawf5pqLtm/mAIw5bueAoiWmT1bUD8FIDxc8bMeZPbvQ5/1CKeAnwgTvP/3+Hterrqh7G9PJ0sfrl8XHF5SonKxJwTVG3G9zP5G/ELyzcxEVpaduShEIU3toQDQ7Ic03HiCCFnoQIj/EGgdJ1ObaG8XxJ2drTg84SlrgKUZMvtTBgzgdAZhqNc6igoT+KoDHV3oMmySu/Q0N5G0W12tdoSLdgm3thbpnQKgR20t6usb6lCneKgP1gWAC1AAjMA9vBkBYBKa0UxFVDze8CaDT5r9CVI/bQ7mKB4yLAniGq7Zuy2SPwXgxQuDJyFBCMCmTVN7fLLzmEt+PvIVD9U9FakpSHE4lhCONINuj48LAXD5AxUAsU9SPy0uTvFVo1pmf5aEzQAS+1/mYGqGlWE2+cTJyjcKAG1sTOVavlwQ/sKF8htTnoEMI3LRagX7X7O71IAiFNEGMKB4SOesN/thKgCvXkkhi/CHAnMda/lmtJPpehVk+m421JDE8CsDEDBxrK+vTgAM4ERjCbETDknXMIZpao+zszBTdHUJ5m1rUxxk/zCEWQtN9lcJQGUlra0KVUpTkf1pXM1SALJ/uFpiWlvFHrq78WbAylcXvxvcaJaH26iDJVhC9l+HdYYUousKrlAAHNjToCQANDUoALTIyMluzQzIzi4uTRSAEpQoTrIKNcDhWGT/VNUsISv5zs5dzhbv+SuDaV6006YJ6j9wQOz5/2WvTcDqus5z//cwSCCEBgYxCCSQAAESIAmh2ZpByDHy37HlpEqbsU7TNk+nf/q097ntLW363NveNG2ce5u2zk3qxqks27FjS7EmsCQLNFoyEiCJwWIwEiBAICYBQnDuu/beZ+99DmfY+5yN7CfXrz+Ls7691rfWXnut9+dQD3ro5q/j9WY0Gyn6gXRyvPcxciW9AYCXR2aAkwgAxqxZMzFT+rXL6ak8oKHB+PbQCGQGqJnUVOHosbGGhtMOspC1EAu1VE2NiPFxfCpkzv0tYMDoqHBwhkP8UjR5J047JLv/rFm6lDyWRSx4T4/vM9XmHj3CxIS7sTRfhkMEAMPjRDExwv3j4uRWR4c4w8RHE5rIADkZilCZAZ5qEABJesQ4L8ByBSEoSHcNJzFp93g+fJwAMp7uz9Anaf2M27htblm8QQTAyZNaJixMYYB1kgAAYdX8x6HlWE4GLMACE4USEoT7Z2ZqGQkAcv3HIpsJANL6CYCN2n18gAe0fgLgOq4/nuWqCvL+WPbzZj2TeAElBsjuvxiLtUetre6I4VuSYdfoMwQAw4jo/uzrlBI0qX3M+2hCdgt7edC5c6ioQFOTmpB8flM84vW96JMyADRxCAdyuEnZTPanVUUhSm3292Nw0ENXZ/9NQAIBEI5w953p/gyH6P4Miu6vAkD0wlJPACCXeMCdAMBTPZ0AiERkBCLU5ghGGO46+t5j2f3jEKdmLuAC3b8CFUZXoz92BADjto4cubkCANu3W/Tqdtmgq1FNt+5Bj/ogD3lkgIlKK9ld1//OHQGA+noHAOwWLditbOaO/7PPCvffuVOfo/UzLuGShcsy+M4+APDwoTtL37VrCQGQIQDglJe7jo6aXWsjGunZXehSM8YBIHXUde3sFDSR7/0nryknw8xRtAditGfOiHAoGMEyA/RdZPcPDfU4yhr3n/Ia0YhOQ1oSNJdtbxffzb2cAUARAAz3nb0CYBzjcp7u7wEANlq/k/u7W4CFIs8YMzBDzfSh7z7u+2ExT+AJuv96rFczneik+zP8XNzQkMIAvQgAxsKF7ofYzM3gMGhUoYoMUPO0czLAaJWgIOH+ebr+dH+Grv60yWauw5499n37UFKi/7Bv2N5gnLadVr6zzzAwlXGbCfI5YU2NrazM9v77Nq20zbZLEm1FncpWUSH6Xbvm3/prhG3XqE1e8awscTm8KwUpdP84xGmpWqKkNvAPa4UCcv9AGXDtGioqxKY6tBEbafiq7fIKywDQxM4cwoHT6f7UZmxegzX6DG26qclDhZ4e4b/3NU/kK7gHAI1AB4DhYVGWxk89wiOZAfKjRCQSAPMwb2oNVwD09orZ793D9GgFVmQiU59pR3sHOnSJDUbqcEPo/sUo1idl9+9Bj//rq6oSAOCpUBUZqTDACqkGLRm2BoBoRJMBucg1VIXWz5jn+Jrj4yoAgulQwZas1K1M4m7rVjz/vAhZK8U/R3DkDbzxLt41N63NsncIMtKprExEZ6cyMy/1rqysFbtWyNdbZLu7UV4uwl9Jtu1k3Nm09mwfo6Quzp0ER2os2x7/FemasPtZyG6gtnudOSNCJ8nwFcuX3d9m89bfp/xw/w3Y8CSe3I7taubBA3FbvVG7tVW4sEM0OxVjTpLdf+ZMuUX3Z6ii+zdBgwy7kgFTaySzuh4unFc3tbWKR/wTeKIABboNs3PVzWh2JI4bLEX3Z+iRdhqn6f4f4APTy3L5agQAo7NTy6xeLQCweXPgO6ACgJSiZ1ejWn1EU18pe6RPrWRHXU8eJnJrcFBffxrkfPb/wFeftWuF9e/bp1y528BenI47/TpeJwCsXY4ppzEEgP5+hQGSNvD/Xcr/eELOyY97e/1efyc66dw8/WrGHwA0Ngoj6erCJ6zvuybsAZWzG5jBjeh/NPQLF9TEWqyl7acgJSVFuP+6dbrO7MbOessMUFMqhSK0GMVfxpf3YZ8+z2nPncPQkOdSzi4sWXSyG/jIANC9vf5t6P5kgNqk+7sFQBLZkvQ4ALAAC57Dc2ThHMxRk1Wo4i0YxrCpUoUo5Mbq7bIFLXT/YzhmwUL7+hQG6EUAMOLi3PS3maitN2gCgKE+Wo7lZAB3yUeJxETh/suWaRlR5urU+pbK+SV92t6KFcL6n3/eHhGhZJLwQcmlN0re+GTdHwYBQF26JBz+0qUofnygaz5TkeLFC4HYK1fEs/PnA3yLWmHetWozIQFZWeKue1I60un+UYjSUjW8PjUWbKi1sn9yNSoqhL8+fKgmCAAR0h9N7MBu7GxSwVoEu0al+JemPw/zMpBBh/oT/Mnv4/e/gW/Mx3y1wo0bOHYMJ096ncbZhWdgBgFAo3btRkv3DIC7uEsAdKPbCwBoaHR/9ZJOEwAiELEFW76Fb5GF+cjXPzqLsxdx0VQ13oI92MPQJ+n+jEEMWrNiXn4CQH/Bo6IUBgSmkBC7atDXcZ3Ozc+kPiXS9FRzrzxiIk9rtrYK9791SwcAK66fk5zd33f5JbR+ETEx+mxBwRvFe9/Y8dQDa5djVib4SJNftqyQMXeugmVab+HQUH1Z2QE+C1gyAJ7CUyGOVWXT4LPR1ua+v/QwW2vTxUSB2sBXYqWsO352P751R4dw9tWrsWuXnFiN1ZvSaP8X8/N17sg+DHY2o78FSpWfGdpPVaTJGgQtD5qFWTGIWYzFy7HcidZAUxPefBOHDukJ5U6dncKFh4Ywe7acIAAYt3Fb60NLovsnJMitlhbh/gMDTmUIAEYsYvk7EpFLsZRF2qAdL7o/62rieM57967LcjZ7XKjnJ+KmhXDSBViQitRc5G7ABm6LvsMRHClDWTOajX8C1pTdPwxhavIYjtH9a1ADvzX1qBEA6WRNuuZi69ahsRENDbh40e95JIPWmgQAYzd2y01aOwFwAic8jg8Kkhihg4QocFVfPzgYlsrsFUxA5PPYtw+LFmlOcBPI4p83Skq6eed4ui9f9nc5uU4tP8zGBAASOlfFlxXOXbYZz2nJDWWzG8oSGu4kXMYdBKZhDPPUMlZhlZyRAXD8uPv+rgAQQ2swMoJPj6xzf7cX08hhtFdUID9fxPz5cmbTJgEAwAGAvj6wT0WF2aP9F8rfJdpPvSqBAmD51AfKPLynb7+N115Dc7OB/aIRM7KVzy0D4DzOax3o/gyH6P4f6QAnSwbAeqx3rHsJwwUADNdJp6jU/RKfkcKj6HWzMVtm4dSnp3DqTbz5K/zKKfvn0mQzPX5pWn8xijORqWbqUEf3JwM8rsPsZ5bV3a0wYP9+LVlUJABADPT2+lXUPQCKUGSTVhmNaDKAsKxGtfvxsvvPnas0R0ddAED3DzHhcD41Ze98XHAubB+efx6ZmY6OLzQ0fDPj1QL8DX+3sODevQIAxMCdQO3TT7Mxuj2zMKsQhUXvF2EZ9ABAOQpPFtajnjGIwQDfoRa1DBUAsbHiyvOaNjW59pTdPxKRusHS6E+PrHZ/twzwKdvAAM6cwerV9qeflpeU+2PeqU3Ay0oHPmWwm7WqByqANUC+PvvPQFpn50ckTnk53n3X5dx7frPWVj0AaNQEgFMHYwBoQtMkJoMQBAcA3sf7ageDANjpZn0x7tMGNIYx+vXbePs1vGY3c2hykEMAMPSl6P6McYzDcp07JwDAKChQMgsWCAYQAAcPOvW0GT38LgDoQ5/MANUBJINf6REAeQREntaU3f/BA0/1A5NZ96eeF7FqlaOjralpwauvxn/91fjk7yZLw+3x8SgpsZEBL72EiQmTK3rLArMJMtiPWCYAxK37N9GULhcJJm50IhL5iIGAdQM3alDTi141k5UlYqpkAGjtnh7U1KCuLvA1WKPpcX8/a9PfKyoybt8+IDdp/tjI/9lkko9Eh+lQpcQAna5f33Lw4Jbvfx8vvihOvLP7e5WzF8/DPHp1NKK1PdEBoK9PuD/fzEUP8ZAMYMhNuj/HhCFMbkZEIDkZcXHOkxI80yb69Tmc+yF++C/4l5fx8ghGjI+djdnFKNa7P0XrJ0sa0ThdKz5xQsT9+1pm82bBgPx8/+pNNegqVNHF1SbvOAEQhzg3gxMTBR2WLdMyMgC81vdXfrg/tQ8xm/63owKP0quvdr118NChjw4JQjtKEhAlJSKkosbDGhnaHpow/X0XdsnzrgC+DaShHPhfwDUmt9u216O+AQ21qA1wQazA2IItclPYfDbefdepTyhCmeaqdMOkcZ8STaf7qzPYjPeenBQWv3o19u8XTcHN5coj5hnsYF7nlb9NwF33PVolBhRgg0DOBv7/98tzqi9vuVb+octF9S3aOe14dBRhil8nI5kMuId7oiG7f3i4/Ijuz3ArGQDpSJebZADjBm7wdxLLJem6PnggZmxvh6V6gAdcczvaW9BSh7pruHYBFzrQYbYOrZ+RghQ1Q/MjAOjQ1izU7Qnr6BAASE/H889rSQKgkdBpxMCA2Ukkg3aaiTbCF+H+JCJRzuQhj+Hmvej+DFVNTeJQtbQ417dbAQCbvwMLYxwV7tyh+4u4Xld9GIfjEf8snlX78Vt2doq4cMGfaQLxG9/bE4zgQnshAaDfjPKKisyJsm3bqqWEnf8VoYgAqLfVC7gFoBrUMFQAzJ8vAJCRgYYGrQ+tnxGOcN0wadynQdPv/v4w4IMPhNHn52PZMi1ZXy+SfOSXSrWf/+KRARXYvgar12DmTDaOv8J/tmzBh+YBQNGOGTwKkggABg1UNGQAOOQTAGpTDwCWcwIA52ptNbayf+wBfuar0wQmRjE6hKFe9NLx+TK8L2MY82Pn12AN3X87tquZfvTT/RmGa4xKH/DvTM/NA0MA8Cuo5rtwoWAA7+ebb2rdbIYuggQA1yQBUIUqFQCSza90BUBwsMSFPN2wq1MPFXsxApO7S2bijvNolNLZaf0HD+L6dZE6juMEQAISNmKj2q+kROCVYfTQWeQ3IT4L0Ppp7ulI11Ld3WXl5ZkT5ZmZiI9XcrxI7Flvrz+CI4Es6DZu16K2Fa2LsVjOCLPPcgJAtoBCttZubkZtLdrb8Zm8qKICW5wBcOaKSPqr406X44T7Tl0IrURBAXbudGRSUxUGVFaam88dAJRHtHEHACYnvQGAV6wJTbTgKESpAJAf0f2THfW06QxJoLDJFwMIANo9/0VgikEM3b8Yxfokrf8YjrWhzVgN3vkx/1dw4oT4CsRARISS2bZN3M/GRlRXm6pks4lwkWTkV3djN+nAJr8UAUCzV2Avi9ZPLsydqzSHh8Wgqioj9R+j+wv19Aj3Z1zTLf8QDpEBDPX4xcRg714QFS+9hDHDHydA96eCvD+WbZ3hlC0rGygjAnrLy53Scs80pAW4JgKAoTaF2evcPhzhrgCoqRHxmbxr/AYtH7iiNK9IrRvj0z0tEcPo7xe/7fKRJQAYs2aZK9TaqnfkBCQQADwMmDdPuP/ChXJedn8vV+gWbjHk37GIXYql/BcSABiaTABgUI5Br/EADwJ3f4ruz+Drq5kLuEAAnBGf06fsJkzDU8e2NsGAE87ILyoSER4e+AsOYEBmgJqh+zOcOtH9GapE96t4+DDw2XWyBV6ir09Y/8GD+PBD5zz6yAAGT4WaXLECJSUiDCpw94dPAMiePgMztBRfhcZ//vzFi+Lv5cvaExKbp8CVFuYl2blm6JGRTgyQ3Z9zKe3JSYkXtVbsxq+9KqRw/TmtGhhQGKDKHhtrlxlgSrIjP3qkJujYZIBwf4ZDMgC8SA8AagmWMGj9ycmYoR5zWokzbz4l2ozNdP8N2KBm7uLuMRwjAAyMtsQxJL33ngCA/tKlpCgMUBWAf7oAgPedfh+HOKVN2JMIGRmuALBSHlZvZgsHgVcn8Go9Ll1y8/Qmbh7GYTJAn6Tb7t2LzZt9F7fqW3oDwDZso5vnIEdLDQ+jrEyEJP4lA4aGtOf8VByyAzsCWVM/+iVH147XVABovQUsajA4aKTyOMYZWps3fuZMP1fJgZphTKn8KVUrcEb5eUZqBSaDp7CyUsTdu7rUli1kgH3BAhPnmKSXGeAQHSEGMcLAAwNAKlJjYxEXp+vkPNHjM1avIvDo/sUo1idp/YxudD/uRRIAjLExLUP3IgCysszXcl0bvyEdnd9AzRAADKVB91/p+E01NqKqCm1t1r2yzZIdehU4CJz33OEkTpIB7+N9fbKkRITuRE+vPAIgEYkEOt3cKUu/Z9y+Lbfa2xUG6MUhDB7WQJYlmXqN2uShYoSEYA7m0P3Z0roKUtQaLDuM4SHoeDV3LubN83OJHMtwaBCDTpU/vXrL5W+AMnLJHj5ERYW9okKXCg8nA0RIFdTwIWdfjkY0A8nJWLRIzpAxdP+uLm81RjBCADShSW4mi/HJMSRJjK5Ta6sZADwmBtD9GfMxX82cxmm6/yVcmq7leRnX1KQwQC8CgBFiwctWoYoMUJt5wvXzxK/gYIkFOgBcZcerFkypyBr3hwSACl99DuEQox71aoaGtHeviIgI697JszwCQPZxGq6Wqqub6vcnT4ocn6iajdny2ECWJZl6LV1VbtIusrOlkP9Rdf++IIVhANzDvR70aG0aSGIiZs82vb4FC8TAsDA10YUup8r/L8mIu5w7h8pKtLToUps2CQAsWaLv9ifeqzgDIApRUdFRwv0dFKf7M3yK7k8GyL8jEZmEpBghjxN98gywYxd2FaN4FVapuVa0HsMxAmAa5/UuGQD6y5+WJjHAgtqSqV8dw5jc5Lem6wsG0PrJgjkOX+rvtxQAXt3f5Bc+ZaDPEIZkBvSjX01mZqKkRMRjkHsAbMAGOvgarHHK0vqd3V9NkwF65SOfwzdio9/LmsSkzAA14x4Aokut8bLtaL+N206pjAxR0qyyspCerk/QMFwrfxplnybLMlKpokIwwEkEAMO4nH05mgBfFC0A4JBBAND9VQBQEgCSNQBMTvoFgGlkQBrS9mAPQ5+k9TMGMfiJkcluVxgwMaElBQByIV8Om/+1H+ABfb0KVWqGAGAI9+dfVbL76xfgv6x0f+PimT2Mw2SAPrl9O/buxbZt0zWpKjcAIGxp364cl22+vn5q/4YGNwxgBUYMYvxeWQ1qGGqTlpuVFZ0dls3LoOsk9TKsJjRxu51Sq1Zh3TpzK5s5UwzhQIdGMVqP+kY04tMru/sjbLfsZNt9PfzwQ8GAujpdmpeZAMjNlVs+nQxjY3prnoM5UclRM5KT5ebIiFEAENUEwH3cl5vJwXT/pOhox+PWVjHFo0fThkJzCkZwMYrp/uEIV5PHcZzuX41qfz66heLllxmgKiREYoAFmyFZ+1W1SQPIW5gXT/fPyHAFgAWaFvc3OK4CFWRAOcr1yZISEcuWWfFynuUGAPx69O5YxGqptjZh8OVO69OLTxjspYrWLzPA75U1o7kWte1ol5uhociW5LSq2lrVDoxoEIMkhv5UISUFO3Zgzx4TK3vySTEkLk5NXMGVa7j2EA/xuGU3HI+vjBdVVopwEgHAMC4dAKjoRdFRixbJv2X3txu7cwQAQ/6dFJNEAHiawt+PYplo/Qzan5qpRz3dn/E41uCzkgwAPXizsgQACgOdmQ7Aq8p/1czKlSvz8vK0HnV1wv3b2wP27Glxf9+jddMewiEGHU/NzJ6NvXtFzJ2L6ZMrAFZhFV17MzY7ZenuBMCDB56q8InMAL02YRNLrcZqvxdHs2ao26gBQN5U8bDGbM1LuHQe551S3OPnnkNRkaHxhDI7796tJkYwchZnL+ACPpMku+fEjRuoqBB3VtPSpQIAGzcara66M6tGImpRVPSCBfITGQAGRfdvQpP8OyEmISYmGQhXlhooAFygGpCWY7kMADUzhjHZ/ccx/hjw41vj4woD9CqKhbH75N0nCQCG0gjGyjwiYKXu8VXnwzQNsmIv7QZOAz+rzIAe9KjJtDThN4zpkxMAIhBByy50Yfe5c8L9q6q8F/rwQwGA887WKldjWf8WRx7qkBifnZ21OHsxr73jsfTcpOgSJ3HyFE7p9iAIX/4yvvlN/M7vIDcXwcFuhs2YgdWr8e1v44UXsH+//skxHCP7OtGJz+SQ80G36RuVlYIBTiIAGGFhhkrr3TkZ0cnRUY7p3AHA7smQ6f5kgNKIQUxMEpCkTdHaaulm+OkivDiy+9u4h44aPG90/wY0PFbr916YYCcAeP9V8Wt+x4I5ZAAMY1g0VmL+yvl5c+YoBOjt9QwAi/ZhGrbTS8lWtB7GYTJAn3ziCezdi127rF+JrBB9g2ZdhKJkXixV3GV+V/2n9Sz2yswUMX++kklCEmvysP4Sv/RjcYRhDWrqUMeqQAdQhixgQHp2/TpqatDX50dZ3h8uLBrRuch1bEMInn0WK1YIJ6qvx507ovLoqHgUHo6oKCQliRdbswZLluhLncbpd/BOGRf2mTzK6cw3NQkGFBRg/XpHKi5ObPuHHwoT8anhYWHQ7e1ITMR1RJ2LOiOlmaP7379vdDlDGLplu9WClhR7Cpsx1XR/yVLb2kStsbFp2ASb2TGy+6ciVTT+CPhDXMO1UziahRNZVhjVi8r//ryB65T8dhkZSE/H4sXW7JI0wRjGhMfbrm7CJgIAefI/BAP/v2rXub/N/92QdhaYI//xqwz7/hBGd9NpI21OE13AhXjEJyCB311NlpSgs1NEbS0slwaALGTRrHdip9PzMppbGbq7PR9kbfldXQoD9u3THrMgAVCP+hu44cf6asVb10oAoArx/6kPav3ej2EM/wK/CEPYBCZWYZX2YNkyEePj6OgQXiK7QFiYABrtJijIpc5JnHwNr7GUdZ/j10deDK+iQpCUEaKePhkAjJ4e36Vp0Ax+EWBVcoyco/szTOmW/dYt3EqBBICY7U7FpxGExjGQn4Y9m7BDaZViAAOLcbQURwO3furv5T8v+vNR3cw6MiIYQAC88IK1B6cKVXR6AQBJJN/LUhAAqKrysMmm9APgPt2/NAD3d4x9MfDbcQiHyACGak10IDKAnsS4dw/WSrmCwQguQhEB4PTw2jXh6JWVxsudOSMAwMjJ0ZIsSwAwaLhm1ycD4Ck8Rb/WskNDqKkR4a9u4/bP8LNBDLIyl8fX156FhmLRIhGe1YveEzjxK/zqLbw1ghF8JjPiOeaZIgC2O1wXEREKA956y/d42aPXrxe/k5PlnGcASHfN3X2m+zN2Yid/x8Toire2Tufb2w0zYA9QrLXmYQ7/E+7/cYDWT41Nx5vRLmQGbNtmDSsltaHtKq7y86YhTctevy4A0NXlx7a607x5ARCkD1ZqEpOHcVhmQAIS5GRKCvbuRWcn/v3fLZ0MCJL/0AQZ6UjXnoyOoqxMxBTZvYKSyGCMj2sZfjkWJ2D8WN8YxiSnd/Z6AYVaTEwE8ubtaH8JL/0z/vkH+ME5nBvFqJFRPeg5juMv4sUf4Uf/if/8zP29yMtVqqgQDCDHNT3xhGAAT7pPyQDQqb9fuL9zzkAZfNyEpkEM8veMGR6LP96N0eu7QOKU5PvScPs0r9BfEQCMO3esrUoAVKHKOcXcVSvnWAT89LHuq5ep7uAOGcCw63qtX4+SEhQXW7yMEDRiCZbQnTNQ2Kh/Ui8ZeWur1+GNU1NNTWJcZib26IBdiIwGFNajnlfO7BIls6+dhwItJYhQE/jLj2P8V/gVz1YlKvOQtwzLFmMxwRuFqAhEhCJ0AhPsQ4+g7xMYzWiuQ901XLuIi7JxGNsSkzs4raMbA982dEoRyJR9fYIBa9YgbY+uFwHw4YdoafGxRvo9PbqrEQuUxMBHAgB+vPUt3GJEYKUj0SEO/PCwsfcaD2A3G6R/M3wverphJM8yZPhVuPAMz30HBgQA0tPxtc1eP0KjqSMjmf3VldgNzJES3aiq8uAAUyp7Oxg9UlgnafKHpo5Fg/veV3DlEA7Ri/YiS03uXYHOvejsFNth4gJ67RqCUqxH4WURM5y3rQxlZb5ql7rNclzmPGQCqY4MSxeSKVj/b+YB0ICGctSUowvKje8QUGgyXceTyFvGERxJQ9oiLIpD3DzM0wNgCEP3cK8TnS00J7T4tSXu9a4UAajUXPeA54N0nEqtWGRlJWLJ9DVArNROh0BqDH/tL8UBHyUJgI9LVQDAJwA8rJju/z3+owHgY/QbdNxx09vgRvvh7U1LhfsHPokPlQr3t+SLyrpyRWJAOTZ7GvV9sxM8wiMCoJQgwBYpcRV3r7qMOOB25Ede1tpj/eaWCvcvtWgr38W78ZgbD6x1ZIKBEtpfNjo6UHrXWP2/9fE8BAe2HxDmvMI5T+svByZ9lXd/fMfHUXZAAOAFXXKFwgCcNr+xB+j4InZIrRopLNZDPLyBG4xACx0w2rHRPfunZzKL5jM5pbcRIyM4UCEB4BnzU3z8jjDHNY7mR1KYX3QVbjH0daWYnm0wrQOPYxK/ZvEx4sRBgXNG3NRRh/2b4Ihwfx0A4AoA9yMPPN4v6Mdeeh1wGAcIAMYiRyYJ2At0Av9mpPhPfHexWfHeX5ZAlupoDkjNf5J+f1P6neB41C41fxzAXL8rVVjgaHZIzZeMjydC/xIokH5fAL4rztZUfUXqtVT6fQL4G+Csc4dnpHlzrdg9qlqq9kv++gvpV7BFdeukaq9Jv39f+h2je/o14GWLJtLpBWmeREdT++J/Jv0Ks35GIT/OcQjw59KqZgP9wN9J4Y/s0/NKVtzRKOm7f9txYUakT/A/fY2aCfwV8F8CWPIlaaKjWuL3pESspfvSLdX8UQAVXO7Eeal5wq9ST0tjV3raAP0ZuSo9e8fSvfCq/dKE6Y7mRal5TG6EiE8dmL6s835FRMA/oVGeeoq8U3m/z3dxW/CAtw56xWO/iiPSo+MmUKWU0YaKLlqvC+hoci5C+w+HlRqR7Z9L2G9pXWpCIsD+A763RtbkJMbGMDiIe/fQ2YmODuNT7ff2gUy+mryM4WH09aGrC21tImPyYHhXLlbnIHO29HuuBPPcWlRXm67j5UQHISgTmYuxOB7x8zF/FmYFI3gSkyMYuY/7d3G3BS31qH+Ih9a+mqpCfKEIwQuMrPevtGwkYiKFOQamS4oB7sdfW3+qde/i8jYFBQXx8fH80dHRcfnyZTX/B1PH8hWDnRJ1bu3/h9rPnJwctXhtba3nZQU7lZ45E6mpiI1FeDgmJtDbixs3xPH2pVQxLJWHJxKRIQh5hEdDGOpBTxvaGtE4jnFPA7+jb3DzE52e1sr2/w/id4iAQcD6ip4BAxJgIAFgtsta8D3vhQ74Wg5v6h87Jf7B5UzzR4PH0TbYEpCWgN+Um53l6Dipza1MHR2NtfF4cpbcehMdb6Nzaqk/s44BI8qGSUtYIhHVKk04SpdyX+YDf6g+afU0hD47OioA0NMj3L+lBfX1qKlBU5PP2cRUEcCfOiW/p75aMvANwyuXATA0JABADn38MRoahD3z5nic25xykJOLP1cvas4Ycv/eMgDwxm7ExnzkZyN7CZYkIpEAiEAEATCBCQKgD32d6GxC0w3cuIzLlagcEDfHmleTtQqrilC0GU84Zf+Ph96legBERooL/RU/J4bk/pfU5f815gF/BOv1A/GPuu6QkJCvfe1rxcXFKSkpdru9paXl2LFjL7/88qNHjyDZeO/UCn+pGXWd252O0n5+9atfLSoqWrx4sVz8+PHjr7zyinjwX/E0sMJpWMh1hLwtVhiBbduwZg0yMhAXh1mzwMV0d+NnV/DOeeCUpzfbgA0FKOARTRN+lTAXc2UADGKwG92taL2Jm1dw5SzO9qPfzcd0aX9TY0CtFEIKAKZN6fIfMiBBybQbH+VFZMAC5WeH2w4ZgN39ULKUuxksTTI+LvytU+ftytQkfEKC3LiHex3oeIAHfi7VmKpdSi7RDmWgqnNZKxkQY65Cfz/q6nDtGi5dwtmz4rdnKZNEaKet3eUhGRDm14s8fIibN1FVJdbw3ntobg7wY8QiNhe5mchUM7zAubmIikJvr18r1IlXl867FVvXYd0czHF5SgbMxmxGMpLZcxjDF3BhNVYfxVFeaavOGWHDNRSiUNp0h0YMjZUAEAmLpCyfDIi1qqSkbhwCvqdLbN269ZlnntmzZ4/czM/PnzVrVmtra1lZmZyJcmsM8z1PYdN+btu27fOf/3xJSYnc3LRpU2Rk5O3bt0+dOiXb7XMaAx7VIbgUwUszl9763WdQXGzfuBHh4Vqtq2KxgHsALMXS3di9Dds2YuNCLHR5SgdLRzof8dhcxEVPxyZiat0I9684jQD4RMTzLr62zT0D6P4JDhzR+jvcAkR0UfrQ/TvR6XPScQm5/90jdwLQVan0O9NR2pjmzsU6+tg6bN6MNWtQXo6jR/HggQWVr0uv9gtjrzZjBvLyROTnIz0db72FixcDmZzuz3BJ5uSI7OnTAb3WHux5Fs9+Dp/jXTXSn069Ezuzkc3bTlqccmcKfkh2/2S9+xuWKwCqpS/1y0/uEEK60eTHd4A/VXx5ELgsharU1NQcfkKdVq1alZaW5gDAk8ARm/GXkGZZB8jnjHVWrlypf07AZGRkCAA4TFT9G2wLDl4cfOurv4nf+A37smXuqkcDT03Nrsf6Z/DMU3iK58H76nhsdmBHFrICPDa/bgCgzpLPcM8AWrt6Len+OgDYPAGA4WvCQUGAUa2KJddk0OWv9aUH3T8NDkZ4OGw213w2z2Q2MjKQnIxf/hKtrdP6aiEICUe4m8G84YmJmDULjx7hyhW/10D3z4FkFj8Cfs+RzA0UAE/iyd/Cb30BX7DBeQM7O3H7Nvr7MT6O0FBER9OuBFwd4pn7Cr7Ctx7D2DmcQ2BajuV0f3LFv+F6AEzy//5JDEgNvw7hLeXvgBTmpW7kWilsS5dKrQ9QcxnNo7qOIZL0Q0NDQ50zl1jC5WTb3XmArKMS+NRSM2fO1D8NCwubMWOG29UGhwQHPx2Pffvg3v3daxM2fQlfeh7PRws8aGpHeze6xzE+EzMXYEEc4tRH8rEJRrDfx+ZTBwCbFS5nlz/ElPMqWbvD3DvErdR/eWVqdolXINGJTgMAkA7J3ykMsOoVHCeP1+cVK3fn/1d/9QI/dNOBAKC9zp8vfJZ3bcUK6E/5jh1YsABz5uDAAXz0UWCv9jHwU0+vRiuMQEQMYhZhEe0sFanaM7onr1ZvLz7+GN3dfixgGZbl2HKUi/S7aG5r+x/JyS9BvDH5kpbm55utxdrP4/NfxBedstXVOHcOtbVitX19AgDcz9hYpKdj3Trs2iXMVhKBx+G86i1o4Z2HZ2PyrlCE0v2LUCQaW3Gv9N4PtkV/10wFFQD/TW4PHMXARb8PYani/qWmN1T/4rOBgjQUfAfSfbDDfhmXPyAFdLpz505jY2O84/JSN2/ebGtrcy5qd9lQ5W2mbDKTx3TNjo6OW7duLeDhd4hzcUa3Cw7eFRy8ezeWL1f3qQtd93GfJs6DDUQAUcAs/dAVWLEP+/Zj/1zMVZMXcZFxEzfv4u5DPAxDWDzis5G9ERtXYqXch8fmOTx3D/fawFdt87mpE5hgqM1PHQCslw4D3D49ADqmejuNjwdo9mylj9TLbSmd/tHlryVGrStGBrxjTWnXU04GvOy+Z1QUkpKQkYG8PGzYgO3bERSkPJKRMDmJn/4U7e2BvRoZ8AtPrxaEoFjELsESnvVt2LYXe3kBlGdxcdi5E9eu4a23/NiBHOTkIlfJ1NKca68nJ8uT5+YKBvgBgDmYQ899Ck85ZQ8fxqFDOHUKt25NWYkNW7eipQVf/CISlDMZhaid2FmN6oM4CH9F92csxVK5WYGaM9hmqoIKAAUbAwMYeB2o9+8Q/lz9x5RczuraHVi7HxG0TgEAuj+jBz36LmfPns3KypqcnExJSWGzubn53XffPXPmzJTSdp9Qnfpy58+fP3LkiM1mS01NZbOpqenw4cOVlZVuFpwiAWDXLhaha5/BmWu4Rqj3opdNAiBCACAGiFWHzsbsz+FzT+Np1f1JuNfx+mEcfh/v38Zt/UpSkboDO57BMxwiZ+Zj/m7srkPdf+A/3LzMrFkID1dbgxgcwpDa/LUFwFTQx9nj6P6hCGWLEOzslAHgfBR4FR23sQ99dP9hDPs6Le4VIAO8HVL/Spt6i14e115UV6OsDFu24OZNPP00kpOVpwTDs8+KDv/6r4IE0/Nqk5i8i7uM8zjfgAae2q/j61rP9euRny+WNzho6t15/ej+GgCuCwDU7tkjt8SDXBw9itFRcy+1ERu3Ymsc4rQUq7zyCt54w8Mu2HH6NPr7ERqKb30LIcpNXIu1a7CmHOUu7mZQaUij+xNFcvNjfEz/qzB5ZFQAKF9KAGDA4vPtRVMPR3AwCgpEOOaUAeDSq7e398c//nF1dXWCdIXb29svXrx4//59/k5W/vesZDe/FLWJ/+/evfuTn/yEJ0UtfuHCha6uLjeldgkAvDxjRhva3sSbJ3DiEi7dw70p/eaov7ZjO79aCtHh0EEcfAWvHMXRqeWb0fwT/GQEI+EIJwnk5Cqs4gk8h3ONaHQdEBOD6Gi11YnOLmjLDlG2e5q+pUHZ3LesXVSCLSHBrpi77P52u+tZs8XH2x0AoPt32Dqcn38VeHlKYY+GNn13xHRpm78T0aEOH0ZrK/r68KUvYckSJb9yJZ58Es3Nwuam/9Xew3tzMTcDGZuxWUnRFDIzkZaGqipTb52DHJp8KELlZm1v7fXa2gESLiuLzbAwAYCcHHzwgblV8wbSorT2Rx/hyBG8+aaPYVw8N3DZMhQWqrlMZKYj3T8AyO4fAgUnZ3DmDJLMHkIVAIrcAsBle6066G4PKq1/7VoamTxJHero/vTBqR37+vqOHTs2NV/K/3OAZz3PWyr/+YJr/iUZAN/g/x0dHW+//bbHCrodSG5L7vtG36s/ffXn+HkNajzsj7KlsYjlqd6KreoDfrV38I5b91f1Nt5eiIU8KolIlDP5yM9DnisAEhORnIzwcLk1hrEmNLWiVX0eMv1e5Vk2o8/9W5qLMSeA1u4wd1p7h7sxooujj62DtNQ9a1GPyfQZtSGwPP5PVl2Nhw8xYwZ++7cRHa0k6Vn0TT66c+cxvNpFXKxGtQYAKilJnO+pAPB6ruj+ZIDarEUthevXZQCIDuyRaw4AJBOvIhGlpS5dQkUFJid9Dz53Dk88oQfAIizi3YZ57cROun82suUmt4tWcgX7TRUJRzjdX0WI/dEjG91/eNjHsMBPo5evtnatvUCDK92fYar21+U//OwFXnpskEInDSXfMPs2J3DiMA4r7u91f1ZjdQEK1A0fxvBpnOZw7/Uf4MFZnN2ETU/jaTmzHMuzkBWEoEnoTl12NpYtU1tczw3ceIRHaiZI+vePlSXazL5mALJNU1+PorXH2+LlenR/TwCwxUt9bPT+TvZyPPB+uu3eF2/zd3ftPvclkOqmVFeHd97BkSNahjzYvBkbN/pXz27yk9/BnTa0jWJUS0VFYf58NxviWUlIor0vwRK5yct2Hddr6f5kwKhSOS1NACAhwcS7sOxiLNba/5e9LgGv6rrO/S9oRCOgEY0gBAIkxCQxiMHMMxhjKQkZmsQvSfvS17zmtd9LmzZVEmdqv/Y1r03S2Hl2XCfEYBsBBplJDAbEIGYkEEIDEpKukIQGNAtJ9/37nHvPPXc+9+rKTtP+Wrrn7H32Xnvttdf+/4EBozRqQUcHKitRW2veFiaFI9zdfCYggey/HkYhGcDASZw8iQpN2VaB7E8zt8n+NC0YTQU6mZuZacjORkKC3KpHfQlKqG2IHMVyIh+0fwUilC5y/3HTh1GCQRaj+AIuaBmcjnTWpNK8iZvcYDvaXU68jdusXqUZgAAWdjKSzSPGjcOCBUyg0kHhpH+1k3Gml07j8+PRAN3HMMMaMYihBsjvZP+mJpsRYWHi3oeGGseIUXrN7g0ad+HuRgxu5WhMleDSJRQV4dYtc8+SJcjKQkSEZ/7c1YAudHWj29wODERAgFuZ5U3LQIbSLBXEXzpMvhbPUvMwjpvrxkYiEBGpJqTGRtTXw6D56Fpb0damtHiTae4mU2b/IATJTYn9Tz5y18toBAAelZ/TKYKOyf6sMRNIYTR3N9VvNup8f79Osj/t7281yT47L/X3bzR9koap5rmHmzDcUBeqYwqLR3wqUidjstJTjnLWopZVetBTi9oGNCg9cYibgimSEwnLl4sbarqe13GdslSFKrUTH8ts68yBjl4HHUHn+TyHQW1V3tYDfrbfo0Duj/WHv9iZYSvZP1OPTKtBVIeYGPm1c2sn2X8lOccyF0edBWjQuLcxF9mxW+DiRSxdinnzzD2ZmcjIwJkz3l/L5rANglMte3XubZXsT25XmmUoM142WQAWLTIOyxACcPy4VrfBCLYmzY4ON8KiAg0OKq0RjNDc2tcKrCD7z8d8ufkQD2UBEF/chJUA6NwSAHfLzyn1C8yYAQoAfyV0otNCAH4G/FzTOvnG5/uSqfEXFNwfS0NuAofgBfQBNyTTggQkJCJRaQ5g4BEe0RxdBauEtaClFa3kfbkZicgIRHD0L3TYFBW1ae1a3apV8qcudBWh6CzOWnn2cUhhYyQDLorD4HyQQw3IVzf+WtEAZT8xEr3L0Ovzt+ixZdhm07HmQfp8/Wegt1rkZ6MvfHX0tVLYv/bWbbJKzHetkuIdVFbi1i3U1SHRVLWzZyMtzTMBcFenwhBmwbPd3cI0Q2b/cITLzWY0k/UrUSkaDx6grAxPn2LyZLb4QwGYM0f0ucY/8Bb5vGNxlZ7j+XMnM/7Squ3vDz8/pUWaI+laDPga8EuH3qIRTfbfgA1Kj8z+ioq4dYmtBAAOBcDKq7uH6Qxm12T/rCylJbP/IAbtMpYT/ET8FEqmxtflx49NQ6gBJ0Yd/E3Jeu1+s+Kv+YhCVIwgJyNYk0/wBCYht82y1XZJ6zSlyQsSdiMMkixWZ2+pidi4qWPStEni02EcLkThYzy2isjHXvJ1GhjXI2hifxenaj+iRQ7byuBi08uUKYum/AL4hb2Vy43PtEVpwF7JjKgdJZsZxiBh3tdnDSgvR0WFWQDi45GSgvBwdHSMSS2YkIKUqZgagABzV309mpq0r0j2pynNMkHvKoIvpRyUYtUquZWRIUZrEoB8/MbNFFoLQESELDwyGtHYBDf2JbP/REyUm0UoIvvfx314BLUAiDMi+3d2Kl8nTRKffX0NIyPo7UV7OwYG5C/qA9MmBvZGWRx7QoJg/8xMuUU9kwUAo4Q3pcoOlgE3nK9+0/SezzObqBwc0YGOdmyHMIfXW02OVHiDatSEHRMCEciXIaw5cmRLTc3imhps2oSOte+/h/fO4ZytNx97S1QAM8ZKAxzCudSNBrKfP1qGvxU0IlAIfA+4olpUHvPnSPsOEM633wHfh7hDhtHXlGGMCvWTYH+CNVVrqYa8qHFxbgmAzv2d5SBnIRZadN27J6RIG3jNyP7pSFd6JL4vhQMBIPtTAwoL1eznAL38GwWCgzFtmllQgUpU1qBG4+xsZJP9F2Ox3KxHPdmf5nE4igAYz+jZs3HPns1bgFmzkJSE6GgDP/v5QRaAp0/x+LE4hFu30Nam+LC6Vvbgkv3F3ri5bKVVghKy/1M8hVdhcBTeKK5XnUby2oEJmBCEIKWjAxk0l9fbETn6iZPxk1630srKeFk7a2oKntcUHN50GPF2pvg4WGIPsNfLGuAsJQZ3tmkvHFXB91i0FA8xOYidYByrB5pUnuQxwRyD9eHrpRFNOKl3tNZ6d3Y9Viz9CbE/0dgIvd6iJzpaGMttzHa2Azu2Y/sCLDB3Xb2KK1fQ0KDpppHQMTfDdLWIR3hUhrJGNJpH1NeLLdTVyVys0wkNoJ0/7+X8We9v3jykm2WpGc0MrApVWlyFI5zsv15VkTL794hL4CEUAZCxrLNz+c5nixZhzhzqlCEgwHo803b/Pq5dE4ni2kNDtnu1OSKdhjOPiEBWlloAyP7UAIwSDsvFoJG0NcKZu/nATuOrL3x9VCS8Ajg1ivuvE2UrL0sBINtV9/YWvP/+QVRfQA2wSVrAEj5e3PMYcJnmU8k3PnvMr2pMykPsesj8j6toKoRCYWaFwB/HQqL37vxuPU524KL9tawFQPefiP2J58/R1obOToSFGXsmTcLEiWO0szmYsxzLN2PzTuXSEPX1ug8/RFGRdsdkf/K50ixFKc16kOgrlQWAIPtnZHhfACxAQs3JweLFSgdp7iZuapwts38MS1fCRVwk+9/ADTdrxaKAFQGYCaymTXy26pvPqO+OPMXHC1u5UgjZtGk4cAB6vXsUbN8vqZ82bpzcuod7zEwtal255u3/jqrnLannkaMJBidsw9cPMRo4I69DFqyt+nBWCvjcqK95GrBbcvW/hN0sx818/HCf7TjNAqAbNe0st3pqrE9tGlBs9bSotTmIVS5JM5r10Bdj0NrDiljEGMc0FTc1ocnambsYXbpWqBO13CO/F+y+egNdXcIUARCMEaJ9Nol8h7m1w+7OfOATitApmJKGtEVYNAuz5H5xonV12L9fMA1PSRtSkEL2j0Oc0lOGMocCsGWL3EpIEBowdSpqaryWOevDW78eq1dD4leiDW2XcOkKrtiZSVaNteiYh3lk/5VYKTdb0Ur2p7kZkfXlUgTgz8j+Q0Oz8p4BPS6rzt8fmzeLfQQF4d//3fHJ6LRdEXrJyhJmAtmfhlEi2+XqlmyzGVg8qgVdkpcBBoMUyA/l9vnxwszJ8pBE/gYS/88y9zwEBP2/aj3Sxw2vo9QAqhHwKU84UpsGOAbZP9Z0e8jsErnbDopBbKwcEBWCptn9NouH2+x/xM6bMVsS/oen7K9i/XXwKvr7MTBgbgYECALQDPPW8NeOdkYBIA3x4AIQIPcYK6C4GB9+iEOHcPeu9hUzkEEBUJoy+3ei03pce7sQgPv3Mct4dSgAGRleEwDrw6N3subGjUrHOZw7j/O96HXpagImkP03YIPSQ+o/hVOUAXcisr5WwQhm2nVS/38Xx0B++L5kUnJ4dSj8w8Pw88OkSUhKwrhx6ukLFojfnh689hqeP7d0HeUqG2pkZwsLDpZbj/GY7G9HsN1CocbVLdnmyqjWVBZyxF+DGByAuErGS8HEXvDHKeW7h5wrvOl0+LQOaaL5UPE/KgEYJdZiCoR5wJEeaYB5PNmfVCK/OyR3sn+McYxDkbAPkduXJHN/Z/+qbqgFYK38mOehqqjZ3/sgBdAUkCZ83Cik+cbnHO07e/X58y9ev1517VrZhQttRUVodYPm/OBH9qcGKD2yANgfXVYmNEAlALTCQgwNjTZn1luMjsaOHdi2TekoR3kRiqgBWrzJ7J+IRLl5AzcoABdx0Q2StbpQJ4AkhCSHhPiHWA+8eRNXr+LBA3F1nj0TuSBPRUYiJQXz52PVKgQFKWOpAc3NqK3FEXU1/1x7VBCikpUlzASyPw3eg8H7bOOhDHSjm8aXQflrWJgwC+3UOQhZ52RP4+282YebAuChICkg/78mmQfwfGGyPzVAfrdP7oGBgv0jIuSW3qBv0jVp3vRCX/57EmathjFUgIP4gwT5/12tY7/99z7VNyIfXp9+u7bnMgZIlF3o0jhX4vC5EzBBbvail+xPDbAdKQ6a7E8jLwcGsofMJmvAjRuj2qt1UZBAd+3Czp1ISJA7BjBwDMdOCBp2jVmYRQFYh3Vyswc9ZH+aOxHZcNGrRgHwSQ4pSkayZOMxjIICweXnz6O62npKcDCWLMG9e2IvFAMT1q8XMsqMNTZ6dI1J/dnZQmAktKO9BCU0eAkGraO8rAF2nbah7SmeTsd0Yzs6GrGx9qbqXEXlITX7eH2TzsCCyAded58rlV3/ieQhysnQk5KZQUkl+4cgRG7qobcjAGR/U9770McBrWh1el0sQQX4gWRexy1pv4fclZbfb3SInzJ0cGfvmfrsbG78eEExOpF73bd1KTpyTAqJ7yN8NAMzClDwEA+1rEYCz0CG0iT1k+Of47ndwbrBQQqAgQS2aJHck5HhgQBkqRt2trZ7N156SVmCOIIjhSjUsqPxGM8kbMAGpUdm/3rUaw7PXjmfF1aBkFeTQ2T2T05uSYotSC4oSD52LNmum+5unDqF+nr09uJLX1LEjOdGXeDmDh+G+8wLwf5Z5gRewzXaEIbgDRhGRddeDkAn0VEDGszrTZyIadMwZYp98bSM51cSMXxgbKUB/wR81e6irHZHBf+xCQCDE/z/jgeiZX0Kn6MCfNNm1BclqkyymREj2D1GfqfYktx70Ws9mewfYxzDAXqdXvWNIV6RfB+zG92w+H8uDfihJ2VmkyU1yP+nrfLweygDBoMw7ciXH6z7153Vgo+PEIDoaJD5MzNhiIZEf6uxOl4XH4zgt/BWFaqcL8WjJ/tTMJQesj81wNmc0lIdNcDEzmlpQgCiotDc7HJjOk2Ms2MHXn4Z69crHRdw4QN8QBLXwkgy+6ciVe67j/ucWIQiRwEZXAb5NeCXSiPk0SMaXx74+BQkJRUkV10l+yvG+5VgNb28HO+/j8hI/MmfKH08rvR0CwHQWh/MNQUgMVFukfdlAYA3YPBkhvc1QI1HeFSDGosIMzJ08+c7EADrvURJdnjixJb2HcBOIBj4Z4DsmASdTpiEfvTT7PpxXwB0nnEQYwrlo9xdDbDD/kZ3GhEr2D1WfhfkDjW5mxATo4uNlQMh+3OY9o0JNhsBvueFHCnUqMZHag0YjW8vgtTso6qc4WFh2vFT5Y0a8J6znbGCeXozZghSIGOuWyd3pxpS85DXic5f4BdCzh1fUrL/XMxVmq1opQBUoMJZeBUVQgNaWxERIceTkSF46dQpJ3Nek8wC9k+JW8jNxUsvKR1UowIUHMRBLZmbhmlkf2qA3BzBCNnfuXK4qBe9VdGFSEb8v6GhgqqqSllg/VUCoIjBUmXSnTs4fRqkrSVL5A4Kd2qqEO6qKjerlQedlaW0ZPZvRztGDU8vzRagcPSrOwK3Rgl/iIeKomPxYsPy5bqbN51ogLKX7ZIARO/YcejazrKyFFP3CavxAxig2XXlM3Z7s0GXxUOBkwr1VH3Vwh1DduePBLK/fXIny8RIY3RWIuG6bF6VH9SAH46ep7s09X7iGhAQIEyBqK4BN6YbHJ6s9c4MBnENaJcvo7YW/f3Ytk3+MhMzN2ETqfwDfGCcY88n2V8tAGR/Eq7rCEs5sBQvvGB0MtelAGgjmpwc5FG58pSOOtS9j/cP4ADFTItzmf394Cc3ZfYnfTifpcqqzjpW69sgC8ArQAFUtMvTfSAZMcEkAEfV865eBTnLJABEfDzi4oQAuAGKBgVg5kylQxYA55Ni1fuMsTOAl9mgdycMM0ow9riJm9dx3SwAvFnr1xuqq/Hmmxgasi1qqwJbvGtX9K5dUfOXHTqEM2fYce73VgAcwy6jucX+CcZ/W8QKdjcWiUzuNuN8BftHR8t+OKANTba+HntnV2OZsY8NoaEICTE3u7rQ3T22OyP179uH8HBMm4bZs+W+VVhVgpLzON+BDtG2kYFZmEXqjkCE0iPxeqmNdxtF4qiyMgqAHExUFDIykJaG8nJnkbs4kPnzkZsrzM9I381o3o/97+LdR3jkLB0mrMEasn860uUmZ8kC4E5qXWKvZM7QC9yTzAJ1daisREeHOCMJTFpEhObQZJD9s7KUFk+K50uNdD4pX934Y2sN+JH8+BpGj9jY2MWLF/PXYDA0NDQUFxc/ffp09G5v4MZFXFyIhWYNWLgQL7+MwUEcOGDg5XKEoCBs386KSt658yu9IuHR0fpDh0709UkCoNMJk9CP/t8HATA4K0Gre69z86aJKlgLrLDqDpbqIRzGohyE/ltUAet4YiWTBuQPBqIpH0+s/LzriQD8gWpAYCAmT7YQgLY2tLe758SdWjDj/HksW6YIgC98ye+zMbsYxXaK42/ArxnIUL7UorYJZV9Eg71SslKPBuhLUVuLpCS5PZe+5joTgO843y/VIy9PmIkfn+EZ2X8f9tkTJDtXIB7xZP8N2KD0yOzv6GK7jTjg74CvaFYKW+j1ePJE2WBoqDA3EB8v2H/ePKXjGq7RXM77quP2W8rbqAUgOjr6lVde2bZt29SpU0dGRiorKw8dOvSrX/2qg5o3ahShKA1pUzHVRyHkDRvg789VcfYsrl/H8LDFBB8fzJ+PF17Apk1Ys4YdEybgM5/BQPTxqqiTJYc6WetqsEioAXaX9kgAPKcebffeXfYnviw/qAFJ6pViFGoX6PiyYP8ulRtlVIw8wu/LTV+G3mqpK5IAeLSlP0QNiIvDlCkWPbz2zc1u+/FAA+7dQ0UFBgbE3ZAwDdOSkGQhACaEvBpC9idvY0ihuNJ8C7Y1OI2pVDKzAGRkoLAQ3d3ubygxEbm5wmKNxcgLSeqn2Sc4e15k9g82BMuNj/AR2T8Kd9bZuRyO0rrO4qHa/Sn+d59Cj8oNz/O7wM/hBrq6hJkQEKCckjZkZwszgWrN5NzDPfx+YNmyZVu3bl28eLHcjImJGR4evn///tGjR0fv/D7uf4APIhGZhzxz76pVSEnBwoW4exe1tWhrw9AQ/PwwaZKoqPR0LF2KhARl+If48MiaIyVRJYgC/sbCP+uNZndpn489k67uPdxnf62Dw4F/lMzJqETgV5J5a0tjrwH4eGVg2jQkJ1v01NcL8wAG1yduDYpNSwvi4+VWFKImY7LdgaR+2niMV2rcB1shzJMS8/ExasClS24GHBmJPN7rPHGZTZDZ/wIuWA92kI0c5JD9F2CBaFzEk/wn43HyGzjpIGxHac3n/w7J1HhbFoCeU1Br20TJ3MLz54KhTBg3TphWTJ6MrCy1AJD97avjJ4S4uLjp06ere2bOnJmg4t9R4jiOByGI5bobu829rHNWzo4d4n51dBgFIDyc0Vip6ymcehfvFqAA6XBPAFL5k2rnw8MxTKYH994Vy9VZPWFagtn828TETNH/UR2+BxTZhPAV6P6WUprIyUdQxyElzpdL9N6WvIWPUwZmzWLtm5t6Paqr0d7uoTfHibMvmz096O1VWhMwgWZ3egYyKADmdinwI2Cv5ixx+T8CvgWkGTuEnsx1UwCCgpCbKyw9Xenbj/20ImMhOuH9RomyX6OGpGPDC1hv7M5BNE7SgA7Hp26w5zcnUMy2QJPyRuruAfqBAKnpKwlACNClebMUSR+T2ALDw8K0gtRPGz9ebrWh7fdNAIaHh4dU8iYSNjQ07MYOXeMADpCm29G+GZvjEGf+EBAAS+1Roxvdx3DsIA5SAEYwIrqipA86nTAJ/ein2Z3uwxLDVgOy1GWkK4ROuwBIx+6jTpWGk3ebMF1cW7ENfNfmSk1AzHcQizek702X0XTM9srFx+A7sXyKQXoc18PVFX/Dgy3pPg56/hgkiEQ2fz5iYsw99+6hvHzsNuRZ1hKRSLpOQhLf78hdpXdQpk0slTSWSpYmVIT/yclCABIS8PixtiDGjUNenjBSmwmHcGgf9h3FUadHJgenNzU3QLD/ZNWAz0nmEjabpAL8RDI7+MIXuiUNCDB1UAAmnUNXrdakh4QgOFhpUab7+rRNpIhnZQkzoQQlZH/yCNwCE05T4TmeD8GCtT1GVVXV7du3Y1SVf+PGjcrKSq84V8DC0ENficoVWMGMRBm53D560HMd1y/i4imcOo3T6k/Dlm/UFZpdJz57RJ6eY8NzRBi7HsP/tLkKXCMMYaEIVcXVIw7fNdzQANcs8CZ+bdPnBz+yv0jiG/zOC8XcHgLa1GNiJPangglefxNNaGrC23BeNG94T9a8DatEDUvK+KoXF1i+HEuWWPTcvo27dz13qHPz3MkyQUFKqw99/ei3HUX2p8nvQvtZk2XvorTMtbao4xECMBfbZiAg4IDsVvKrVQByc4WtWqV0HMMxsv8BHHC6cduw/kX6beefu3ldJW3/BVI56bxdpCsf/X9vf5l8XRf+7plKaCLuIqIMtZoFIDISk80q1dEhTBMokDSerIRBDJL9qQFwF6GhagUSMaCjE50OxxsMwkywkQ8LnD17NikpqaOjIyEhwWAwPHr06Pjx42fOnBHfLomfPuNztLiBG2Uou4IrC7BgFmYlIzkGMeTYAATooCOPd6GrGc11qHuAB7dx+zIut6DFykm+/Pit0uFYAMRPVxeePUOEUQEmY3IkIjWGOxET4xDH+MxdT5+irU3bbE2EafA0lbGIZe6MDWoSud0msNhYKKJO9qdEDJnYX+fR0o63pBvFVryfHE+wbp2wmTPNPdeuoaQET5546NBd9vf3R1ycODMTSIq85FajeJFJ1BnIkJsF/C8rQ2kphg+6Fx6vTOk4MXHRIrkjI0MIQGGhmjccYMcO5OVh82al4yzO7sd+CoDTXdv1K13nH3ma1F1UAD5+amKFH8OeZHJAaytaWpA91dQR346kJFy/rmlVUj8HR5p5g7etuVlLuDpkZQkzgexPc0bcjsCbHB2ttNrQ1ohG0qXD8f396OtTWuHhav2yxuDg4Ouvv3716tXo6GgKgF6vL2VhyMgX7J/vdrgOQbJmtdDI/olIjEIUCdYf/hQAqiN3RMavR30lKocxbNfDq/zfZ7FVOBMAHhTv8LRpctcETJgmGtOqUe0yVl6zNKRZdDU0oLFR82blitd5ld2M3sj+1ADZi6GpSafX2w5lzUh8IgaR/akBGDU0yZo38LGyP6/oiy9i61Zzz/Awzp9HcbGHDnXub23BAsyZg3HjlA5eA15yq1Ey+4ci1NzFu0oNcKnItiFxokoAwsKEANBu33a6Ncpkbi5eeknpuIRL+3T7yP4jGHH/PP8vfulpUldJAiDwU7oxO7SDn9bXo64O2dmmjhkzMHs2jhwh+bleODNTHI0KtbV4/FhDxKwrLhkVpXTIAgAPQNKiCJlQgYoqVDkb396Op0+RmKhsd948XL2Khw/NQ8gPTXGASQRv2z34E/wbEzzCI5qns/dZiYBdSALAY6+pwdKlSu8CLFiKpS4FIBzhy7E8G9kWvcxfdbWbsVrLwCiozeyE7B9jiDE2yP5Ndsid7B8TY1ytydCk1+k9X9neVda5oJz/IOy/fDlefhl5eQgIMHeePInTp0XxeAAP2D86GmvWICdH3fcQD20vOdmfLG1ut7QI9ldfa7sHYjekBw+EAJAmJk82Os9wJQCMkImimXBDd4PUT+tF75iep87NwVZLVlWhogIjIyaFDQ4W1LxiBYqKXPiaNElUiFk6xG1j5hobNcTBWdQAE+7iLtmfuu7J/qlAaWlK6w7ulKHM2XhZ8ebPNyZEhx074OuL8nL09iIwEJGRuDEFhVOAF12ufUgyN6HzZJfehSQAPCvekM5OhIXJvQuxcCM2NqLxDM44mhmEoN3YvQVbIhFp7r1/X1yO5maPgjHIKRnFVUhWN8j+1ABjo6nJoNfbJNxAhY81DdFDTw1Qn8roCdvg3kEbNI41eJha9xEfj1WrsHGjuBym8hDgKR89imPH4G3Y31pyMl58UViMSdGBGtTcwi3+qgdOxmSy/2zMNjssK9OVOSYCnavklJUZqAFMggSSDDWAckBRsAOySW6uMD8/2fk93NuP/WT/drSPqZTrRl0D3d3iVK9fVxEyFZfCyet8967DaaTMnTtFhVAGTKCTW7c0BM1UUgCSkpQOsj/Nk/0z6AULlBju434JSqpQ5WwKmZ77YuQBAXLHjBnCmprQ1yf66ifjhp8nsfwHgiQAw8Mi7ZcuYdMm5cPLeHkYw7xOF3GRzGg1LQMZa7F2J3bmIMfiw4ULuHLlE9rLr41P6UKNx3iyfwxMfKHXi4O1BBWe7O/vb2w2oUns1OB9ZVbJgEtNcb28weMgNO5r3DhERYlrOXOmuFRLl4pbqgZJ4f33cfAghoY8iUSneWuk0cREpKcjJ0cUJ19UOIdzxSi2mkH2p1l0kf3J4B6Dc1UCIJaQ1jhzxmZkWhry8oSFh8t7JAGR+mksrbGjfrg+WIOjWVYX+/JlcYN55uPHS+2gICFmIyMoLBQfnj+3dkFh3rABu3dj2TKlr7ERFy9qowHWlVlthKKTtcndbu2dQjOPIrRihTqGj/ARicvFzK4uFBfj9Gls2aLujjFxRj3+8OFjfH70kSjq1FSkpMgdgQj8Ir6YitTlWP4QD5vR3IMeHXQhCElAQjrSl2HZdEy3cFZUhJMnce/eJ7MVyyKX2V8nX42BAcH+zc1WE8j+ymG3oIXsP4ABW8K+7L0AtWnANyxayRYdnnDGT43/YvL/VH8Is14LEucGBwttjI8X9UBSs8Ldu3jvPbzzDuo9vSDmNePUDeut8VaTSePiRAyLFsHHR/3xFE4dw7GbuGk1ieScgQxzu66O9G1oaIATlnQuSNwmBaC2ViiiSQAyMmwEgEJFrqSxqoiFpI96Uv9R7JuMR5M95v3r/HMB7Xpq7jDNYaxfg0W2Tp3C9OnYvt3UlZCAr31NVALptaICT56gtxc6HcLCREIyM7FypfhV4dgx4WRAuknOwGUoAKoCu4ZrNLiJXwCbNmzYtHZtIEOVcBqnWR6ahOT4cVHngYFYvdrhmHb8AcN0qfr7ceQIoqLwuc8ZK1hCDnJoT/CkFa296CWfBiOY3BomuMMSly7hwAF88MEoAzJ4aRrZn3EaG2R/vV5FwcYJZH9lr2T/JjTZ8anDElaYl9KtTQP+WfrtED9k//zRJecf5cdPzb4lxxL759sZT9oNCnLojQLPOjl4UFCFxzAuG6cOwOBOJGdwZj/2F6DAqj8VqWR/87kT5O6yMsvz1ASLeOiEZhIA1gw1gJT48KEyIhJ5ecJSUkTrCFrzW29h/1zsm4sHnlc3L9N1bHc6ROfZHVIpwS8tvxQWIjoawcEqSgwJwc6dWLcO1dVoaUFfnxAAdpI6p061clxQgEOHBJG7Btk/K0tpkWE8E4DXkFEzuKWmfNOmZMyejdu4fRiHC1GoafLICH77W3R14cEDcajcEXdOUOSePkVDC2qAavwBw8f8Wl6O3/0Ow8PisGfNUg+KFiUR7czNiRPi5PftE0Ly+wGyADXA2CD7N6nJ3aDc5BjTELI/NcCOI4mzj3kvMJUGPHI6MFz58VwXhx06NrvWiNu38dFHOH0ax46N9pQtA3Bra21oO4mTR3Dkfbw/iEGrr3PFJZ5r0UX2J3eroEUGrEOSBWDrVvNCc5GRoQgAVSoXE3IxJ934eVtXBPZtwz7gjufarZcEwD24v4q9dLzzjvjt6RE71imfKMbcs2OQMz/4AO++i8OHNawbFyfYf/58pUNmf4Mnlb715Mmt1dXjamqwadON85v3vzfuvV70ap3NuLnhq1eRlibogNskKHJtbYI3Hj2yywp/MPCxaN28iWfP0Ngo1H/JEkGQLsGLcf48Tp3CkSMYHPykt2MG2Z8aYGyQ/fV2jpHHrWyR7E8NsO/L4Iow3ITJXzLwRecj5wEHP86s2aK5Gffv484dlJSguBhVVd5yPAd4153xj/H4Du5cwZWzOHse520HBCIwAxkWAlBeLuqzvd12sKMjtU8/HR3CD7Vkzhy5Q+jMXBQWylKYJ1m2akII8HXJPk4YRl+RMsh+b76JlhaQUleuRGamawfkz3PncOwYTp/WtmJ2tjATBjAgC4BH0W8BkliYP//5qZqagus1B5o2NWG6mz6qq4X954OPdQcT+S//IpRg0SKkpyMlRWj15MkIDoavrxhAlqdIkBdqa/HgAW7fxuXL4sUGD43PbvOrBrge2imZK5D9+xBj9Eb2b1KTu+ieNEmw/4QGYxfZX+9E6yuAGdYhPhxF3k3+fm27+zEpQ2Os7ZI5xfPnggA6O9HaioYGPHqEigrcvSveNS7SYzc1ouuxOyEPYagPfc/wrBnN9aivRGUZysgRvei1u7bM/nXwN3fKrO0A6iNVehyeKV3R5vgZm/5GDSDxAW/gE4JOW+yeVeqRI0L6ucH585GWhqQkREUhNBT+/jAYMDAgauTJE1EgHHbjBoqLUV+vbXHevawsRGYr356ghCfLs/YoDSuk330jIwVHjx5E9QBqgE3AeruJ+i9YwMd+94ULwqZNQ3IypkwRBxYUBD8/cfIUgK4utLSI066sFErgAPnip9v41AwXozs1+YtBTCVi8o27GxL0rleTu3BB9o/h7RUXGG3UCMA+syjYA+w1h/iTUade8acOrNrdfGmEcNqu9p3kaOTQkFEAnj4VSWtrc2+RHkcbyH/s5tYoAP3oJym0orUBDe3OpSsf0zH3PWEKBoAyJwIAyyPY4zw8IQCHsf0wJph65mK6UQBS5Y7v4pOC09hf99xvVZWw48eRmoqEBERGIiTESAMUgGfPBA3U1aGiAh0dDp3YiSw7G6U0NflcK0GJp2Fa0vt9yf5p9Fn9TwEfZx+rq4V5ir3Kj9uzPP5sRBNi9yLW3IKa/Y1eYsoQayIHvTRIe4gFGCPs3TtWjj05C68uMmZbM7qfspeUjBRVV5lk/d4pPOpi6V6UkrxMPVyKC04BGkXre2O6O3vQaYn9nBcWIsvTPIZNcIE4lqXKI3GbAmDM43/h48W4sXRuwGsGTDFAZ7I4A143iH7P7edAlCj+b+rwTAfDFBheE90U/FD10jeBXaZVE+yuegpYaRo9B9gnnn8BdKuGFAErHGyNEpAp3UFhK+BXhB8q07olR0Zsk2pb+XYUyHKas1clUdY5Ne0YD3zfuPTPDIhUHQXt16M8CsUs8DoQp4o1TuqR8BNx911szaH9FXTdqugLocuxzAnp488s5ywE3sVs4DemOH8NzNCYuBekAlEf6V/hILAYSTq8ybqT7c9gaDQN+h4M40z9Guy2DruUSGOlc2+3DOEYcNX4+ktpiNMqIJ++bXkqbTz7c4hhKb5nGhQoHcLPgHg7W3aS/UTg3ywHvyelV9vh7QEqVHFV9GHP96XrqoyZB/zW4VFYXUrPTLqTCcJd7LeAfm9UPZ18S1sx5QJlplmtwJ9qm/UScMcbcd6RXDmCj4soxo9HaioSEhARgZAQ+PpiZAS9vWhrQ2MjKivR2QmPEBeHpCTExCAsDIGB0Onw/Dm6u9Haivp64Xhw0B13fpKpYPDxQWIiIiMRHCx2Qe/PnqG5GY8f2/ewgX826APOW3ScMA22xArpcsFm6AnrTl/JLE5AipPpZZx8HxoSWWhpwaNHMBic7FgHXRKSIhEZghAf+AxjuBe9T/G0AQ096HH3OOhhBmbEIz4CEcEI9oXvCEb60d+BjiY0PcIjPfTwFPHx8cnJyTExMWFhYf7+/uwZGBjo7Oxsamqqra197OhETPgS//OqEFQFzDX1TR1E8m9x0WLcm+bhCl6cgYkK6fNlRgsqjriahD9C0jgkqTqq0FOF/XhTDGP/GngFHUCB9NKE5ceROh34tOorFymlvS1Kwipgy2iDEJQnRq+19H4cD4/jQtPeL/mXYc92wN/0YRaQ9hj1p2wDetM2FcQ6zEzATFXHgCC0vWVvDshNFzS4RxIQS9QBe53P+rF3UmwEazsb2Vn4zTfwl9hzDdeuoaLCqytY4usWrWG8NCwUXIBnOTwC/MJqws9sXPy5oO0kL8VTCxzg4//YfnEsAJMmYelSzJuHtDRB1VFRCA01C4DM00zirVu4fBk1NRojIdHT64IFmDUL06YhNhYTJxoFgIwvU19dHcrLcfMmLl4UQmOLb4ufb1pwri/e8CVF/UC8JyQYsrMxZ45YgGFTtygA9E4B0OuFtjBmuuYu1MgX7GIhlWT/fOuljYxu0w/8b4t4DshDs7YBmepRfrjoh7Pi7QcivEWLRCKSk41xygLQ1YUnT1BVhTt3cOmSSLUl4hCXhax0pE/F1GhEUwDI1xQA8n4rWutQdx/3WeP81XIiEzExBznzMT8NaYqiyALQh752tJP6q1FdilLp3lyDO1iyZMnChQvnzJmTkpISGxs7ceJEWQD6+/s7Ojr0en11dfW9e/euXbt2iTt1AJFsntq3K7HILACvY6r1uDftnM2MGfi6hQD81M6kWouecRjHPLyivnzXKvGDSjHY6HulFzSgwyLSCxcwfTq+Ph1Ri0xdQmjuorQBJ05YB2xZfmuwZg/WzjBRjEDzNfyM7H9BinmgFF2l+NZCRMof02j/gFOOBMCmtlkYf6kWgNYy/KiUGm7Mt+Dqfud7/bKFBtTZvT9qBMBryEQmLwvZPxsVvInfILEm3sJqqZavXxe/XsVC4DokPm8xd/JuDuO/AfHifRBDdnb/s3RJ7lWQBn3JGxpQq+RbuwAsX47167FiBbKyEBxsZwA5a5FUqjdu4Px5nDyJo0ddRpKRgXXrjF7j4+2P4Y3NyUFfH65excKF+PBDXLliPcaUQDPn/sYPfn6Ulx9i61bDmjVYtkxIl8Q11qCklJRg/nwcPix0RsFS8UOCCVJ6TjveyVKnvT2y3hJZ/N+l0oCrvsImTAjr3bwbq1eTIEVSROg26OkRBXr2rEgsc2HCJsOmdVi3DMvmYV6gWnJUKENZMYpP4uRBHHyO505OZCmWbsTGVVjFSxKk2roCUiEX4ksNai7h0hmcKURhIxpdnnVqauqGDRtWrVq1ePHixMRE2wEJCQkZ3DtQX19/5cqVs2fPHj9+/OHDh7YjxWQKAM2sz/7JSKb+MSq7w2VQYVlOiWGm9mSpvBhMXZ2DGcYt03kifM1d70irW4xMdJkBF+iw7iDPyxoQHm7qWhOJUipvKRqNCdcp2mAwDklBylqspQaMM3vuwNvHzbKRSGYpZUksxBfkDgrFrFmIi0NDg73ALHcWi9iZmJmIKeauc3RWZnxfBwghCTAH5AD+mhOjs/DsIajiJH0T9WfPQJxKdebh8/PE7ZMFQLauLngDqZKKkkYQYe4cwhBN7hqqEw3bHc+wFoBQq+cYwZ4A7N6NXbuwZQsmTnTtYMECQbUpKYiOxr59grYcgILy4ovYvBlTp7r2GhiIVaswezamTBECVFTkKGjjq5+fzs8vDK+8Ylxj3DiHridNwsaN5Cexu7festCAMUuvErCvr87Xd0rvV76CHTtAoXKCoCCsXIm0NERGwscHxcWhCM1F7k7sJGVT75xMnYM5NLJYCELewlvDGLY7bAu2vIyXt2N7hLpaHYBsS0tDGhlhP/Y/wAMng3Nycnbt2rV169Y0xu8K8RLS09OTk5MPHDhQXFxsZ9CzZ6iqQm0tkpKUeLhBewJgBtmeZqfLSgB0FvRFt9QAc5uLkv0ZgIeQCY1S/VXga+Re1af3gdfI/PLyJHmSNgszL8/0ndeARUIB+M1vHHkn9Uvsryp4eqE1mkW6HOXUgHa0T4TxRvNYaPYFwBJkf5q5TXVhPPfvm3suAMttkji6ZAmf+R56CEKQwvt8STQKmg0vkbJolAFFA6gHWjLiGOMlAZhhU1S8gModJPsPW1xHseNO4Iejz51HsBGAT30Kn/0stm+36n6CJy1o6Uf/eIyfhEkWN4Rsu20bQkLEy5tvWu1PBin3858Xle3ra9Ffi9pmNPeilxUcjOApmBKNaOUrqe8LX4DBIG5fSYmjLYgM+voG+q7bw8gNOTma9j1tmoimvR2PHzsRLa9CxOnnF+E3W8QpVFMLoqLwmc8wwkC9fk/Nxs/is8ul26YF67GeZdeGtoM4aPcrve3BHusPvANtbRgYwPjxQiOTk9UfF2BBGMJYA2/gjTrU2V135cqVn/3sZ/Py8sLDw9X9XV1djY2N3d3dfA8JCYmLiwuiyJkwc+bM6Ojo4ODg8ePHnz9/3o5fsjA1wCQApGlqwBmccZIBhwJw6pSTWaxti/LmujQZFVZP59Cp3nmhts+Q2V8KqRvUuQ8k9jfjo48wfbqwBQtMXVlZRg24dUtnI1rLsGwt1mYgw9x/4waOHxeOLFGGMmrACqyQm7IAFBW53gMHWghAGT2VWQ8yyHsdrQboFG8XPZkegQg19Uci0vUcUszmzUYZoADISlBe7ln8qZL52+RDLQB8owaod2wwzZ0K1Jid6S0eYwZLAdiwAS+/bMX+l3CpBCUVqKAG9KHPBz5MNKuUKWbxmcetWoW+Pjx9ioICqzVYzS+9hE9/WlCKgou4eBmXy1Guh74HPRSAUIQmIGEu5r6AF+hfHubvjx07BEvfvw+JOuzDz2+XX24uTOzPY3yAB01oYsBkq3CEJyJxHubFIc48hxqwdi3u3MGxY2OcZJhq28/Xd7cv45TZv7kZt2+jtlYkbXBQaCMJl+STmYnYWPNU0ujGjS/ev59bk6uwPxnp7l3U1wtpJAIDhVKkpAi68FEd6SZsInvdwZ1qVKujYXq3Ydtu7LaIkaxx9apw3dIiBICOJk8WbESnTJTOeD1TkLILu5jbf8O/2e4zMzMzNzd3z549pHKls6am5uLFi6WlpY8fP3727JlOpwsNDU1MTMzIyMjJyeGLaaPhnDg4OMgxt5kZK8hETDaUQPanBvjBbxCDlmRrvHaxsTpSfXQ0XzcCf423V+LzQFycEAAmi8m3MwmsFmsBoOrQZOSLnxNWtO2C+okVW7D9c/Jl2SslBDUf4INzQgCsQfaWNSA01NQlCwBNxRwElZgXcA3WmLtYDZxPs4E03ywAU6Zg1izx29hoE7OKxsmhZH/eHZWjUjsCADXnwQMZ0Kn9uI94xCu8z99gBNuOGQBuiScveyarw+JbQACW824tF2wga4CsByMj2tZnkT2BROIz7G1siCdnMJ4dz1A6RqsKMYqHSgBEqf0rxhwqtiB/bNki6NYEsue7eLcQhRdwoQEN6mkTMZEJ443MRe4kTDL2btqER48EVasklDRC9qBjhf2ZgXfwjnQBzj2REqfGbMym2OzBHvK13BMTI47m0iUUFTnaxQY/vxf9Vq9m8VBReAMYMMudMfeil1eaEfJOLcGS7di+EivN85YuFax38qTQ5TGEcti7hQCwUIkTJ8R+SkoEqbW2CsL188OkSeLqL16MzZuxerU5zIyMLUtWr7mwBg+EUhw6hNOnRX3W1KCjQwyYMEFkafZsrFiBXbswdap5be56IRZaCUAOclZjtT/8zV179wrlPndOsL8aYWHCKRnwU58SUiSBIs3p13G9BCWWY8O2bt26c+dONfufO3fu8OHDp0+fvnXrllVeFi5cePPmTY7PMSl3SEjIiy++2NTUVFtb2yHvTUFdnchVZ6cISeRURw2gUentJpw8P8N4HR/09T0IrDCdu/xBEgBbyOzvo9wLLsdFubSM36EWwjRTv9Dar2I7C0/x0G/oZ/HT2tBmO7+hwagBublKTElGDThhoTsy+5OjzV0y+zdYXFVj8lBXhrJ61JMr5Z60NGEqAbADsj/N3NbrBfvzjtuFQdm9TiOd62w9uIlUpKqpn5fdbkpv3sRNCAN+0ofM32JuJjJpPmoCJOaytOeKq8fbpSgBa8AFvgXcpTbOCLyb2tdnnQxgWPCLkWHI/sPDdvROFoATSADSgQzg7w/g44Bq/6tWiTojDZlAmn4bb5/BGdtp7WhnBbeghWz+Cl4JQIDxw8qVuHpVLQALFgiajY83zy1AAd2egKqaVYVwD/c6DB1BCEpEoiIt8+cjPd2RADCHP/ddu/MKcBVX92HfYRymMkGV/SY00W7jdg96whHOQzZ+CwnBrFlITVUH7BD/n702gYoyTe/Ff4UgqyAgAgKyWSAIKO57gwuYRnvz9Myke5LMZCbL5D/JyTmTfzLn5CZxss656Zzk5t7kdrpnMhm704vYxr0VcAFBsVtFFFRkEaEKEJBdAVnq/t7v++qrr4qqogpReyb187H43ud93+fdnuf3025TN4NkfZksO1cPcb+HDuHjjwUJkPdVjIyIcqQx58jCPj5C94Bo4FeorWt3keiYRx98gE8+QUmJVeiBAWF376KuTmTY7/0eVAbORGYa0lgYagpSvOmkWebzZgsLcfiwnV0z+48fR0+PEPDvfld1U1R4jTYCkJubu3Pnzri4ONVz/vz5/fv3FxYWDg0NTY199erVhoYGEr3JZNosHZbg9Ly8vNu3b/8XBckG1CEaU0pCAhIUAdDZ2TipyywAzXfv1sXV9YTpwsSryQJQXm7ndU2KAFicZP8GSy65mB0qAhCwR2L/EISoTpn9SceOAlGFmZLUAKa9AlkAaGbCJi+T/XOQY5lGkqNCcLIDSPNrtALA3D971t7mzelNjbASALJ/rcNtC5hsItlXAp2jue6A6afy/gqssDvm+nWJ+quUDykFz/8vnGcGyAKQJSkBqcZqWiLTKlHIgKoB1IPWVsd7+UOgPi6uRv/dm2G845s3bfhECIBuQj4gv1ihtpg/PzojQ5+ZufCzjM7OTEkD/qeddXQu347Ll2kWAGbc+vWCFswgQR/GYbvsr6ISlfMwjyn1Kl5VXOnpQkIXLkRnp+xgHjPVVBhhLEOZI/aX0aZrK0XpOtO6XdglexiPLxIWJojIHn5vx1zcyrn1SalQrG50272FQQyewqllWGYRAIL1TsJyTQBmCss+fGgVFUIADh50OPzxYxw5Ig5MpgsIYMVfARYsX8CeEyfEPBv21+L2bRQXi9TOz1c8vvAlo8UhrhnNsicGMbYZz/ooK3N2gosXERMjXnbtWtmRjGRWyVzMfYInsicyMnLTpk1bt25VJ9XV1R0+fPjAgQOPHj1yFLi/v58DgoODo6Ojk5OTZedLL71EbaisrGxvb7caLdOxWQC4AWqA3bChoYLk481MTgF4fLduAzZIW08WfdT+wcGpExnQKqarAmC/NGX2J42qnnKUk/1LUOI83OnTonBo3KaAv7+iAR9+KA8g+2/HdssEnoXsz2mOIZF3rVpTfE8WZnQ0bO7YcocIJfsnIcni4gacC4Cz+zG5S2IOAulU3qdZ6ZMZ3d1WvD+1uO8yI3D3c3yulQGaP/wtg8LDRRXJMkABkJXg1i0H+9KnpOj1mwuwWxKAGvOv0ci+cZDzx+U7EF+qAHh5CcrNyJB/9bpM/Y3FZuKcKfVrx7sgA2YB4PHNdUX0oY80PW2aEmdxNhvZW7AlDGEWLUlKkgTgLFtk7YXMMHOS8T6a+E/Fdvthb+FWg65Be4CICCxY4EgA8OT8k5M4ScWysL+9W7iHe4zcjvZoRCsuagtDz6DEdW7IrAWjoygtdV6oAr29InNra3PXrGFrteR78ECw9LRTmfSUAVUAiEhERiBCFYAgBAUj2GpLDx86vFkVN26gvl4VACIc4Xz0DnTIzezs7NWrV3sxp804f/786dOnnbC/DGrAqVOnUlJSVAEQR169mgHtC4AZVDJqwDzMo7TbxCTD02SYTEKKHqkCoHazqq3hDW+KJc19AbCDrdhK9s9Fruph5pP9adPObW1VNGDvXrOLmSBrwPXrjEz21+qKwv6c5hgsjRrUkPh4eNlDAUhLcygA5FYrem1qEuzPLHxBCECAlvoXY/HUMcx8LfUzr51gCEMVqKAxi7RKkAxLHmLuXGzcKIw3L2uArAcWFldA2ktJmYvYlYJIubBGBiZuPpkYnJCHcd4EPxMTtdQvjFnZIIJwQwoOSfY0cEE2JAHQ6UQupKer3mpU86CP8Xja+ROYqEUts2o91iuuRYsQFSV97eN/r2phmvGwvTl76EJXD3q0JBsUhMBAh+MvouI8zpPfpxVDI4zkLIsAhIQgOPjprtkdXH2IL5vR3e18lNjs/fswGkXZm8Hkrq4WdOYcjN3WhqEhcWMySPdaxp/EJM0ywdcXfn7w9lZz+kd24/b1oWHQum+uD3zURkZGRlZWltq8c+dOZWUlf125ldra2osXL27atGnZsmWyJzMzk98nT560Gvf4MRobBRMlJcmOBCTQbuKmTUCtANTV4e7d+qHhOwMYUO7BgQDI7D8Hc5Q2qZ/LDQ9Pt307daaHnuxPUz3DGJbZvw99rtzJuXNCAGhkJgWSAITXtG4f374N2yxDmRZkf06Y9p5RSw3QCgDt7Fn7g9lpJQCkMwrAtDA54h1RzDpnGe8Q4QhXeZ8fC7HQZsDgoBXvV2sIxxWQN2incEoWAFUJtFWj0HRuriIAshL09kp93eHhC8jdsbHqjsORk2PKydExsBCAmxM1E3KSTkzkjusz8LqgfhMDzpunrsC3ZhCy3KNHovmGRKCZ7vG5neu8KcVxJCWSALCIqEj+/qq3DnW3cdtq4BcOF2tDGylV0x8qWFXggvrjyna1xyNDUVpMzBiKk9Tt5SXMAZ4Al4ZwyZWrGcQgld/SJvfRnhuuUQNceznmVn+/tstgEKLg0hkHRQ6pAsAT+sJX7e1Hfy96rSaQBtatQ0WF3PoLu6n2QBZ0+4iNjV2yZElYWJjqIaffuHHD9Yupqqq6efOmKgChoaHJyckMa+CxtSAp08wCkCgSN9FGAJjIWgG4e1fYoBCCOtKHcMndPj4YG9NOlAXA0ib7c61pYOeqAhEos7+WQWT2ty0rpyCryxpAUpD2F08N2F5j2Fa0LZRVJoMvzXE0F0D2p3FjsnKTsPjyUVHo6LCl7XmYR/ZXpUJ+UZcEYJYR87rE+zL1c1c23U1NFt6vqtK1tWk7Ta4uIh19BCNf4AtarClWlgFZCSiElpEiQcQrKAJAO3QF+Fu9fklKiv4eljAbrXaQmKhLTBwvKBjnxUtJOj7+w/EfZmDRoqmbG8e4Xl+v1zdcv15vd5umZ3C/kgBERyMmRnWNYawVrS1osRrouPhJqe/hkcbhK5mrMGk+dDM8Bam/EuhxZSh1hWZpOxWWWcYtif1bXRs8znwY1zpY6WR2l84oHdJyROmQapMv24hGvrLMAgJ5eejqIuni8mXx4f5bxMXFLV68WOtpampqmJ49Lairq7MZz5gOBYAblpCABJpNKJnedeYDyAIwoBUAUr88yJrRbAVAXsshHN6QzP4kUNVzARfI/mdwxq1oLS0oKqIAmN54A/KjZGzbtq3GsLlmM4zmaaR+DmqxrlYzbChjGMNkcWpANrJlDwUgLY0CYDuRm9fuX2H/gQHrUfk7gDlwA/l2P+2B+Vsi/v5KMtb8PtYGykxlvqgnT7S8L8xayrVX6pQ27b2hQcecM5zCKbK/KgP8DUe4Eo+VsnMntuZi3xWppL/fkrLoHb1eDz31Wv31h7+yvJdXYRZjiNnjL+Wds16uBz3Ms3rUi199va++AdeZdb8JPvp8zA76gEP88+9Te6RrDQ/HggWqqxvdXeiyHfi5w+ANeEzTOOZKNh0SEkyLFol1g4MRECBqUqebqQZUSvaVR7qULS8aZIGruFqO8lzkKq758/G7v4v0dFy7hlu3UF9P/jYZjdZv8QD4nmSYWlQRERGRkZFqs7e3t62tbcCWL5xhdHTUaDS2t7dHR0fLHgZkWNtxbW1obERPD8LCxLqISEQiK/MhHqpDZG6X0dws2L+3F/2SAPDscllOFQBveFvJSXe3YP/2dgf7dZinL+Elsn8OclQPC5vsT7NMNbka7cwZCoBuyRKQQDhtm7//9m3bUWOec+OGYP8zDnVlalyyP7lcKwC0czacRL/Uo5lWYyOWEvbx/59N1QDHZbxP+fv7zmRKYn/zyPXWPf9gNH7z+vXrVVU1Mu/fu4fpIG9lyOL4sWTTYQITsrhEIUoIQMhyImt5VuZPM/EdeYi3tL318Pt+m76NVorSeZhH6tfrNEoQo1/4uwvf/B2RrMR2/v828B9oRjMTQ6F+kyIAY/ox6DVX9YezoQF96m06EoB58wQLmzGAgX7Wixt4LJkKpwLAEsvONqWlISkJsbFkDoSEqAIAZ8njBH8C/PCp7+m54OYLXd1MPWdwJhnJYQhbjuVK15w5yKUi5Ap6ZVqSOFtaTK2tuH9fR4/RaK+ofqq250tQmxSAHnK0m3j48CFnqQJgE9MCUTUNWLtWblEAaKoAMIm0AkD2pxGTmKyTNGAFVoi2dpAEUn884r3gZbWKHdyXKtg+GJTsT1M9j/BIZn83a8qC06epASQV+Pvjn9leswQf4Nf5MTws2J/d7uAWblED+tA3X6KWuDjB9FFR6OiwjKFGpiKVprS5ENnfjgCst0vSAiZNmthO0Etmn/plVDja/X/8oLeqprfqet/16/2D1wdwHRrhd4ogzfcPJUb0c/HGQlI75i/vCF1RFLo8I2z5csSwZP5/qxEp0oGkxBnE4DXdtWu4Jp2Tj6ZfsnvJtwr02RHfN4++eaigvsHQ0FCikL4BBkuoQCnUEqZfnOKJc3GbjtHnrFMSAD8/YWaMYITmzgrDLglAWBh27tywefPpNWuQkYHAQEfhTDM55YyE4/njhW9T0oAhDH2KT00wvYJXcpBjNSCZ0pAsPpgFFIB790wUgLo6XU0Nrl8nSWuGfkf9CggICNQ86NDQ0ODgoLtbeyRBG5OwM85aAEjctCu4IjdlYlfnqQJAWAlAcLAYx5PydBLI/jSrVcxdLmIe5snszw/VKbP/HdyZ8YtRiyUN2Pjaax8Bb8nOXUDj6dMX2cFuN0EBIJ1vwia5SQGgaQVAZn+LFvLpyf5jY25v3W4lk+D+UzKX8A/AWsl8RetbyPg2uSMjH/nXRToqRlWbZg+PJM5/xwWNMiM0FGR71VasgJdXjbg8fGgeMgqRdVe0iqaNR35PKajfUYDs7Cjg+yjHe5vx28h8efe33zXUXzAM3LljVZWW+6E14PlAEgAvvrX5sYEJTNDcCTIqaQCnzJGatgIQyv9paXj9dbz8MjZtchSFi5rka5Av8c/5ZnOg03m7uo3nTq66GenVV0EDAKPJ+D7eN8BwG7c3YINCi1r4+UGvF0Z0dJjIAteuobISpaW6nh6bsd4S1OaoBHf3NTY2Nj4+rjZ9fHy0MS0gL5OdmaRzRL4lIpGmdsoCIIOkRvZvb1easgCMY9xbTnt5qF0B4DbkVdyBzP4MqnpKUUr2P4dz9jPHZdwsibyxJH/LkvzwDMWTX/Ow4fSNxpKbD9y9ZYDsTw1QBYClSQE4f94yQFKEpZoJnFHr/jrKKd+SuFdlyHqp+ZH07ULpvIO7a/FPa7FmjZD8+fPlORGI2ImdtGpUCw3QKUrQhz7LVJcK0zS1knkhpHuV+qOjbed0o/sKrtBuqwKQYudZObegQBggUrC0qLQ4Je23Fy7087uye7fOaITBgKGhKRogR/t8QHYPzODe3YH3LMUhI/QCC8xHCQD8qQrKjbLMvvlNfOMbSErSzqFu38O9B3jQi97HePwET4QAWC5xjpQq+Gs3tvEiyFU3Iw3Ai5eBIQwVorDKVLUWaykAy7CM5JWEJC942Q6OihKWm4uKCmRmmk6cwNWr2u2bJDhqurojCY6aFlBayM40iemDEZyAhEVY1IY2WAsA2Z9mmYdRWQN4UqhDP/+cnz7wsRIAUj9tbMzO6rlSVm61fcEc5JD9X8JLqqce9WR/2tO/VT7y84vyw5eEwywA4afD6eEt7Md+d6M1o5mMzuvipbEZFyf4PjISDyQx4VWkIpWmjH74ULA/r80OKmz+2lC/BQtlBdgkjaQEdGIq79pHB44eRWmpYH/VmIpmyCydb8qXBUA2PrGbVyK2EB5uIX1ZAKaiCU1XcVVmf9qAzM8/lswaYWEK+3t5ieAduo7i9cXFKa26b36T7SVLTAUFOgrAJ584ujVBfT/DM4ckAOPjwsxg/duhgGkQBARqmqM05V39/fHKK3jzTS37X8TFcpTfwA1mMBORAvAIjyYxaX0Ffy7/+Wv3dvILogEvaKfAduCMtt2gE2x3CqfSTGl66BORSB6MQUwc4vg9F3MtQ+fMwdat0OsFW/j5mSgG5hOMS9AMnOPt7e3uznwlqE2bmFaQCdrM9NwnNYCJRAqnj7Ung+xvQ1ykhju4owjAwoVidEwMjEYemREsaS/HdxmkS7I/TfVQXGX2H8Sg06nUk3POg2/ERgrAuqZ1+IHG+wOs+6N1LB9ulNXk7lXXoIYmCwBBAaDJAsDPVFOq5d3J/jT72Kf+aGGH/ZUxxeaPf1U1wKXq6e9HcTHKyhQBWLNG/CYmqv1RiNqFXbwlrQzQFIKeDhkZFuqnMbunohrVMunLAmCys2Urz+7dgv0XL1ZOWMwDVBb3p7SKlOPmgZwcEwXAYNCVl5vs3d8/HsLzgFSlIyPCzPCFrx/83AniJbG/v7k5BjwB2VzGli3YsUOwhhmHcOgzfFaCkk5NEthLnBnDowHOcQHYbLNwD3oqdGT0Ch+Tz2IspgDwNwlJKUjJRGYWsixDo6Px9tsiYUgYDQ3yCR5LUIcESHB3W0ES1CYDDg8P2x9qTdAUABp5kMVlFgX09Qn2b262mkf2pwZY2vIEo5HsTw1wFN85ghEss3+gqAIFpP6jOHoXd51OLbVDn9aIRCR5jSZn117g9y9cyNnyv4ED9OTr8rlRysADPHDrqsn+5PU85MnNtDQhAKXcjiRm1ADLUGcCwCJ2YbG3rGZM/XIVo6O4cEHY6tWKEtC4dTN00GUjm9aGNq0M1KPebryICIXxV6wQv5mZdsaQGWXel80qeSz4HaBAYjwvub1tm2D/jRuV7su4TAH4Al+gqEVJufnzIYmEwSBkQJOlvcDPgaPAZyRKPHsRkARgcBADFqmch3k0d4IESQKgguw/amnxRdatU1uXcIns/xE+so3hgAdNz/wGZgmUv78AfvSit+EG5KttlDjoQ9U7phtrNDWSU/g9B3PIBayojdhIDqIeKINCQrBrF27fVlmyv7+/j4xrRmhoaFhYmLsbCg8P50S1yYAMa39oZye4R/4uXMgW6ZsGM5/LuEv2nUK/j/CINUwjzUGdcO4c2d8iAO3t4lzd3S5uW2Z/PfSq5zzOUwBKBb87v/wyS8tB/uebBPuHIxzSkODu7rQzZ9JSzkRGsmUKN4Wzl4+1X7ffrfrpQhc1gMwob3vxYiEAvMuuTh1vRrkcguRE9m9pwVcKMhuXlQkBWLNG/K5cqe1fhEU0yptWBqpRPYQheUBWlkL9slEJ7F6RlvopKo439G9AKy9LkoHFTCiyP01GH/rI/kUoEo2ODhQViZR78022qALUAKMR776L8XE6bgHHJKt4bncpCUBPDx4+VF0LsCACEe4ECZQ0QMWoRQBYVnq9LHfK2+EKy8M2gIPs/57ET8nP7TKeBqsl+8WDr2TW0CnEMYGJWkEAtddwjQXwm/jNRCQqY9LTsWIFoqMFXbJauro6ScdmREVFLVq0aO7cuU+ePHFxHwEBAZwSoanFTgkOJ5CjaZIA+MGPG0uITEhJaWbpyyDNTxUA4dcKAJkvJWVuWFh8j0YAhPw1urjtXOSS/bdiqzY+2Z/meJLJRZ+su+uwTvUMnDlzpqQkPaXnrbcUD3u53QZTw0VchDugAPBlVd1KSxMaEN65lDcTgABlkHj8WrfC6pyf2oHU6RxKlZMD8AQ1KC0VAiAbxcDHR+33hvdqrKa1opUCUIbr7+B6Hg6t+GOF95ctsx+4CU1a6h/EoAu7OSkJgMHfv6CgYCPZPzBQ6SD70x7ggdKmblEAaNwBkJEhpII6e/jwWeCoxP5NeI6QBIA13GbRN5ZTHOJiEGOE0TLwaw5DLEHgSpiPKyAJwAHpk/UZFaV2DGPYAIOtljpImSxg/fNl/3Ehw+OWNpNp7lxXJ6+S7KuN9cp/LYQAVE4dugG4ZGndwi0veCUhySIAkNgzJkYWAKPR2Nraqg2QlJSk1+trXaaPJUuWcIrW09LSYmBlOIIsABs3yq0EJCSmJFIA5ObwsGB/JwJgaaekxNMq43VqIsqRXcBSLCX701TPAAZk9h/CkINJrhJdJCLJ/jSL6+ZNnDlTWVGRnqrorwyO4Y4pAxaWcQGkdjIoNz8Hc8RZeJilCCtL5V/NoFpBsl9lyGpNViX7q0owb552CNksDHFl4iav/wkFwAthe6XEn4JqVGup382t3KAA7N7dWrDekBpbAIkSb+AG2b/MVGbFclSE1FShAf7+bG3cNWAwHKNduUIBGH7O9ycJQEsLmpsxMgI/P9lLhUpDmpUAfArcth8iFKG/hhANUz/C3z5WPgMCLFIIjGGMZjVZ53Bn66eS1TMG9ekxHocgRGmH8DPEpZnU8tXAoue7Xfexj/8DTPjjSY3Prxj+lXZHn4aWfEgWZFRekT/8LfdjrjSSdUNDQ39/f4j5xpYtW7Z8+XLXBSArKyudrGZGX18fAzKswwly5T95Ios0lSkpJYE1JUNm/8lJO/P60EcBaEIT9Uy0zQKgdFM6XBMAJofM/gEIUJ0y+9ej3sEkk+uPRVrfhV3hCFfaExNkf2EQP2mszzT4SizGMRzJ69iP/a7Hf4RHsgYsF+mL+HghAKERqaldqcqI+nohAN3dmAWYrD51sxFSCyO5yihkQNUA6sHChdaDmCdrt9mbzay+iqsq7zM9ZraLDegpKPxge7cBBgMKCkZS48n+NO2pxUXcv4+iIiEAr7zCtUTO7D52xVAGA9Ax2zczHSQBYKHU1eH2bWRny17mxCqsKkPZEzyxjE2zH4JqkYAES+eFdnR22h0ZhKBgBHvBaxLm0nSQDauxeiOSUuxnyqynjwJSAy0a0Uo7OhqxsWqvycnaG5ZhTewz2tUsQvD54CDGB1Gg+ubdRBQlvBe9006nOo5gxCIA1rh169bNmzc3b94sN8n+69evv3z5ciNpejokJyevW7cuMzNT9TDUNOJBQpSZWpKNxJDElJTEpCQWuchYWQAcgVVHUwRAr6duJAQk8HgCrrE/IbP/EixRPWdxlsXMqnEwww3234RNFAAymcVVUiKsqQkSgVADeO6XX1Y6OZL7pgZUoML1Vcj+qgAQaWn6+UtTg7uClW7eP/vdgc7Fg9urep1bF2QXPT04dUrIANlfVYLFi53M6ESnTPqyALShbcaLx0FUlSisc+eEABgMxQW5xduLm9FsZzR1ISWlNCXk6NKjzJn6qHrspowBP8Fzhpfy98YNVFWp3gVYsBVbd2DHtPPTkLYBGzKQYXGxuNSaHxoSjGNZzIsFYzUYdp6dY1haecizt2Cua+cyzaD0HuBBO9ot7YgILFtGgpgmUn4+duwQev7UMD19iGnR3o7WVq2Dz0G5nXaeH/zCER6CEIuLL8v3NaOqquoKS0mD3Nzc/Px8Hx8f55G9vb3z8vJycnK0Toaq0iSkfWjIWpeiI40DNJhMLgmAfOG+Ol18Skp8SvzUmE6wHduZoluwRfXcwR1WMs3BDDfeNhKRZP98Sa8V8MlI+TQz5FazhlvkKZzr+kJk/1rUDmBAbi5dmrp06VKlj/pKAXCuwc5g0thM+meOx49RWop33lHsww/Fa08BxfJTfPr3+HvZjuLo07A/zOy/QG7U1999993id/cX/7wY3XaS4BHwSXHxe0XvvTf5Xj3qhWu1NH/XbN/GdPBW/t65g8pKrF+P9HTZsQu7qGJMjnKUO5qcjOQ38MYu7a5ZPNeuWQSgowNGo3YK1WIndnagg9pr52J0WId1LK038Wb0j6K1yeFF9fAqfaZ3cR/37+GelWvTJlRXC9LUMJ28KR3/+/oiLw9795577bU5M17VJMd6XjAYcPu2+I2NlR1U+lu4xRe5iZtO5uUidyVW8hEsLrJSu0UvjUZjeXn5qlWrtmxRaDEjI+O1114bGBgoLCwcHR21G5by8LWvfY3DOFh1Ms7Fixfb2qYrSKaZnGm8w29SghMB2l2Z/ckDjtCFLvJ1C1oWYzGJnwIAyneVdUzHSEMaU5SmevrRTwYh+z/G1FXdZjiZyim3FpfM9yMjqmNsTDhYrN/5juLheM6ifO3HftfXkjWAVcnvhITU4LRUhcNk9n/0yMU4uqc4r1pRuhnOtxvThMuXhWVlYe1aYaAtZ8914Ao+uIIrtKu4Oiur7ZbYe4XGUzw8XHzw4KSBFWfbx/Q6Chy7e/dc8V2ReLs0UeTxNbOyKZfgbfmkbGZmIjUVcwSbsdS/gW/MwZyFWEgNsOJrwB/+67E+D3mv4TXKgKXj7FlcuGBpkv0pLfyNiZEdHMywvvA9h3NknCEoxDoP81iFq0yrtmALw3JR4dVRuj+UrNnX10S+dQdmZnU5ocj+zPp2tEcjWnEtW4avf10QfXm50LaBASFEgYFYuNCUlITsbGzdil3iAUePj/ru/hnw78CXM0vj2cl7V/DFF7h4EV/7mtwKQADlltVXhKJKVPahz2Y4b2MzNpPvXsbLFu/9+4IgKCQanDt3Lj09PSkpKcb83Dt37tTpdGFhYWfPnq2psc3rZcuW5ebm7tmzJ486akZHR0dJScn58+enP8jDh+JRqBOLFjFHUsYTJAGALACaG7UjsHWoo1EAmGFlFIBPJS8ljQH7+pysOR/zZfZnCYgV3hBOUn8ljmWhMctq7PRPypXOWXs2YRN5nIxlcZHFSPbXrtnMra5GSQnS0rBxo+LhLAoAFawCFXANTHhqgCQA3O37YUvDKI+KANS4ykO6WUlhjQyUY/Zw44awsjJZA/5RsH/LFRxijsziIscls4NKyf6Hg0R0OO35QSMALJrPPxdM/YaU1EAwgr+D7+ihZ1Lyvh7gwTCGveEdjnDyeDayX8JLHGOJcOKEiGCTN6Qbsidp1IzVWB2DGP6yArvQ9QRP/OBHxk9CUhayuJy8rb9obPyz5E+Aj8n+9AQFCXvW+BJfXsTFvdhrcZHiFy/G5s1oacHQEHQ6IQALFiA+HhkZCA0VY5bj5L7PXsdnM2R/k12OemaorERxMRITsWaN7IhD3PfwvWVYVoWqJjTxUfjQrMRABPJd+CJrsIY5YBWEBH3pkk3gnp6e48ePR0VF/cZv/EYgb0nCjh074uPjV65cSQFobW0dGBgwmUzBwcGxsbEZGRkbN25MTU1VI4yMjBw5cuTEiRPd3d0unYV8TaMAMGe8Y4H/SzMLwJT71TyLLAA7sVO8sL+/VTSnyMaeAuxhrorGDWAff85kCfYvd1fNyf77rD2RiCT70yyuwUHB/mR6e2BPerqw+fMVD+dSAHgMVqsre+BzUwA60BGFKOC38CuSl3lOAaC5gM2zwv7Wb8WYO2YnnBlKTpT+PdCOj2Y39i80vK1apG+mkq8vCgpU31ZBgVuNMHajm7wwB3NCERqPeB/4WM0tKkJhIQ4ftl2BNMEKp65sNqcKEI3o1/E6PwYwMIYxX/iS3tVeUayNjX0ffzzwBx8HBzdKPhOZNjz8mV9HOcozkMHyprxZvAkJwhxBh2Ppx8bHDwEls1kJzxRHjyIsDHPnYvly2UENzkMezQDDQzxUBWABFkjUYA0q/fHjuHp1auCqqqoDBw74+Ph8/etfJ8vLTr2Evr6+tra2QTKakPOgRYsWhcryaQa7CgsLOf3KlSuuHqSxUVA2M9SM+/dFpff0TDOvHe0UAP4yFS3e6QWAvLTHQnpZ/H+L7A9hMtx4/bIpHpn9w6FJdHI8raNDo2OWhbq6FA3Yu1fxci4j8Bj7sd/FbZDpqQFWr0zqr6nB5OS0c0tml/01GqAq3juSzRJa2/nzY8k8kOBt6/j4Y0xMYGAAL7+MkBDVHSMoPMZ+jL4+nDolOIUCYBf/9V8IDBT5pClUGcFQOMIKZJbDh3sMhT09dRKHiPSKjsaiRc/jRo7gSAhCTDCtxMppBw/qBj/H55+Nffbq2GeS4xeB/YnOTvznf2J0FHv2YPt2bU8sYmkOJz56hJMncegQDh50NKS0tHRiYmJoaKigoCAlJUX1z5fgaFZdXd3JkycPHz5cVlbmxkEoALTHjxEQIDvI/nV1Lk2lANAsAsCcJ/tTQJyheIonHfgnyZ4Wm7CJ3L0Way0uHoYEf/ask1mlpUIA0tLErwxGoADwXipQ4cq6ZH/aDqFtZlAAaK5iBBidftSoO3fBkH5PfaEeuABvO74DB/DggairLVuwerXgbkcYGsKXX+LCBZGmTuq2vx/794vflhahAYsXOxxpMOjKy0W0Eyc6lre3tZkSEpSeefOQnIz4+Okq9KnRjvb92N+Hvu3Yvh7r4xBnd1gveq/j+iVcKkHJvbF7L4+NYZzu8emv9ysCoxHvv4/WVty6hQ0bsGIFvJ3ultR/7Rr4OiUlzimJKC8v7+rqunfvXk5Ozrp162JiYpwMbm1tvXz5MmWjqKjoLilvClqcL0bWpmUp0kJStxfDTiBZAJKQo7QfSloyDVpc25PbiEIU2X8zdlkF5lXTNGDuxyt/W7SjhAAEWYbtwmbpMI0d6Jh26Qd4QL7nYB8kS44uwf68UpfwQ2Df9KP+3f0bYeAfz9LleuAYDmq+tFQkweXLyM5Gaqrg3YgIwcFz52JyEoOD6OxEc7PgDpLCpUvo7Z1mHU758EPcuYMvvkBWluDy6GiEhMDHB+PjGBhAe7vIuRs3xKI04F7wz+vq9jdsNEfYD/+lyE4UAnBJcdW4dMRLLvosoAb8G/6tGtWrsCoFKbGIDUWoL3zZNYKRfvSzrprQVKur/RJfdqM7ZuxPx+r32SuEAvHzZLr1nG3pkpsPasZ9yZzj8WMcOiRecO1aZGZiyRLExWHBAuWhTSaMjoqn6eoSyk1ara4WT8OndwF1Eq5evbpq1aply5YlJSVFRUXNnz/fz89PXOPISF9fX3t7e1NTU21tLYdduuTwpNMQjBCAf0KW9E26uytSyZVALWi5jLrL6AYWyIFcYD0pxH9g1kH2v4f8fQjT+M6j/4womelOUl+PM2eQXoXtZg+j5AONyP85fu7K6jWo+RvUQhGAWhhrXN64CyT90exflwezBW+HPd3dOH4cp05Br0dsrMIL5GsKwNCQ6CUp1NUJ+nYdV64IS0wUFhmpBJyYEPLw4AHu3dM1NpqHJtbV7furSoACkCo5fp2yJHUo6V/jqgBM4Y+/c22zlaikRSAiGtHzMV8WgFGMUgA60dmus9DMuPFvxv7GbowvBfvvm9k2iQOYGe67uqgAhZx27BiSkhATg/BwBAVZBIBPw7c2GgU58qXcxEUJcXFxCQkJkZGRISEhvr7SNY6O9vf3d3R0NDc3GwwG50F+5ry78ZowGXclcznQz1AHkGE3S60Gyabbyzk8A2z6uWDstRoPVfaMZC6d5MwRpENYtNnDWI3SeSpcWL4StZWimnYDXkIAhM0aPvJIwFcY3tP0k99v3xY2i7h3T9gU6KwHif8XgQ1mAbDpQ5Gry1kPLHVzs13oojnf6xjvydHaM9wmYZBsRihyf8rwMGprhT0DtEp4FpEF+oE/lmwmOCmZGzgn2WyjQrK3Zjx/CPg7yWaKQeBPJfPgvxd0pqec77BnM7AP2C59m6TvvwR+DfgWsE0zbAT4F8nu2Q+zR5q60oWtXJNGHpO+/z/pe8EsXVK3FO1fZimaBx544MFXA9723fHxSElBVBQCA2EyYXAQ7e2or4fBYDNQpzGrph90kou/sg3p8N3xg3g7CKCtNQfwA/KBhp/gXTvb+Mmv7pFGu4ghM///6jO4qY/VHw888MCDXwpMEYC4OGzfjnXrkJ6OmBgEBQkB6O+H0Yjbt3H1KsrLhRKYMQn8lV0BWA3dHosADOrwlzrs+8EwDhfi20H4VhBC0s0xMr5A3j3Un8EZ2838ZB9//sg1DSD77zN/hwF/MKvX9M/KX48AeOCBB788sBaAlSvxxht4+WVkZ1v5o6KQmopt21BTI7pOn8aJE2rnn9kN7OuLDXOxRXyO4smPMMaPmB8A3d0oLERgIL79bSxeLI/NR34DGmj3cd86SorVH6e4Zt2kBiyYpTvqnrXb9sADDzz4CkEjAFlZePttvPWWoHtHyMhAejoSEsSYQ4fQ2+twZGQkIiLkz3700yxdzc04eBBBQfjWtxAeTkcAAvKQRwF4D++96AvxwAMPPPjvArMAkIhffRVvvmnD/iMY8YLXXMy1uLy8sGcPFixASAgOHIDBYCcqu9LSkJwst9rQ9gAPrAbU1Fg0wNeXjuVYTg2oR/05nNOMu2vz1w30SOaBBx544IEDmAUgJwd5eYiLUztKUFKN6i50UQAWYREJegu2WOZt2ICAAAQG4sgR3LhhG3XHDmzcCB8fuUVab0KT7ZjKSiEAtLfflh35yG9AA60VreZB+8TPO+4fq0eZ6oEHHnjggSNIAhAejnXrsHmz6v0AHxSisAIVPYJKQQHYgA11qHsFryzEQmXQ8uUIDUV0NEpKBJu3tQnnwoXYuhV792LbNnlUH/ooJDWosbM4J1JCqAGvvsoW1SAPeVSLn+Kn5hEf49iMjvXxi75XDzzwwIOvPCQBSEtDZqbqKkXpYRw+pqHeNrR9hs9a0NKJzr3Ym4pUpWPxYnzve2JuVRU6OjA5ichIrFwpNMCMMpRdwqUxjNlf/8gRIQCUgR072MpGdj7yG9DAPcj9xyRzF/8imQceeOCBB04gCUB8PBITVddVXC1H+dShX+LLHvQMYIAasAZrLB2bNwsbGxMC4OurnVKN6tM4fRZntU6jTdyDB4UG0OLWs7UReRQAmnHKQA888MADD2YRkgBERCAyUm53o7sZzZ3otDu6EY0/w8/60f8QD3dhl1Wfj4/N4Du4cxAHj+Ko1vlbU4OOjqKwEBNBAC0DCAHy8lDPhV705XjggQce/DLD+yEwGRhoehI02QGTCcOTA32TfTDRC6tf2lIxgdrwPt5vRzt1Yhu2pSDFbtwLuHAcxykABhhUp87RLnp68JNCIFDSgARgFZAPNIgwHnjggQcePBt47yO3984x7ZszOSkEYHJyfNw0rjC+jQDw41MxZwITR3CkAQ3VqF6FVdSAaETPwzwddAMYaEFLDWou4mIRivrQ5/JOWoC/lMwDDzzwwIPnAe//w59/dXn4p5bPWtTSkpBEi0JUEILoHMRgG9ru4E472l/00TzwwAMPPHAG76ec34Qm2os+hQceeODBDPD/yoMDAQAAAAAg/9dCsAOTliDCA8QK4AAAAABJRU5ErkJggg==",t2={atlas:{type:"msdf",distanceRange:2,size:59.65625,width:512,height:256,yOrigin:"bottom"},metrics:{emSize:1,lineHeight:1.171875,ascender:.927734375,descender:-.244140625,underlineY:-.09765625,underlineThickness:.048828125},glyphs:[{unicode:32,advance:.24755859375},{unicode:33,advance:.25732421875,planeBounds:{left:.056159633438645884,bottom:-.02437761405677056,right:.20702396031135412,top:.7299440203067705},atlasBounds:{left:488.5,bottom:145.5,right:497.5,top:190.5}},{unicode:34,advance:.31982421875,planeBounds:{left:.049409125974004715,bottom:.48691155587022,right:.2840869677759953,top:.77187750662978},atlasBounds:{left:486.5,bottom:213.5,right:500.5,top:230.5}},{unicode:35,advance:.61572265625,planeBounds:{left:.037219103997511785,bottom:-.02169206718177056,right:.6239137085024882,top:.7326295671817705},atlasBounds:{left:66.5,bottom:51.5,right:101.5,top:96.5}},{unicode:36,advance:.5615234375,planeBounds:{left:.02956531458715296,bottom:-.12381369908983761,right:.5324464041628472,top:.8484230740898377},atlasBounds:{left:109.5,bottom:197.5,right:139.5,top:255.5}},{unicode:37,advance:.732421875,planeBounds:{left:.026481776289942378,bottom:-.030073418674698794,right:.7137525987100576,top:.7410109186746989},atlasBounds:{left:88.5,bottom:144.5,right:129.5,top:190.5}},{unicode:38,advance:.62158203125,planeBounds:{left:.03225572125458355,bottom:-.030073418674698794,right:.6357130287454166,top:.7410109186746989},atlasBounds:{left:130.5,bottom:144.5,right:166.5,top:190.5}},{unicode:39,advance:.17431640625,planeBounds:{left:.028244602049502358,bottom:.49895501673814824,right:.14558352295049765,top:.7671582645118518},atlasBounds:{left:498.5,bottom:62.5,right:505.5,top:78.5}},{unicode:40,advance:.341796875,planeBounds:{left:.042983329377291775,bottom:-.250029542422407,right:.34471198312270823,top:.8227834486724072},atlasBounds:{left:.5,bottom:191.5,right:18.5,top:255.5}},{unicode:41,advance:.34765625,planeBounds:{left:-.003159248747708225,bottom:-.250029542422407,right:.29856940499770823,top:.8227834486724072},atlasBounds:{left:19.5,bottom:191.5,right:37.5,top:255.5}},{unicode:42,advance:.4306640625,planeBounds:{left:-.011208599684062338,bottom:.27785390031593765,right:.44138438093406235,top:.7304468809340623},atlasBounds:{left:449.5,bottom:23.5,right:476.5,top:50.5}},{unicode:43,advance:.56689453125,planeBounds:{left:.01353503347629649,bottom:.053493525733368255,right:.5499415290237036,top:.6066627242666317},atlasBounds:{left:361.5,bottom:17.5,right:393.5,top:50.5}},{unicode:44,advance:.1962890625,planeBounds:{left:-.009919475797210583,bottom:-.15981695975478,right:.1744702570472106,top:.12514899100478},atlasBounds:{left:498.5,bottom:79.5,right:509.5,top:96.5}},{unicode:45,advance:.27587890625,planeBounds:{left:-.00527594412977999,bottom:.24333249267450235,right:.27969000662978,top:.36067141357549765},atlasBounds:{left:52.5,bottom:7.5,right:69.5,top:14.5}},{unicode:46,advance:.26318359375,planeBounds:{left:.051032680313645884,bottom:-.027092319686354116,right:.20189700718635412,top:.12377200718635412},atlasBounds:{left:501.5,bottom:221.5,right:510.5,top:230.5}},{unicode:47,advance:.412109375,planeBounds:{left:-.013733006073205867,bottom:-.08573505127848349,right:.4053345685732059,top:.7356373950284835},atlasBounds:{left:252.5,bottom:206.5,right:277.5,top:255.5}},{unicode:48,advance:.5615234375,planeBounds:{left:.037458384830081196,bottom:-.030073418674698794,right:.5235767714199189,top:.7410109186746989},atlasBounds:{left:167.5,bottom:144.5,right:196.5,top:190.5}},{unicode:49,advance:.5615234375,planeBounds:{left:.06023674350936354,bottom:-.01998308280677056,right:.37872810024063647,top:.7343385515567705},atlasBounds:{left:488.5,bottom:97.5,right:507.5,top:142.5}},{unicode:50,advance:.5615234375,planeBounds:{left:.025334353719224725,bottom:-.01680925468177056,right:.5449781462807752,top:.7375123796817705},atlasBounds:{left:278.5,bottom:51.5,right:309.5,top:96.5}},{unicode:51,advance:.5615234375,planeBounds:{left:.028181041080081196,bottom:-.030073418674698794,right:.5142994276699189,top:.7410109186746989},atlasBounds:{left:197.5,bottom:144.5,right:226.5,top:190.5}},{unicode:52,advance:.5615234375,planeBounds:{left:.005886103858368255,bottom:-.02169206718177056,right:.5590553023916317,top:.7326295671817705},atlasBounds:{left:310.5,bottom:51.5,right:343.5,top:96.5}},{unicode:53,advance:.5615234375,planeBounds:{left:.055524791080081196,bottom:-.02657487968177056,right:.5416431776699189,top:.7277467546817705},atlasBounds:{left:344.5,bottom:51.5,right:373.5,top:96.5}},{unicode:54,advance:.5615234375,planeBounds:{left:.046003306705081196,bottom:-.034712090549698794,right:.5321216932949189,top:.7363722467996989},atlasBounds:{left:227.5,bottom:144.5,right:256.5,top:190.5}},{unicode:55,advance:.5615234375,planeBounds:{left:.018010134969224725,bottom:-.02169206718177056,right:.5376539275307752,top:.7326295671817705},atlasBounds:{left:374.5,bottom:51.5,right:405.5,top:96.5}},{unicode:56,advance:.5615234375,planeBounds:{left:.037702525455081196,bottom:-.030073418674698794,right:.5238209120449189,top:.7410109186746989},atlasBounds:{left:257.5,bottom:144.5,right:286.5,top:190.5}},{unicode:57,advance:.5615234375,planeBounds:{left:.029401744205081196,bottom:-.025434746799698794,right:.5155201307949189,top:.7456495905496989},atlasBounds:{left:287.5,bottom:144.5,right:316.5,top:190.5}},{unicode:58,advance:.2421875,planeBounds:{left:.046394008438645884,bottom:-.029431286627488215,right:.19725833531135412,top:.5572633178774882},atlasBounds:{left:439.5,bottom:61.5,right:448.5,top:96.5}},{unicode:59,advance:.21142578125,planeBounds:{left:.001066852327789419,bottom:-.16459733294591408,right:.1854565851722106,top:.556198895445914},atlasBounds:{left:406.5,bottom:53.5,right:417.5,top:96.5}},{unicode:60,advance:.50830078125,planeBounds:{left:.016948142433865897,bottom:.0726146348300812,right:.4527784200661341,top:.5587330214199189},atlasBounds:{left:394.5,bottom:21.5,right:420.5,top:50.5}},{unicode:61,advance:.548828125,planeBounds:{left:.051535540940937666,bottom:.17620354038436353,right:.5041285215590624,top:.49469489711563647},atlasBounds:{left:477.5,bottom:31.5,right:504.5,top:50.5}},{unicode:62,advance:.5224609375,planeBounds:{left:.047629290940937666,bottom:.0731029160800812,right:.5002222715590624,top:.5592213026699189},atlasBounds:{left:421.5,bottom:21.5,right:448.5,top:50.5}},{unicode:63,advance:.47216796875,planeBounds:{left:.016704001808865897,bottom:-.027876153049698794,right:.4525342794411341,top:.7432081842996989},atlasBounds:{left:317.5,bottom:144.5,right:343.5,top:190.5}},{unicode:64,advance:.89794921875,planeBounds:{left:.034064457306783605,bottom:-.23896750384690937,right:.8721996065996072,top:.7165065663469093},atlasBounds:{left:155.5,bottom:198.5,right:205.5,top:255.5}},{unicode:65,advance:.65234375,planeBounds:{left:-.008838044092129387,bottom:-.02169206718177056,right:.6616700753421295,top:.7326295671817705},atlasBounds:{left:237.5,bottom:51.5,right:277.5,top:96.5}},{unicode:66,advance:.62255859375,planeBounds:{left:.06464099434422473,bottom:-.02169206718177056,right:.5842847869057752,top:.7326295671817705},atlasBounds:{left:205.5,bottom:51.5,right:236.5,top:96.5}},{unicode:67,advance:.65087890625,planeBounds:{left:.038439807122511785,bottom:-.030073418674698794,right:.6251344116274882,top:.7410109186746989},atlasBounds:{left:344.5,bottom:144.5,right:379.5,top:190.5}},{unicode:68,advance:.65576171875,planeBounds:{left:.06301501010836826,bottom:-.02169206718177056,right:.6161842086416317,top:.7326295671817705},atlasBounds:{left:162.5,bottom:51.5,right:195.5,top:96.5}},{unicode:69,advance:.568359375,planeBounds:{left:.0652904160800812,bottom:-.02169206718177056,right:.5514088026699189,top:.7326295671817705},atlasBounds:{left:132.5,bottom:51.5,right:161.5,top:96.5}},{unicode:70,advance:.552734375,planeBounds:{left:.059675181705081196,bottom:-.02169206718177056,right:.5457935682949189,top:.7326295671817705},atlasBounds:{left:102.5,bottom:51.5,right:131.5,top:96.5}},{unicode:71,advance:.68115234375,planeBounds:{left:.040148791497511785,bottom:-.030073418674698794,right:.6268433960024882,top:.7410109186746989},atlasBounds:{left:380.5,bottom:144.5,right:415.5,top:190.5}},{unicode:72,advance:.712890625,planeBounds:{left:.062365588372511785,bottom:-.02169206718177056,right:.6490601928774882,top:.7326295671817705},atlasBounds:{left:30.5,bottom:51.5,right:65.5,top:96.5}},{unicode:73,advance:.27197265625,planeBounds:{left:.06917965680657412,bottom:-.02169206718177056,right:.20328128069342588,top:.7326295671817705},atlasBounds:{left:196.5,bottom:51.5,right:204.5,top:96.5}},{unicode:74,advance:.5517578125,planeBounds:{left:.007184947330081194,bottom:-.02657487968177056,right:.4933033339199188,top:.7277467546817705},atlasBounds:{left:.5,bottom:51.5,right:29.5,top:96.5}},{unicode:75,advance:.626953125,planeBounds:{left:.061633166497511785,bottom:-.02169206718177056,right:.6483277710024882,top:.7326295671817705},atlasBounds:{left:452.5,bottom:97.5,right:487.5,top:142.5}},{unicode:76,advance:.5380859375,planeBounds:{left:.06341786132300943,bottom:-.02169206718177056,right:.5327735449269906,top:.7326295671817705},atlasBounds:{left:423.5,bottom:97.5,right:451.5,top:142.5}},{unicode:77,advance:.873046875,planeBounds:{left:.05911847969322944,bottom:-.02169206718177056,right:.8134401140567705,top:.7326295671817705},atlasBounds:{left:377.5,bottom:97.5,right:422.5,top:142.5}},{unicode:78,advance:.712890625,planeBounds:{left:.062365588372511785,bottom:-.02169206718177056,right:.6490601928774882,top:.7326295671817705},atlasBounds:{left:341.5,bottom:97.5,right:376.5,top:142.5}},{unicode:79,advance:.6875,planeBounds:{left:.033395854136655315,bottom:-.030073418674698794,right:.6536158646133446,top:.7410109186746989},atlasBounds:{left:416.5,bottom:144.5,right:453.5,top:190.5}},{unicode:80,advance:.630859375,planeBounds:{left:.061550166358368255,bottom:-.02169206718177056,right:.6147193648916317,top:.7326295671817705},atlasBounds:{left:273.5,bottom:97.5,right:306.5,top:142.5}},{unicode:81,advance:.6875,planeBounds:{left:.030466166636655315,bottom:-.14391866037519643,right:.6506861771133446,top:.7445045978751964},atlasBounds:{left:214.5,bottom:202.5,right:251.5,top:255.5}},{unicode:82,advance:.61572265625,planeBounds:{left:.06350329135836826,bottom:-.02169206718177056,right:.6166724898916317,top:.7326295671817705},atlasBounds:{left:186.5,bottom:97.5,right:219.5,top:142.5}},{unicode:83,advance:.59326171875,planeBounds:{left:.020778681983368255,bottom:-.030073418674698794,right:.5739478805166317,top:.7410109186746989},atlasBounds:{left:454.5,bottom:144.5,right:487.5,top:190.5}},{unicode:84,advance:.5966796875,planeBounds:{left:.005480822747511787,bottom:-.02169206718177056,right:.5921754272524882,top:.7326295671817705},atlasBounds:{left:112.5,bottom:97.5,right:147.5,top:142.5}},{unicode:85,advance:.6484375,planeBounds:{left:.049098994483368255,bottom:-.02657487968177056,right:.6022681930166317,top:.7277467546817705},atlasBounds:{left:78.5,bottom:97.5,right:111.5,top:142.5}},{unicode:86,advance:.63623046875,planeBounds:{left:-.008269192599201152,bottom:-.02169206718177056,right:.6454762238492011,top:.7326295671817705},atlasBounds:{left:38.5,bottom:97.5,right:77.5,top:142.5}},{unicode:87,advance:.88720703125,planeBounds:{left:.011923628617731797,bottom:-.02169206718177056,right:.8835841838822683,top:.7326295671817705},atlasBounds:{left:220.5,bottom:97.5,right:272.5,top:142.5}},{unicode:88,advance:.626953125,planeBounds:{left:.004098979136655316,bottom:-.02169206718177056,right:.6243189896133446,top:.7326295671817705},atlasBounds:{left:.5,bottom:97.5,right:37.5,top:142.5}},{unicode:89,advance:.6005859375,planeBounds:{left:-.010793598988344685,bottom:-.02169206718177056,right:.6094264114883446,top:.7326295671817705},atlasBounds:{left:148.5,bottom:97.5,right:185.5,top:142.5}},{unicode:90,advance:.5986328125,planeBounds:{left:.024196650733368255,bottom:-.02169206718177056,right:.5773658492666317,top:.7326295671817705},atlasBounds:{left:307.5,bottom:97.5,right:340.5,top:142.5}},{unicode:91,advance:.26513671875,planeBounds:{left:.05437250871693295,bottom:-.17280296457569408,right:.27228764753306706,top:.8329592145756942},atlasBounds:{left:59.5,bottom:195.5,right:72.5,top:255.5}},{unicode:92,advance:.41015625,planeBounds:{left:.0014037126767941326,bottom:-.08573505127848349,right:.4204712873232059,top:.7356373950284835},atlasBounds:{left:278.5,bottom:206.5,right:303.5,top:255.5}},{unicode:93,advance:.26513671875,planeBounds:{left:-.020659233400995285,bottom:-.17280296457569408,right:.2140186084009953,top:.8329592145756942},atlasBounds:{left:94.5,bottom:195.5,right:108.5,top:255.5}},{unicode:94,advance:.41796875,planeBounds:{left:.006855376669722368,bottom:.33229482979472236,right:.40916024833027764,top:.7345997014552776},atlasBounds:{left:486.5,bottom:231.5,right:510.5,top:255.5}},{unicode:95,advance:.451171875,planeBounds:{left:-.017473255794918804,bottom:-.09553469482549765,right:.4686451307949188,top:.021804226075497646},atlasBounds:{left:70.5,bottom:7.5,right:99.5,top:14.5}},{unicode:96,advance:.30908203125,planeBounds:{left:.00391839948107648,bottom:.5860277898277895,right:.2553589442689235,top:.7704175226722105},atlasBounds:{left:36.5,bottom:3.5,right:51.5,top:14.5}},{unicode:97,advance:.5439453125,planeBounds:{left:.028181041080081196,bottom:-.029187146002488215,right:.5142994276699189,top:.5575074585024882},atlasBounds:{left:30.5,bottom:15.5,right:59.5,top:50.5}},{unicode:98,advance:.56103515625,planeBounds:{left:.048932994205081196,bottom:-.032187684160555265,right:.5350513807949189,top:.7724220591605554},atlasBounds:{left:304.5,bottom:207.5,right:333.5,top:255.5}},{unicode:99,advance:.5234375,planeBounds:{left:.024518931705081196,bottom:-.029187146002488215,right:.5106373182949189,top:.5575074585024882},atlasBounds:{left:.5,bottom:15.5,right:29.5,top:50.5}},{unicode:100,advance:.56396484375,planeBounds:{left:.026227916080081196,bottom:-.032187684160555265,right:.5123463026699189,top:.7724220591605554},atlasBounds:{left:334.5,bottom:207.5,right:363.5,top:255.5}},{unicode:101,advance:.52978515625,planeBounds:{left:.026472056705081196,bottom:-.029187146002488215,right:.5125904432949189,top:.5575074585024882},atlasBounds:{left:468.5,bottom:61.5,right:497.5,top:96.5}},{unicode:102,advance:.34716796875,planeBounds:{left:.004575110905578838,bottom:-.022177918535555265,right:.3733545765944212,top:.7824318247855554},atlasBounds:{left:364.5,bottom:207.5,right:386.5,top:255.5}},{unicode:103,advance:.56103515625,planeBounds:{left:.026960337955081196,bottom:-.22888445766762702,right:.5130787245449189,top:.558962582667627},atlasBounds:{left:28.5,bottom:143.5,right:57.5,top:190.5}},{unicode:104,advance:.55078125,planeBounds:{left:.049826556565937666,bottom:-.01892352016762703,right:.5024195371840624,top:.768923520167627},atlasBounds:{left:.5,bottom:143.5,right:27.5,top:190.5}},{unicode:105,advance:.24267578125,planeBounds:{left:.046882289688645884,bottom:-.01680925468177056,right:.19774661656135412,top:.7375123796817705},atlasBounds:{left:498.5,bottom:145.5,right:507.5,top:190.5}},{unicode:106,advance:.23876953125,planeBounds:{left:-.048979545900995285,bottom:-.2324562772148376,right:.1856982959009953,top:.7397804959648377},atlasBounds:{left:140.5,bottom:197.5,right:154.5,top:255.5}},{unicode:107,advance:.5068359375,planeBounds:{left:.044294322330081196,bottom:-.01892352016762703,right:.5304127089199189,top:.768923520167627},atlasBounds:{left:58.5,bottom:143.5,right:87.5,top:190.5}},{unicode:108,advance:.24267578125,planeBounds:{left:.05428707868157412,bottom:-.01892352016762703,right:.18838870256842588,top:.768923520167627},atlasBounds:{left:477.5,bottom:208.5,right:485.5,top:255.5}},{unicode:109,advance:.87646484375,planeBounds:{left:.04430890170737297,bottom:-.024304333502488215,right:.832155942042627,top:.5623902710024882},atlasBounds:{left:116.5,bottom:15.5,right:163.5,top:50.5}},{unicode:110,advance:.5517578125,planeBounds:{left:.049826556565937666,bottom:-.024304333502488215,right:.5024195371840624,top:.5623902710024882},atlasBounds:{left:60.5,bottom:15.5,right:87.5,top:50.5}},{unicode:111,advance:.5703125,planeBounds:{left:.025090213094224725,bottom:-.029187146002488215,right:.5447340056557752,top:.5575074585024882},atlasBounds:{left:193.5,bottom:15.5,right:224.5,top:50.5}},{unicode:112,advance:.56103515625,planeBounds:{left:.048444712955081196,bottom:-.22644305141762702,right:.5345630995449189,top:.561403988917627},atlasBounds:{left:447.5,bottom:208.5,right:476.5,top:255.5}},{unicode:113,advance:.568359375,planeBounds:{left:.025983775455081196,bottom:-.22644305141762702,right:.5121021620449189,top:.561403988917627},atlasBounds:{left:417.5,bottom:208.5,right:446.5,top:255.5}},{unicode:114,advance:.33837890625,planeBounds:{left:.045180595002291775,bottom:-.024304333502488215,right:.34690924874770823,top:.5623902710024882},atlasBounds:{left:449.5,bottom:61.5,right:467.5,top:96.5}},{unicode:115,advance:.515625,planeBounds:{left:.021669814448009427,bottom:-.029187146002488215,right:.4910254980519906,top:.5575074585024882},atlasBounds:{left:164.5,bottom:15.5,right:192.5,top:50.5}},{unicode:116,advance:.32666015625,planeBounds:{left:-.019433670483564695,bottom:-.02877457520298586,right:.3158203892335647,top:.675258950202986},atlasBounds:{left:418.5,bottom:54.5,right:438.5,top:96.5}},{unicode:117,advance:.55126953125,planeBounds:{left:.048117572190937666,bottom:-.034069958502488215,right:.5007105528090624,top:.5526246460024882},atlasBounds:{left:88.5,bottom:15.5,right:115.5,top:50.5}},{unicode:118,advance:.484375,planeBounds:{left:-.002092396419918806,bottom:-.02080579450955998,right:.4840259901699188,top:.5491261070095601},atlasBounds:{left:331.5,bottom:16.5,right:360.5,top:50.5}},{unicode:119,advance:.75146484375,planeBounds:{left:-.002649098431770561,bottom:-.02080579450955998,right:.7516725359317705,top:.5491261070095601},atlasBounds:{left:225.5,bottom:16.5,right:270.5,top:50.5}},{unicode:120,advance:.49560546875,planeBounds:{left:-.0046143729128470395,bottom:-.02080579450955998,right:.4982667166628471,top:.5491261070095601},atlasBounds:{left:300.5,bottom:16.5,right:330.5,top:50.5}},{unicode:121,advance:.47314453125,planeBounds:{left:-.007219349544918806,bottom:-.23645281704262702,right:.4788990370449188,top:.551394223292627},atlasBounds:{left:387.5,bottom:208.5,right:416.5,top:255.5}},{unicode:122,advance:.49560546875,planeBounds:{left:.018007705073009427,bottom:-.02080579450955998,right:.4873633886769906,top:.5491261070095601},atlasBounds:{left:271.5,bottom:16.5,right:299.5,top:50.5}},{unicode:123,advance:.33837890625,planeBounds:{left:.011572188891435306,bottom:-.20234398020069408,right:.3468262486085647,top:.8034181989506942},atlasBounds:{left:73.5,bottom:195.5,right:93.5,top:255.5}},{unicode:124,advance:.24365234375,planeBounds:{left:.06315671142450235,bottom:-.15466084787519643,right:.18049563232549765,top:.7337624103751964},atlasBounds:{left:206.5,bottom:202.5,right:213.5,top:255.5}},{unicode:125,advance:.33837890625,planeBounds:{left:-.010156326733564695,bottom:-.20234398020069408,right:.3250977329835647,top:.8034181989506942},atlasBounds:{left:38.5,bottom:195.5,right:58.5,top:255.5}},{unicode:126,advance:.68017578125,planeBounds:{left:.046984728997511785,bottom:.1766063915990047,right:.6336793335024882,top:.4112842334009953},atlasBounds:{left:.5,bottom:.5,right:35.5,top:14.5}}],kerning:[]},Z4=class{constructor(i,e,t,r,s){W(this,"text"),W(this,"style"),W(this,"points"),W(this,"anchor"),W(this,"onClick"),this.text=i,this.style=e,this.points=t,this.anchor=r||0,this.onClick=s}},la={name:"untitled connectome",nodeColormap:"warm",nodeColormapNegative:"winter",nodeMinColor:0,nodeMaxColor:4,nodeScale:3,edgeColormap:"warm",edgeColormapNegative:"winter",edgeMin:2,edgeMax:6,edgeScale:1,legendLineThickness:0},ca=class J4 extends ys{constructor(e,t){super(new Float32Array([]),new Uint32Array([]),t.name,new Uint8Array([]),1,!0,e,t),W(this,"gl"),W(this,"nodesChanged"),this.gl=e,this.type="connectome",this.nodes&&this.updateLabels(),this.nodesChanged=new EventTarget}static convertLegacyConnectome(e){const t={nodes:[],edges:[],...la};for(const s in e)if(s in la){const n=s;t[n]=e[n]}const r=e.nodes;for(let s=0;s<r.names.length;s++)t.nodes.push({name:r.names[s],x:r.X[s],y:r.Y[s],z:r.Z[s],colorValue:r.Color[s],sizeValue:r.Size[s]});for(let s=0;s<r.names.length-1;s++)for(let n=s+1;n<r.names.length;n++){const a=e.edges[s*r.names.length+n];t.edges.push({first:s,second:n,colorValue:a})}return t}static convertFreeSurferConnectome(e,t="warm"){let r=!0;if("data_type"in e?e.data_type!=="fs_pointset"&&(r=!1):r=!1,"points"in e||(r=!1),!r)throw Error("not a valid FreeSurfer json pointset");const s=e.points.map(a=>({name:Array.isArray(a.comments)&&a.comments.length>0&&"text"in a.comments[0]?a.comments[0].text:"",x:a.coordinates.x,y:a.coordinates.y,z:a.coordinates.z,colorValue:1,sizeValue:1,metadata:a.comments}));return{...la,nodeColormap:t,edgeColormap:t,nodes:s,edges:[]}}updateLabels(){const e=this.nodes;if(e&&e.length>0){const t=e.reduce((h,d)=>h.sizeValue>d.sizeValue?h:d).sizeValue;let r,s;if(typeof this.nodeMinColor<"u"&&isFinite(this.nodeMinColor))r=this.nodeMinColor;else{r=e[0].colorValue;for(let h=1;h<e.length;h++)e[h].colorValue<r&&(r=e[h].colorValue)}if(typeof this.nodeMaxColor<"u"&&isFinite(this.nodeMaxColor))s=this.nodeMaxColor;else{s=e[0].colorValue;for(let h=1;h<e.length;h++)e[h].colorValue>s&&(s=e[h].colorValue)}const n=Nt.colormap(this.nodeColormap,this.colormapInvert),a=Nt.colormap(this.nodeColormapNegative,this.colormapInvert),l="nodeColormapNegative"in this,o=this.legendLineThickness?this.legendLineThickness:0;for(let h=0;h<e.length;h++){let d=e[h].colorValue,f=!1;if(l&&d<0&&(f=!0,d=-d),r<s){if(d<r){Z.warn("color value lower than min");continue}d=(d-r)/(s-r)}else d=1;d=Math.round(Math.max(Math.min(255,d*255)))*4;let p=[n[d],n[d+1],n[d+2],255];f&&(p=[a[d],a[d+1],a[d+2],255]),p=p.map(g=>g/255),Z.debug("adding label for ",e[h]),e[h].label=new Z4(e[h].name,{textColor:p,bulletScale:e[h].sizeValue/t,bulletColor:p,lineWidth:o,lineColor:p,textScale:1,textAlignment:"left",lineTerminator:"none"},[e[h].x,e[h].y,e[h].z]),Z.debug("label for node:",e[h].label)}}}addConnectomeNode(e){if(Z.debug("adding node",e),!this.nodes)throw new Error("nodes not defined");this.nodes.push(e),this.updateLabels(),this.nodesChanged.dispatchEvent(new CustomEvent("nodeAdded",{detail:{node:e}}))}deleteConnectomeNode(e){const t=this.nodes.indexOf(e),r=this.edges;r&&(this.edges=r.filter(s=>s.first!==t&&s.second!==t)),this.nodes=this.nodes.filter(s=>s!==e),this.updateLabels(),this.updateConnectome(this.gl),this.nodesChanged.dispatchEvent(new CustomEvent("nodeDeleted",{detail:{node:e}}))}updateConnectomeNodeByIndex(e,t){this.nodes[e]=t,this.updateLabels(),this.updateConnectome(this.gl),this.nodesChanged.dispatchEvent(new CustomEvent("nodeChanged",{detail:{node:t}}))}updateConnectomeNodeByPoint(e,t){const r=this.nodes;if(!r)throw new Error("Node to update does not exist");const s=r.find(a=>Ke.arraysAreEqual([a.x,a.y,a.z],e));if(!s)throw new Error(`Node with point ${e} to update does not exist`);const n=r.findIndex(a=>a===s);this.updateConnectomeNodeByIndex(n,t)}addConnectomeEdge(e,t,r){const s=this.edges;let n=s.find(a=>(a.first===e||a.second===e)&&a.first+a.second===e+t);return n||(n={first:e,second:t,colorValue:r},s.push(n),this.updateConnectome(this.gl),n)}deleteConnectomeEdge(e,t){const r=this.edges,s=r.find(n=>(n.first===e||n.first===t)&&n.first+n.second===e+t);if(s)this.edges=r.filter(n=>n!==s);else throw new Error(`edge between ${e} and ${t} not found`);return this.updateConnectome(this.gl),s}findClosestConnectomeNode(e,t){const r=this.nodes;if(!r||r.length===0)return null;const s=r.map((n,a)=>({node:n,distance:Math.sqrt(Math.pow(n.x-e[0],2)+Math.pow(n.y-e[1],2)+Math.pow(n.z-e[2],2)),index:a})).filter(n=>n.distance<t).sort((n,a)=>n.distance-a.distance);return s.length>0?s[0].node:null}updateConnectome(e){const t=[],r=[],s=[];let n=Nt.colormap(this.nodeColormap,this.colormapInvert),a=Nt.colormap(this.nodeColormapNegative,this.colormapInvert),l="nodeColormapNegative"in this;this.nodeMinColor===void 0&&(this.nodeMinColor=NaN),this.nodeMaxColor===void 0&&(this.nodeMaxColor=NaN),this.edgeMin===void 0&&(this.edgeMin=NaN),this.edgeMax===void 0&&(this.edgeMax=NaN);let o=this.nodeMinColor,h=this.nodeMaxColor;if(!isFinite(o)||!isFinite(o)){const b=this.nodes;o=b[0].colorValue,h=b[0].colorValue;for(let T=0;T<b.length;T++)o=Math.min(o,b[T].colorValue),h=Math.max(h,b[T].colorValue)}const d=this.nodes,f=d.length;for(let b=0;b<f;b++){const T=d[b].sizeValue*this.nodeScale;if(T<=0)continue;let D=d[b].colorValue,S=!1;if(l&&D<0&&(S=!0,D=-D),o<h){if(D<o)continue;D=(D-o)/(h-o)}else D=1;D=Math.round(Math.max(Math.min(255,D*255)))*4;let k=[n[D],n[D+1],n[D+2],255];S&&(k=[a[D],a[D+1],a[D+2],255]);const R=Ue(d[b].x,d[b].y,d[b].z);ns.makeColoredSphere(r,t,s,T,R,k)}n=Nt.colormap(this.edgeColormap,this.colormapInvert),a=Nt.colormap(this.edgeColormapNegative,this.colormapInvert),l="edgeColormapNegative"in this;const p=this.edges;if(p!==void 0&&p.length>0){if(o=this.edgeMin,h=this.edgeMax,!isFinite(o)||!isFinite(o)){o=p[0].colorValue,h=p[0].colorValue;for(let b=0;b<p.length;b++)o=Math.min(o,p[b].colorValue),h=Math.max(h,p[b].colorValue)}for(const b of p){let T=b.colorValue;const D=l&&T<0;D&&(T=-T);const S=T*this.edgeScale;if(S<=0)continue;if(o<h){if(T<o)continue;T=(T-o)/(h-o)}else T=1;T=Math.round(Math.max(Math.min(255,T*255)))*4;let k=[n[T],n[T+1],n[T+2],255];D&&(k=[a[T],a[T+1],a[T+2],255]);const R=Ue(d[b.first].x,d[b.first].y,d[b.first].z),B=Ue(d[b.second].x,d[b.second].y,d[b.second].z);ns.makeColoredCylinder(r,t,s,R,B,S,k)}}const g=new Float32Array(r),A=new Uint32Array(t),x=_0.getExtents(g);this.furthestVertexFromOrigin=x.mxDx,this.extentsMin=x.extentsMin,this.extentsMax=x.extentsMax;const y=this.generatePosNormClr(g,A,new Uint8Array(s));e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,Uint32Array.from(A),e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,Float32Array.from(y),e.STATIC_DRAW),this.indexCount=t.length}updateMesh(e){this.updateConnectome(e),this.updateLabels()}json(){const e={};for(const t in this)(t in la||t==="nodes"||t==="edges")&&(e[t]=this[t]);return e}static async loadConnectomeFromUrl(e,t){const s=await(await fetch(t)).json();return new J4(e,s)}};function Q9(i,e,t){if(!i.dimsRAS||!i.matRAS||!i.pixDimsRAS||!i.vox2mm)throw new Error("Cannot create NiivueObject3D: Missing required RAS properties or vox2mm access on NVImage.");const r=i.dimsRAS,s=i.matRAS,n=i.pixDimsRAS,a=-.5,l=-.5,o=-.5,h=r[1]-1+.5,d=r[2]-1+.5,f=r[3]-1+.5,p=i.vox2mm,g=p.call(i,[a,l,o],s),A=p.call(i,[a,d,o],s),x=p.call(i,[a,l,f],s),y=p.call(i,[a,d,f],s),b=p.call(i,[h,l,o],s),T=p.call(i,[h,d,o],s),D=p.call(i,[h,l,f],s),S=p.call(i,[h,d,f],s),k=[...x,0,0,1,...D,1,0,1,...S,1,1,1,...y,0,1,1,...g,0,0,0,...A,0,1,0,...T,1,1,0,...b,1,0,0],R=t.createBuffer();if(!R)throw new Error("Failed to create GL index buffer");t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,R);const B=[0,3,2,2,1,0,4,7,6,6,5,4,5,6,2,2,3,5,4,0,1,1,7,4,7,1,2,2,6,7,4,5,3,3,0,4];t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(B),t.STATIC_DRAW);const N=t.createBuffer();if(!N)throw new Error("Failed to create GL vertex buffer");t.bindBuffer(t.ARRAY_BUFFER,N),t.bufferData(t.ARRAY_BUFFER,new Float32Array(k),t.STATIC_DRAW);const L=t.createVertexArray();if(!L)throw new Error("Failed to create GL VAO");t.bindVertexArray(L),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,R),t.bindBuffer(t.ARRAY_BUFFER,N);const O=24;t.enableVertexAttribArray(0),t.vertexAttribPointer(0,3,t.FLOAT,!1,O,0),t.enableVertexAttribArray(1),t.vertexAttribPointer(1,3,t.FLOAT,!1,O,12),t.bindVertexArray(null);const q=new ns(e,N,t.TRIANGLES,B.length,R,L),U=[...x,...D,...S,...y,...g,...A,...T,...b],j=P9(U);return q.extentsMin=j.min.slice(),q.extentsMax=j.max.slice(),q.furthestVertexFromOrigin=j.furthestVertexFromOrigin,q.originNegate=sn(j.origin),Ng(q.originNegate,q.originNegate),q.fieldOfViewDeObliqueMM=[r[1]*n[1],r[2]*n[2],r[3]*n[3]],q}function Z9(i){return new Promise((e,t)=>{let r;i instanceof File?r=Promise.resolve(i):r=new Promise((s,n)=>{i.file(s,n)}),r.then(s=>{const n=new FileReader;n.onload=()=>{typeof n.result=="string"?e(n.result):t(new Error("Expected a string from FileReader.result"))},n.onerror=()=>{t(n.error??new Error("Unknown FileReader error"))},n.readAsDataURL(s)}).catch(s=>t(s))})}function J9(i){const e=i.hdr.dims,t=i.permRAS,r=e[1]*e[2]*e[3],s=new Int16Array(r),n=[0,0,0];for(let g=0;g<3;g++)for(let A=0;A<3;A++)Math.abs(t[g])-1===A&&(n[A]=g*Math.sign(t[g]));let a=1;const l=[1,1,1],o=[!1,!1,!1];for(let g=0;g<n.length;g++)for(let A=0;A<n.length;A++)Math.abs(n[A])===g&&(l[A]=a,(n[A]<0||Object.is(n[A],-0))&&(o[A]=!0),a*=e[A+1]);let h=Ke.range(0,e[1]-1,1);o[0]&&(h=Ke.range(e[1]-1,0,-1));for(let g=0;g<e[1];g++)h[g]*=l[0];let d=Ke.range(0,e[2]-1,1);o[1]&&(d=Ke.range(e[2]-1,0,-1));for(let g=0;g<e[2];g++)d[g]*=l[1];let f=Ke.range(0,e[3]-1,1);o[2]&&(f=Ke.range(e[3]-1,0,-1));for(let g=0;g<e[3];g++)f[g]*=l[2];let p=0;for(let g=0;g<e[3];g++)for(let A=0;A<e[2];A++)for(let x=0;x<e[1];x++)s[h[x]+d[A]+f[g]]=i.img[p],p++;return s}function i2(i,e){const t=Math.floor(Math.log(i)/Math.log(10)),r=i/Math.pow(10,t);let s;return e?r<1.5?s=1:r<3?s=2:r<7?s=5:s=10:r<=1?s=1:r<=2?s=2:r<=5?s=5:s=10,s*Math.pow(10,t)}function Ks(i,e,t=4){const r=i2(e-i,!1),s=i2(r/(t-1),!0),n=Math.floor(i/s)*s,a=Math.ceil(e/s)*s;return[s,n,a,n===i&&a===e]}function r2(i,e){let t=Ks(i,e,3);return t[3]||(t=Ks(i,e,5)),t[3]||(t=Ks(i,e,4)),t[3]||(t=Ks(i,e,3)),t[3]||(t=Ks(i,e,5)),[t[0],t[1],t[2]]}function D0(i){return i*(Math.PI/180)}function Rl(i,e,t,r){let s=-i,n=-e;return isFinite(t)&&isFinite(r)&&(s=t,n=r),s>n&&([s,n]=[n,s]),[s,n]}function Ii(i,e=[0,1,2]){const t=Yt();return t[0]=i[e[0]],t[1]=i[e[1]],t[2]=i[e[2]],t}function s2(i){const e=Kt(1,0,0,0),t=Wr();return Ti(t,e,i),t[0]}function _9(i,e,t,r){const s=Kt(i,e,t,1),n=di(r);_i(n,n),s[0]=s[0]*2-1,s[1]=s[1]*2-1,s[2]=s[2]*2-1;const a=Wr();return Ti(a,s,n),a[3]===0||(a[0]/=a[3],a[1]/=a[3],a[2]/=a[3]),a}function $9(i){const e=[5960464477539063e-23,152587890625e-16,.00390625,1];return(i[0]*e[0]+i[1]*e[1]+i[2]*e[2]+i[3]*e[3])/255}function Vl(i,e,t){return Math.min(Math.max(i,e),t)}function ev(i){const e=i.length;let t=0;const r=new Uint8Array(e+Math.ceil(.01*e)),s=new Int8Array(r.buffer);let n=0;for(;t<e;){let a=i[t];t++;let l=1;for(;l<129&&t<e&&i[t]===a;)t++,l++;if(l>1){s[n]=-l+1,n++,r[n]=a,n++;continue}for(;t<e&&!(l>127||t+2<e&&a!==i[t]&&i[t+2]===i[t]&&i[t+1]===i[t]);)a=i[t],t++,l++;r[n]=l-1,n++;for(let o=0;o<l;o++)r[n]=i[t-l+o],n++}return Z.info("PackBits "+e+" -> "+n+" bytes (x"+e/n+")"),r.slice(0,n)}function n2(i,e){const t=new Uint8Array(i.buffer),r=new Int8Array(t.buffer);let s=0;const n=new Uint8Array(e);let a=0;for(;s<t.length;){const l=r[s];if(s++,l<0){const o=r[s];s++;for(let h=0;h<1-l;h++)n[a]=o,a++}else for(let o=0;o<l+1;o++)n[a]=r[s],s++,a++}return n}function a2(i,e){return i.scl_slope===0&&(i.scl_slope=1),e*i.scl_slope+i.scl_inter}var Z0=["ASC","BYU","DFS","FSM","PIAL","ORIG","INFLATED","SMOOTHWM","SPHERE","WHITE","G","GEO","GII","ICO","MZ3","NV","OBJ","OFF","PLY","SRF","STL","TCK","TRACT","TRI","TRK","TT","TRX","VTK","WRL","X3D","JCON","JSON"],o2=0,tv=1,iv=2,ha=33984,ua=33985,Ul=33986,rv=33987,sv=33988,l2=33989,c2=33990,gs=33991,h2=33992,nv=33993,u2=33994,av=33995,ov=33996,lv=33997,cv=33998,hv=33999,d2={filename:"",isSaveDrawing:!1,volumeByIndex:0},uv=class{constructor(i=k0){W(this,"loaders",{}),W(this,"dicomLoader",null),W(this,"canvas",null),W(this,"_gl",null),W(this,"isBusy",!1),W(this,"needsRefresh",!1),W(this,"colormapTexture",null),W(this,"colormapLists",[]),W(this,"volumeTexture",null),W(this,"gradientTexture",null),W(this,"gradientTextureAmount",0),W(this,"renderGradientValues",!1),W(this,"drawTexture",null),W(this,"drawUndoBitmaps",[]),W(this,"drawLut",Nt.makeDrawLut("$itksnap")),W(this,"drawOpacity",.8),W(this,"clickToSegmentIsGrowing",!1),W(this,"clickToSegmentGrowingBitmap",null),W(this,"clickToSegmentXY",[0,0]),W(this,"renderDrawAmbientOcclusion",.4),W(this,"colorbarHeight",0),W(this,"drawPenLocation",[NaN,NaN,NaN]),W(this,"drawPenAxCorSag",-1),W(this,"drawFillOverwrites",!0),W(this,"drawPenFillPts",[]),W(this,"overlayTexture",null),W(this,"overlayTextureID",null),W(this,"sliceMMShader"),W(this,"sliceV1Shader"),W(this,"orientCubeShader"),W(this,"orientCubeShaderVAO",null),W(this,"rectShader"),W(this,"rectOutlineShader"),W(this,"renderShader"),W(this,"lineShader"),W(this,"line3DShader"),W(this,"passThroughShader"),W(this,"renderGradientShader"),W(this,"renderGradientValuesShader"),W(this,"renderSliceShader"),W(this,"renderVolumeShader"),W(this,"pickingMeshShader"),W(this,"pickingImageShader"),W(this,"colorbarShader"),W(this,"fontShader",null),W(this,"fiberShader"),W(this,"fontTexture",null),W(this,"circleShader"),W(this,"matCapTexture",null),W(this,"bmpShader",null),W(this,"bmpTexture",null),W(this,"thumbnailVisible",!1),W(this,"bmpTextureWH",1),W(this,"growCutShader"),W(this,"orientShaderAtlasU",null),W(this,"orientShaderAtlasI",null),W(this,"orientShaderU",null),W(this,"orientShaderI",null),W(this,"orientShaderF",null),W(this,"orientShaderRGBU",null),W(this,"surfaceShader",null),W(this,"blurShader",null),W(this,"sobelBlurShader",null),W(this,"sobelFirstOrderShader",null),W(this,"sobelSecondOrderShader",null),W(this,"genericVAO",null),W(this,"unusedVAO",null),W(this,"crosshairs3D",null),W(this,"DEFAULT_FONT_GLYPH_SHEET",e2),W(this,"DEFAULT_FONT_METRICS",t2),W(this,"fontMetrics"),W(this,"fontMets",null),W(this,"backgroundMasksOverlays",0),W(this,"overlayOutlineWidth",0),W(this,"overlayAlphaShader",1),W(this,"position"),W(this,"extentsMin"),W(this,"extentsMax"),W(this,"resizeObserver",null),W(this,"resizeEventListener",null),W(this,"canvasObserver",null),W(this,"syncOpts",{"3d":!1,"2d":!1,zoomPan:!1,cal_min:!1,cal_max:!1,clipPlane:!1,gamma:!1,sliceType:!1,crosshair:!1}),W(this,"readyForSync",!1),W(this,"uiData",{mousedown:!1,touchdown:!1,mouseButtonLeftDown:!1,mouseButtonCenterDown:!1,mouseButtonRightDown:!1,mouseDepthPicker:!1,clickedTile:-1,pan2DxyzmmAtMouseDown:[0,0,0,1],prevX:0,prevY:0,currX:0,currY:0,currentTouchTime:0,lastTouchTime:0,touchTimer:null,doubleTouch:!1,isDragging:!1,dragStart:[0,0],dragEnd:[0,0],dragClipPlaneStartDepthAziElev:[0,0,0],lastTwoTouchDistance:0,multiTouchGesture:!1,windowX:0,windowY:0}),W(this,"back",null),W(this,"overlays",[]),W(this,"deferredVolumes",[]),W(this,"deferredMeshes",[]),W(this,"furthestVertexFromOrigin",100),W(this,"volScale",[]),W(this,"vox",[]),W(this,"mousePos",[0,0]),W(this,"screenSlices",[]),W(this,"cuboidVertexBuffer"),W(this,"otherNV",null),W(this,"volumeObject3D",null),W(this,"pivot3D",[0,0,0]),W(this,"furthestFromPivot",10),W(this,"currentClipPlaneIndex",0),W(this,"lastCalled",new Date().getTime()),W(this,"selectedObjectId",-1),W(this,"CLIP_PLANE_ID",1),W(this,"VOLUME_ID",254),W(this,"DISTANCE_FROM_CAMERA",-.54),W(this,"graph",{LTWH:[0,0,640,480],opacity:0,vols:[0],autoSizeMultiplanar:!1,normalizeValues:!1,isRangeCalMinMax:!1}),W(this,"customLayout",[]),W(this,"meshShaders",[{Name:"Phong",Frag:i8},{Name:"Matte",Frag:s8},{Name:"Harmonic",Frag:a8},{Name:"Hemispheric",Frag:n8},{Name:"Crevice",Frag:t8},{Name:"Edge",Frag:_7},{Name:"Diffuse",Frag:$7},{Name:"Outline",Frag:J7},{Name:"Specular",Frag:e8},{Name:"Toon",Frag:Z7},{Name:"Flat",Frag:Ju},{Name:"Matcap",Frag:r8}]),W(this,"dragModes",{contrast:1,measurement:2,none:0,pan:3,slicer3D:4,callbackOnly:5}),W(this,"sliceTypeAxial",0),W(this,"sliceTypeCoronal",1),W(this,"sliceTypeSagittal",2),W(this,"sliceTypeMultiplanar",3),W(this,"sliceTypeRender",4),W(this,"onDragRelease",()=>{}),W(this,"onMouseUp",()=>{}),W(this,"onLocationChange",()=>{}),W(this,"onIntensityChange",()=>{}),W(this,"onClickToSegment",()=>{}),W(this,"onImageLoaded",()=>{}),W(this,"onMeshLoaded",()=>{}),W(this,"onFrameChange",()=>{}),W(this,"onError",()=>{}),W(this,"onColormapChange",()=>{}),W(this,"onInfo",()=>{}),W(this,"onWarn",()=>{}),W(this,"onDebug",()=>{}),W(this,"onVolumeAddedFromUrl",()=>{}),W(this,"onVolumeWithUrlRemoved",()=>{}),W(this,"onVolumeUpdated",()=>{}),W(this,"onMeshAddedFromUrl",()=>{}),W(this,"onMeshAdded",()=>{}),W(this,"onMeshWithUrlRemoved",()=>{}),W(this,"onZoom3DChange",()=>{}),W(this,"onAzimuthElevationChange",()=>{}),W(this,"onClipPlaneChange",()=>{}),W(this,"onCustomMeshShaderAdded",()=>{}),W(this,"onMeshShaderChanged",()=>{}),W(this,"onMeshPropertyChanged",()=>{}),W(this,"onDicomLoaderFinishedWithImages",()=>{}),W(this,"onDocumentLoaded",()=>{}),W(this,"document",new Nl),W(this,"mediaUrlMap",new Map),W(this,"initialized",!1),W(this,"currentDrawUndoBitmap");for(const e in i)typeof i[e]=="function"?this[e]=i[e]:this.opts[e]=k0[e]===void 0?k0[e]:i[e];this.opts.forceDevicePixelRatio===0?this.uiData.dpr=window.devicePixelRatio||1:this.opts.forceDevicePixelRatio<0?this.uiData.dpr=1:this.uiData.dpr=this.opts.forceDevicePixelRatio,this.currentDrawUndoBitmap=this.opts.maxDrawUndoBitmaps,this.opts.drawingEnabled&&this.createEmptyDrawing(),this.opts.thumbnail.length>0&&(this.thumbnailVisible=!0),Z.setLogLevel(this.opts.logLevel)}get scene(){return this.document.scene}get opts(){return this.document.opts}get sliceMosaicString(){return this.document.opts.sliceMosaicString||""}set sliceMosaicString(i){this.document.opts.sliceMosaicString=i}get isAlphaClipDark(){return this.document.opts.isAlphaClipDark}set isAlphaClipDark(i){this.document.opts.isAlphaClipDark=i}cleanup(){this.resizeEventListener&&(window.removeEventListener("resize",this.resizeEventListener),this.resizeEventListener=null),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.canvasObserver&&(this.canvasObserver.disconnect(),this.canvasObserver=null),this.canvas&&this.opts.interactive&&(this.canvas.removeEventListener("mousedown",this.mouseDownListener.bind(this)),this.canvas.removeEventListener("mouseup",this.mouseUpListener.bind(this)),this.canvas.removeEventListener("mousemove",this.mouseMoveListener.bind(this)),this.canvas.removeEventListener("touchstart",this.touchStartListener.bind(this)),this.canvas.removeEventListener("touchend",this.touchEndListener.bind(this)),this.canvas.removeEventListener("touchmove",this.touchMoveListener.bind(this)),this.canvas.removeEventListener("wheel",this.wheelListener.bind(this)),this.canvas.removeEventListener("contextmenu",this.mouseContextMenuListener.bind(this)),this.canvas.removeEventListener("dblclick",this.resetBriCon.bind(this)),this.canvas.removeEventListener("dragenter",this.dragEnterListener.bind(this)),this.canvas.removeEventListener("dragover",this.dragOverListener.bind(this)),this.canvas.removeEventListener("drop",this.dropListener.bind(this)),this.canvas.removeEventListener("keyup",this.keyUpListener.bind(this)),this.canvas.removeEventListener("keydown",this.keyDownListener.bind(this)))}get volumes(){return this.document.volumes}set volumes(i){this.document.volumes=i}get meshes(){return this.document.meshes}set meshes(i){this.document.meshes=i}get drawBitmap(){return this.document.drawBitmap}set drawBitmap(i){this.document.drawBitmap=i}get volScaleMultiplier(){return this.scene.volScaleMultiplier}set volScaleMultiplier(i){this.setScale(i)}async saveScene(i="niivue.png"){function e(r,s){const n=document.createElement("a");document.body.appendChild(n),n.style.display="none";const a=window.URL.createObjectURL(r);n.href=a,n.download=s,n.click(),n.remove()}const t=this.canvas;if(!t)throw new Error("canvas not defined");this.drawScene(),t.toBlob(r=>{r&&(i===""&&(i=`niivue-screenshot-${new Date().toString()}.png`,i=i.replace(/\s/g,"_")),e(r,i))})}async attachTo(i,e=null){return await this.attachToCanvas(document.getElementById(i),e),Z.debug("attached to element with id: ",i),this}async attachToCanvas(i,e=null){return this.canvas=i,e===null&&(e=navigator.hardwareConcurrency>6,Z.debug("AntiAlias ",e," Threads ",navigator.hardwareConcurrency)),this.gl=this.canvas.getContext("webgl2",{alpha:!0,antialias:e}),Z.info("NIIVUE VERSION ",Wu),this.canvas.parentElement.style.backgroundColor="black",this.opts.isResizeCanvas&&(this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.display="block",this.canvas.width=this.canvas.offsetWidth,this.canvas.height=this.canvas.offsetHeight,this.resizeEventListener=()=>{requestAnimationFrame(()=>{this.resizeListener()})},window.addEventListener("resize",this.resizeEventListener),this.resizeObserver=new ResizeObserver(()=>{requestAnimationFrame(()=>{this.resizeListener()})}),this.resizeObserver.observe(this.canvas.parentElement),this.canvasObserver=new MutationObserver(t=>{for(const r of t)if(r.type==="childList"&&r.removedNodes.length>0&&Array.from(r.removedNodes).includes(this.canvas)){this.cleanup();break}}),this.canvasObserver.observe(this.canvas.parentElement,{childList:!0})),this.opts.interactive&&this.registerInteractions(),await this.init(),this.drawScene(),this}syncWith(i,e={"2d":!0,"3d":!0}){i instanceof Array||(i=[i]),this.otherNV=i,this.syncOpts={...e}}broadcastTo(i,e={"2d":!0,"3d":!0}){i instanceof Array||(i=[i]),this.otherNV=i,this.syncOpts=e}doSync3d(i){i.scene.renderAzimuth=this.scene.renderAzimuth,i.scene.renderElevation=this.scene.renderElevation,i.scene.volScaleMultiplier=this.scene.volScaleMultiplier}doSync2d(i){const e=this.frac2mm(this.scene.crosshairPos);i.scene.crosshairPos=i.mm2frac(e),i.scene.pan2Dxyzmm=l0(this.scene.pan2Dxyzmm)}doSyncGamma(i){const e=this.scene.gamma,t=i.scene.gamma;e!==t&&i.setGamma(e)}doSyncZoomPan(i){i.scene.pan2Dxyzmm=l0(this.scene.pan2Dxyzmm)}doSyncCrosshair(i){const e=this.frac2mm(this.scene.crosshairPos);i.scene.crosshairPos=i.mm2frac(e)}doSyncCalMin(i){this.volumes[0].cal_min!==i.volumes[0].cal_min&&(i.volumes[0].cal_min=this.volumes[0].cal_min,i.updateGLVolume())}doSyncCalMax(i){this.volumes[0].cal_max!==i.volumes[0].cal_max&&(i.volumes[0].cal_max=this.volumes[0].cal_max,i.updateGLVolume())}doSyncSliceType(i){i.setSliceType(this.opts.sliceType)}doSyncClipPlane(i){i.setClipPlane(this.scene.clipPlaneDepthAziElev)}sync(){if(!(!this.gl||!this.otherNV||typeof this.otherNV>"u")&&this.gl.canvas.matches(":focus"))for(let i=0;i<this.otherNV.length;i++)this.otherNV[i]!==this&&(this.syncOpts.gamma&&this.doSyncGamma(this.otherNV[i]),this.syncOpts.crosshair&&this.doSyncCrosshair(this.otherNV[i]),this.syncOpts.zoomPan&&this.doSyncZoomPan(this.otherNV[i]),this.syncOpts.sliceType&&this.doSyncSliceType(this.otherNV[i]),this.syncOpts.cal_min&&this.doSyncCalMin(this.otherNV[i]),this.syncOpts.cal_max&&this.doSyncCalMax(this.otherNV[i]),this.syncOpts.clipPlane&&this.doSyncClipPlane(this.otherNV[i]),this.syncOpts["2d"]&&this.doSync2d(this.otherNV[i]),this.syncOpts["3d"]&&this.doSync3d(this.otherNV[i]),this.otherNV[i].drawScene(),this.otherNV[i].createOnLocationChange())}arrayEquals(i,e){return Array.isArray(i)&&Array.isArray(e)&&i.length===e.length&&i.every((t,r)=>t===e[r])}resizeListener(){if(!(!this.canvas||!this.gl)){if(!this.opts.isResizeCanvas){this.opts.forceDevicePixelRatio>=0&&Z.warn("this.opts.forceDevicePixelRatio requires isResizeCanvas"),this.drawScene();return}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.display="block",this.opts.forceDevicePixelRatio===0?this.uiData.dpr=window.devicePixelRatio||1:this.opts.forceDevicePixelRatio<0?this.uiData.dpr=1:this.uiData.dpr=this.opts.forceDevicePixelRatio,Z.debug("devicePixelRatio: "+this.uiData.dpr),"width"in this.canvas.parentElement?(this.canvas.width=this.canvas.parentElement.width*this.uiData.dpr,this.canvas.height=this.canvas.parentElement.height*this.uiData.dpr):(this.canvas.width=this.canvas.offsetWidth*this.uiData.dpr,this.canvas.height=this.canvas.offsetHeight*this.uiData.dpr),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.drawScene()}}getRelativeMousePosition(i,e){if(e=e||i.target,!e)return;const t=e.getBoundingClientRect();return{x:i.clientX-t.left,y:i.clientY-t.top}}getNoPaddingNoBorderCanvasRelativeMousePosition(i,e){return e=e||i.target,this.getRelativeMousePosition(i,e)}mouseContextMenuListener(i){i.preventDefault()}mouseDownListener(i){i.preventDefault(),this.drawPenLocation=[NaN,NaN,NaN],this.drawPenAxCorSag=-1,this.uiData.mousedown=!0,this.setDragStart(0,0),this.setDragEnd(0,0),Z.debug("mouse down"),Z.debug(i);const e=this.getNoPaddingNoBorderCanvasRelativeMousePosition(i,this.gl.canvas);if(!e)return;const[t,r]=[e.x*this.uiData.dpr,e.y*this.uiData.dpr];this.opts.clickToSegment&&(this.clickToSegmentXY=[t,r]);const s=this.getLabelAtPoint([t,r]);if(s){if(s.onClick){s.onClick(s);return}for(const n of this.meshes)if(n.type==="connectome")for(const a of n.nodes)a.label===s&&(this.scene.crosshairPos=this.mm2frac([a.x,a.y,a.z]),this.updateGLVolume(),this.drawScene())}this.uiData.clickedTile=this.tileIndex(t,r),i.button===o2&&i.shiftKey?(this.uiData.mouseButtonCenterDown=!0,this.mouseCenterButtonHandler(i)):i.button===o2?(this.uiData.mouseButtonLeftDown=!0,this.mouseLeftButtonHandler(i)):i.button===iv?(this.uiData.mouseButtonRightDown=!0,this.mouseRightButtonHandler(i)):i.button===tv&&(this.uiData.mouseButtonCenterDown=!0,this.mouseCenterButtonHandler(i))}mouseLeftButtonHandler(i){if(i.ctrlKey||this.opts.dragModePrimary===0){const e=this.getNoPaddingNoBorderCanvasRelativeMousePosition(i,this.gl.canvas);this.mouseDown(e.x,e.y),this.mouseClick(e.x,e.y)}else this.opts.dragModePrimary===1&&(this.uiData.windowX=i.x,this.uiData.windowY=i.y)}mouseCenterButtonHandler(i){const e=this.getNoPaddingNoBorderCanvasRelativeMousePosition(i,this.gl.canvas);this.mousePos=[e.x*this.uiData.dpr,e.y*this.uiData.dpr],this.opts.dragMode!==0&&(this.setDragStart(e.x,e.y),this.uiData.isDragging||(this.uiData.pan2DxyzmmAtMouseDown=l0(this.scene.pan2Dxyzmm)),this.uiData.isDragging=!0,this.uiData.dragClipPlaneStartDepthAziElev=this.scene.clipPlaneDepthAziElev)}mouseRightButtonHandler(i){const e=this.getNoPaddingNoBorderCanvasRelativeMousePosition(i,this.gl.canvas);this.mousePos=[e.x*this.uiData.dpr,e.y*this.uiData.dpr],this.opts.dragMode!==0&&(this.setDragStart(e.x,e.y),this.uiData.isDragging||(this.uiData.pan2DxyzmmAtMouseDown=l0(this.scene.pan2Dxyzmm)),this.uiData.isDragging=!0,this.uiData.dragClipPlaneStartDepthAziElev=this.scene.clipPlaneDepthAziElev)}calculateMinMaxVoxIdx(i){if(i.length>2)throw new Error("array must not contain more than two values");return[Math.floor(Math.min(i[0],i[1])),Math.floor(Math.max(i[0],i[1]))]}calculateNewRange({volIdx:i=0}={}){if(this.opts.sliceType===4&&this.sliceMosaicString.length<1||this.uiData.dragStart[0]===this.uiData.dragEnd[0]&&this.uiData.dragStart[1]===this.uiData.dragEnd[1])return;let e=this.canvasPos2frac([this.uiData.dragStart[0],this.uiData.dragStart[1]]);if(e[0]<0)return;const t=this.frac2vox(e,i);if(e=this.canvasPos2frac([this.uiData.dragEnd[0],this.uiData.dragEnd[1]]),e[0]<0)return;const r=this.frac2vox(e,i);let s=-Number.MAX_VALUE,n=Number.MAX_VALUE;const a=this.calculateMinMaxVoxIdx([t[0],r[0]]),l=this.calculateMinMaxVoxIdx([t[1],r[1]]),o=this.calculateMinMaxVoxIdx([t[2],r[2]]);t[0]-r[0]===0?a[1]=t[0]+1:t[1]-r[1]===0?l[1]=t[1]+1:t[2]-r[2]===0&&(o[1]=t[2]+1);const h=this.volumes[i].hdr,d=this.volumes[i].img;if(!h||!d)return;const f=h.dims[1],p=h.dims[2];for(let x=o[0];x<o[1];x++){const y=x*f*p;for(let b=l[0];b<l[1];b++){const T=b*f;for(let D=a[0];D<a[1];D++){const S=y+T+D;n>d[S]&&(n=d[S]),s<d[S]&&(s=d[S])}}}if(n>=s)return;const g=a2(h,n),A=a2(h,s);this.volumes[i].cal_min=g,this.volumes[i].cal_max=A,this.onIntensityChange(this.volumes[i])}generateMouseUpCallback(i,e){const t=this.tileIndex(this.uiData.dragStart[0],this.uiData.dragStart[1]),r=this.tileIndex(this.uiData.dragEnd[0],this.uiData.dragEnd[1]);let s=-1;t===r&&(s=r);let n=-1;s>=0&&(n=this.screenSlices[s].axCorSag);const a=this.frac2mm(i),l=this.frac2mm(e),o=Yt();Lu(o,Ue(a[0],a[1],a[2]),Ue(l[0],l[1],l[2]));const h=pn(o),d=this.frac2vox(i),f=this.frac2vox(e);this.onDragRelease({fracStart:i,fracEnd:e,voxStart:d,voxEnd:f,mmStart:a,mmEnd:l,mmLength:h,tileIdx:s,axCorSag:n})}mouseUpListener(){function i(r){return Object.prototype.toString.call(r).indexOf("Function")>-1}const e={mouseButtonRightDown:this.uiData.mouseButtonRightDown,mouseButtonCenterDown:this.uiData.mouseButtonCenterDown,isDragging:this.uiData.isDragging,mousePos:this.mousePos,fracPos:this.canvasPos2frac(this.mousePos)};this.uiData.mousedown=!1,this.uiData.mouseButtonRightDown=!1;const t=this.uiData.mouseButtonCenterDown;if(this.uiData.mouseButtonCenterDown=!1,this.uiData.mouseButtonLeftDown=!1,this.drawPenFillPts.length>0&&this.drawPenFilled(),this.drawPenLocation=[NaN,NaN,NaN],this.drawPenAxCorSag=-1,i(this.onMouseUp)&&this.onMouseUp(e),this.uiData.isDragging){this.uiData.isDragging=!1,this.opts.dragMode===5&&this.drawScene();const r=this.canvasPos2frac([this.uiData.dragStart[0],this.uiData.dragStart[1]]),s=this.canvasPos2frac([this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);if(this.generateMouseUpCallback(r,s),this.opts.dragMode===6||this.opts.dragMode!==1||t||this.uiData.dragStart[0]===this.uiData.dragEnd[0]&&this.uiData.dragStart[1]===this.uiData.dragEnd[1])return;this.calculateNewRange({volIdx:0}),this.refreshLayers(this.volumes[0],0)}this.drawScene()}checkMultitouch(i){if(this.uiData.touchdown&&!this.uiData.multiTouchGesture){const e=this.canvas.getBoundingClientRect();this.mouseDown(i.touches[0].clientX-e.left,i.touches[0].clientY-e.top),this.mouseClick(i.touches[0].clientX-e.left,i.touches[0].clientY-e.top)}}touchStartListener(i){i.preventDefault(),this.uiData.touchTimer||(this.uiData.touchTimer=setTimeout(()=>{this.resetBriCon(i)},this.opts.longTouchTimeout)),this.uiData.touchdown=!0,this.uiData.currentTouchTime=new Date().getTime();const e=this.uiData.currentTouchTime-this.uiData.lastTouchTime;if(e<this.opts.doubleTouchTimeout&&e>0){this.uiData.doubleTouch=!0,this.setDragStart(i.targetTouches[0].clientX-i.target.getBoundingClientRect().left,i.targetTouches[0].clientY-i.target.getBoundingClientRect().top),this.resetBriCon(i),this.uiData.lastTouchTime=this.uiData.currentTouchTime;return}else this.uiData.doubleTouch=!1,this.setDragStart(0,0),this.setDragEnd(0,0),this.uiData.lastTouchTime=this.uiData.currentTouchTime;this.uiData.touchdown&&i.touches.length<2?this.uiData.multiTouchGesture=!1:this.uiData.multiTouchGesture=!0,setTimeout(this.checkMultitouch.bind(this),1,i)}touchEndListener(i){if(i.preventDefault(),this.uiData.touchdown=!1,this.uiData.lastTwoTouchDistance=0,this.uiData.multiTouchGesture=!1,this.uiData.touchTimer&&(clearTimeout(this.uiData.touchTimer),this.uiData.touchTimer=null),this.uiData.isDragging){this.uiData.isDragging=!1,this.opts.dragMode===1&&(this.calculateNewRange(),this.refreshLayers(this.volumes[0],0));const e=this.canvasPos2frac([this.uiData.dragStart[0],this.uiData.dragStart[1]]),t=this.canvasPos2frac([this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);this.generateMouseUpCallback(e,t)}this.mouseUpListener()}windowingHandler(i,e,t=0){const r=this.uiData.windowX,s=this.uiData.windowY;let n=this.volumes[0].cal_min,a=this.volumes[0].cal_max;const l=this.volumes[0].global_min,o=this.volumes[0].global_max;e<s?(n+=1,a+=1):e>s&&(n-=1,a-=1),i>r?(n-=1,a+=1):i<r&&(n+=1,a-=1),a-n<1&&(a=n+1),n<l&&(n=l),a>o&&(a=o),n>a&&(n=a-1),this.volumes[t].cal_min=n,this.volumes[t].cal_max=a,this.refreshLayers(this.volumes[t],0),this.uiData.windowX=i,this.uiData.windowY=e}mouseLeaveListener(){this.clickToSegmentIsGrowing&&(Z.debug("Mouse left canvas, stopping clickToSegment preview."),this.clickToSegmentIsGrowing=!1,this.refreshDrawing(!0,!1)),this.opts.drawingEnabled&&!isNaN(this.drawPenLocation[0])&&(Z.debug("Mouse left canvas during drawing, resetting pen state."),this.drawPenLocation=[NaN,NaN,NaN],this.drawPenAxCorSag=-1,this.drawPenFillPts=[]),this.uiData.isDragging&&(Z.debug("Mouse left canvas during drag, resetting drag state."),this.uiData.isDragging=!1,this.uiData.mouseButtonLeftDown=!1,this.uiData.mouseButtonCenterDown=!1,this.uiData.mouseButtonRightDown=!1,this.uiData.mousedown=!1,this.drawScene())}mouseMoveListener(i){if(this.uiData.mousedown){const e=this.getNoPaddingNoBorderCanvasRelativeMousePosition(i,this.gl.canvas);if(!e)return;const t=e.x*this.uiData.dpr,r=e.y*this.uiData.dpr;if(this.tileIndex(t,r)!==this.uiData.clickedTile)return;if(this.uiData.mouseButtonLeftDown){const n=this.opts.dragModePrimary===0,a=this.opts.dragModePrimary===1;i.ctrlKey||n?(this.mouseMove(e.x,e.y),this.mouseClick(e.x,e.y)):a&&this.windowingHandler(i.x,i.y)}else(this.uiData.mouseButtonRightDown||this.uiData.mouseButtonCenterDown)&&this.setDragEnd(e.x,e.y);this.drawScene(),this.uiData.prevX=this.uiData.currX,this.uiData.prevY=this.uiData.currY}else if(!this.uiData.mousedown&&this.opts.clickToSegment){const e=this.getNoPaddingNoBorderCanvasRelativeMousePosition(i,this.gl.canvas);if(!e)return;const t=e.x*this.uiData.dpr,r=e.y*this.uiData.dpr;this.mousePos=[t,r];const s=this.tileIndex(t,r);s>=0&&this.opts.drawingEnabled&&this.screenSlices[s].axCorSag<=2&&(this.clickToSegmentXY=[t,r],this.clickToSegmentIsGrowing=!0,this.doClickToSegment({x:t,y:r,tileIndex:s}))}}resetBriCon(i=null){if(this.uiData.isDragging)return;let e=!1;this.opts.sliceType===4&&(e=!0);let t=0,r=0;if(i!==null&&("targetTouches"in i?(t=i.targetTouches[0].clientX-i.target.getBoundingClientRect().left,r=i.targetTouches[0].clientY-i.target.getBoundingClientRect().top):(t=i.offsetX,r=i.offsetY),t*=this.uiData.dpr,r*=this.uiData.dpr,this.inRenderTile(t,r)>=0&&(e=!0)),e){this.uiData.mouseDepthPicker=!0,this.drawScene(),this.drawScene();return}this.opts.dragMode!==4&&(this.volumes.length<1||this.uiData.doubleTouch||(this.volumes[0].cal_min=this.volumes[0].robust_min,this.volumes[0].cal_max=this.volumes[0].robust_max,this.onIntensityChange(this.volumes[0]),this.refreshLayers(this.volumes[0],0),this.drawScene()))}setDragStart(i,e){i*=this.uiData.dpr,e*=this.uiData.dpr,this.uiData.dragStart[0]=i,this.uiData.dragStart[1]=e}setDragEnd(i,e){i*=this.uiData.dpr,e*=this.uiData.dpr,this.uiData.dragEnd[0]=i,this.uiData.dragEnd[1]=e}touchMoveListener(i){if(this.uiData.touchdown&&i.touches.length<2){const e=this.canvas.getBoundingClientRect();if(this.uiData.isDragging||(this.uiData.pan2DxyzmmAtMouseDown=l0(this.scene.pan2Dxyzmm)),this.uiData.isDragging=!0,this.uiData.doubleTouch&&this.uiData.isDragging){this.setDragEnd(i.targetTouches[0].clientX-i.target.getBoundingClientRect().left,i.targetTouches[0].clientY-i.target.getBoundingClientRect().top),this.drawScene();return}const t=this.opts.dragModePrimary===0,r=this.opts.dragModePrimary===1;t?(this.mouseClick(i.touches[0].clientX-e.left,i.touches[0].clientY-e.top),this.mouseMove(i.touches[0].clientX-e.left,i.touches[0].clientY-e.top)):r&&(this.windowingHandler(i.touches[0].pageX,i.touches[0].pageY),this.drawScene())}else this.handlePinchZoom(i)}handlePinchZoom(i){if(i.targetTouches.length===2&&i.changedTouches.length===2){const e=Math.hypot(i.touches[0].pageX-i.touches[1].pageX,i.touches[0].pageY-i.touches[1].pageY),t=this.canvas.getBoundingClientRect();this.mousePos=[i.touches[0].clientX-t.left,i.touches[0].clientY-t.top],e<this.uiData.lastTwoTouchDistance?this.sliceScroll2D(-.01,i.touches[0].clientX-t.left,i.touches[0].clientY-t.top):this.sliceScroll2D(.01,i.touches[0].clientX-t.left,i.touches[0].clientY-t.top),this.uiData.lastTwoTouchDistance=e}}keyUpListener(i){if(i.code===this.opts.clipPlaneHotKey){const e=new Date().getTime();if(e-this.lastCalled>this.opts.keyDebounceTime){switch(this.currentClipPlaneIndex=(this.currentClipPlaneIndex+1)%7,this.currentClipPlaneIndex){case 0:this.scene.clipPlaneDepthAziElev=[2,0,0];break;case 1:this.scene.clipPlaneDepthAziElev=[0,270,0];break;case 2:this.scene.clipPlaneDepthAziElev=[0,90,0];break;case 3:this.scene.clipPlaneDepthAziElev=[0,0,0];break;case 4:this.scene.clipPlaneDepthAziElev=[0,180,0];break;case 5:this.scene.clipPlaneDepthAziElev=[0,0,-90];break;case 6:this.scene.clipPlaneDepthAziElev=[0,0,90];break}this.setClipPlane(this.scene.clipPlaneDepthAziElev)}this.lastCalled=e}else if(i.code===this.opts.viewModeHotKey){const e=new Date().getTime();e-this.lastCalled>this.opts.keyDebounceTime&&(this.setSliceType((this.opts.sliceType+1)%5),this.lastCalled=e)}}keyDownListener(i){i.code==="KeyH"&&this.opts.sliceType===4?this.setRenderAzimuthElevation(this.scene.renderAzimuth-1,this.scene.renderElevation):i.code==="KeyL"&&this.opts.sliceType===4?this.setRenderAzimuthElevation(this.scene.renderAzimuth+1,this.scene.renderElevation):i.code==="KeyJ"&&this.opts.sliceType===4?this.setRenderAzimuthElevation(this.scene.renderAzimuth,this.scene.renderElevation+1):i.code==="KeyK"&&this.opts.sliceType===4?this.setRenderAzimuthElevation(this.scene.renderAzimuth,this.scene.renderElevation-1):i.code==="KeyH"&&this.opts.sliceType!==4?this.moveCrosshairInVox(-1,0,0):i.code==="KeyL"&&this.opts.sliceType!==4?this.moveCrosshairInVox(1,0,0):i.code==="KeyU"&&this.opts.sliceType!==4&&i.ctrlKey?this.moveCrosshairInVox(0,0,1):i.code==="KeyD"&&this.opts.sliceType!==4&&i.ctrlKey?this.moveCrosshairInVox(0,0,-1):i.code==="KeyJ"&&this.opts.sliceType!==4?this.moveCrosshairInVox(0,-1,0):i.code==="KeyK"&&this.opts.sliceType!==4?this.moveCrosshairInVox(0,1,0):i.code==="KeyM"&&this.opts.sliceType!==4?(this.opts.dragMode++,this.opts.dragMode>=4&&(this.opts.dragMode=0),Z.info("drag mode changed to ",Q4[this.opts.dragMode])):i.code==="ArrowLeft"?this.setFrame4D(this.volumes[0].id,this.volumes[0].frame4D-1):i.code==="ArrowRight"?this.setFrame4D(this.volumes[0].id,this.volumes[0].frame4D+1):i.code==="Slash"&&i.shiftKey&&alert(`NIIVUE VERSION: ${Wu}`)}wheelListener(i){if(i.preventDefault(),i.stopPropagation(),this.thumbnailVisible)return;const e=this.uiData.dragStart.reduce((o,h)=>o+h,0),t=this.uiData.dragEnd.reduce((o,h)=>o+h,0),r=e>0&&t>0;if(this.opts.dragMode===6&&r){const o=i.deltaY>0?1:-1;this.uiData.dragStart[0]<this.uiData.dragEnd[0]?(this.uiData.dragStart[0]-=o,this.uiData.dragEnd[0]+=o):(this.uiData.dragStart[0]+=o,this.uiData.dragEnd[0]-=o),this.uiData.dragStart[1]<this.uiData.dragEnd[1]?(this.uiData.dragStart[1]-=o,this.uiData.dragEnd[1]+=o):(this.uiData.dragStart[1]+=o,this.uiData.dragEnd[1]-=o),this.uiData.isDragging=!0,this.drawScene(),this.uiData.isDragging=!1;const h=this.tileIndex(this.uiData.dragStart[0],this.uiData.dragStart[1]);h>=0?this.generateMouseUpCallback(this.screenXY2TextureFrac(this.uiData.dragStart[0],this.uiData.dragStart[1],h),this.screenXY2TextureFrac(this.uiData.dragEnd[0],this.uiData.dragEnd[1],h)):Z.warn("Could not generate drag release callback for ROI selection: Invalid tile index.");return}let s=i.deltaY<0?-.01:.01;if(this.opts.invertScrollDirection&&(s=-s),this.opts.clickToSegment){s<0?(this.opts.clickToSegmentPercent-=.01,this.opts.clickToSegmentPercent=Math.max(this.opts.clickToSegmentPercent,0)):(this.opts.clickToSegmentPercent+=.01,this.opts.clickToSegmentPercent=Math.min(this.opts.clickToSegmentPercent,1));const o=this.clickToSegmentXY[0],h=this.clickToSegmentXY[1],d=this.tileIndex(o,h);d>=0&&this.screenSlices[d].axCorSag<=2&&(Z.debug(`Adjusting clickToSegment threshold: ${this.opts.clickToSegmentPercent.toFixed(3)}`),this.clickToSegmentIsGrowing=!0,this.doClickToSegment({x:o,y:h,tileIndex:d}));return}const n=this.canvas.getBoundingClientRect(),a=i.clientX-n.left,l=i.clientY-n.top;if(this.opts.dragMode===3&&this.inRenderTile(this.uiData.dpr*a,this.uiData.dpr*l)===-1){const o=s<0?1:-1;let h=this.scene.pan2Dxyzmm[3]*(1+10*(.01*o));h=Math.round(h*10)/10;const d=this.scene.pan2Dxyzmm[3]-h;this.opts.yoke3Dto2DZoom&&(this.scene.volScaleMultiplier=h),this.scene.pan2Dxyzmm[3]=h;const f=this.frac2mm(this.scene.crosshairPos);this.scene.pan2Dxyzmm[0]+=d*f[0],this.scene.pan2Dxyzmm[1]+=d*f[1],this.scene.pan2Dxyzmm[2]+=d*f[2],this.drawScene(),this.canvas.focus(),this.sync();return}this.sliceScroll2D(s,a,l)}registerInteractions(){if(!this.canvas)throw new Error("canvas undefined");this.canvas.addEventListener("mousedown",this.mouseDownListener.bind(this)),this.canvas.addEventListener("mouseup",this.mouseUpListener.bind(this)),this.canvas.addEventListener("mousemove",this.mouseMoveListener.bind(this)),this.canvas.addEventListener("mouseleave",this.mouseLeaveListener.bind(this)),this.canvas.addEventListener("touchstart",this.touchStartListener.bind(this)),this.canvas.addEventListener("touchend",this.touchEndListener.bind(this)),this.canvas.addEventListener("touchmove",this.touchMoveListener.bind(this)),this.canvas.addEventListener("wheel",this.wheelListener.bind(this)),this.canvas.addEventListener("contextmenu",this.mouseContextMenuListener.bind(this)),this.canvas.addEventListener("dblclick",this.resetBriCon.bind(this)),this.canvas.addEventListener("dragenter",this.dragEnterListener.bind(this),!1),this.canvas.addEventListener("dragover",this.dragOverListener.bind(this),!1),this.canvas.addEventListener("drop",i=>{this.dropListener(i).catch(console.error)},!1),this.canvas.setAttribute("tabindex","0"),this.canvas.addEventListener("keyup",this.keyUpListener.bind(this),!1),this.canvas.addEventListener("keydown",this.keyDownListener.bind(this),!1)}dragEnterListener(i){i.stopPropagation(),i.preventDefault()}dragOverListener(i){i.stopPropagation(),i.preventDefault()}getFileExt(i,e=!0){Z.debug("fullname: ",i);const t=/(?:\.([^.]+))?$/;let r=t.exec(i)[1];if(r=r.toUpperCase(),r==="GZ")r=t.exec(i.slice(0,-3))[1],r=r.toUpperCase();else if(r==="CBOR"){const s=r;r=t.exec(i.slice(0,-5))[1],r=r.toUpperCase(),r=`${r}.${s}`}return e?r:r.toLowerCase()}async addVolumeFromUrl(i){const e=await Vi.loadFromUrl(i);return this.document.addImageOptions(e,i),e.onColormapChange=this.onColormapChange,this.mediaUrlMap.set(e,i.url),this.onVolumeAddedFromUrl&&this.onVolumeAddedFromUrl(i,e),this.addVolume(e),e}async addVolumesFromUrl(i){const e=i.map(async r=>{const s=this.getFileExt(r.name||r.url);if(s==="DCM")throw new Error("DICOM files must be loaded using useDicomLoader");if(this.loaders[s]){let l=r.url;const o=this.loaders[s].toExt;let h=r.name||r.url;if(h=h.split("/").pop(),typeof r.url=="string"){const f=r.url;try{const p=await fetch(f);if(!p.ok)throw new Error(`Failed to load file: ${p.statusText}`);l=await p.arrayBuffer()}catch(p){throw new Error(`Failed to load url ${f}: ${p}`)}}const d=await this.loaders[s].loader(l);r.url=d,r.name=`${h}.${o}`}const n={url:r.url,headers:r.headers,name:r.name,colormap:r.colormap?r.colormap:r.colorMap,colormapNegative:r.colormapNegative?r.colormapNegative:r.colorMapNegative,opacity:r.opacity,urlImgData:r.urlImgData,cal_min:r.cal_min,cal_max:r.cal_max,trustCalMinMax:this.opts.trustCalMinMax,isManifest:r.isManifest,frame4D:r.frame4D,limitFrames4D:r.limitFrames4D||this.opts.limitFrames4D,colorbarVisible:r.colorbarVisible},a=await Vi.loadFromUrl(n);return this.document.addImageOptions(a,n),a.onColormapChange=this.onColormapChange,this.mediaUrlMap.set(a,n.url),this.onVolumeAddedFromUrl&&this.onVolumeAddedFromUrl(n,a),a}),t=await Promise.all(e);for(let r=0;r<t.length;r++)this.addVolume(t[r]);return t}getMediaByUrl(i){return[...this.mediaUrlMap.entries()].filter(e=>e[1]===i).map(e=>e[0]).pop()}removeVolumeByUrl(i){const e=this.getMediaByUrl(i);if(e)this.removeVolume(e);else throw new Error("No volume with URL present")}async traverseFileTree(i,e="",t){return new Promise(r=>{if(i.isFile)i.file(s=>{s.fullPath=e+s.name,s._webkitRelativePath=e+s.name,t.push(s),r(t)});else if(i.isDirectory){const s=i.createReader(),n=()=>{s.readEntries(a=>{if(a.length>0){const l=[];for(const o of a)l.push(this.traverseFileTree(o,e+i.name+"/",t));Promise.all(l).then(n).catch(o=>{throw o})}else r(t)})};n()}})}readDirectory(i){const e=i.createReader();let t=[];const r=async n=>{const a=[],l=async o=>new Promise((h,d)=>o.file(h,d));for(let o=0;o<n.length;o++)a.push(await l(n[o])),console.log(a);return a},s=()=>{e.readEntries(n=>{n.length?(t=t.concat(n),s()):r(t).then(async a=>{console.log(a)}).catch(a=>{throw a})})};return s(),t}isMeshExt(i){const e=this.getFileExt(i);return Z.debug("dropped ext"),Z.debug(e),Z0.includes(e)}async loadFromArrayBuffer(i,e){const t=this.getFileExt(e);if(Z0.includes(t)){await this.addMeshFromUrl({url:e,buffer:i});return}const r=Sa(e);r.buffer=i,r.name=e,await this.addVolumeFromUrl(r)}async loadFromFile(i){const e=this.getFileExt(i.name);if(Z0.includes(e)){await ys.loadFromFile({file:i,gl:this.gl,name:i.name}).then(t=>{this.addMesh(t)});return}await Vi.loadFromFile({file:i,name:i.name}).then(t=>{this.addVolume(t)})}useLoader(i,e,t){this.loaders={...this.loaders,[e.toUpperCase()]:{loader:i,toExt:t}}}useDicomLoader(i){this.dicomLoader=i}getDicomLoader(){return this.dicomLoader}async dropListener(i){if(i.stopPropagation(),i.preventDefault(),!this.opts.dragAndDropEnabled)return;const e=[],t=i.dataTransfer;if(!t)return;const r=t.getData("text/uri-list");if(r){const s=Sa(r),n=this.getFileExt(r);Z.debug("dropped ext"),Z.debug(n),Z0.includes(n)?this.addMeshFromUrl({url:r}).catch(a=>{throw a}):n==="NVD"?this.loadDocumentFromUrl(r).catch(a=>{throw a}):this.addVolumeFromUrl(s).catch(a=>{throw a})}else{const s=t.items;if(s.length>0){!i.shiftKey&&!i.altKey&&(this.volumes=[],this.overlays=[],this.meshes=[]),this.closeDrawing();for(const n of Array.from(s)){const a=n.webkitGetAsEntry();if(Z.debug(a),!a)throw new Error("could not get entry from file");if(a.isFile){const l=this.getFileExt(a.name);let o;if(a.name.lastIndexOf("HEAD")!==-1)for(const h of Array.from(s)){const d=h.webkitGetAsEntry();if(!d)throw new Error("could not get paired entry");const f=a.name.substring(0,a.name.lastIndexOf("HEAD")),p=d.name.substring(0,d.name.lastIndexOf("BRIK"));f===p&&(o=d)}if(a.name.lastIndexOf("BRIK")!==-1)continue;if(this.loaders[l]){const h=await Z9(a);await this.loadImages([{url:h,name:`${a.name}`}]);continue}if(Z0.includes(l)){a.file(h=>{(async()=>{try{const d=await ys.loadFromFile({file:h,gl:this.gl,name:h.name});this.addMesh(d)}catch(d){console.error("Error loading mesh:",d)}})().catch(d=>console.error(d))});continue}else if(l==="NVD"){a.file(h=>{(async()=>{try{const d=await Nl.loadFromFile(h);await this.loadDocument(d),Z.debug("loaded document")}catch(d){console.error(d)}})().catch(d=>console.error(d))});break}a.file(h=>{(async()=>{try{if(o)o.file(d=>{(async()=>{try{const f=await Vi.loadFromFile({file:h,urlImgData:d,limitFrames4D:this.opts.limitFrames4D});this.addVolume(f)}catch(f){console.error(f)}})().catch(console.error)});else{const d=await Vi.loadFromFile({file:h,urlImgData:o,limitFrames4D:this.opts.limitFrames4D});i.altKey?(Z.debug("alt key detected: assuming this is a drawing overlay"),this.drawClearAllUndoBitmaps(),this.loadDrawing(d)):this.addVolume(d)}}catch(d){console.error(d)}})().catch(console.error)})}else a.isDirectory&&this.traverseFileTree(a,"",e).then(l=>{const o=this.getDicomLoader().loader;if(!o)throw new Error("No loader for DICOM files");o(l).then(async h=>{console.log(h);const d=h.map(f=>Vi.loadFromUrl({url:f.data,name:f.name,limitFrames4D:this.opts.limitFrames4D}));Promise.all(d).then(async f=>{console.log("from dicom loader"),console.log(f),await this.onDicomLoaderFinishedWithImages(f)}).catch(f=>{throw f})}).catch(h=>{console.error("Error loading DICOM files:",h)})}).catch(l=>{throw l})}}}this.drawScene()}setMultiplanarPadPixels(i){this.opts.multiplanarPadPixels=i,this.drawScene()}setMultiplanarLayout(i){typeof i=="string"&&(i=parseInt(i)),this.opts.multiplanarLayout=i,this.drawScene()}setCornerOrientationText(i){this.opts.isCornerOrientationText=i,this.updateGLVolume()}setIsOrientationTextVisible(i){this.opts.isOrientationTextVisible=i,this.drawScene()}setHeroImage(i){this.opts.heroImageFraction=i,this.drawScene()}setCustomLayout(i){for(let e=0;e<i.length;e++){const[t,r,s,n]=i[e].position,a=t+s,l=r+n;for(let o=e+1;o<i.length;o++){const[h,d,f,p]=i[o].position,g=h+f,A=d+p,x=t<g&&a>h,y=r<A&&l>d;if(x&&y)throw new Error(`Custom layout is invalid. Tile ${e} overlaps with tile ${o}.`)}}this.customLayout=i,this.drawScene()}clearCustomLayout(){this.customLayout=null,this.drawScene()}getCustomLayout(){return this.customLayout}setRadiologicalConvention(i){this.opts.isRadiologicalConvention=i,this.updateGLVolume()}setDefaults(i={},e=!1){this.document.opts={...k0},this.scene.sceneData={...Ca};for(const t in i)typeof i[t]=="function"?this[t]=i[t]:this.opts[t]=k0[t]===void 0?k0[t]:i[t];if(this.scene.pan2Dxyzmm=[0,0,0,1],e&&this.volumes&&this.volumes.length>0)for(let t=0;t<this.volumes.length;t++)this.volumes[t].cal_min=this.volumes[t].robust_min,this.volumes[t].cal_max=this.volumes[t].robust_max;this.updateGLVolume()}setMeshThicknessOn2D(i){this.opts.meshThicknessOn2D=i,this.updateGLVolume()}setSliceMosaicString(i){this.sliceMosaicString=i,this.updateGLVolume()}setSliceMM(i){this.opts.isSliceMM=i,this.updateGLVolume()}setAdditiveBlend(i){this.opts.isAdditiveBlend=i,this.updateGLVolume()}getRadiologicalConvention(){return this.opts.isRadiologicalConvention}setHighResolutionCapable(i){typeof i=="boolean"&&(i=i?0:-1),this.opts.forceDevicePixelRatio=i,this.resizeListener(),this.drawScene()}addVolume(i){this.volumes.push(i);const e=this.volumes.length===1?0:this.volumes.length-1;this.setVolume(i,e),this.onImageLoaded(i),Z.debug("loaded volume",i.name),Z.debug(i)}addMesh(i){this.meshes.push(i);const e=this.meshes.length===1?0:this.meshes.length-1;this.setMesh(i,e),this.onMeshLoaded(i)}getVolumeIndexByID(i){const e=this.volumes.length;for(let t=0;t<e;t++)if(this.volumes[t].id===i)return t;return-1}drawAddUndoBitmap(){if(!this.drawBitmap||this.drawBitmap.length<1){Z.debug("drawAddUndoBitmap error: No drawing open");return}this.currentDrawUndoBitmap++,this.currentDrawUndoBitmap>=this.opts.maxDrawUndoBitmaps&&(this.currentDrawUndoBitmap=0),this.drawUndoBitmaps[this.currentDrawUndoBitmap]=ev(this.drawBitmap)}drawClearAllUndoBitmaps(){if(this.currentDrawUndoBitmap=this.opts.maxDrawUndoBitmaps,!(!this.drawUndoBitmaps||this.drawUndoBitmaps.length<1))for(let i=this.drawUndoBitmaps.length-1;i>=0;i--)this.drawUndoBitmaps[i]=new Uint8Array}drawUndo(){if(this.drawUndoBitmaps.length<1){Z.debug("undo bitmaps not loaded");return}if(this.currentDrawUndoBitmap--,this.currentDrawUndoBitmap<0&&(this.currentDrawUndoBitmap=this.drawUndoBitmaps.length-1),this.currentDrawUndoBitmap>=this.drawUndoBitmaps.length&&(this.currentDrawUndoBitmap=0),this.drawUndoBitmaps[this.currentDrawUndoBitmap].length<2){Z.debug("drawUndo is misbehaving");return}this.drawBitmap=n2(this.drawUndoBitmaps[this.currentDrawUndoBitmap],this.drawBitmap.length),this.refreshDrawing(!0)}loadDrawing(i){if(this.drawBitmap&&Z.debug("Overwriting open drawing!"),!this.back)throw new Error("back undefined");this.drawClearAllUndoBitmaps();const e=i.hdr.dims;if(e[1]!==this.back.hdr.dims[1]||e[2]!==this.back.hdr.dims[2]||e[3]!==this.back.hdr.dims[3])return Z.debug("drawing dimensions do not match background image"),!1;i.img.constructor!==Uint8Array&&Z.debug("Drawings should be UINT8");const t=i.permRAS,r=e[1]*e[2]*e[3];this.drawBitmap=new Uint8Array(r),this.drawTexture=this.r8Tex(this.drawTexture,gs,this.back.dims,!0);const s=[0,0,0];for(let A=0;A<3;A++)for(let x=0;x<3;x++)Math.abs(t[A])-1===x&&(s[x]=A*Math.sign(t[A]));let n=1;const a=[1,1,1],l=[!1,!1,!1];for(let A=0;A<s.length;A++)for(let x=0;x<s.length;x++)Math.abs(s[x])===A&&(a[x]=n,(s[x]<0||Object.is(s[x],-0))&&(l[x]=!0),n*=e[x+1]);let o=Ke.range(0,e[1]-1,1);l[0]&&(o=Ke.range(e[1]-1,0,-1));for(let A=0;A<e[1];A++)o[A]*=a[0];let h=Ke.range(0,e[2]-1,1);l[1]&&(h=Ke.range(e[2]-1,0,-1));for(let A=0;A<e[2];A++)h[A]*=a[1];let d=Ke.range(0,e[3]-1,1);l[2]&&(d=Ke.range(e[3]-1,0,-1));for(let A=0;A<e[3];A++)d[A]*=a[2];const f=i.img,p=this.drawBitmap;let g=0;for(let A=0;A<e[3];A++)for(let x=0;x<e[2];x++)for(let y=0;y<e[1];y++)p[o[y]+h[x]+d[A]]=f[g],g++;return this.drawAddUndoBitmap(),this.refreshDrawing(!1),this.drawScene(),!0}binarize(i){const e=i.hdr.dims,t=e[1]*e[2]*e[3],r=new Uint8Array(t);for(let s=0;s<t;s++)i.img[s]!==0&&(r[s]=1);i.img=r,i.hdr.datatypeCode=2,i.hdr.cal_min=0,i.hdr.cal_max=1}async loadDrawingFromUrl(i,e=!1){this.drawBitmap&&Z.debug("Overwriting open drawing!"),this.drawClearAllUndoBitmaps();let t=!1;try{const r=await Vi.loadFromUrl(Sa(i));e&&await this.binarize(r),t=this.loadDrawing(r)}catch{Z.error("loadDrawingFromUrl() failed to load "+i),this.drawClearAllUndoBitmaps()}return t}findOtsu(i=2){if(this.volumes.length<1)return[];const e=this.volumes[0].img,t=e.length;if(t<1)return[];const r=256,s=r-1,n=new Array(r).fill(0),a=this.volumes[0].cal_min,l=this.volumes[0].cal_max;if(l<=a)return[];const o=(l-a)/r;function h(b){return b*o+a}const d=(r-1)/Math.abs(l-a),f=this.volumes[0].hdr.scl_inter,p=this.volumes[0].hdr.scl_slope;for(let b=0;b<t;b++){let T=e[b]*p+f;T=Math.min(Math.max(T,a),l),T=Math.round((T-a)*d),n[T]++}const g=Array(r).fill(0).map(()=>Array(r).fill(0)),A=Array(r).fill(0).map(()=>Array(r).fill(0));for(let b=1;b<r;++b)g[b][b]=n[b],A[b][b]=b*n[b];for(let b=1;b<r-1;++b)g[1][b+1]=g[1][b]+n[b+1],A[1][b+1]=A[1][b]+(b+1)*n[b+1];for(let b=2;b<r;b++)for(let T=b+1;T<r;T++)g[b][T]=g[1][T]-g[1][b-1],A[b][T]=A[1][T]-A[1][b-1];for(let b=1;b<r;++b)for(let T=b+1;T<r;T++)g[b][T]!==0&&(g[b][T]=A[b][T]*A[b][T]/g[b][T]);let x=0;const y=[1/0,1/0,1/0];if(i>3)for(let b=0;b<r-3;b++)for(let T=b+1;T<r-2;T++)for(let D=T+1;D<r-1;D++){const S=g[0][b]+g[b+1][T]+g[T+1][D]+g[D+1][s];S>x&&(y[0]=b,y[1]=T,y[2]=D,x=S)}else if(i===3)for(let b=0;b<r-2;b++)for(let T=b+1;T<r-1;T++){const D=g[0][b]+g[b+1][T]+g[T+1][s];D>x&&(y[0]=b,y[1]=T,x=D)}else for(let b=0;b<r-1;b++){const T=g[0][b]+g[b+1][s];T>x&&(y[0]=b,x=T)}return[h(y[0]),h(y[1]),h(y[2])]}drawOtsu(i=2){if(this.volumes.length===0)return;const e=this.volumes[0].img.length,t=this.findOtsu(i);if(t.length<3)return;this.drawBitmap||this.createEmptyDrawing();const r=this.drawBitmap,s=this.volumes[0].img;for(let n=0;n<e;n++){if(r[n]!==0)continue;const a=s[n];a>t[0]&&(r[n]=1),a>t[1]&&(r[n]=2),a>t[2]&&(r[n]=3)}this.drawAddUndoBitmap(),this.refreshDrawing(!0)}removeHaze(i=5,e=0){const t=this.volumes[e].img,r=this.volumes[e].hdr,s=t.length;let n=2;(i===5||i===1)&&(n=4),(i===4||i===2)&&(n=3);const a=this.findOtsu(n);if(a.length<3)return;let l=a[0];i===1&&(l=a[2]),i===2&&(l=a[1]);const o=r.scl_inter,h=r.scl_slope,d=this.volumes[e].global_min;for(let f=0;f<s;f++)t[f]*h+o<l&&(t[f]=d);this.refreshLayers(this.volumes[e],0),this.drawScene()}async saveImage(i=d2){var a;const e={...d2,...i},{filename:t,isSaveDrawing:r,volumeByIndex:s}=e;if(Z.debug("saveImage",t,r,s),((a=this.back)==null?void 0:a.dims)===void 0)return Z.debug("No voxelwise image open"),!1;if(r){if(!this.drawBitmap)return Z.debug("No drawing open"),!1;const l=this.volumes[0].permRAS;if(l[0]===1&&l[1]===2&&l[2]===3)return Z.debug("saving drawing"),await this.volumes[0].saveToDisk(t,this.drawBitmap);{Z.debug("saving drawing");const o=this.volumes[0].hdr.dims,h=[0,0,0];for(let S=0;S<3;S++)for(let k=0;k<3;k++)Math.abs(l[S])-1===k&&(h[k]=S*Math.sign(l[S]));let d=1;const f=[1,1,1],p=[!1,!1,!1];for(let S=0;S<h.length;S++)for(let k=0;k<h.length;k++)Math.abs(h[k])===S&&(f[k]=d,(h[k]<0||Object.is(h[k],-0))&&(p[k]=!0),d*=o[k+1]);let g=Ke.range(0,o[1]-1,1);p[0]&&(g=Ke.range(o[1]-1,0,-1));for(let S=0;S<o[1];S++)g[S]*=f[0];let A=Ke.range(0,o[2]-1,1);p[1]&&(A=Ke.range(o[2]-1,0,-1));for(let S=0;S<o[2];S++)A[S]*=f[1];let x=Ke.range(0,o[3]-1,1);p[2]&&(x=Ke.range(o[3]-1,0,-1));for(let S=0;S<o[3];S++)x[S]*=f[2];const y=new Uint8Array(this.drawBitmap),b=new Uint8Array(o[1]*o[2]*o[3]);let T=0;for(let S=0;S<o[3];S++)for(let k=0;k<o[2];k++)for(let R=0;R<o[1];R++)b[T]=y[g[R]+A[k]+x[S]],T++;return Z.debug("saving drawing"),this.volumes[0].saveToDisk(t,b)}}return Z.debug("saving image"),this.volumes[s].saveToDisk(t)}getMeshIndexByID(i){if(typeof i=="number")return i>=this.meshes.length?-1:i;const e=this.meshes.length;for(let t=0;t<e;t++)if(this.meshes[t].id===i)return t;return-1}setMeshProperty(i,e,t){const r=this.getMeshIndexByID(i);if(r<0){Z.warn("setMeshProperty() id not loaded",i);return}this.meshes[r].setProperty(e,t,this.gl),this.updateGLVolume(),this.onMeshPropertyChanged(r,e,t)}indexNearestXYZmm(i,e,t,r){const s=this.getMeshIndexByID(i);return s<0?(Z.warn("indexNearestXYZmm() id not loaded",i),[NaN,NaN]):this.meshes[s].indexNearestXYZmm(e,t,r)}decimateHierarchicalMesh(i,e=3){const t=this.getMeshIndexByID(i);if(t<0){Z.warn("reverseFaces() id not loaded",i);return}const r=this.meshes[t].decimateHierarchicalMesh(this.gl,e);return this.updateGLVolume(),r}reverseFaces(i){const e=this.getMeshIndexByID(i);if(e<0){Z.warn("reverseFaces() id not loaded",i);return}this.meshes[e].reverseFaces(this.gl),this.updateGLVolume()}async setMeshLayerProperty(i,e,t,r){const s=this.getMeshIndexByID(i);if(s<0){Z.warn("setMeshLayerProperty() id not loaded",i);return}await this.meshes[s].setLayerProperty(e,t,r,this.gl),this.updateGLVolume()}setPan2Dxyzmm(i){this.scene.pan2Dxyzmm=i,this.opts.yoke3Dto2DZoom&&(this.scene.volScaleMultiplier=i[3]),this.drawScene()}setRenderAzimuthElevation(i,e){this.scene.renderAzimuth=i,this.scene.renderElevation=e,this.onAzimuthElevationChange(i,e),this.drawScene()}getOverlayIndexByID(i){const e=this.overlays.length;for(let t=0;t<e;t++)if(this.overlays[t].id===i)return t;return-1}setVolume(i,e=0){const t=this.volumes.length;if(e>t)return;const r=this.getVolumeIndexByID(i.id);e===0?(this.volumes.splice(r,1),this.volumes.unshift(i),this.back=this.volumes[0],this.overlays=this.volumes.slice(1)):e<0?(this.volumes.splice(this.getVolumeIndexByID(i.id),1),this.back=this.volumes[0],this.volumes.length>1?this.overlays=this.volumes.slice(1):this.overlays=[]):(this.volumes.splice(r,1),this.volumes.splice(e,0,i),this.overlays=this.volumes.slice(1),this.back=this.volumes[0]),this.updateGLVolume()}setMesh(i,e=0){this.meshes.forEach(s=>{Z.debug("MESH: ",s.name)});const t=this.meshes.length;if(e>t)return;const r=this.getMeshIndexByID(i.id);e===0?(this.meshes.splice(r,1),this.meshes.unshift(i)):e<0?this.meshes.splice(this.getMeshIndexByID(i.id),1):(this.meshes.splice(r,1),this.meshes.splice(e,0,i)),this.updateGLVolume(),this.meshes.forEach(s=>{Z.debug(s.name)})}removeVolume(i){if(this.setVolume(i,-1),this.mediaUrlMap.has(i)){const e=this.mediaUrlMap.get(i);this.onVolumeWithUrlRemoved(e),this.mediaUrlMap.delete(i)}this.drawScene()}removeVolumeByIndex(i){if(i>=this.volumes.length)throw new Error("Index of volume out of bounds");this.removeVolume(this.volumes[i])}removeMesh(i){if(i.unloadMesh(this.gl),this.setMesh(i,-1),this.mediaUrlMap.has(i)){const e=this.mediaUrlMap.get(i);this.onMeshWithUrlRemoved(e),this.mediaUrlMap.delete(i)}}removeMeshByUrl(i){const e=this.getMediaByUrl(i);e&&(this.removeMesh(e),this.mediaUrlMap.delete(e),this.onMeshWithUrlRemoved(i))}moveVolumeToBottom(i){this.setVolume(i,0)}moveVolumeUp(i){const e=this.getVolumeIndexByID(i.id);this.setVolume(i,e+1)}moveVolumeDown(i){const e=this.getVolumeIndexByID(i.id);this.setVolume(i,e-1)}moveVolumeToTop(i){this.setVolume(i,this.volumes.length-1)}mouseDown(i,e){i*=this.uiData.dpr,e*=this.uiData.dpr,this.mousePos=[i,e]}mouseMove(i,e){i*=this.uiData.dpr,e*=this.uiData.dpr;const t=(i-this.mousePos[0])/this.uiData.dpr,r=(e-this.mousePos[1])/this.uiData.dpr;this.mousePos=[i,e],!(this.inRenderTile(i,e)<0)&&(Math.abs(t)<1&&Math.abs(r)<1||(this.scene.renderAzimuth+=t,this.scene.renderElevation+=r,this.drawScene()))}sph2cartDeg(i,e){const t=-e*(Math.PI/180),r=(i-90)%360*(Math.PI/180),s=[Math.cos(t)*Math.cos(r),Math.cos(t)*Math.sin(r),Math.sin(t)],n=Math.sqrt(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]);return n<=0||(s[0]/=n,s[1]/=n,s[2]/=n),s}setClipPlane(i){const e=this.sph2cartDeg(i[1]+180,i[2]);this.scene.clipPlane=[e[0],e[1],e[2],i[0]],this.scene.clipPlaneDepthAziElev=i,this.onClipPlaneChange(this.scene.clipPlane),this.drawScene()}setCrosshairColor(i){this.opts.crosshairColor=i,this.drawScene()}setCrosshairWidth(i){this.opts.crosshairWidth=i,this.crosshairs3D&&(this.crosshairs3D.mm[0]=NaN),this.drawScene()}setDrawColormap(i){this.drawLut=Nt.makeDrawLut(i),this.updateGLVolume()}setDrawingEnabled(i){this.opts.drawingEnabled=i,this.opts.drawingEnabled?this.drawBitmap||this.createEmptyDrawing():(this.clickToSegmentIsGrowing&&(this.clickToSegmentIsGrowing=!1,this.refreshDrawing(!0,!1)),this.drawPenLocation=[NaN,NaN,NaN],this.drawPenAxCorSag=-1,this.drawPenFillPts=[]),this.drawScene()}setPenValue(i,e=!1){this.opts.penValue=i,this.opts.isFilledPen=e,this.drawScene()}setDrawOpacity(i){this.drawOpacity=i,this.drawScene()}setSelectionBoxColor(i){this.opts.selectionBoxColor=i}sliceScroll2D(i,e,t,r=!0){if(this.opts.scrollRequiresFocus&&this.canvas!==document.activeElement){Z.warn("Canvas element does not have focus. Scroll events will not be processed.");return}if(this.inGraphTile(e,t)){let s=this.volumes[0].frame4D;i>0&&s++,i<0&&s--,this.setFrame4D(this.volumes[0].id,s);return}if(i!==0&&this.opts.dragMode===3&&this.inRenderTile(this.uiData.dpr*e,this.uiData.dpr*t)===-1){let s=this.scene.pan2Dxyzmm[3]*(1+10*i);s=Math.round(s*10)/10;const n=this.scene.pan2Dxyzmm[3]-s;this.opts.yoke3Dto2DZoom&&(this.scene.volScaleMultiplier=s),this.scene.pan2Dxyzmm[3]=s;const a=this.frac2mm(this.scene.crosshairPos);this.scene.pan2Dxyzmm[0]+=n*a[0],this.scene.pan2Dxyzmm[1]+=n*a[1],this.scene.pan2Dxyzmm[2]+=n*a[2],this.drawScene(),this.canvas.focus(),this.sync();return}this.mouseClick(e,t,i,r)}setSliceType(i){return this.opts.sliceType=i,this.drawScene(),this}setOpacity(i,e){this.volumes[i].opacity=e,this.updateGLVolume()}setScale(i){this.scene.volScaleMultiplier=i,this.drawScene()}setClipPlaneColor(i){this.opts.clipPlaneColor=i,this.renderShader.use(this.gl),this.gl.uniform4fv(this.renderShader.uniforms.clipPlaneColor,this.opts.clipPlaneColor),this.drawScene()}setClipPlaneThick(i){this.opts.clipThick=i,this.renderShader.use(this.gl),this.gl.uniform1f(this.renderShader.uniforms.clipThick,this.opts.clipThick),this.drawScene()}setClipVolume(i,e){this.opts.clipVolumeLow=[Math.min(i[0],e[0]),Math.min(i[1],e[1]),Math.min(i[2],e[2])],this.opts.clipVolumeHigh=[Math.max(i[0],e[0]),Math.max(i[1],e[1]),Math.max(i[2],e[2])],this.renderShader.use(this.gl),this.gl.uniform3fv(this.renderShader.uniforms.clipLo,this.opts.clipVolumeLow),this.gl.uniform3fv(this.renderShader.uniforms.clipHi,this.opts.clipVolumeHigh),this.pickingImageShader.use(this.gl),this.gl.uniform3fv(this.pickingImageShader.uniforms.clipLo,this.opts.clipVolumeLow),this.gl.uniform3fv(this.pickingImageShader.uniforms.clipHi,this.opts.clipVolumeHigh),this.drawScene()}async setVolumeRenderIllumination(i=0){this.renderGradientValues=Number.isNaN(i),this.renderShader=this.renderVolumeShader,this.renderGradientValues?this.renderShader=this.renderGradientValuesShader:(this.opts.gradientAmount=i,i>0||this.opts.gradientOpacity>0?this.renderShader=this.renderGradientShader:i<0&&(this.renderShader=this.renderSliceShader)),this.initRenderShader(this.renderShader,i),this.renderShader.use(this.gl),this.setClipPlaneColor(this.opts.clipPlaneColor),Number.isNaN(i)?this.gradientTextureAmount=1:this.gradientTextureAmount=i,!(this.volumes.length<1)&&(this.refreshLayers(this.volumes[0],0),this.drawScene())}async setGradientOpacity(i=0){this.opts.gradientOpacity=i,this.renderGradientValues?this.renderShader=this.renderGradientValuesShader:this.gradientTextureAmount>0||i>0?this.renderShader=this.renderGradientShader:this.gradientTextureAmount<0&&(this.renderShader=this.renderSliceShader),this.initRenderShader(this.renderShader,this.gradientTextureAmount),this.renderShader.use(this.gl),this.gradientTextureAmount>0&&this.refreshLayers(this.volumes[0],0),this.drawScene()}overlayRGBA(i){const e=i.hdr,t=e.dims[1]*e.dims[2]*e.dims[3],r=new Uint8ClampedArray(t*4),s=.2*Math.min(Math.min(e.dims[1],e.dims[2]),e.dims[3]),n=.5*e.dims[1],a=.5*e.dims[2],l=.5*e.dims[3];let o=0;for(let h=0;h<e.dims[3];h++)for(let d=0;d<e.dims[2];d++)for(let f=0;f<e.dims[1];f++){const p=Math.abs(f-n),g=Math.abs(d-a),A=Math.abs(h-l),x=Math.sqrt(p*p+g*g+A*A);let y=0;x<s&&(y=255),r[o++]=0,r[o++]=y,r[o++]=0,r[o++]=y*.5}return r}vox2mm(i,e){return Ke.vox2mm(i,e)}cloneVolume(i){return this.volumes[i].clone()}async loadDocumentFromUrl(i){const e=await Nl.loadFromUrl(i);await this.loadDocument(e)}async loadDocument(i){this.volumes=[],this.meshes=[],this.document=i,this.document.labels=this.document.labels?this.document.labels:[];const e={...k0,...i.opts};this.scene.pan2Dxyzmm=i.scene.pan2Dxyzmm?i.scene.pan2Dxyzmm:[0,0,0,1],this.document.opts=e,this.setClipPlane(this.scene.clipPlaneDepthAziElev),Z.debug("load document",i),this.mediaUrlMap.clear(),this.createEmptyDrawing();const t=i.encodedImageBlobs;for(let s=0;s<i.imageOptionsArray.length;s++){const n=i.imageOptionsArray[s],a=t[s];if(a){"colorMap"in n&&(n.colormap=n.colorMap);const l=await Vi.loadFromBase64({base64:a,...n});if(l){if(l.colormapLabel){const o=Object.keys(l.colormapLabel.lut).length,h=new Uint8ClampedArray(o);for(const d in l.colormapLabel.lut)h[d]=l.colormapLabel.lut[d];l.colormapLabel.lut=h}this.addVolume(l)}}}this.volumes.length>0&&(this.back=this.volumes[0]);for(const s of i.meshDataObjects??[]){const n={gl:this.gl,...s};s.offsetPt0&&(n.rgba255[3]=0,n.tris=new Uint32Array(s.offsetPt0)),Z.debug(n);const a=new ys(n.pts,n.tris,n.name,n.rgba255,n.opacity,n.visible,this.gl,n.connectome,n.dpg,n.dps,n.dpv);s.offsetPt0&&(a.fiberGroupColormap=s.fiberGroupColormap,a.fiberColor=s.fiberColor,a.fiberDither=s.fiberDither,a.fiberRadius=s.fiberRadius,a.colormap=s.colormap),a.meshShaderIndex=n.meshShaderIndex,a.layers=n.layers,a.updateMesh(this.gl),Z.debug(a),this.addMesh(a)}if(i.data.connectomes)for(const s of i.data.connectomes){const n=JSON.parse(s),a=this.loadConnectomeAsMesh(n);a.updateMesh(this.gl),this.addMesh(a)}this.createEmptyDrawing();const r=i.encodedDrawingBlob;if(r){const s=await Ke.b64toUint8(r);if(s){const n=this.back.dims;let a=n[1]*n[2]*n[3];if(s.length-352===a&&(a+=352),s.length!==a)throw new Error(`drawBitmap size does not match the texture dimensions (${n[1]}×${n[2]}×${n[3]}) ${a} != ${n[1]*n[2]*n[3]}.`);this.drawBitmap=s,this.refreshDrawing()}}return await this.setGradientOpacity(this.opts.gradientOpacity),await this.setVolumeRenderIllumination(this.opts.gradientAmount),this.updateGLVolume(),this.drawScene(),this.onDocumentLoaded(i),this}async generateLoadDocumentJavaScript(i,e){const t=this.json(),r=await Ke.compressToBase64String(JSON.stringify(t));return`
        ${e}

        async function saveNiivueAsHtml(pageName) {
          //get new docstring
          const docString = nv1.json();
          const html =
          document.getElementsByTagName("html")[0]
              .innerHTML.replace(base64, await NVUtilities.compressToBase64String(JSON.stringify(docString)));
          NVUtilities.download(html, pageName, "application/html");
        }

        var nv1 = new Niivue();
        await nv1.attachTo("${i}");
        var base64 = "${r}";
        NVUtilities.decompressBase64String(base64).then((jsonText) => {
          var json = JSON.parse(jsonText); // string -> JSON
          var doc = NVDocument.loadFromJSON(json);
          nv1.loadDocument(doc);
          nv1.updateGLVolume();
        });

      `}async generateHTML(i="gl1",e){return`<!DOCTYPE html>
        <html lang="en">
          <head>
            <meta charset="utf-8" />
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta name="viewport" content="width=device-width,initial-scale=1.0" />
            <title>Save as HTML</title>
            <style>
            html {
              height: auto;
              min-height: 100%;
              margin: 0;
            }
            body {
              display: flex;
              flex-direction: column;
              margin: 0;
              min-height: 100%;
              width: 100%;
              position: absolute;
              font-family: system-ui, Arial, Helvetica, sans-serif;
              background: #ffffff;
              color: black;
              user-select: none; /* Standard syntax */
            }
            header {
              margin: 10px;
            }
            main {
              flex: 1;
              background: #000000;
              position: relative;
            }
            footer {
              margin: 10px;
            }
            canvas {
              position: absolute;
              cursor: crosshair;
            }
            canvas:focus {
              outline: 0px;
            }
            div {
              display: table-row;
              background-color: blue;
            }
            </style>
          </head>
          <body>
            <noscript>niivue requires JavaScript.</noscript>
            <header>
            Save the current scene as HTML
            <button id="save">Save as HTML</button>
            </header>
            <main>
              <canvas id="gl1"></canvas>
            </main>
            <script type="module" async>
              ${await this.generateLoadDocumentJavaScript(i,e)}
              function saveAsHtml() {
                saveNiivueAsHtml("page.html");
              }
              // assign our event handler
              var button = document.getElementById("save");
              button.onclick = saveAsHtml;
            <\/script>
          </body>
        </html>`}async saveHTML(i="untitled.html",e="gl1",t){const r=await this.generateHTML(e,t);return Ke.download(r,i,"application/html")}json(){return this.document.opts=this.opts,this.document.scene=this.scene,this.document.volumes=this.volumes,this.document.meshes=this.meshes,this.drawScene(),this.document.previewImageDataURL=this.canvas.toDataURL(),this.document.json()}async saveDocument(i="untitled.nvd",e=!0){return this.document.title=i,Z.debug("saveDocument",this.volumes[0]),this.drawScene(),this.document.previewImageDataURL=this.canvas.toDataURL(),this.document.volumes=this.volumes,this.document.meshes=this.meshes,this.document.download(i,e)}async loadImages(i){const e=[],t=[];for(const r of i)if("url"in r){const s=this.getFileExt(r.name?r.name:r.url);if(this.loaders[s]){const n=this.loaders[s].toExt.toUpperCase();Z0.includes(n)?t.push(r):e.push(r);continue}Z0.includes(s.toUpperCase())?t.push(r):e.push(r)}return e.length>0&&await this.loadVolumes(e),t.length>0&&await this.loadMeshes(t),this}async loadDicoms(i){if(!this.getDicomLoader())throw new Error("No dicom loader set. Please set a dicom loader before loading dicoms");this.drawScene(),this.volumes=[],this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT);const e=i.map(async r=>{let s=null;if(r.isManifest)s=await Vi.fetchDicomData(r.url);else{const d=await fetch(r.url);if(!d.ok)throw new Error(`Failed to load file: ${d.statusText}`);const f=await d.arrayBuffer();s=[{name:r.url.split("/").pop(),data:f}]}const n=this.getDicomLoader().loader,a=await n(s);console.log(a);const l=a[0].name,o=a[0].data;return await Vi.loadFromUrl({url:o,name:l})}),t=await Promise.all(e);return t.length===1?this.addVolume(t[0]):this.onDicomLoaderFinishedWithImages(t),this}async loadVolumes(i){return this.drawScene(),this.thumbnailVisible?(this.deferredVolumes=i,this):(this.volumes=[],this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),await this.addVolumesFromUrl(i),this)}async addMeshFromUrl(i){const e=this.getFileExt(i.url);if(e==="JCON"||e==="JSON"){const s=await(await fetch(i.url,{})).json(),n=this.loadConnectomeAsMesh(s);return this.mediaUrlMap.set(n,i.url),this.onMeshAddedFromUrl(i,n),this.addMesh(n),n}const t=await ys.loadFromUrl({...i,gl:this.gl});return this.mediaUrlMap.set(t,i.url),this.onMeshAddedFromUrl(i,t),this.addMesh(t),t}async addMeshesFromUrl(i){const e=i.map(async r=>{const s=this.getFileExt(r.name||r.url);if(this.loaders[s]){let a=r.url;const l=this.loaders[s].toExt;let o=r.name||r.url;if(o=o.split("/").pop(),typeof r.url=="string"){const g=r.url;try{const A=await fetch(g);if(!A.ok)throw new Error(`Failed to load file: ${A.statusText}`);a=await A.arrayBuffer()}catch(A){throw new Error(`Failed to load url ${g}: ${A}`)}}const{positions:h,indices:d,colors:f=null}=await this.loaders[s].loader(a);r.name=`${o}.${l}`;const p=await _0.createMZ3Async(h,d,!1,f);r.buffer=p}if(s==="JCON"||s==="JSON"){const l=await(await fetch(r.url,{})).json(),o=this.loadConnectomeAsMesh(l);return this.mediaUrlMap.set(o,r.url),this.onMeshAddedFromUrl(r,o),o}const n=await ys.loadFromUrl({...r,gl:this.gl});return this.mediaUrlMap.set(n,r.url),this.onMeshAddedFromUrl(r,n),n}),t=await Promise.all(e);for(let r=0;r<t.length;r++)this.addMesh(t[r]);return t}async loadMeshes(i){return this.drawScene(),this.thumbnailVisible?(this.deferredMeshes=i,this):(this.initialized,this.meshes=[],this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),await this.addMeshesFromUrl(i),this.updateGLVolume(),this.drawScene(),this)}async loadConnectomeFromUrl(i,e={}){const r=await(await fetch(i,{headers:e})).json();return this.loadConnectome(r)}async loadFreeSurferConnectomeFromUrl(i,e={}){const r=await(await fetch(i,{headers:e})).json();return this.loadFreeSurferConnectome(r)}async loadFreeSurferConnectome(i){const e=ca.convertFreeSurferConnectome(i);return this.loadConnectome(e)}handleNodeAdded(i){const e=i.detail.node,t=[1,1,1,1];this.addLabel(e.name,{textColor:t,bulletScale:1,bulletColor:t,lineWidth:0,lineColor:t,lineTerminator:"none",textScale:1},[e.x,e.y,e.z]),this.drawScene()}loadConnectomeAsMesh(i){let e=i;if("data_type"in i&&i.data_type==="fs_pointset")e=ca.convertFreeSurferConnectome(i),Z.warn("converted FreeSurfer connectome",e);else if("nodes"in i){const t=i.nodes;"names"in t&&"X"in t&&"Y"in t&&"Z"in t&&"Color"in t&&"Size"in t&&(e=ca.convertLegacyConnectome(i),Z.warn("converted legacy connectome",e))}else throw new Error("not a known connectome format");return new ca(this.gl,e)}loadConnectome(i){this.drawScene(),this.meshes=[],this.gl.clearColor(0,0,0,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT);const e=this.loadConnectomeAsMesh(i);return this.addMesh(e),this.drawScene(),this}createEmptyDrawing(){if(this.back===null||!this.back.dims||Math.min(Math.min(this.back.dims[1],this.back.dims[2]),this.back.dims[3])<1)return;const e=this.back.dims[1]*this.back.dims[2]*this.back.dims[3];this.drawBitmap=new Uint8Array(e),this.clickToSegmentGrowingBitmap=new Uint8Array(e),this.drawClearAllUndoBitmaps(),this.drawAddUndoBitmap(),this.drawTexture=this.r8Tex(this.drawTexture,gs,this.back.dims,!0),this.refreshDrawing(!1)}r16Tex(i,e,t,r){i&&this.gl.deleteTexture(i),i=this.gl.createTexture(),this.gl.activeTexture(e),this.gl.bindTexture(this.gl.TEXTURE_3D,i),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R16I,t[1],t[2],t[3]);const s=t[1]*t[2]*t[3];return r.length!==s&&(r=new Int16Array(s)),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,t[1],t[2],t[3],this.gl.RED_INTEGER,this.gl.SHORT,r),i}drawGrowCut(){if(!this.back||!this.back.dims)throw new Error("back not defined");const i=this.back.hdr,e=this.gl,t=i.dims[1]*i.dims[2]*i.dims[3];if(!this.drawBitmap||this.drawBitmap.length!==t){Z.debug("bitmap dims are wrong");return}const r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.disable(e.CULL_FACE),e.viewport(0,0,this.back.dims[1],this.back.dims[2]),e.disable(e.BLEND);let s=J9(this.back);const n=this.r16Tex(null,av,this.back.dims,s);for(let S=1;S<t;S++)s[S]=this.drawBitmap[S];const a=this.r16Tex(null,cv,this.back.dims,s),l=this.r16Tex(null,hv,this.back.dims,s),o=1e4;for(let S=1;S<t;S++)s[S]>0&&(s[S]=o);const h=this.r16Tex(null,ov,this.back.dims,s),d=this.r16Tex(null,lv,this.back.dims,s);e.bindVertexArray(this.genericVAO);const f=this.growCutShader;f.use(e);const p=128;e.uniform1i(f.uniforms.finalPass,0),e.uniform1i(f.uniforms.backTex,11);for(let S=0;S<p;S++){e.uniform1i(f.uniforms.labelTex,14),e.uniform1i(f.uniforms.strengthTex,12);for(let k=0;k<this.back.dims[3];k++){const R=1/this.back.dims[3]*(k+.5);e.uniform1f(f.uniforms.coordZ,R),e.framebufferTextureLayer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,l,0,k),e.framebufferTextureLayer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT1,d,0,k),e.drawBuffers([e.COLOR_ATTACHMENT0,e.COLOR_ATTACHMENT1]),e.checkFramebufferStatus(e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE&&Z.error("Incomplete framebuffer"),e.drawArrays(e.TRIANGLE_STRIP,0,4)}S===p-1&&e.uniform1i(f.uniforms.finalPass,1),e.uniform1i(f.uniforms.labelTex,15),e.uniform1i(f.uniforms.strengthTex,13);for(let k=0;k<this.back.dims[3];k++){const R=1/this.back.dims[3]*(k+.5);e.uniform1f(f.uniforms.coordZ,R),e.framebufferTextureLayer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,a,0,k),e.framebufferTextureLayer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT1,h,0,k),e.drawBuffers([e.COLOR_ATTACHMENT0,e.COLOR_ATTACHMENT1]),e.checkFramebufferStatus(e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE&&Z.error("Incomplete framebuffer"),e.drawArrays(e.TRIANGLE_STRIP,0,4)}}e.drawBuffers([e.COLOR_ATTACHMENT0]);const g=e.COLOR_ATTACHMENT1,A=a;e.readBuffer(g);const x=e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT),y=e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE);(x!==e.RED_INTEGER||y!==e.SHORT)&&Z.debug("readPixels will fail."),s=new Int16Array;const b=this.back.dims[1]*this.back.dims[2],T=new Int16Array(b);for(let S=0;S<this.back.dims[3];S++)e.framebufferTextureLayer(e.FRAMEBUFFER,g,A,0,S),e.readPixels(0,0,this.back.dims[1],this.back.dims[2],x,y,T),s=Int16Array.from([...s,...T]);let D=s[0];for(let S=0;S<s.length;S++)D=Math.max(D,s[S]);for(let S=1;S<t;S++)this.drawBitmap[S]=s[S];e.deleteTexture(n),e.deleteTexture(h),e.deleteTexture(d),e.deleteTexture(a),e.deleteTexture(l),e.bindVertexArray(this.unusedVAO),e.viewport(0,0,e.canvas.width,e.canvas.height),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(r),this.drawAddUndoBitmap(),this.refreshDrawing(!0)}drawPt(i,e,t,r,s=null){var f;if(s===null&&(s=this.drawBitmap),!((f=this.back)!=null&&f.dims))throw new Error("back.dims not set");const n=this.back.dims[1],a=this.back.dims[2],l=this.back.dims[3];i=Math.min(Math.max(i,0),n-1),e=Math.min(Math.max(e,0),a-1),t=Math.min(Math.max(t,0),l-1),s[i+e*n+t*n*a]=r;const o=this.drawPenAxCorSag===0,h=this.drawPenAxCorSag===1,d=this.drawPenAxCorSag===2;if(this.opts.penSize>1){const p=Math.floor(this.opts.penSize/2);for(let g=-p;g<=p;g++)for(let A=-p;A<=p;A++)o?s[i+g+(e+A)*n+t*n*a]=r:h?s[i+g+e*n+(t+A)*n*a]=r:d&&(s[i+(e+A)*n+(t+g)*n*a]=r)}}drawPenLine(i,e,t){const r=Math.abs(i[0]-e[0]),s=Math.abs(i[1]-e[1]),n=Math.abs(i[2]-e[2]);let a=-1,l=-1,o=-1;e[0]>i[0]&&(a=1),e[1]>i[1]&&(l=1),e[2]>i[2]&&(o=1);let h=i[0],d=i[1],f=i[2];const p=e[0],g=e[1],A=e[2];if(r>=s&&r>=n){let x=2*s-r,y=2*n-r;for(;h!==p;)h+=a,x>=0&&(d+=l,x-=2*r),y>=0&&(f+=o,y-=2*r),x+=2*s,y+=2*n,this.drawPt(h,d,f,t)}else if(s>=r&&s>=n){let x=2*r-s,y=2*n-s;for(;d!==g;)d+=l,x>=0&&(h+=a,x-=2*s),y>=0&&(f+=o,y-=2*s),x+=2*r,y+=2*n,this.drawPt(h,d,f,t)}else{let x=2*s-n,y=2*r-n;for(;f!==A;)f+=o,x>=0&&(d+=l,x-=2*n),y>=0&&(h+=a,y-=2*n),x+=2*s,y+=2*r,this.drawPt(h,d,f,t)}}drawingBinaryDilationWithSeed(i,e=6){try{let t=function(y){return y[0]+y[1]*l+y[2]*o};const r=this.drawBitmap,s=this.back.dims[1],n=this.back.dims[2],a=this.back.dims[3],l=s,o=s*n,h=o*a,d=t(i);if(d<0||d>=h)throw new Error("Seed index is out of bounds.");const f=r[d];if(f===0)throw new Error("Seed voxel is not part of a filled cluster.");const p=r.slice();for(let y=0;y<h;y++)p[y]=p[y]===f?1:0;this.drawFloodFillCore(p,d,e);const g=r.slice(),A=[],x=[-o,o,-s,s,-1,1];A.push(...x),e>6&&A.push(-s-1,-s+1,s-1,s+1,-o-s,-o+s,-o-1,-o+1,o-s,o+s,o-1,o+1),e>18&&A.push(-o-s-1,-o-s+1,-o+s-1,-o+s+1,o-s-1,o-s+1,o+s-1,o+s+1);for(let y=0;y<h;y++)if(p[y]===2){const b=y%s,T=Math.floor(y%o/s),D=Math.floor(y/o);for(const S of A){const k=y+S;if(k<0||k>=h)continue;const R=k%s,B=Math.floor(k%o/s),N=Math.floor(k/o);Math.abs(R-b)>1||Math.abs(B-T)>1||Math.abs(N-D)>1||r[k]===0&&(g[k]=f)}}this.drawBitmap=g,this.drawAddUndoBitmap(),this.refreshDrawing(!0)}catch(t){Z.error("Error in drawingBinaryDilationWithSeed:",t)}}drawFloodFillCore(i,e,t=6){var h;if(!((h=this.back)!=null&&h.dims))throw new Error("back.dims undefined");const r=[this.back.dims[1],this.back.dims[2],this.back.dims[3]],s=r[0],n=s*r[1];function a(d){return d[0]+d[1]*s+d[2]*n}function l(d){const f=Math.floor(d/n),p=Math.floor((d-f*n)/s);return[Math.floor(d%s),p,f]}const o=[];for(o.push(e),i[e]=2;o.length>0;){let d=function(g){const A=p.slice();if(A[0]+=g[0],A[1]+=g[1],A[2]+=g[2],A[0]<0||A[1]<0||A[2]<0||A[0]>=r[0]||A[1]>=r[1]||A[2]>=r[2])return;const x=a(A);i[x]===1&&(i[x]=2,o.push(x))};const f=o[0];o.shift();const p=l(f);d([0,0,-1]),d([0,0,1]),d([0,-1,0]),d([0,1,0]),d([-1,0,0]),d([1,0,0]),!(t<=6)&&(d([-1,-1,0]),d([1,1,0]),d([-1,1,0]),d([1,1,0]),d([0,-1,-1]),d([0,1,-1]),d([-1,0,-1]),d([1,0,-1]),d([0,-1,1]),d([0,1,1]),d([-1,0,1]),d([1,0,1]),!(t<=18)&&(d([-1,-1,-1]),d([1,-1,-1]),d([-1,1,-1]),d([1,1,-1]),d([-1,-1,1]),d([1,-1,1]),d([-1,1,1]),d([1,1,1])))}}drawFloodFill(i,e=0,t=0,r=NaN,s=NaN,n=6,a=Number.POSITIVE_INFINITY,l=!1,o=null,h=!1){var O;if(!this.drawBitmap&&(Z.warn("drawFloodFill called without an initialized drawBitmap."),this.createEmptyDrawing(),!this.drawBitmap)){Z.error("Failed to create drawing bitmap.");return}if(this.clickToSegmentIsGrowing&&!this.clickToSegmentGrowingBitmap){if(Z.warn("drawFloodFill called in preview mode without initialized clickToSegmentGrowingBitmap."),this.drawBitmap)this.clickToSegmentGrowingBitmap=this.drawBitmap.slice();else{Z.error("Cannot initialize growing bitmap as drawBitmap is null.");return}if(!this.clickToSegmentGrowingBitmap){Z.error("Failed to create growing bitmap.");return}}if(o===null&&(o=this.drawBitmap),!o){Z.error("drawFloodFill targetBitmap is null.");return}if(!((O=this.back)!=null&&O.dims))throw new Error("back.dims undefined");e=Math.abs(e);const d=[this.back.dims[1],this.back.dims[2],this.back.dims[3]];if(i[0]<0||i[1]<0||i[2]<0||i[0]>=d[0]||i[1]>=d[1]||i[2]>=d[2])return;const f=d[0],p=f*d[1],g=p*d[2],A=this.clickToSegmentIsGrowing?this.drawBitmap:o;if(!A){Z.error("Could not determine original bitmap state.");return}const x=new Uint8Array(g).fill(0);let y=-1;l&&this.drawPenAxCorSag===0?y=2:l&&this.drawPenAxCorSag===1?y=1:l&&this.drawPenAxCorSag===2&&(y=0);function b(q){const U=Math.floor(q/p),j=Math.floor((q-U*p)/f);return[Math.floor(q%f),j,U]}function T(q){return q[0]+q[1]*f+q[2]*p}const D=q=>this.vox2mm(q,this.back.matRAS),S=D(i),k=a**2;function R(q){const U=b(q);if(y>=0&&U[y]!==i[y])return!1;const j=D(U);return(j[0]-S[0])**2+(j[1]-S[1])**2+(j[2]-S[2])**2<=k}const B=T(i),N=A[B];if(h&&N===0){Z.debug("Grow/Erase Cluster tool requires starting on a masked voxel."),this.clickToSegmentIsGrowing&&this.clickToSegmentGrowingBitmap&&this.drawBitmap&&(this.clickToSegmentGrowingBitmap.set(this.drawBitmap),this.refreshDrawing(!0,!0));return}if(t===0&&N===e&&!h&&e!==0&&(Z.debug("drawFloodFill selected voxel is already desired color"),!this.clickToSegmentIsGrowing))return;let L=NaN;if(h&&(t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)){const q=A.slice();for(let he=0;he<g;he++)q[he]=q[he]===N&&R(he)?1:0;if(q[B]!==1){Z.error("Seed voxel could not be marked for cluster ID.");return}this.drawFloodFillCore(q,B,n);const U=this.volumes[0].img2RAS();let j=0,X=0;for(let he=0;he<g;he++)q[he]===2&&(j+=U[he],X++);L=X>0?j/X:U[B],Z.debug(`Grow Cluster using mean intensity: ${L.toFixed(2)} from ${X} voxels.`);let re=-1/0,oe=1/0;t===Number.POSITIVE_INFINITY&&(re=L),t===Number.NEGATIVE_INFINITY&&(oe=L);for(let he=0;he<g;he++)if(q[he]===2)x[he]=1;else if(A[he]===0){const Ae=U[he];Ae>=re&&Ae<=oe&&R(he)&&(x[he]=1)}e=N}else if(t===0)if(h&&e===0){Z.debug(`Erase Cluster: Identifying cluster with color ${N}`);for(let q=0;q<g;q++)x[q]=A[q]===N&&R(q)?1:0}else for(let q=0;q<g;q++)A[q]===N&&R(q)&&N!==0&&(x[q]=1);else{const q=this.volumes[0].img2RAS();L=q[B];let U=-1/0,j=1/0;isFinite(r)&&isFinite(s)?(U=r,j=s):t===Number.POSITIVE_INFINITY?U=L:t===Number.NEGATIVE_INFINITY&&(j=L);for(let X=0;X<g;X++){const re=q[X];re>=U&&re<=j&&R(X)&&(x[X]=1)}e=A[B],e===0&&(e=this.opts.penValue,(e<1||!isFinite(e))&&(e=1))}if(x[B]!==1){let q=!1;if(h&&t!==0?N!==0&&(q=!0):(N!==0||e===0)&&(q=!0),q&&R(B))x[B]=1,Z.debug("Forcing seed voxel to 1 in working buffer.");else{Z.debug("Seed voxel not marked as candidate '1' and not valid originally."),this.clickToSegmentIsGrowing&&this.clickToSegmentGrowingBitmap&&this.drawBitmap&&this.clickToSegmentGrowingBitmap.set(this.drawBitmap);return}}this.drawFloodFillCore(x,B,n);for(let q=0;q<g;q++)x[q]===2?o[q]=e:this.clickToSegmentIsGrowing&&o===this.clickToSegmentGrowingBitmap&&(o[q]=A[q]);this.clickToSegmentIsGrowing?this.refreshDrawing(!0,!0):(this.drawAddUndoBitmap(),this.refreshDrawing(!0,!1))}drawPenFilled(){var g;const i=this.drawPenFillPts.length;if(i<2){this.drawPenFillPts=[];return}const e=this.drawPenAxCorSag;let t=0,r=1;if(e===1&&(r=2),e===2&&(t=1,r=2),!((g=this.back)!=null&&g.dims))throw new Error("back.dims undefined");const s=[this.back.dims[t+1],this.back.dims[r+1]],n=new Uint8Array(s[0]*s[1]);let a=1;function l(A,x){const y=Math.abs(A[0]-x[0]),b=Math.abs(A[1]-x[1]);n[A[0]+A[1]*s[0]]=a,n[x[0]+x[1]*s[0]]=a;let T=-1,D=-1;x[0]>A[0]&&(T=1),x[1]>A[1]&&(D=1);let S=A[0],k=A[1];const R=x[0],B=x[1];if(y>=b){let N=2*b-y;for(;S!==R;)S+=T,N>=0&&(k+=D,N-=2*y),N+=2*b,n[S+k*s[0]]=a}else{let N=2*y-b;for(;k!==B;)k+=D,N>=0&&(S+=T,N-=2*b),N+=2*y,n[S+k*s[0]]=a}}const o=[this.drawPenFillPts[0][t],this.drawPenFillPts[0][r]];let h=o;for(let A=1;A<i;A++){const x=[this.drawPenFillPts[A][t],this.drawPenFillPts[A][r]];l(h,x),h=x}l(o,h);const d=[];function f(A){if(A[0]<0||A[1]<0||A[0]>=s[0]||A[1]>=s[1])return;const x=A[0]+A[1]*s[0];n[x]===0&&(d.push(A),n[x]=2)}for(let A=0;A<s[0];A++)f([A,0]);for(let A=0;A<s[0];A++)f([A,s[1]-1]);for(let A=0;A<s[1];A++)f([0,A]);for(let A=0;A<s[1];A++)f([s[0]-1,A]);for(;d.length>0;){const A=d.shift();f([A[0]-1,A[1]]),f([A[0]+1,A[1]]),f([A[0],A[1]-1]),f([A[0],A[1]+1])}a=this.opts.penValue;const p=this.drawPenFillPts[0][3-(t+r)];if(!this.drawBitmap)throw new Error("drawBitmap undefined");if(e===0){const A=p*s[0]*s[1];for(let x=0;x<s[0]*s[1];x++)n[x]!==2&&(this.drawBitmap[x+A]=a)}else{let A=1;const x=this.back.dims[1]*this.back.dims[2];let y=p*this.back.dims[1];e===2&&(A=this.back.dims[1],y=p);let b=0;for(let T=0;T<s[1];T++)for(let D=0;D<s[0];D++)n[b]!==2&&(this.drawBitmap[D*A+T*x+y]=a),b++}if(!this.drawFillOverwrites&&this.drawUndoBitmaps[this.currentDrawUndoBitmap].length>0){const A=this.drawBitmap.length,x=n2(this.drawUndoBitmaps[this.currentDrawUndoBitmap],A);for(let y=0;y<A;y++)x[y]!==0&&(this.drawBitmap[y]=x[y])}this.drawPenFillPts=[],this.drawAddUndoBitmap(),this.refreshDrawing(!1)}closeDrawing(){this.drawClearAllUndoBitmaps(),this.rgbaTex(this.drawTexture,gs,[2,2,2,2],!0),this.drawBitmap=null,this.clickToSegmentGrowingBitmap=null,this.drawScene()}refreshDrawing(i=!0,e=!1){var a;e&&(!this.opts.drawingEnabled||!this.opts.clickToSegment)&&(Z.debug("refreshDrawing: Conditions not met for clickToSegment bitmap, using drawBitmap."),e=!1);const t=e?this.clickToSegmentGrowingBitmap:this.drawBitmap;!t&&!e&&this.clickToSegmentGrowingBitmap?Z.warn("refreshDrawing: drawBitmap is null, but clickToSegmentGrowingBitmap exists. Check state."):!t&&e&&this.drawBitmap?(Z.warn("refreshDrawing: clickToSegmentGrowingBitmap is null, falling back to drawBitmap."),e=!1):t||Z.warn("refreshDrawing: Both bitmaps are null. Uploading empty data.");const r=e?this.clickToSegmentGrowingBitmap:this.drawBitmap;if(!((a=this.back)!=null&&a.dims)){Z.warn("refreshDrawing: back.dims undefined, cannot refresh drawing texture yet.");return}const s=this.back.dims.slice(),n=this.back.dims[1]*this.back.dims[2]*this.back.dims[3];if(!r){Z.warn(`refreshDrawing: Bitmap data source (${e?"growing":"main"}) is null. Cannot update texture.`),i&&this.drawScene();return}if(r.length===8?(s[1]=2,s[2]=2,s[3]=2):n!==r.length&&Z.warn(`Drawing bitmap length (${r.length}) must match the background image (${n})`),this.gl.activeTexture(gs),this.gl.bindTexture(this.gl.TEXTURE_3D,this.drawTexture),!this.drawTexture){Z.error("refreshDrawing: drawTexture (GPU texture) is null.");return}try{this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,s[1],s[2],s[3],this.gl.RED,this.gl.UNSIGNED_BYTE,r)}catch(l){Z.error("Error during texSubImage3D in refreshDrawing:",l),Z.error("Dimensions:",s,"Bitmap length:",r==null?void 0:r.length)}i&&this.drawScene()}r8Tex(i,e,t,r=!1){if(i&&this.gl.deleteTexture(i),i=this.gl.createTexture(),this.gl.activeTexture(e),this.gl.bindTexture(this.gl.TEXTURE_3D,i),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R8,t[1],t[2],t[3]),r){const s=new Uint8Array(t[1]*t[2]*t[3]);this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,t[1],t[2],t[3],this.gl.RED,this.gl.UNSIGNED_BYTE,s)}return i}rgbaTex(i,e,t,r=!1){if(i&&this.gl.deleteTexture(i),i=this.gl.createTexture(),this.gl.activeTexture(e),this.gl.bindTexture(this.gl.TEXTURE_3D,i),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.RGBA8,t[1],t[2],t[3]),r){const s=new Uint8Array(t[1]*t[2]*t[3]*4);this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,t[1],t[2],t[3],this.gl.RGBA,this.gl.UNSIGNED_BYTE,s)}return i}rgba16Tex(i,e,t,r=!1){if(i&&this.gl.deleteTexture(i),i=this.gl.createTexture(),this.gl.activeTexture(e),this.gl.bindTexture(this.gl.TEXTURE_3D,i),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,2),this.gl.pixelStorei(this.gl.PACK_ALIGNMENT,2),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.RGBA16UI,t[1],t[2],t[3]),r){const s=new Uint16Array(t[1]*t[2]*t[3]*4);this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,t[1],t[2],t[3],this.gl.RGBA_INTEGER,this.gl.UNSIGNED_SHORT,s)}return i}requestCORSIfNotSameOrigin(i,e){new URL(e,window.location.href).origin!==window.location.origin&&(i.crossOrigin="")}async loadPngAsTexture(i,e){return new Promise((t,r)=>{const s=new Image;s.onload=()=>{if(!this.bmpShader)return;let n;e===4?(this.bmpTexture!==null&&this.gl.deleteTexture(this.bmpTexture),this.bmpTexture=this.gl.createTexture(),n=this.bmpTexture,this.bmpTextureWH=s.width/s.height,this.gl.activeTexture(sv),this.bmpShader.use(this.gl),this.gl.uniform1i(this.bmpShader.uniforms.bmpTexture,4)):e===5?(this.gl.activeTexture(l2),this.matCapTexture!==null&&this.gl.deleteTexture(this.matCapTexture),this.matCapTexture=this.gl.createTexture(),n=this.matCapTexture):(this.fontShader.use(this.gl),this.gl.activeTexture(rv),this.gl.uniform1i(this.fontShader.uniforms.fontTexture,3),this.fontTexture!==null&&this.gl.deleteTexture(this.fontTexture),this.fontTexture=this.gl.createTexture(),n=this.fontTexture),this.gl.bindTexture(this.gl.TEXTURE_2D,n),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,s),t(n),e!==4&&this.drawScene()},s.onerror=r,this.requestCORSIfNotSameOrigin(s,i),s.src=i})}async loadFontTexture(i){return this.loadPngAsTexture(i,3)}async loadBmpTexture(i){return this.loadPngAsTexture(i,4)}async loadMatCapTexture(i){return this.loadPngAsTexture(i,5)}initFontMets(){if(!this.fontMetrics)throw new Error("fontMetrics undefined");this.fontMets={distanceRange:this.fontMetrics.atlas.distanceRange,size:this.fontMetrics.atlas.size,mets:{}};for(let t=0;t<256;t++)this.fontMets.mets[t]={xadv:0,uv_lbwh:[0,0,0,0],lbwh:[0,0,0,0]};const i=this.fontMetrics.atlas.width,e=this.fontMetrics.atlas.height;for(let t=0;t<this.fontMetrics.glyphs.length;t++){const r=this.fontMetrics.glyphs[t],s=r.unicode;if(this.fontMets.mets[s].xadv=r.advance,r.planeBounds===void 0)continue;let n=r.atlasBounds.left/i,a=(e-r.atlasBounds.top)/e,l=(r.atlasBounds.right-r.atlasBounds.left)/i,o=(r.atlasBounds.top-r.atlasBounds.bottom)/e;this.fontMets.mets[s].uv_lbwh=[n,a,l,o],n=r.planeBounds.left,a=r.planeBounds.bottom,l=r.planeBounds.right-r.planeBounds.left,o=r.planeBounds.top-r.planeBounds.bottom,this.fontMets.mets[s].lbwh=[n,a,l,o]}}async loadFont(i=e2,e=t2){await this.loadFontTexture(i);const t=await fetch(e);if(!t.ok)throw Error(t.statusText);const r=await t.text();this.fontMetrics=JSON.parse(r),this.initFontMets(),this.fontShader.use(this.gl),this.drawScene()}async loadDefaultMatCap(){return this.loadMatCapTexture(X9)}async loadDefaultFont(){await this.loadFontTexture(this.DEFAULT_FONT_GLYPH_SHEET),this.fontMetrics=this.DEFAULT_FONT_METRICS,this.initFontMets()}async initText(){this.fontShader=new At(this.gl,z7,P7),this.fontShader.use(this.gl),await this.loadDefaultFont(),await this.loadDefaultMatCap(),this.drawLoadingText(this.opts.loadingText)}meshShaderNameToNumber(i="Phong"){const e=i.toLowerCase();for(let t=0;t<this.meshShaders.length;t++)if(this.meshShaders[t].Name.toLowerCase()===e)return t}setMeshShader(i,e=2){let t=0;if(typeof e=="number"?t=e:t=this.meshShaderNameToNumber(e),t===void 0)throw new Error("shaderIndex undefined");t=Math.min(t,this.meshShaders.length-1),t=Math.max(t,0);const r=this.getMeshIndexByID(i);if(r>=this.meshes.length){Z.debug("Unable to change shader until mesh is loaded (maybe you need async)");return}this.meshes[r].meshShaderIndex=t,this.updateGLVolume(),this.onMeshShaderChanged(r,t)}createCustomMeshShader(i,e="Custom"){if(!i)throw new Error("Need fragment shader");const t=this.meshShaderNameToNumber(e);t>=0&&(this.gl.deleteProgram(this.meshShaders[t].shader.program),this.meshShaders.splice(t,1));const r=new At(this.gl,Fl,i);return r.use(this.gl),{Name:e,Frag:i,shader:r}}setCustomMeshShader(i="",e="Custom"){const t=this.createCustomMeshShader(i,e);return this.meshShaders.push(t),this.onCustomMeshShaderAdded(i,e),this.meshShaders.length-1}meshShaderNames(i=!0){const e=[];for(let t=0;t<this.meshShaders.length;t++)e.push(this.meshShaders[t].Name);return i===!0?e.sort():e}initRenderShader(i,e=0){i.use(this.gl),this.gl.uniform1i(i.uniforms.volume,0),this.gl.uniform1i(i.uniforms.colormap,1),this.gl.uniform1i(i.uniforms.overlay,2),this.gl.uniform1i(i.uniforms.drawing,7),this.gl.uniform1fv(i.uniforms.renderDrawAmbientOcclusion,[this.renderDrawAmbientOcclusion,1]),this.gl.uniform1f(i.uniforms.gradientAmount,e);const t=new Float32Array(256);for(let r=0;r<256;r++)this.opts.gradientOpacity===0?t[r]=1:t[r]=Math.pow(r/255,this.opts.gradientOpacity*8);this.gl.uniform1fv(this.gl.getUniformLocation(i.program,"gradientOpacity"),t)}async init(){const i=this.gl.getExtension("WEBGL_debug_renderer_info");if(i){const n=this.gl.getParameter(i.UNMASKED_VENDOR_WEBGL),a=this.gl.getParameter(i.UNMASKED_RENDERER_WEBGL);Z.info("renderer vendor: ",n),Z.info("renderer: ",a)}else Z.info("debug_renderer_info unavailable");const e=this.gl.getParameter(this.gl.RENDERER);Z.info("firefox renderer: ",e),this.gl.clearDepth(0),this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.FRONT),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA),this.volumeTexture=this.rgbaTex(this.volumeTexture,ha,[2,2,2,2],!0),this.overlayTexture=this.rgbaTex(this.overlayTexture,Ul,[2,2,2,2],!0),this.drawTexture=this.r8Tex(this.drawTexture,gs,[2,2,2,2],!0);const t=[1,1,0,1,0,0,0,1,0,0,0,0],r=this.gl;this.cuboidVertexBuffer=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,this.cuboidVertexBuffer),r.bufferData(r.ARRAY_BUFFER,new Float32Array(t),r.STATIC_DRAW),this.genericVAO=r.createVertexArray(),r.bindVertexArray(this.genericVAO),r.bindBuffer(r.ARRAY_BUFFER,this.cuboidVertexBuffer),r.enableVertexAttribArray(0),r.vertexAttribPointer(0,3,r.FLOAT,!1,0,0),r.bindVertexArray(this.unusedVAO),this.pickingMeshShader=new At(r,Fl,Q7),this.pickingMeshShader.use(r),this.pickingImageShader=new At(r,Ys,l8),this.pickingImageShader.use(r),r.uniform1i(this.pickingImageShader.uniforms.volume,0),r.uniform1i(this.pickingImageShader.uniforms.colormap,1),r.uniform1i(this.pickingImageShader.uniforms.overlay,2),r.uniform1i(this.pickingImageShader.uniforms.drawing,7),this.sliceMMShader=new At(r,ju,k7),this.sliceMMShader.use(r),r.uniform1i(this.sliceMMShader.uniforms.volume,0),r.uniform1i(this.sliceMMShader.uniforms.colormap,1),r.uniform1i(this.sliceMMShader.uniforms.overlay,2),r.uniform1i(this.sliceMMShader.uniforms.drawing,7),r.uniform1f(this.sliceMMShader.uniforms.drawOpacity,this.drawOpacity),this.sliceV1Shader=new At(r,ju,I7),this.sliceV1Shader.use(r),r.uniform1i(this.sliceV1Shader.uniforms.volume,0),r.uniform1i(this.sliceV1Shader.uniforms.colormap,1),r.uniform1i(this.sliceV1Shader.uniforms.overlay,2),r.uniform1i(this.sliceV1Shader.uniforms.drawing,7),r.uniform1f(this.sliceV1Shader.uniforms.drawOpacity,this.drawOpacity),this.orientCubeShader=new At(r,c8,h8),this.orientCubeShaderVAO=r.createVertexArray(),r.bindVertexArray(this.orientCubeShaderVAO);const s=r.createBuffer();r.enableVertexAttribArray(0),r.enableVertexAttribArray(1),r.bindBuffer(r.ARRAY_BUFFER,s),r.bufferData(r.ARRAY_BUFFER,v8,r.STATIC_DRAW),r.vertexAttribPointer(0,3,r.FLOAT,!1,24,0),r.enableVertexAttribArray(1),r.vertexAttribPointer(1,3,r.FLOAT,!1,24,12),r.bindVertexArray(this.unusedVAO),this.rectShader=new At(r,Xu,kl),this.rectShader.use(r),this.rectOutlineShader=new At(r,Xu,E7),this.rectOutlineShader.use(r),this.lineShader=new At(r,N7,kl),this.lineShader.use(r),this.line3DShader=new At(r,R7,kl),this.line3DShader.use(r),this.circleShader=new At(r,L7,O7),this.circleShader.use(r),this.renderVolumeShader=new At(r,Ys,C7),this.initRenderShader(this.renderVolumeShader),this.renderSliceShader=new At(r,Ys,M7),this.initRenderShader(this.renderSliceShader),this.renderGradientShader=new At(r,Ys,T7),this.initRenderShader(this.renderGradientShader,.3),r.uniform1i(this.renderGradientShader.uniforms.matCap,5),r.uniform1i(this.renderGradientShader.uniforms.gradient,6),this.renderGradientValuesShader=new At(r,Ys,D7),this.initRenderShader(this.renderGradientValuesShader),r.uniform1i(this.renderGradientValuesShader.uniforms.matCap,5),r.uniform1i(this.renderGradientValuesShader.uniforms.gradient,6),this.renderShader=this.renderVolumeShader,this.colorbarShader=new At(r,F7,B7),this.colorbarShader.use(r),r.uniform1i(this.colorbarShader.uniforms.colormap,1),this.blurShader=new At(r,aa,m8),this.sobelBlurShader=new At(r,aa,f8),this.sobelFirstOrderShader=new At(r,aa,p8),this.sobelSecondOrderShader=new At(r,aa,g8),this.growCutShader=new At(r,H7,Y7),this.passThroughShader=new At(r,u8,d8),this.orientShaderAtlasU=new At(r,ps,Il.concat(Zu)),this.orientShaderAtlasI=new At(r,ps,Qu.concat(Zu)),this.orientShaderU=new At(r,ps,Il.concat(El)),this.orientShaderI=new At(r,ps,Qu.concat(El)),this.orientShaderF=new At(r,ps,q7.concat(El)),this.orientShaderRGBU=new At(r,ps,Il.concat(G7)),this.surfaceShader=new At(r,K7,W7),this.surfaceShader.use(r),this.fiberShader=new At(r,j7,X7),this.pickingImageShader.use(r);for(let n=0;n<this.meshShaders.length;n++){const a=this.meshShaders[n];a.Name==="Flat"?a.shader=new At(r,o8,Ju):a.shader=new At(r,Fl,a.Frag),a.shader.use(r),a.shader.isMatcap=a.Name==="Matcap",a.shader.isMatcap&&r.uniform1i(a.shader.uniforms.matCap,5)}return this.bmpShader=new At(r,V7,U7),await this.initText(),this.opts.thumbnail.length>0&&(await this.loadBmpTexture(this.opts.thumbnail),this.thumbnailVisible=!0),this.updateGLVolume(),this.initialized=!0,this.resizeListener(),this.drawScene(),this}gradientGL(i){const e=this.gl,t=[0,0,0,0,1,0,1,0,0,1,1,0],r=e.createVertexArray();e.bindVertexArray(r);const s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),e.enableVertexAttribArray(0),e.vertexAttribPointer(0,3,e.FLOAT,!1,0,0);const n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n),e.disable(e.CULL_FACE),e.viewport(0,0,i.dims[1],i.dims[2]),e.disable(e.BLEND);const a=this.rgbaTex(null,h2,i.dims,!0),l=this.opts.gradientOrder===2?this.sobelBlurShader:this.blurShader;l.use(e),e.activeTexture(ha),e.bindTexture(e.TEXTURE_3D,this.volumeTexture);const o=.7;e.uniform1i(l.uniforms.intensityVol,0),e.uniform1f(l.uniforms.dX,o/i.dims[1]),e.uniform1f(l.uniforms.dY,o/i.dims[2]),e.uniform1f(l.uniforms.dZ,o/i.dims[3]),e.bindVertexArray(r);for(let f=0;f<i.dims[3]-1;f++){const p=1/i.dims[3]*(f+.5);e.uniform1f(l.uniforms.coordZ,p),e.framebufferTextureLayer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,a,0,f);const g=e.checkFramebufferStatus(e.FRAMEBUFFER);g!==e.FRAMEBUFFER_COMPLETE&&Z.error("framebuffer status: ",g),e.clear(e.DEPTH_BUFFER_BIT),e.drawArrays(e.TRIANGLE_STRIP,0,t.length/3)}const h=this.opts.gradientOrder===2?this.sobelSecondOrderShader:this.sobelFirstOrderShader;h.use(e),e.activeTexture(h2),e.bindTexture(e.TEXTURE_3D,a),e.uniform1i(h.uniforms.intensityVol,8);const d=.7;e.uniform1f(h.uniforms.dX,d/i.dims[1]),e.uniform1f(h.uniforms.dY,d/i.dims[2]),e.uniform1f(h.uniforms.dZ,d/i.dims[3]),this.opts.gradientOrder===2&&(e.uniform1f(h.uniforms.dX2,2*d/i.dims[1]),e.uniform1f(h.uniforms.dY2,2*d/i.dims[2]),e.uniform1f(h.uniforms.dZ2,2*d/i.dims[3])),e.uniform1f(h.uniforms.coordZ,.5),e.bindVertexArray(r),this.gradientTexture!==null&&e.deleteTexture(this.gradientTexture),this.gradientTexture=this.rgbaTex(this.gradientTexture,c2,i.dims);for(let f=0;f<i.dims[3]-1;f++){const p=1/i.dims[3]*(f+.5);e.uniform1f(h.uniforms.coordZ,p),e.framebufferTextureLayer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,this.gradientTexture,0,f);const g=e.checkFramebufferStatus(e.FRAMEBUFFER);g!==e.FRAMEBUFFER_COMPLETE&&Z.error("framebuffer status: ",g),e.clear(e.DEPTH_BUFFER_BIT),e.drawArrays(e.TRIANGLE_STRIP,0,t.length/3)}e.deleteFramebuffer(n),e.deleteTexture(a),e.deleteBuffer(s),e.bindFramebuffer(e.FRAMEBUFFER,null)}updateGLVolume(){var t;let i=0;const e=this.volumes.length;this.refreshColormaps();for(let r=0;r<e;r++)this.volumes[r].toRAS&&(this.refreshLayers(this.volumes[r],i),i++);if(this.furthestVertexFromOrigin=0,e>0&&(this.furthestVertexFromOrigin=((t=this.volumeObject3D)==null?void 0:t.furthestVertexFromOrigin)??0),this.meshes)for(let r=0;r<this.meshes.length;r++)this.furthestVertexFromOrigin=Math.max(this.furthestVertexFromOrigin,this.meshes[r].furthestVertexFromOrigin);this.onVolumeUpdated&&this.onVolumeUpdated(),this.drawScene()}getDescriptives(i){const{layer:e=0,masks:t=[],drawingIsMask:r=!1,roiIsMask:s=!1,startVox:n=[0,0,0],endVox:a=[0,0,0]}=i;let l=null;const o=this.volumes[e].hdr,h=this.volumes[e].pixDimsRAS;let d=o.scl_slope;isNaN(d)&&(d=1);let f=o.scl_inter;isNaN(f)&&(f=1);const p=this.volumes[e].img,g=p.length,A=new Float32Array(g);for(let U=0;U<g;U++)A[U]=p[U]*d+f;const x=new Uint8Array(g);for(let U=0;U<g;U++)x[U]=1;if(t.length>0)for(let U=0;U<t.length;U++){const j=this.volumes[t[U]].img;if(j.length!==g){Z.debug("Mask resolution does not match image. Skipping masking layer "+t[U]);continue}for(let X=0;X<g;X++)(j[X]===0||isNaN(j[X]))&&(x[X]=0)}else if(t.length<1&&r)for(let U=0;U<g;U++)(this.drawBitmap[U]===0||isNaN(this.drawBitmap[U]))&&(x[U]=0);else if(t.length<1&&s){x.fill(0),console.log("startVox",n),console.log("endVox",a);let U=-1;if(n[0]===a[0])U=0;else if(n[1]===a[1])U=1;else if(n[2]===a[2])U=2;else{console.error("Error: No constant dimension found.");return}const X=[0,1,2].filter(Et=>Et!==U),re=[];re[U]=n[U],re[X[0]]=(n[X[0]]+a[X[0]])/2,re[X[1]]=(n[X[1]]+a[X[1]])/2;const oe=Math.abs(a[X[0]]-n[X[0]])/2,he=Math.abs(a[X[1]]-n[X[1]])/2,Ae=o.dims[1],qe=o.dims[2],Qe=Math.max(0,Math.floor(re[X[0]]-oe)),Fe=Math.min(o.dims[X[0]+1]-1,Math.ceil(re[X[0]]+oe)),at=Math.max(0,Math.floor(re[X[1]]-he)),jt=Math.min(o.dims[X[1]+1]-1,Math.ceil(re[X[1]]+he)),ni=re[U];if(ni<0||ni>=o.dims[U+1]){console.error("Error: Constant dimension value is out of bounds.");return}for(let Et=Qe;Et<=Fe;Et++)for(let oi=at;oi<=jt;oi++){const $=[];$[U]=ni,$[X[0]]=Et,$[X[1]]=oi;const se=($[X[0]]-re[X[0]])/oe,ve=($[X[1]]-re[X[1]])/he;if(se*se+ve*ve<=1){const xe=$[0],Se=$[1],Te=$[2]*Ae*qe+Se*Ae+xe;x[Te]=1}}const qt=h[X[0]+1]*h[X[1]+1];l=x.reduce((Et,oi)=>Et+(oi===1?1:0),0)*qt;const Gt=oe*h[X[0]+1],ai=he*h[X[1]+1];l=Math.PI*Gt*ai}let y=0,b=0,T=0,D=Number.NEGATIVE_INFINITY,S=Number.POSITIVE_INFINITY,k=0,R=0,B=0;for(let U=0;U<g;U++){if(x[U]<1)continue;const j=A[U];y++;let X=b+(j-b)/y;T=T+(j-b)*(j-X),b=X,j!==0&&(k++,X=R+(j-R)/k,B=B+(j-R)*(j-X),R=X,S=Math.min(j,D),D=Math.max(j,D))}const N=Math.sqrt(T/(y-1)),L=Math.sqrt(B/(k-1)),O=S,q=D;return y!==k&&(S=Math.min(0,D),D=Math.max(0,D)),{mean:b,stdev:N,nvox:y,volumeMM3:y*o.pixDims[1]*o.pixDims[2]*o.pixDims[3],volumeML:y*o.pixDims[1]*o.pixDims[2]*o.pixDims[3]*.001,min:S,max:D,meanNot0:R,stdevNot0:L,nvoxNot0:k,minNot0:O,maxNot0:q,cal_min:this.volumes[e].cal_min,cal_max:this.volumes[e].cal_max,robust_min:this.volumes[e].robust_min,robust_max:this.volumes[e].robust_max,area:l}}refreshLayers(i,e){var R;if(this.volumes.length<1)return;this.refreshColormaps();const t=i.hdr;let r=i.img;i.frame4D>0&&i.frame4D<i.nFrame4D&&(r=i.img.slice(i.frame4D*i.nVox3D,(i.frame4D+1)*i.nVox3D));const s=i.opacity;if(e>1&&s===0)return;let n=null;if(!this.back)throw new Error("back undefined");this.gl.bindVertexArray(this.unusedVAO),this.crosshairs3D&&(this.crosshairs3D.mm[0]=NaN);let a=di(i.toRAS);if(e===0){this.volumeObject3D=Q9(i,this.VOLUME_ID,this.gl),_i(a,a),this.back.matRAS=i.matRAS,this.back.dims=i.dimsRAS,this.back.pixDims=i.pixDimsRAS,n=this.rgbaTex(this.volumeTexture,ha,i.dimsRAS);const{volScale:B,vox:N}=this.sliceScale(!0);if(this.volScale=B,this.vox=N,this.volumeObject3D.scale=B,!this.renderShader)throw new Error("renderShader undefined");this.renderShader.use(this.gl),this.gl.uniform3fv(this.renderShader.uniforms.texVox,N),this.gl.uniform3fv(this.renderShader.uniforms.volScale,B);const L=this.pickingImageShader;L.use(this.gl),this.gl.uniform1i(L.uniforms.volume,0),this.gl.uniform1i(L.uniforms.colormap,1),this.gl.uniform1i(L.uniforms.overlay,2),this.gl.uniform3fv(L.uniforms.volScale,B),Z.debug(this.volumeObject3D)}else{((R=this.back)==null?void 0:R.dims)===void 0&&Z.error("Fatal error: Unable to render overlay: background dimensions not defined!");const B=this.mm2frac(i.mm000,0,!0);let N=this.mm2frac(i.mm100,0,!0),L=this.mm2frac(i.mm010,0,!0),O=this.mm2frac(i.mm001,0,!0);N=Jt(N,N,B),L=Jt(L,L,B),O=Jt(O,O,B),a=hr(N[0],L[0],O[0],B[0],N[1],L[1],O[1],B[1],N[2],L[2],O[2],B[2],0,0,0,1),_i(a,a),e===1?(n=this.rgbaTex(this.overlayTexture,Ul,this.back.dims),this.overlayTexture=n,this.overlayTextureID=n):n=this.overlayTextureID}const l=this.gl.createFramebuffer();this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,l),this.gl.disable(this.gl.CULL_FACE),this.gl.viewport(0,0,this.back.dims[1],this.back.dims[2]),this.gl.disable(this.gl.BLEND);const o=this.gl.createTexture();this.gl.activeTexture(nv),this.gl.bindTexture(this.gl.TEXTURE_3D,o),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1);let h=this.orientShaderU;if(!t)throw new Error("hdr undefined");if(!r)throw new Error("img undefined");if(t.datatypeCode===2)t.intent_code===1002&&(h=this.orientShaderAtlasU),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R8UI,t.dims[1],t.dims[2],t.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,t.dims[1],t.dims[2],t.dims[3],this.gl.RED_INTEGER,this.gl.UNSIGNED_BYTE,r);else if(t.datatypeCode===4)h=this.orientShaderI,t.intent_code===1002&&(h=this.orientShaderAtlasI),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R16I,t.dims[1],t.dims[2],t.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,t.dims[1],t.dims[2],t.dims[3],this.gl.RED_INTEGER,this.gl.SHORT,r);else if(t.datatypeCode===16)this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R32F,t.dims[1],t.dims[2],t.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,t.dims[1],t.dims[2],t.dims[3],this.gl.RED,this.gl.FLOAT,r),h=this.orientShaderF;else if(t.datatypeCode===64){let B=new Float32Array;B=Float32Array.from(r),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R32F,t.dims[1],t.dims[2],t.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,t.dims[1],t.dims[2],t.dims[3],this.gl.RED,this.gl.FLOAT,B),h=this.orientShaderF}else t.datatypeCode===128?(h=this.orientShaderRGBU,h.use(this.gl),this.gl.uniform1i(h.uniforms.hasAlpha,0),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.RGB8UI,t.dims[1],t.dims[2],t.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,t.dims[1],t.dims[2],t.dims[3],this.gl.RGB_INTEGER,this.gl.UNSIGNED_BYTE,r)):t.datatypeCode===512?(t.intent_code===1002&&(h=this.orientShaderAtlasU),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.R16UI,t.dims[1],t.dims[2],t.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,t.dims[1],t.dims[2],t.dims[3],this.gl.RED_INTEGER,this.gl.UNSIGNED_SHORT,r)):t.datatypeCode===2304&&(h=this.orientShaderRGBU,h.use(this.gl),this.gl.uniform1i(h.uniforms.hasAlpha,1),this.gl.texStorage3D(this.gl.TEXTURE_3D,1,this.gl.RGBA8UI,t.dims[1],t.dims[2],t.dims[3]),this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,t.dims[1],t.dims[2],t.dims[3],this.gl.RGBA_INTEGER,this.gl.UNSIGNED_BYTE,r));i.global_min===void 0&&i.calMinMax();let d=null;if(this.gl.bindVertexArray(this.genericVAO),e>1){if(!this.back.dims)throw new Error("back.dims undefined");d=this.rgbaTex(d,u2,this.back.dims),this.gl.bindTexture(this.gl.TEXTURE_3D,d);const B=this.passThroughShader;B.use(this.gl),this.gl.uniform1i(B.uniforms.in3D,2);for(let N=0;N<this.back.dims[3];N++){const L=1/this.back.dims[3]*(N+.5);this.gl.uniform1f(B.uniforms.coordZ,L),this.gl.framebufferTextureLayer(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,d,0,N),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}}else d=this.rgbaTex(d,u2,[2,2,2,2]);h.use(this.gl),this.gl.activeTexture(ua);let f=null;if(i.colormapLabel!==null&&i.colormapLabel.lut.length>7){const B=i.colormapLabel.max-i.colormapLabel.min+1;f=this.createColormapTexture(f,1,B),this.gl.texSubImage2D(this.gl.TEXTURE_2D,0,0,0,B,1,this.gl.RGBA,this.gl.UNSIGNED_BYTE,i.colormapLabel.lut),this.gl.uniform1f(h.uniforms.cal_min,i.colormapLabel.min-.5),this.gl.uniform1f(h.uniforms.cal_max,i.colormapLabel.max+.5),this.gl.bindTexture(this.gl.TEXTURE_2D,f)}else this.gl.bindTexture(this.gl.TEXTURE_2D,this.colormapTexture),this.gl.uniform1f(h.uniforms.cal_min,i.cal_min),this.gl.uniform1f(h.uniforms.cal_max,i.cal_max);"alphaThreshold"in i&&(Z.warn("alphaThreshold is deprecated: use colormapType"),i.alphaThreshold===!0&&(i.colormapType=2),i.alphaThreshold===!1&&(i.colormapType=1),delete i.alphaThreshold);const p=i.colormapType!==0?1:0,g=i.colormapType===2?1:0;this.gl.uniform1i(h.uniforms.isAlphaThreshold,g),this.gl.uniform1i(h.uniforms.isColorbarFromZero,p),this.gl.uniform1i(h.uniforms.isAdditiveBlend,this.opts.isAdditiveBlend?1:0);let A=Number.POSITIVE_INFINITY,x=Number.NEGATIVE_INFINITY;if(i.colormapNegative.length>0&&(A=Math.min(-i.cal_min,-i.cal_max),x=Math.max(-i.cal_min,-i.cal_max),isFinite(i.cal_minNeg)&&isFinite(i.cal_maxNeg)&&(A=Math.min(i.cal_minNeg,i.cal_maxNeg),x=Math.max(i.cal_minNeg,i.cal_maxNeg))),e>0&&this.overlayOutlineWidth>0){const B=i.cal_min,N=i.cal_max;let L=Math.min(B,N)<=0&&Math.max(B,N)>=0;!L&&A<x&&(L=A<=0&&x>=0),L&&Z.error("issue1139: do not use overlayOutlineWidth when thresholds cross or touch zero")}if(!h)throw new Error("orientShader undefined");this.gl.uniform1f(h.uniforms.layer??null,e),this.gl.uniform1f(h.uniforms.cal_minNeg??null,A),this.gl.uniform1f(h.uniforms.cal_maxNeg??null,x),this.gl.bindTexture(this.gl.TEXTURE_3D,o),this.gl.uniform1i(h.uniforms.intensityVol??null,9),this.gl.uniform1i(h.uniforms.blend3D??null,10),this.gl.uniform1i(h.uniforms.colormap??null,1),this.gl.uniform1f(h.uniforms.scl_inter??null,t.scl_inter),this.gl.uniform1f(h.uniforms.scl_slope??null,t.scl_slope),this.gl.uniform1f(h.uniforms.opacity??null,s),this.gl.uniform1i(h.uniforms.modulationVol??null,7);let y=null;if(i.modulationImage!==null&&i.modulationImage>=0&&i.modulationImage<this.volumes.length){Z.debug("modulating",this.volumes);const B=this.volumes[i.modulationImage].hdr;if(B.dims[1]===t.dims[1]&&B.dims[2]===t.dims[2]&&B.dims[3]===t.dims[3]){i.modulateAlpha?(this.gl.uniform1i(h.uniforms.modulation,2),this.gl.uniform1f(h.uniforms.opacity,1)):this.gl.uniform1i(h.uniforms.modulation,1),y=this.r8Tex(y,this.gl.TEXTURE7,t.dims,!0),this.gl.activeTexture(this.gl.TEXTURE7),this.gl.bindTexture(this.gl.TEXTURE_3D,y);const N=t.dims[1]*t.dims[2]*t.dims[3],L=new Uint8Array(N),O=this.volumes[i.modulationImage].cal_min,q=1/(this.volumes[i.modulationImage].cal_max-O),U=this.volumes[i.modulationImage].img.buffer;let j=new Uint8Array(U);switch(B.datatypeCode){case 4:j=new Int16Array(U);break;case 16:j=new Float32Array(U);break;case 64:j=new Float64Array(U);break;case 128:j=new Uint8Array(U);break;case 512:j=new Uint16Array(U);break}Z.debug(this.volumes[i.modulationImage]);const X=this.volumes[i.modulationImage].colormapNegative.length>0;let re=this.volumes[i.modulationImage].cal_min,oe=this.volumes[i.modulationImage].cal_max;isFinite(this.volumes[i.modulationImage].cal_minNeg)&&isFinite(this.volumes[i.modulationImage].cal_maxNeg)&&(re=this.volumes[i.modulationImage].cal_minNeg,oe=this.volumes[i.modulationImage].cal_minNeg),re=Math.abs(re),oe=Math.abs(oe),re>oe&&([re,oe]=[oe,re]);const he=1/(oe-re);let Ae=Math.abs(i.modulateAlpha);Ae=Math.max(Ae,1);const qe=this.volumes[i.modulationImage].frame4D*N;for(let Qe=0;Qe<N;Qe++){const Fe=j[Qe+qe]*B.scl_slope+B.scl_inter;let at=(Fe-O)*q;X&&Fe<0&&(at=(Math.abs(Fe)-re)*he),at=Math.min(Math.max(at,0),1),at=Math.pow(at,Ae)*255,L[Qe]=at}this.gl.texSubImage3D(this.gl.TEXTURE_3D,0,0,0,0,t.dims[1],t.dims[2],t.dims[3],this.gl.RED,this.gl.UNSIGNED_BYTE,L)}else Z.debug("Modulation image dimensions do not match target")}else this.gl.uniform1i(h.uniforms.modulation,0);if(this.gl.uniformMatrix4fv(h.uniforms.mtx,!1,a),!this.back.dims)throw new Error("back.dims undefined");let b=0;t.intent_code===1002&&(b=this.opts.atlasOutline),this.gl.uniform4fv(h.uniforms.xyzaFrac,[1/this.back.dims[1],1/this.back.dims[2],1/this.back.dims[3],b]),Z.debug("back dims: ",this.back.dims);for(let B=0;B<this.back.dims[3];B++){const N=1/this.back.dims[3]*(B+.5);this.gl.uniform1f(h.uniforms.coordZ,N),this.gl.framebufferTextureLayer(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,n,0,B),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}if(this.gl.bindVertexArray(this.unusedVAO),this.gl.deleteTexture(o),this.gl.deleteTexture(y),this.gl.deleteTexture(d),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.deleteFramebuffer(l),e===0&&(this.volumeTexture=n,this.gradientTextureAmount>0?this.gradientGL(t):(this.gradientTexture!==null&&this.gl.deleteTexture(this.gradientTexture),this.gradientTexture=null)),!this.renderShader)throw new Error("renderShader undefined");this.renderShader.use(this.gl);const T=this.sliceScale(!0),D=T.vox,S=T.volScale;if(this.gl.uniform1f(this.renderShader.uniforms.overlays,this.overlays),this.gl.uniform4fv(this.renderShader.uniforms.clipPlaneColor,this.opts.clipPlaneColor),this.gl.uniform1f(this.renderShader.uniforms.clipThick,this.opts.clipThick),this.gl.uniform3fv(this.renderShader.uniforms.clipLo,this.opts.clipVolumeLow),this.gl.uniform3fv(this.renderShader.uniforms.clipHi,this.opts.clipVolumeHigh),this.gl.uniform1f(this.renderShader.uniforms.backOpacity,this.volumes[0].opacity),this.gl.uniform1f(this.renderShader.uniforms.renderOverlayBlend,this.opts.renderOverlayBlend),this.gl.uniform4fv(this.renderShader.uniforms.clipPlane,this.scene.clipPlane),this.gl.uniform3fv(this.renderShader.uniforms.texVox,D),this.gl.uniform3fv(this.renderShader.uniforms.volScale,S),!this.pickingImageShader)throw new Error("pickingImageShader undefined");this.pickingImageShader.use(this.gl),this.gl.uniform1f(this.pickingImageShader.uniforms.overlays,this.overlays.length),this.gl.uniform3fv(this.pickingImageShader.uniforms.texVox,D),this.gl.uniform3fv(this.pickingImageShader.uniforms.clipLo,this.opts.clipVolumeLow),this.gl.uniform3fv(this.pickingImageShader.uniforms.clipHi,this.opts.clipVolumeHigh);let k=this.sliceMMShader;if(this.opts.isV1SliceShader&&(k=this.sliceV1Shader),!k)throw new Error("slice shader undefined");k.use(this.gl),this.gl.uniform1f(k.uniforms.overlays,this.overlays.length),this.gl.uniform1f(k.uniforms.drawOpacity,this.drawOpacity),f!==null&&(this.gl.deleteTexture(f),this.gl.activeTexture(ua),this.gl.bindTexture(this.gl.TEXTURE_2D,this.colormapTexture)),this.gl.uniform1i(k.uniforms.drawing,7),this.gl.activeTexture(gs),this.gl.bindTexture(this.gl.TEXTURE_3D,this.drawTexture),this.updateInterpolation(e)}colormaps(){return Nt.colormaps()}addColormap(i,e){Nt.addColormap(i,e)}setColormap(i,e){const t=this.getVolumeIndexByID(i);this.volumes[t].colormap=e,this.updateGLVolume()}idx(i,e,t,r){return t*r[0]*r[1]+e*r[0]+i}check_previous_slice(i,e,t,r,s,n,a,l){const o=new Uint32Array(27);let h=0;if(!s)return 0;const d=i[this.idx(t,r,s,n)];if(a>=6){const f=this.idx(t,r,s-1,n);d===i[f]&&(o[h++]=e[f])}if(a>=18){if(t){const f=this.idx(t-1,r,s-1,n);d===i[f]&&(o[h++]=e[f])}if(r){const f=this.idx(t,r-1,s-1,n);d===i[f]&&(o[h++]=e[f])}if(t<n[0]-1){const f=this.idx(t+1,r,s-1,n);d===i[f]&&(o[h++]=e[f])}if(r<n[1]-1){const f=this.idx(t,r+1,s-1,n);d===i[f]&&(o[h++]=e[f])}}if(a===26){if(t&&r){const f=this.idx(t-1,r-1,s-1,n);d===i[f]&&(o[h++]=e[f])}if(t<n[0]-1&&r){const f=this.idx(t+1,r-1,s-1,n);d===i[f]&&(o[h++]=e[f])}if(t&&r<n[1]-1){const f=this.idx(t-1,r+1,s-1,n);d===i[f]&&(o[h++]=e[f])}if(t<n[0]-1&&r<n[1]-1){const f=this.idx(t+1,r+1,s-1,n);d===i[f]&&(o[h++]=e[f])}}return h?(this.fill_tratab(l,o,h),o[0]):0}do_initial_labelling(i,e,t){let r=1;const s=8192;let n=s,a=new Uint32Array(n).fill(0);const l=new Uint32Array(e[0]*e[1]*e[2]).fill(0),o=new Uint32Array(27);for(let h=0;h<e[2];h++)for(let d=0;d<e[1];d++)for(let f=0;f<e[0];f++){let p=0;const g=i[this.idx(f,d,h,e)];if(g!==0){if(o[0]=this.check_previous_slice(i,l,f,d,h,e,t,a),o[0]&&(p+=1),t>=6){if(f){const A=this.idx(f-1,d,h,e);g===i[A]&&(o[p++]=l[A])}if(d){const A=this.idx(f,d-1,h,e);g===i[A]&&(o[p++]=l[A])}}if(t>=18){if(d&&f){const A=this.idx(f-1,d-1,h,e);g===i[A]&&(o[p++]=l[A])}if(d&&f<e[0]-1){const A=this.idx(f+1,d-1,h,e);g===i[A]&&(o[p++]=l[A])}}if(p)l[this.idx(f,d,h,e)]=o[0],this.fill_tratab(a,o,p);else{if(l[this.idx(f,d,h,e)]=r,r>=n){n+=s;const A=new Uint32Array(n);A.set(a),a=A}a[r-1]=r,r++}}}for(let h=0;h<r-1;h++){let d=h;for(;a[d]!==d+1;)d=a[d]-1;a[h]=d+1}return[r-1,a,l]}fill_tratab(i,e,t){let r=0;const s=new Uint32Array(t+5).fill(0);let a=2147483647;for(let l=0;l<t;l++){let o=e[l];for(r=0;i[o-1]!==o;)if(o=i[o-1],r++,r>100){Z.info(`
Ooh no!!`);break}s[l]=o,a=Math.min(a,o)}for(let l=0;l<t;l++)i[s[l]-1]=a}translate_labels(i,e,t,r){const s=e[0]*e[1]*e[2];let n=0;const a=new Uint32Array(s).fill(0);for(let h=0;h<r;h++)n=Math.max(n,t[h]);const l=new Uint32Array(n).fill(0);let o=0;for(let h=0;h<s;h++)i[h]&&(l[t[i[h]-1]-1]||(o+=1,l[t[i[h]-1]-1]=o),a[h]=l[t[i[h]-1]-1]);return[o,a]}largest_original_cluster_labels(i,e,t){const r=i.length,s=new Uint32Array(e+1).fill(0),n=new Uint32Array(e+1).fill(0);for(let o=0;o<r;o++){const h=i[o],d=t[o];s[d]=h,n[d]++}let a=0;for(let o=0;o<e+1;o++){const h=s[o];a=Math.max(a,h);for(let d=0;d<e+1;d++)d!==o&&h===s[d]&&(n[o]<n[d]||n[o]===n[d]&&o<d)&&(s[o]=0)}const l=new Uint32Array(r).fill(0);for(let o=0;o<r;o++)l[o]=s[t[o]];return[a,l]}bwlabel(i,e,t=26,r=!1,s=!1){const n=Date.now(),a=e[0]*e[1]*e[2],l=new Uint32Array(a).fill(0);if(![6,18,26].includes(t))return Z.info("bwlabel: conn must be 6, 18 or 26."),[0,l];if(e[0]<2||e[1]<2||e[2]<1)return Z.info("bwlabel: img must be 2 or 3-dimensional"),[0,l];if(r)for(let g=0;g<a;g++)i[g]!==0&&(l[g]=1);else l.set(i);let[o,h,d]=this.do_initial_labelling(l,e,t);h===void 0&&(h=new Uint32Array);const[f,p]=this.translate_labels(d,e,h,o);if(Z.info(t+" neighbor clustering into "+f+" regions in "+(Date.now()-n)+"ms"),s){const[g,A]=this.largest_original_cluster_labels(l,f,p);return[g,A]}return[f,p]}async createConnectedLabelImage(i,e=26,t=!1,r=!1){var d,f;const s=this.getVolumeIndexByID(i),n=Uint32Array.from(((d=this.volumes[s].dims)==null?void 0:d.slice(1,4))??[]),a=Uint32Array.from(((f=this.volumes[s].img)==null?void 0:f.slice())??[]),[l,o]=this.bwlabel(a,n,e,t,r),h=this.volumes[s].clone();h.opacity=.5,h.colormap="random";for(let p=0;p<h.img.length;p++)h.img[p]=o[p];return h.cal_min=0,h.cal_max=l,h}async scalecropUint8(i,e=0,t=255,r,s){const n=i.length,a=new Uint8Array(n);for(let l=0;l<n;l++){let o=i[l];o=e+s*(o-r),o=Math.max(o,e),o=Math.min(o,t),a[l]=o}return a}async scalecropFloat32(i,e=0,t=1,r,s){const n=i.length,a=new Float32Array(n);for(let l=0;l<n;l++){let o=i[l];o=e+s*(o-r),o=Math.max(o,e),o=Math.min(o,t),a[l]=o}return a}getScale(i,e=0,t=255,r=0,s=.999){let n=i.global_min,a=i.global_max;if(i.hdr.datatypeCode===2)return[n,1];if((!isFinite(r)||!isFinite(s))&&isFinite(i.cal_min)&&isFinite(i.cal_max)&&i.cal_max>i.cal_min){n=i.cal_min,a=i.cal_max;const T=(t-e)/(a-n);return Z.info(" Robust Rescale:  min: "+n+"  max: "+a+" scale: "+T),console.log("Robust Rescale:  min: "+n+"  max: "+a+" scale: "+T),[n,T]}const l=i.img,o=i.hdr.dims[1]*i.hdr.dims[2]*i.hdr.dims[3];if(i.hdr.scl_slope!==1||i.hdr.scl_inter!==0){const T=i.img,D=new Float32Array(i.img.length);for(let S=0;S<o;S++)D[S]=T[S]*i.hdr.scl_slope+i.hdr.scl_inter}if(n<0&&Z.warn("WARNING: Input image has value(s) below 0.0 !"),Z.info(" Input:    min: "+n+"  max: "+a),r===0&&s===1)return[n,1];let h=0;for(let T=0;T<o;T++)Math.abs(l[T])>=1e-15&&h++;const d=1e3,f=(a-n)/d,p=new Array(d).fill(0);for(let T=0;T<o;T++){const D=l[T];let S=Math.floor((D-n)/f);S=Math.min(S,d-1),p[S]++}const g=new Array(d).fill(0);g[0]=p[0];for(let T=1;T<d;T++)g[T]=g[T-1]+p[T];let A=Math.floor(r*o),x=0;for(;x<d&&!(g[x]>=A);)x++;const y=n;for(n=x*f+y,A=o-Math.floor((1-s)*h),x=0;x<d-1&&!(g[x+1]>=A);)x++;a=x*f+y;let b=1;return n!==a&&(b=(t-e)/(a-n)),Z.info(" Rescale:  min: "+n+"  max: "+a+" scale: "+b),[n,b]}conformVox2Vox(i,e,t=256,r=1,s=!1){const n=e.flat(),a=hr(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15]),l=Kt(i[1]/2,i[2]/2,i[3]/2,1),o=Wr(),h=pt();lr(h,a),Ti(o,l,h);const d=Ue(o[0],o[1],o[2]),f=Ue(r,r,r);let p=hr(-1,0,0,0,0,0,1,0,0,-1,0,0,0,0,0,1);s&&(p=hr(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)),lr(p,p);const g=Kt(t,t,t,1),A=pt();zu(A,p,f);const x=Kt(g[0],g[1],g[2],1);Ti(x,x,A),zg(x,x,.5);const y=Yt();Jt(y,d,Ue(x[0],x[1],x[2]));const b=pt();lr(b,A),b[3]=y[0],b[7]=y[1],b[11]=y[2];const T=pt();_i(T,b);const D=pt();x4(D,a,T);const S=pt();return _i(S,D),[b,D,S]}async createNiftiArray(i=[256,256,256],e=[1,1,1],t=[1,0,0,-128,0,1,0,-128,0,0,1,-128,0,0,0,1],r=2,s=new Uint8Array){return await Vi.createNiftiArray(i,e,t,r,s)}async niftiArray2NVImage(i=new Uint8Array){return await Vi.loadFromUrl({url:i})}async loadFromUrl(i){return await Vi.loadFromUrl({url:i})}async conform(i,e=!1,t=!0,r=!1,s=!1){const l=this.conformVox2Vox(i.hdr.dims,i.hdr.affine.flat(),256,1,e),o=l[0],h=l[2],d=256*256*256,f=new Float32Array(d),p=new Float32Array(i.img),g=i.hdr.dims[1]*i.hdr.dims[2]*i.hdr.dims[3];if(i.hdr.scl_slope!==1||i.hdr.scl_inter!==0)for(let O=0;O<g;O++)p[O]=p[O]*i.hdr.scl_slope+i.hdr.scl_inter;const A=i.hdr.dims[1],x=i.hdr.dims[2],y=i.hdr.dims[3],b=A*x;let T=-1;function D(O,q,U){return O+q*A+U*b}const S=h[0],k=h[4],R=h[8];if(t)for(let O=0;O<256;O++)for(let q=0;q<256;q++){const U=q*h[1]+O*h[2]+h[3],j=q*h[5]+O*h[6]+h[7],X=q*h[9]+O*h[10]+h[11];for(let re=0;re<256;re++){const oe=re*S+U,he=re*k+j,Ae=re*R+X,qe=Math.floor(oe),Qe=Math.floor(he),Fe=Math.floor(Ae);if(T++,qe<0||Qe<0||Fe<0)continue;const at=Math.ceil(oe),jt=Math.ceil(he),ni=Math.ceil(Ae);if(at>=A||jt>=x||ni>=y)continue;const qt=oe-qe,Vt=he-Qe,Gt=Ae-Fe,ai=1-qt,yi=1-Vt,Et=1-Gt,oi=D(qe,Qe,Fe);let $=0;$+=p[oi]*ai*yi*Et,$+=p[oi+b]*ai*yi*Gt,$+=p[oi+A]*ai*Vt*Et,$+=p[oi+A+b]*ai*Vt*Gt,$+=p[oi+1]*qt*yi*Et,$+=p[oi+1+b]*qt*yi*Gt,$+=p[oi+1+A]*qt*Vt*Et,$+=p[oi+1+A+b]*qt*Vt*Gt,f[T]=$}}else for(let O=0;O<256;O++)for(let q=0;q<256;q++){const U=q*h[1]+O*h[2]+h[3],j=q*h[5]+O*h[6]+h[7],X=q*h[9]+O*h[10]+h[11];for(let re=0;re<256;re++){const oe=Math.round(re*S+U),he=Math.round(re*k+j),Ae=Math.round(re*R+X);T++,!(oe<0||he<0||Ae<0)&&(oe>=A||he>=x||Ae>=y||(f[T]=p[D(oe,he,Ae)]))}}let B=0;s&&(B=NaN);let N=new Uint8Array;if(r){const O=await this.getScale(i,0,1,B),q=await this.scalecropFloat32(f,0,1,O[0],O[1]);N=await this.createNiftiArray([256,256,256],[1,1,1],Array.from(o),16,new Uint8Array(q.buffer))}else{const O=await this.getScale(i,0,255,B),q=await this.scalecropUint8(f,0,255,O[0],O[1]);N=await this.createNiftiArray([256,256,256],[1,1,1],Array.from(o),2,q)}return await this.niftiArray2NVImage(N)}setRenderDrawAmbientOcclusion(i){if(!this.renderShader)throw new Error("renderShader undefined");this.renderDrawAmbientOcclusion=i,this.renderShader.use(this.gl),this.gl.uniform1fv(this.renderShader.uniforms.renderDrawAmbientOcclusion,[this.renderDrawAmbientOcclusion,1]),this.drawScene()}setColorMap(i,e){this.setColormap(i,e)}setColormapNegative(i,e){const t=this.getVolumeIndexByID(i);this.volumes[t].colormapNegative=e,this.updateGLVolume()}setModulationImage(i,e,t=0){const r=this.getVolumeIndexByID(i);let s=null;e.length>0&&(s=this.getVolumeIndexByID(e)),this.volumes[r].modulationImage=s,this.volumes[r].modulateAlpha=t,this.updateGLVolume()}setGamma(i=1){this.scene.gamma=i,Nt.gamma=i,this.updateGLVolume()}async loadDeferred4DVolumes(i){const e=this.getVolumeIndexByID(i),t=this.volumes[e];if(t.nTotalFrame4D<=t.nFrame4D)return;t.nTotalFrame4D=t.nFrame4D;let r;t.fileObject?r=await Vi.loadFromFile({file:t.fileObject}):r=await Vi.loadFromUrl({url:t.url}),r&&(t.img=r.img.slice(),t.nTotalFrame4D=r.nTotalFrame4D,t.nFrame4D=r.nFrame4D,this.updateGLVolume())}setFrame4D(i,e){const t=this.getVolumeIndexByID(i),r=this.volumes[t];e>r.nFrame4D-1&&(e=r.nFrame4D-1),e<0&&(e=0),e!==r.frame4D&&(r.frame4D=e,this.updateGLVolume(),this.onFrameChange(r,e),this.createOnLocationChange())}getFrame4D(i){const e=this.getVolumeIndexByID(i);return this.volumes[e].frame4D}colormapFromKey(i){return Nt.colormapFromKey(i)}colormap(i="",e=!1){return Nt.colormap(i,e)}createColormapTexture(i=null,e=0,t=256){return i!==null&&this.gl.deleteTexture(i),e<1||t<1?null:(i=this.gl.createTexture(),this.gl.activeTexture(ua),this.gl.bindTexture(this.gl.TEXTURE_2D,i),this.gl.texStorage2D(this.gl.TEXTURE_2D,1,this.gl.RGBA8,t,e),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_R,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),i)}addColormapList(i="",e=NaN,t=NaN,r=!1,s=!1,n=!0,a=!1){i.length<1&&(n=!1),this.colormapLists.push({name:i,min:e,max:t,isColorbarFromZero:r,negative:s,visible:n,invert:a})}refreshColormaps(){if(this.colormapLists=[],this.volumes.length<1&&this.meshes.length<1)return;const i=this.volumes.length;if(i>0)for(let n=0;n<i;n++){const a=this.volumes[n],l=Rl(a.cal_min,a.cal_max,a.cal_minNeg,a.cal_maxNeg),o=a.colormapType!==0;this.addColormapList(a.colormapNegative,l[0],l[1],o,!0,a.colorbarVisible,a.colormapInvert),this.addColormapList(a.colormap,a.cal_min,a.cal_max,o,!1,a.colorbarVisible,a.colormapInvert)}const e=this.meshes.length;if(e>0)for(let n=0;n<e;n++){const a=this.meshes[n];if(!a.colorbarVisible)continue;const l=a.layers.length;if("edgeColormap"in a&&"edges"in a&&a.edges!==void 0){const o=Rl(a.edgeMin,a.edgeMax,NaN,NaN);this.addColormapList(a.edgeColormapNegative,o[0],o[1],!1,!0,!0,a.colormapInvert),this.addColormapList(a.edgeColormap,a.edgeMin,a.edgeMax,!1,!1,!0,a.colormapInvert)}if(!(l<1))for(let o=0;o<l;o++){const h=this.meshes[n].layers[o];if(!h.colorbarVisible||h.colormap.length<1)continue;const d=h.colormapType!==0,f=Rl(h.cal_min,h.cal_max,h.cal_minNeg,h.cal_maxNeg);this.addColormapList(h.colormapNegative,f[0],f[1],d,!0,!0,h.colormapInvert),this.addColormapList(h.colormap,h.cal_min,h.cal_max,d,!1,!0,h.colormapInvert)}}const t=this.colormapLists.length;if(t<1)return;this.colormapTexture=this.createColormapTexture(this.colormapTexture,t+1);let r=new Uint8ClampedArray;function s(n){const a=new Uint8ClampedArray(r.length+n.length);a.set(r),a.set(n,r.length),r=a}for(let n=0;n<t;n++)s(Array.from(this.colormap(this.colormapLists[n].name,this.colormapLists[n].invert)));return s(Array.from(this.drawLut.lut)),this.gl.texSubImage2D(this.gl.TEXTURE_2D,0,0,0,256,t+1,this.gl.RGBA,this.gl.UNSIGNED_BYTE,r),this}sliceScale(i=!1){var n;let e=this.screenFieldOfViewMM(0);i&&(e=this.screenFieldOfViewVox(0));const t=Math.max(e[0],Math.max(e[1],e[2])),r=[e[0]/t,e[1]/t,e[2]/t];if(!((n=this.back)!=null&&n.dims))throw new Error("back.dims undefined");const s=[this.back.dims[1],this.back.dims[2],this.back.dims[3]];return{volScale:r,vox:s,longestAxis:t,dimsMM:e}}tileIndex(i,e){for(let t=0;t<this.screenSlices.length;t++){const r=this.screenSlices[t].leftTopWidthHeight;if(i>r[0]&&e>r[1]&&i<r[0]+r[2]&&e<r[1]+r[3])return t}return-1}inRenderTile(i,e){const t=this.tileIndex(i,e);return t>=0&&this.screenSlices[t].axCorSag===4?t:-1}sliceScroll3D(i=0){if(i!==0){if(this.volumes.length>0&&this.scene.clipPlaneDepthAziElev[0]<1.8){const e=this.scene.clipPlaneDepthAziElev.slice();return i>0&&(e[0]=Math.min(1.5,e[0]+.025)),i<0&&(e[0]=Math.max(-1.5,e[0]-.025)),e[0]!==this.scene.clipPlaneDepthAziElev[0]?(this.scene.clipPlaneDepthAziElev=e,this.setClipPlane(this.scene.clipPlaneDepthAziElev)):void 0}i>0&&(this.scene.volScaleMultiplier=Math.min(2,this.scene.volScaleMultiplier*1.1)),i<0&&(this.scene.volScaleMultiplier=Math.max(.5,this.scene.volScaleMultiplier*.9)),this.drawScene()}}deleteThumbnail(){this.bmpTexture&&(this.gl.deleteTexture(this.bmpTexture),this.bmpTexture=null,this.thumbnailVisible=!1)}inGraphTile(i,e){if(this.graph.opacity<=0||this.volumes.length<1||this.volumes[0].nFrame4D<1||!this.graph.plotLTWH||this.graph.plotLTWH[2]<1||this.graph.plotLTWH[3]<1)return!1;const t=[(i-this.graph.LTWH[0])/this.graph.LTWH[2],(e-this.graph.LTWH[1])/this.graph.LTWH[3]];return t[0]>0&&t[1]>0&&t[0]<=1&&t[1]<=1}updateBitmapFromClickToSegment(){if(this.clickToSegmentGrowingBitmap===null||this.drawBitmap===null||this.clickToSegmentGrowingBitmap.length!==this.drawBitmap.length)return;const i=this.drawBitmap.length;for(let e=0;e<i;e++)this.drawBitmap[e]=this.clickToSegmentGrowingBitmap[e]}sumBitmap(i){let e=0;for(let t=0;t<i.length;t++)e+=i[t];return e}doClickToSegment(i){const{tileIndex:e}=i;if(e<0||e>=this.screenSlices.length){Z.warn(`Invalid tileIndex ${e} received in doClickToSegment.`);return}const t=this.screenSlices[e].axCorSag;if(t>2){Z.warn("ClickToSegment attempted on non-2D slice tile.");return}const r=this.screenXY2TextureFrac(this.clickToSegmentXY[0],this.clickToSegmentXY[1],e,!1);if(r[0]<0){Z.debug("Click location outside valid texture fraction for the tile.");return}const s=this.frac2vox(r),n=this.opts.clickToSegmentPercent;let a=this.back.getValue(s[0],s[1],s[2]);this.opts.clickToSegmentAutoIntensity&&(n!==0&&(a===0&&(a=.01),this.opts.clickToSegmentIntensityMax=a*(1+n),this.opts.clickToSegmentIntensityMin=a*(1-n)),a>(this.back.cal_min+this.back.cal_max)*.5?this.opts.clickToSegmentBright=!0:this.opts.clickToSegmentBright=!1);const l=this.opts.clickToSegmentBright?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;this.drawPenAxCorSag=t;const o=this.clickToSegmentIsGrowing?this.clickToSegmentGrowingBitmap:this.drawBitmap;if(!o){if(Z.error("Target bitmap for flood fill is null."),this.clickToSegmentIsGrowing){if(this.drawBitmap||this.createEmptyDrawing(),!this.drawBitmap)return;this.clickToSegmentGrowingBitmap=this.drawBitmap.slice()}else if(this.createEmptyDrawing(),!this.drawBitmap)return;Z.warn("Initialized missing bitmap in doClickToSegment.")}if(this.drawFloodFill([s[0],s[1],s[2]],this.opts.penValue,l,this.opts.clickToSegmentIntensityMin,this.opts.clickToSegmentIntensityMax,this.opts.floodFillNeighbors,this.opts.clickToSegmentMaxDistanceMM,this.opts.clickToSegmentIs2D,o),!this.clickToSegmentIsGrowing&&(Z.debug("Applying clickToSegment mask to drawBitmap."),this.drawBitmap?(this.refreshDrawing(!1,!1),this.drawScene()):Z.error("Cannot refresh drawing after click-to-segment apply, drawBitmap is null."),this.drawBitmap)){const h=this.getDescriptives({layer:0,masks:[],drawingIsMask:!0});this.onClickToSegment({mL:h.volumeML,mm3:h.volumeMM3})}this.createOnLocationChange(t)}mouseClick(i,e,t=0,r=!0){if(i*=this.uiData.dpr,e*=this.uiData.dpr,this.canvas.focus(),this.thumbnailVisible){this.thumbnailVisible=!1,Promise.all([this.loadVolumes(this.deferredVolumes),this.loadMeshes(this.deferredMeshes)]).catch(s=>{throw s});return}if(this.inGraphTile(i,e)){if(!this.graph.plotLTWH)throw new Error("plotLTWH undefined");const s=[(i-this.graph.plotLTWH[0])/this.graph.plotLTWH[2],(e-this.graph.plotLTWH[1])/this.graph.plotLTWH[3]];if(s[0]>0&&s[1]>0&&s[0]<=1&&s[1]<=1){const n=Math.round(s[0]*(this.volumes[0].nFrame4D-1));this.setFrame4D(this.volumes[0].id,n);return}s[0]>.5&&s[1]>1&&this.loadDeferred4DVolumes(this.volumes[0].id).catch(n=>{throw n});return}if(this.inRenderTile(i,e)>=0){this.sliceScroll3D(t),this.drawScene();return}if(!(this.screenSlices.length<1||this.gl.canvas.height<1||this.gl.canvas.width<1))for(let s=0;s<this.screenSlices.length;s++){const n=this.screenSlices[s].axCorSag;if(this.drawPenAxCorSag>=0&&this.drawPenAxCorSag!==n||n>2&&!this.opts.clickToSegment&&t===0)continue;const a=this.screenXY2TextureFrac(i,e,s,!0);if(!(a[0]<0)){if(t!==0||!r){if(!r){n<=2&&(this.scene.crosshairPos[2-n]=t,this.drawScene(),this.createOnLocationChange(n));return}const l=t<0?-1:1,o=[0,0,0];n<=2&&(o[2-n]=l,this.moveCrosshairInVox(o[0],o[1],o[2]));return}if(this.opts.isForceMouseClickToVoxelCenters?this.scene.crosshairPos=sn(this.vox2frac(this.frac2vox(a))):this.scene.crosshairPos=sn(a),this.opts.drawingEnabled){const l=this.frac2vox(this.scene.crosshairPos);if(!isFinite(this.opts.penValue)||this.opts.penValue<0||Object.is(this.opts.penValue,-0)){let o=0,h=Math.abs(this.opts.penValue);const d=!0;Object.is(this.opts.penValue,-0)?(o=0,h=0,Z.debug("Erase Cluster selected")):(o=this.opts.penValue,Z.debug("Intensity Grow selected",o)),this.drawFloodFill(l,h,o,NaN,NaN,this.opts.floodFillNeighbors,Number.POSITIVE_INFINITY,!1,this.drawBitmap,d),this.drawScene(),this.createOnLocationChange(n);return}else if(this.opts.clickToSegment){n<=2&&(this.clickToSegmentIsGrowing=!1,this.doClickToSegment({x:this.clickToSegmentXY[0],y:this.clickToSegmentXY[1],tileIndex:s})),this.createOnLocationChange(n);return}else{if(isNaN(this.drawPenLocation[0]))this.drawPenAxCorSag=n,this.drawPenFillPts=[],this.drawPt(...l,this.opts.penValue);else{if(l[0]===this.drawPenLocation[0]&&l[1]===this.drawPenLocation[1]&&l[2]===this.drawPenLocation[2]){this.drawScene(),this.createOnLocationChange(n);return}this.drawPenLine(l,this.drawPenLocation,this.opts.penValue)}this.drawPenLocation=l,this.opts.isFilledPen&&this.drawPenFillPts.push(l),this.refreshDrawing(!1,!1)}}this.drawScene(),this.createOnLocationChange(n);return}}}drawRuler(){let i=[],e=[];for(let d=0;d<this.screenSlices.length;d++)if(this.screenSlices[d].axCorSag!==4&&this.screenSlices[d].fovMM.length>1){e=this.screenSlices[d].leftTopWidthHeight,i=this.screenSlices[d].fovMM;break}if(e.length<4)return;const r=100/i[0]*e[2],s=Math.max(Math.round(r*.1),2),n=Math.floor(e[0]+.5*e[2]-.5*r),a=Number(this.opts.rulerWidth),l=Math.floor(e[1]+e[3]-s)+.5*a,o=[n,l,n+r,l];let h=[0,0,0,1];this.opts.rulerColor[0]+this.opts.rulerColor[1]+this.opts.rulerColor[2]<.8&&(h=[1,1,1,1]),this.drawRuler10cm(o,h,a+1),this.drawRuler10cm(o,this.opts.rulerColor,a)}drawRuler10cm(i,e,t=1){if(!this.lineShader)throw new Error("lineShader undefined");this.gl.bindVertexArray(this.genericVAO),this.lineShader.use(this.gl),this.gl.uniform4fv(this.lineShader.uniforms.lineColor,e),this.gl.uniform2fv(this.lineShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform1f(this.lineShader.uniforms.thickness,t),this.gl.uniform4fv(this.lineShader.uniforms.startXYendXY,i),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4);const r=-.1*(i[0]-i[2]),s=i[1]-Math.floor(.5*this.opts.rulerWidth),n=Math.floor(s-.35*r),a=Math.floor(s-.7*r);for(let l=0;l<11;l++){let o=i[0]+l*r;o=Math.max(o,i[0]+.5*t),o=Math.min(o,i[2]-.5*t);const h=[o,s,o,n];l%5===0&&(h[3]=a),this.gl.uniform4fv(this.lineShader.uniforms.startXYendXY,h),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)}this.gl.bindVertexArray(this.unusedVAO)}screenXY2mm(i,e,t=-1){let r;for(let s=0;s<this.screenSlices.length;s++){let n=s;if(t>=0&&(n=t),this.screenSlices[n].axCorSag>2)continue;const l=this.screenSlices[n].leftTopWidthHeight;if(i<l[0]||e<l[1]||i>l[0]+l[2]||e>l[1]+l[3]||(r=this.screenXY2TextureFrac(i,e,n,!1),r[0]<0))continue;const o=this.frac2mm(r);return Kt(o[0],o[1],o[2],n)}return Kt(NaN,NaN,NaN,NaN)}dragForPanZoom(i){const e=this.screenXY2mm(i[2],i[3]);if(isNaN(e[0]))return;const t=this.screenXY2mm(i[0],i[1],e[3]);if(isNaN(t[0])||isNaN(e[0])||isNaN(e[3]))return;const r=Wr(),s=this.uiData.pan2DxyzmmAtMouseDown[3];Pg(r,e,t),this.scene.pan2Dxyzmm[0]=this.uiData.pan2DxyzmmAtMouseDown[0]+s*r[0],this.scene.pan2Dxyzmm[1]=this.uiData.pan2DxyzmmAtMouseDown[1]+s*r[1],this.scene.pan2Dxyzmm[2]=this.uiData.pan2DxyzmmAtMouseDown[2]+s*r[2],this.canvas.focus()}dragForCenterButton(i){this.dragForPanZoom(i)}dragForSlicer3D(i){let e=this.uiData.pan2DxyzmmAtMouseDown[3];const t=i[3]-i[1];e+=t*.01,e=Math.max(e,.1),e=Math.min(e,10);const s=this.scene.pan2Dxyzmm[3]-e;this.opts.yoke3Dto2DZoom&&(this.scene.volScaleMultiplier=e),this.scene.pan2Dxyzmm[3]=e;const n=this.frac2mm(this.scene.crosshairPos);this.scene.pan2Dxyzmm[0]+=s*n[0],this.scene.pan2Dxyzmm[1]+=s*n[1],this.scene.pan2Dxyzmm[2]+=s*n[2]}drawMeasurementTool(i){function e(o,h,d,f,p){const g=o-d,A=h-f;if(g===0&&A===0)return{origin:[d+p,f],terminus:[d+p,f]};const x=Math.sqrt(g*g+A*A),y=p*g/x,b=p*A/x;return{origin:[o+y,h+b],terminus:[d-y,f-b]}}const t=this.gl;if(t.bindVertexArray(this.genericVAO),t.depthFunc(t.ALWAYS),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),!this.lineShader)throw new Error("lineShader undefined");this.lineShader.use(this.gl),t.uniform4fv(this.lineShader.uniforms.lineColor,this.opts.rulerColor),t.uniform2fv(this.lineShader.uniforms.canvasWidthHeight,[t.canvas.width,t.canvas.height]),t.uniform1f(this.lineShader.uniforms.thickness,this.opts.rulerWidth),t.uniform4fv(this.lineShader.uniforms.startXYendXY,i),t.drawArrays(t.TRIANGLE_STRIP,0,4);const r=this.opts.measureLineColor;r[3]=1,t.uniform4fv(this.lineShader.uniforms.lineColor,r);const s=this.opts.rulerWidth;t.uniform1f(this.lineShader.uniforms.thickness,s*2);let n=[i[0],i[1]-s,i[0],i[1]+s];t.uniform4fv(this.lineShader.uniforms.startXYendXY,n),t.drawArrays(t.TRIANGLE_STRIP,0,4),n=[i[2],i[3]-s,i[2],i[3]+s],t.uniform4fv(this.lineShader.uniforms.startXYendXY,n),t.drawArrays(t.TRIANGLE_STRIP,0,4);let a=this.canvasPos2frac([i[0],i[1]]),l=this.canvasPos2frac([i[2],i[3]]);if(a[0]>=0&&l[0]>=0){const o=this.frac2mm(a);a=Ue(o[0],o[1],o[2]);const h=this.frac2mm(l);l=Ue(h[0],h[1],h[2]);const d=Yt();Lu(d,a,l);const f=pn(d);let p=2;f>9&&(p=1),f>99&&(p=0);let g=f.toFixed(p);this.opts.showMeasureUnits&&(g=`${g} mm`);let A=i;const[x,y,b,T]=i,{origin:D,terminus:S}=e(x,y,b,T,30);switch(this.opts.measureTextJustify){case"start":A=[...D,...D.map(k=>k+1)];break;case"end":A=A=[...S,...S.map(k=>k+1)];break;default:A=i;break}this.drawTextBetween(A,g,this.opts.measureTextHeight/this.opts.textHeight,this.opts.measureTextColor)}t.bindVertexArray(this.unusedVAO)}drawRect(i,e=[1,0,0,-1]){if(e[3]<0&&(e=this.opts.crosshairColor),!this.rectShader)throw new Error("rectShader undefined");this.opts.selectionBoxIsOutline?(this.drawCircle(i,e,.1),this.rectOutlineShader.use(this.gl),this.gl.enable(this.gl.BLEND),this.gl.uniform1f(this.rectOutlineShader.uniforms.thickness,this.opts.selectionBoxLineThickness),this.gl.uniform4fv(this.rectOutlineShader.uniforms.lineColor,e),this.gl.uniform2fv(this.rectOutlineShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform4f(this.rectOutlineShader.uniforms.leftTopWidthHeight,i[0],i[1],i[2],i[3]),this.gl.bindVertexArray(this.genericVAO),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO)):(this.rectShader.use(this.gl),this.gl.enable(this.gl.BLEND),this.gl.uniform4fv(this.rectShader.uniforms.lineColor,e),this.gl.uniform2fv(this.rectShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform4f(this.rectShader.uniforms.leftTopWidthHeight,i[0],i[1],i[2],i[3]),this.gl.bindVertexArray(this.genericVAO),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO))}drawCircle(i,e=this.opts.fontColor,t=1){if(!this.circleShader)throw new Error("circleShader undefined");this.circleShader.use(this.gl),this.gl.enable(this.gl.BLEND),this.gl.uniform4fv(this.circleShader.uniforms.circleColor,e),this.gl.uniform2fv(this.circleShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform4f(this.circleShader.uniforms.leftTopWidthHeight,i[0],i[1],i[2],i[3]),this.gl.uniform1f(this.circleShader.uniforms.fillPercent,t),this.gl.uniform4fv(this.circleShader.uniforms.circleColor,e),this.gl.bindVertexArray(this.genericVAO),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO)}drawSelectionBox(i){if(this.opts.dragMode===6){this.drawCircle(i,this.opts.selectionBoxColor,.1);return}this.drawRect(i,this.opts.selectionBoxColor)}effectiveCanvasHeight(){return this.gl.canvas.height-this.colorbarHeight}effectiveCanvasWidth(){return this.gl.canvas.width-this.getLegendPanelWidth()}getAllLabels(){const r=this.meshes.filter(n=>n.type==="connectome").flatMap(n=>n.nodes).map(n=>n.label).filter(n=>n!==void 0);return[...this.document.labels,...r]}getConnectomeLabels(){const r=this.meshes.filter(a=>a.type==="connectome").flatMap(a=>a.nodes).map(a=>a.label).filter(a=>a!==void 0),s=this.document.labels.filter(a=>a.anchor==null||a.anchor===0),n=new Set(r);for(const a of s)n.add(a);return Array.from(n)}getBulletMarginWidth(){let i=0;const e=this.getConnectomeLabels();if(e.length===0)return 0;const t=e.length===1?e[0].style.bulletScale:e.reduce((n,a)=>n.style.bulletScale>a.style.bulletScale?n:a).style.bulletScale,r=e.length===1?e[0]:e.reduce((n,a)=>{const l=this.opts.textHeight*this.gl.canvas.height*n.style.textScale,o=this.opts.textHeight*this.gl.canvas.height*a.style.textScale;return this.textHeight(l,n.text)>this.textHeight(o,a.text)?n:a}),s=this.opts.textHeight*this.gl.canvas.height*r.style.textScale;return i=this.textHeight(s,r.text)*t,i+=s,i}getLegendPanelWidth(){const i=this.getConnectomeLabels();if(!this.opts.showLegend||i.length===0)return 0;const t=this.opts.textHeight*this.gl.canvas.height*1;let r=0;const s=i.reduce((o,h)=>{const d=this.opts.textHeight*this.gl.canvas.height*o.style.textScale,f=this.opts.textHeight*this.gl.canvas.height*h.style.textScale;return this.textWidth(d,o.text)>this.textWidth(f,h.text)?o:h}),n=this.opts.textHeight*this.gl.canvas.height*s.style.textScale,a=this.textWidth(n,s.text),l=this.getBulletMarginWidth();return a&&(r=l+a,r+=t*2),r>=this.gl.canvas.width?0:r}getLegendPanelHeight(){const i=this.getConnectomeLabels();let e=0;const r=this.opts.textHeight*this.gl.canvas.height*1;for(const s of i){const n=this.opts.textHeight*this.gl.canvas.height*s.style.textScale,a=this.textHeight(n,s.text);e+=a}return e&&(e+=r/2*(i.length+1)),e}reserveColorbarPanel(){let i=Math.max(this.opts.textHeight,.01);i=i*Math.min(this.gl.canvas.height,this.gl.canvas.width);const e=3*i,r=(this.opts.colorbarWidth>0&&this.opts.colorbarWidth<=1?this.opts.colorbarWidth:1)*this.gl.canvas.width,s=[(this.gl.canvas.width-r)/2,this.gl.canvas.height-e,r,e];return this.colorbarHeight=s[3]+1,s}drawColorbarCore(i=0,e=[0,0,0,0],t=!1,r=0,s=1,n){if(e[2]<=0||e[3]<=0)return;let a=Math.max(this.opts.textHeight,.01);a=a*Math.min(this.gl.canvas.height,this.gl.canvas.width);let l=a;const o=3*a;let h=a;if(e[3]<o){if(e[3]<3)return;l=1,h=e[3]-2}this.gl.disable(this.gl.DEPTH_TEST),this.colorbarHeight=e[3]+1;const d=[e[0]+l,e[1],e[2]-2*l,h],f=[d[0]-1,d[1]-1,d[2]+2,d[3]+2];if(this.opts.showColorbarBorder&&this.drawRect(f,this.opts.crosshairColor),!this.colorbarShader)throw new Error("colorbarShader undefined");this.colorbarShader.use(this.gl),this.gl.activeTexture(ua),this.gl.bindTexture(this.gl.TEXTURE_2D,this.colormapTexture),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST);const p=i;if(this.gl.uniform1f(this.colorbarShader.uniforms.layer,p),this.gl.uniform2fv(this.colorbarShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.disable(this.gl.CULL_FACE),t){const R=[d[0]+d[2],d[1],-d[2],d[3]];this.gl.uniform4fv(this.colorbarShader.uniforms.leftTopWidthHeight,R)}else this.gl.uniform4fv(this.colorbarShader.uniforms.leftTopWidthHeight,d);this.gl.bindVertexArray(this.genericVAO),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR);let g=0;if(n&&s<0&&t?(g=s,s=0):n&&r>0&&(g=r,r=0),r===s||a<1)return;const A=Math.abs(s-r);let[x,y]=r2(r,s);y<r&&(y+=x);function b(R){return R.toFixed(6).replace(/\.?0*$/,"")}let T=y;const D=[0,d[1]+d[3]-a*.5,2,a*.75],S=D[1]+D[3],k=1;for(;T<=s;){D[0]=d[0]+(T-r)/A*d[2],this.drawRect(D);const R=b(k*T);this.drawTextBelow([D[0],S],R),T+=x}if(g!==0){const R=[d[0]+(g-r)/A*d[2],d[1]-d[3]*.25,2,d[3]*1.5];this.drawRect(R)}}drawColorbar(){const i=this.colormapLists,e=i.length;if(e<1)return;let t=0;for(let l=0;l<e;l++)i[l].visible&&t++;if(t<1)return;let r=this.reserveColorbarPanel(),s=Math.max(this.opts.textHeight,.01);s=s*Math.min(this.gl.canvas.height,this.gl.canvas.width);const n=3*s;let a=r[2]/t;(r[2]<=0||r[3]<=0)&&(a=this.gl.canvas.width/t,r=[0,this.gl.canvas.height-n,a,n]),r[2]=a;for(let l=0;l<e;l++)i[l].visible&&(this.drawColorbarCore(l,r,i[l].negative,i[l].min,i[l].max,i[l].isColorbarFromZero),r[0]+=a)}textWidth(i,e){if(!e)return 0;let t=0;const r=new TextEncoder().encode(e);for(let s=0;s<e.length;s++)t+=i*this.fontMets.mets[r[s]].xadv;return t}textHeight(i,e){if(!e)return 0;const t=new Set(Array.from(e)),r=new TextEncoder().encode(Array.from(t).join("")),n=Object.values(this.fontMets.mets).filter((a,l)=>r.includes(l)).reduce((a,l)=>a.lbwh[3]>l.lbwh[3]?a:l).lbwh[3];return i*n}drawChar(i,e,t){if(!this.fontShader)throw new Error("fontShader undefined");const r=this.fontMets.mets[t],s=i[0]+e*r.lbwh[0],n=-(e*r.lbwh[1]),a=e*r.lbwh[2],l=e*r.lbwh[3],o=i[1]+(n-l)+e;return this.gl.uniform4f(this.fontShader.uniforms.leftTopWidthHeight,s,o,a,l),this.gl.uniform4fv(this.fontShader.uniforms.uvLeftTopWidthHeight,r.uv_lbwh),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),e*r.xadv}drawLoadingText(i){if(i){if(!this.canvas)throw new Error("canvas undefined");this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.gl.enable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND),this.drawTextBelow([this.canvas.width/2,this.canvas.height/2],i,3)}}drawText(i,e,t=1,r=null){if(this.opts.textHeight<=0)return;if(!this.fontShader)throw new Error("fontShader undefined");this.fontShader.use(this.gl);const s=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*t;this.gl.enable(this.gl.BLEND),this.gl.uniform2f(this.fontShader.uniforms.canvasWidthHeight,this.gl.canvas.width,this.gl.canvas.height),r===null&&(r=this.opts.fontColor),this.gl.uniform4fv(this.fontShader.uniforms.fontColor,r);let n=s/this.fontMets.size*this.fontMets.distanceRange;n=Math.max(n,1),this.gl.uniform1f(this.fontShader.uniforms.screenPxRange,n);const a=new TextEncoder().encode(e);this.gl.bindVertexArray(this.genericVAO);for(let l=0;l<e.length;l++)i[0]+=this.drawChar(i,s,a[l]);this.gl.bindVertexArray(this.unusedVAO)}drawTextRight(i,e,t=1,r=null){this.opts.textHeight<=0||(i[1]-=.5*this.opts.textHeight*this.gl.canvas.height,this.drawText(i,e,t,r))}drawTextLeft(i,e,t=1,r=null){if(this.opts.textHeight<=0)return;const s=this.opts.textHeight*this.gl.canvas.height*t;i[0]-=this.textWidth(s,e),i[1]-=.5*s,this.drawText(i,e,t,r)}drawTextRightBelow(i,e,t=1,r=null){this.opts.textHeight<=0||this.drawText(i,e,t,r)}drawTextBetween(i,e,t=1,r=null){if(this.opts.textHeight<=0)return;const s=[(i[0]+i[2])*.5,(i[1]+i[3])*.5],n=this.opts.textHeight*this.gl.canvas.height*t,a=this.textWidth(n,e);s[0]-=.5*a,s[1]-=.5*n;const l=[s[0]-1,s[1]-1,a+2,n+2];let o=r;o===null&&(o=this.opts.crosshairColor),o&&o[0]+o[1]+o[2]>.8?o=[0,0,0,.5]:o=[1,1,1,.5],this.drawRect(l,o),this.drawText(s,e,t,r)}drawTextBelow(i,e,t=1,r=null){if(this.opts.textHeight<=0)return;if(!this.canvas)throw new Error("canvas undefined");let s=this.opts.textHeight*this.gl.canvas.height*t,n=this.textWidth(s,e);n>this.canvas.width&&(t*=(this.canvas.width-2)/n,s=this.opts.textHeight*this.gl.canvas.height*t,n=this.textWidth(s,e)),i[0]-=.5*this.textWidth(s,e),i[0]=Math.max(i[0],1),i[0]=Math.min(i[0],this.canvas.width-n-1),this.drawText(i,e,t,r)}updateInterpolation(i,e=!1){let t=this.gl.LINEAR;!e&&this.opts.isNearestInterpolation&&(t=this.gl.NEAREST),i===0?this.gl.activeTexture(ha):this.gl.activeTexture(Ul),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MIN_FILTER,t),this.gl.texParameteri(this.gl.TEXTURE_3D,this.gl.TEXTURE_MAG_FILTER,t)}setAtlasOutline(i){this.opts.atlasOutline=i,this.updateGLVolume(),this.drawScene()}setInterpolation(i){this.opts.isNearestInterpolation=i;const e=this.volumes.length;if(!(e<1)){for(let t=0;t<e;t++)this.updateInterpolation(t);this.drawScene()}}calculateMvpMatrix2D(i,e,t,r=1/0,s=0,n=0,a=0,l){this.gl.viewport(i[0],this.gl.canvas.height-(i[1]+i[3]),i[2],i[3]);let h=e[0],d=t[0],f=[h,e[1]],p=[d-h,t[1]-e[1]];l&&(f=[t[0],e[1]],p=[e[0]-t[0],t[1]-e[1]],h=-t[0],d=-e[0]);const g=2*Math.max(Math.abs(e[2]),Math.abs(t[2])),A=pt();let x=.01,y=g*8;if(r!==1/0){let R=l;a===0&&(n===0||n===180)&&(R=!R);let B=g*1.8-s;R||(B=g*1.8+s),x=B-r,y=B+r}ra(A,h,d,e[1],t[1],x,y);const b=pt();b[0]=-1;const T=Ue(0,0,-g*1.8);As(b,b,T),ta(b,b,D0(270-a)),ia(b,b,D0(n-180));const D=pt();_i(D,b);const S=pt();lr(S,D);const k=pt();return F0(k,A,b),{modelViewProjectionMatrix:k,modelMatrix:b,normalMatrix:S,leftTopMM:f,fovMM:p}}swizzleVec3MM(i,e){return e===1?i=Ii(i,[0,2,1]):e===2&&(i=Ii(i,[1,2,0])),i}screenFieldOfViewVox(i=0){const e=sn(this.volumeObject3D.fieldOfViewDeObliqueMM);return this.swizzleVec3MM(e,i)}screenFieldOfViewMM(i=0,e=!1){if(!e&&!this.opts.isSliceMM)return this.screenFieldOfViewVox(i);const t=this.volumeObject3D.extentsMin,r=this.volumeObject3D.extentsMax;let s=Ue(t[0],t[1],t[2]),n=Ue(r[0],r[1],r[2]);s=this.swizzleVec3MM(s,i),n=this.swizzleVec3MM(n,i);const a=Yt();return Jt(a,n,s),a}screenFieldOfViewExtendedVox(i=0){const e=this.volumes[0].extentsMinOrtho,t=this.volumes[0].extentsMaxOrtho;let r=Ue(e[0],e[1],e[2]),s=Ue(t[0],t[1],t[2]);const n=pt();r=this.swizzleVec3MM(r,i),s=this.swizzleVec3MM(s,i);const a=Yt();return Jt(a,s,r),{mnMM:r,mxMM:s,rotation:n,fovMM:a}}screenFieldOfViewExtendedMM(i=0){if(!this.volumeObject3D)throw new Error("volumeObject3D undefined");const e=this.volumeObject3D.extentsMin,t=this.volumeObject3D.extentsMax;let r=Ue(e[0],e[1],e[2]),s=Ue(t[0],t[1],t[2]);const n=pt();r=this.swizzleVec3MM(r,i),s=this.swizzleVec3MM(s,i);const a=Yt();return Jt(a,s,r),{mnMM:r,mxMM:s,rotation:n,fovMM:a}}drawSliceOrientationText(i,e,t=[NaN,NaN]){this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height);let r="S";e===0&&(r="A");let s=this.opts.isRadiologicalConvention?"R":"L";if(e===2&&(s=this.opts.sagittalNoseLeft?"A":"P"),this.opts.isCornerOrientationText){this.drawTextRightBelow([i[0],i[1]],s+r);return}let n=!0,a=!0;if(!isNaN(t[0])){const l=this.opts.textHeight*this.gl.canvas.height+2;t[1]>l&&(this.drawTextBelow([i[0]+i[2]*.5,i[1]+t[1]-l],r),n=!1);const o=this.textWidth(l,s)+2;t[0]>o&&(this.drawTextRight([i[0]+t[0]-o,i[1]+i[3]*.5],s),a=!1)}n&&this.drawTextBelow([i[0]+i[2]*.5,i[1]],r),a&&this.drawTextRight([i[0],i[1]+i[3]*.5],s)}xyMM2xyzMM(i,e){let t=2;i===1&&(t=1),i===2&&(t=0);let r=[0,0,0],s=[1,1,0],n=[1,0,1];r[t]=e,s[t]=e,n[t]=e,r=this.frac2mm(r),s=this.frac2mm(s),n=this.frac2mm(n),r=this.swizzleVec3MM(Ue(r[0],r[1],r[2]),i),s=this.swizzleVec3MM(Ue(s[0],s[1],s[2]),i),n=this.swizzleVec3MM(Ue(n[0],n[1],n[2]),i);const a=(s[0]-r[0])*(n[1]-r[1])-(n[0]-r[0])*(s[1]-r[1]);let l=(s[0]-r[0])*(n[2]-r[2])-(n[0]-r[0])*(s[2]-r[2]);l/=a;let o=(s[1]-r[1])*(n[2]-r[2])-(n[1]-r[1])*(s[2]-r[2]);o/=a;const h=[0,0,0,0,0];return h[0]=r[0],h[1]=r[1],h[2]=r[2],h[3]=o,h[4]=l,h}draw2DMain(i,e,t=NaN){let r=this.volumes[0].frac2mm.slice(),s=this.screenFieldOfViewExtendedMM(e),n=pt();this.opts.isSliceMM||(r=this.volumes[0].frac2mmOrtho.slice(),n=di(this.volumes[0].mm2ortho),s=this.screenFieldOfViewExtendedVox(e));let a=this.opts.isRadiologicalConvention&&e<2;t===1/0||t===-1/0?(a=t!==1/0,e===1&&(a=!a)):this.opts.sagittalNoseLeft&&e===2&&(a=!a);let l=0,o=0;e===2?o=a?90:-90:e===1?o=a?180:0:(o=a?180:0,l=a?-90:90);const h=this.gl;let d=!1;if(i[2]===0||i[3]===0){d=!0;const b=h.canvas.width/s.fovMM[0],T=h.canvas.height/s.fovMM[1],D=Math.min(b,T),S=b/D,k=T/D;s.fovMM[0]*=S,s.fovMM[1]*=k;let R=(s.mnMM[0]+s.mxMM[0])*.5;s.mnMM[0]=R-s.fovMM[0]*.5,s.mxMM[0]=R+s.fovMM[0]*.5,R=(s.mnMM[1]+s.mxMM[1])*.5,s.mnMM[1]=R-s.fovMM[1]*.5,s.mxMM[1]=R+s.fovMM[1]*.5,i=[0,0,h.canvas.width,h.canvas.height]}if(isNaN(t)){const b=this.scene.pan2Dxyzmm,T=this.swizzleVec3MM(Ue(b[0],b[1],b[2]),e),D=this.scene.pan2Dxyzmm[3];s.mnMM[0]-=T[0],s.mxMM[0]-=T[0],s.mnMM[1]-=T[1],s.mxMM[1]-=T[1],s.mnMM[0]/=D,s.mxMM[0]/=D,s.mnMM[1]/=D,s.mxMM[1]/=D}let f=2;e===1&&(f=1),e===2&&(f=0);let p=this.scene.crosshairPos[f],g=this.frac2mm(this.scene.crosshairPos);!isNaN(t)&&t!==1/0&&t!==-1/0&&(g=this.frac2mm([.5,.5,.5]),g[f]=t,p=this.mm2frac(g)[f]);const A=g[f];h.clear(h.DEPTH_BUFFER_BIT);let x=this.calculateMvpMatrix2D(i,s.mnMM,s.mxMM,1/0,0,o,l,a);if(t===1/0||t===-1/0){const b=i.slice();this.draw3D(i,x.modelViewProjectionMatrix,x.modelMatrix,x.normalMatrix,o,l);const T=this.screenSlices[this.screenSlices.length-1];T.leftTopWidthHeight=b,T.axCorSag=e,T.sliceFrac=1/0,T.AxyzMxy=this.xyMM2xyzMM(e,p),T.leftTopMM=x.leftTopMM,T.fovMM=x.fovMM;return}h.enable(h.DEPTH_TEST),h.blendFunc(h.SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA),h.disable(h.BLEND),h.depthFunc(h.GREATER),h.disable(h.CULL_FACE);let y=this.sliceMMShader;if(this.opts.isV1SliceShader&&(y=this.sliceV1Shader),!y)throw new Error("slice Shader undefined");if(y.use(this.gl),h.uniform1f(y.uniforms.overlayOutlineWidth,this.overlayOutlineWidth),h.uniform1f(y.uniforms.overlayAlphaShader,this.overlayAlphaShader),h.uniform1i(y.uniforms.isAlphaClipDark,this.isAlphaClipDark?1:0),h.uniform1i(y.uniforms.backgroundMasksOverlays,this.backgroundMasksOverlays),h.uniform1f(y.uniforms.drawOpacity,this.drawOpacity),h.enable(h.BLEND),h.blendFunc(h.SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA),h.uniform1f(y.uniforms.opacity,this.volumes[0].opacity),h.uniform1i(y.uniforms.axCorSag,e),h.uniform1f(y.uniforms.slice,p),h.uniformMatrix4fv(y.uniforms.frac2mm,!1,r),h.uniformMatrix4fv(y.uniforms.mvpMtx,!1,x.modelViewProjectionMatrix.slice()),h.bindVertexArray(this.genericVAO),h.drawArrays(h.TRIANGLE_STRIP,0,4),h.bindVertexArray(this.unusedVAO),this.screenSlices.push({leftTopWidthHeight:i,axCorSag:e,sliceFrac:p,AxyzMxy:this.xyMM2xyzMM(e,p),leftTopMM:x.leftTopMM,screen2frac:[],fovMM:x.fovMM}),isNaN(t)&&this.drawCrosshairs3D(!0,1,x.modelViewProjectionMatrix,!0,this.opts.isSliceMM),this.opts.meshThicknessOn2D>0){this.opts.meshThicknessOn2D!==1/0&&(x=this.calculateMvpMatrix2D(i,s.mnMM,s.mxMM,this.opts.meshThicknessOn2D,A,o,l,a));const b=di(x.modelViewProjectionMatrix);F0(b,b,n),this.drawMesh3D(!0,1,b,x.modelMatrix,x.normalMatrix)}isNaN(t)&&this.drawCrosshairs3D(!1,.15,x.modelViewProjectionMatrix,!0,this.opts.isSliceMM),d&&this.opts.isOrientationTextVisible&&this.drawSliceOrientationText(i,e),this.readyForSync=!0}draw2D(i,e,t=NaN,r=[NaN,NaN]){const s=[NaN,NaN];if(r[0]===1/0){const n=this.sliceScale().volScale;let a=this.scaleSlice(n[0],n[1],[0,0],[i[2],i[3]]);e===1&&(a=this.scaleSlice(n[0],n[2],[0,0],[i[2],i[3]])),e===2&&(a=this.scaleSlice(n[1],n[2],[0,0],[i[2],i[3]])),r[0]=a[2],r[1]=a[3]}if(isNaN(r[0]))this.draw2DMain(i,e,t);else{const n=i.slice();s[0]=Math.floor(.5*(n[2]-r[0])),s[1]=Math.floor(.5*(n[3]-r[1])),n[0]+=s[0],n[1]+=s[1],n[2]=r[0],n[3]=r[1],this.draw2DMain(n,e,t)}t===1/0||t===-1/0||e===4||i[2]!==0&&i[3]!==0&&this.opts.isOrientationTextVisible&&this.drawSliceOrientationText(i,e,s)}calculateMvpMatrix(i,e=[0,0,0,0],t,r){(e[2]===0||e[3]===0)&&(e=[0,0,this.gl.canvas.width,this.gl.canvas.height]);const s=e[2]/e[3];let n=this.furthestFromPivot;const a=this.pivot3D,l=pt();n=.8*n/this.scene.volScaleMultiplier,s<1?ra(l,-n,n,-n/s,n/s,n*.01,n*8):ra(l,-n*s,n*s,-n,n,n*.01,n*8);const o=pt();o[0]=-1;const h=Ue(0,0,-n*1.8);As(o,o,h),this.position&&As(o,o,this.position),ta(o,o,D0(270-r)),ia(o,o,D0(t-180)),As(o,o,[-a[0],-a[1],-a[2]]);const d=pt();_i(d,o);const f=pt();lr(f,d);const p=pt();return F0(p,l,o),[p,o,f]}calculateModelMatrix(i,e){if(!this.back)throw new Error("back undefined");const t=pt();if(t[0]=-1,ta(t,t,D0(270-e)),ia(t,t,D0(i-180)),this.back.obliqueRAS){const r=di(this.back.obliqueRAS);F0(t,t,r)}return t}calculateRayDirection(i,e){const t=this.calculateModelMatrix(i,e),r=hr(1,0,0,0,0,-1,0,0,0,0,-1,0,0,0,0,1),s=pt();F0(s,r,t);const n=pt();_i(n,s);const a=Kt(0,0,-1,1);Ti(a,a,n);const l=Ue(a[0],a[1],a[2]);br(l,l);const o=5e-5;return Math.abs(l[0])<o&&(l[0]=o),Math.abs(l[1])<o&&(l[1]=o),Math.abs(l[2])<o&&(l[2]=o),l}sceneExtentsMinMax(i=!0){let e=Ue(0,0,0),t=Ue(0,0,0);if(this.volumes.length>0){if(!this.volumeObject3D)throw new Error("volumeObject3D undefined");e=Ue(this.volumeObject3D.extentsMin[0],this.volumeObject3D.extentsMin[1],this.volumeObject3D.extentsMin[2]),t=Ue(this.volumeObject3D.extentsMax[0],this.volumeObject3D.extentsMax[1],this.volumeObject3D.extentsMax[2]),i||(e=Ue(this.volumes[0].extentsMinOrtho[0],this.volumes[0].extentsMinOrtho[1],this.volumes[0].extentsMinOrtho[2]),t=Ue(this.volumes[0].extentsMaxOrtho[0],this.volumes[0].extentsMaxOrtho[1],this.volumes[0].extentsMaxOrtho[2]))}if(this.meshes.length>0){if(this.volumes.length<1){const s=this.meshes[0].extentsMin,n=this.meshes[0].extentsMax;e=Ue(s[0],s[1],s[2]),t=Ue(n[0],n[1],n[2])}for(let s=0;s<this.meshes.length;s++){const n=this.meshes[s].extentsMin,a=this.meshes[s].extentsMax,l=Ue(n[0],n[1],n[2]);ec(e,e,l);const o=Ue(a[0],a[1],a[2]);tc(t,t,o)}}const r=Yt();return Jt(r,t,e),[e,t,r]}setPivot3D(){const[i,e]=this.sceneExtentsMinMax(),t=Yt();rs(t,i,e),Bg(t,t,.5),this.pivot3D=[t[0],t[1],t[2]],Jt(t,e,i),this.extentsMin=i,this.extentsMax=e,this.furthestFromPivot=U0(t)*.5}getMaxVols(){if(this.volumes.length<1)return 0;let i=0;for(let e=0;e<this.volumes.length;e++)i=Math.max(i,this.volumes[e].nFrame4D);return i}detectPartialllyLoaded4D(){if(this.volumes.length<1)return!1;for(let i=0;i<this.volumes.length;i++)if(this.volumes[i].nFrame4D<this.volumes[i].hdr.dims[4])return!0;return!1}drawGraph(){if(this.getMaxVols()<2)return;const i=this.graph;let e=0;if(this.graph.autoSizeMultiplanar&&this.opts.sliceType===3)for(let j=0;j<this.screenSlices.length;j++){const X=this.screenSlices[j].axCorSag;if(X===0&&(e=this.screenSlices[j].leftTopWidthHeight[1]),X!==2)continue;const re=this.screenSlices[j].leftTopWidthHeight.slice();re[1]===e?(i.LTWH[0]=re[0]+re[2],i.LTWH[1]=re[1]):(i.LTWH[0]=re[0],i.LTWH[1]=re[1]+re[3]),i.LTWH[2]=re[2],i.LTWH[3]=re[2]}if(i.opacity<=0||i.LTWH[2]<=5||i.LTWH[3]<=5||Math.floor(i.LTWH[0]+i.LTWH[2])>this.gl.canvas.width||Math.floor(i.LTWH[1]+i.LTWH[3])>this.gl.canvas.height)return;i.backColor=[.15,.15,.15,i.opacity],i.lineColor=[1,1,1,1],this.opts.backColor[0]+this.opts.backColor[1]+this.opts.backColor[2]>1.5&&(i.backColor=[.95,.95,.95,i.opacity],i.lineColor=[0,0,0,1]),i.textColor=i.lineColor.slice(),i.lineThickness=4,i.lineAlpha=1,i.lines=[];const t=[];if(i.vols.length<1)this.volumes[0]!=null&&t.push(0);else for(let j=0;j<i.vols.length;j++){const X=i.vols[j];this.volumes[X]==null||this.volumes[X].nFrame4D<2||t.push(X)}if(t.length<1)return;const r=this.volumes[t[0]].nFrame4D;if(this.graph.selectedColumn=this.volumes[t[0]].frame4D,r<2){Z.debug("Unable to generate a graph: Selected volume is 3D not 4D");return}for(let j=0;j<t.length;j++){i.lines[j]=[];const X=this.frac2vox(this.scene.crosshairPos),re=this.volumes[t[j]];let oe=re.nFrame4D;oe=Math.min(oe,r);for(let he=0;he<oe;he++){const Ae=re.getValue(X[0],X[1],X[2],he);i.lines[j].push(Ae)}}i.lineRGB=[[1,0,0],[0,.7,0],[0,0,1],[1,1,0],[1,0,1],[0,1,1],[1,1,1],[0,0,0]];let s=i.lines[0][0],n=i.lines[0][0];for(let j=0;j<i.lines.length;j++)for(let X=0;X<i.lines[j].length;X++){const re=i.lines[j][X];s=Math.min(re,s),n=Math.max(re,n)}const a=this.volumes[t[0]].cal_min,l=this.volumes[t[0]].cal_max;if(i.isRangeCalMinMax&&a<l&&isFinite(a)&&isFinite(l)&&(s=a,n=l),i.normalizeValues&&n>s){const j=n-s;for(let X=0;X<i.lines.length;X++)for(let re=0;re<i.lines[X].length;re++){const oe=i.lines[X][re];i.lines[X][re]=(oe-s)/j}s=0,n=1}s>=n&&(n=s+1),this.drawRect(i.LTWH,i.backColor);const[o,h,d]=r2(s,n),f=Math.max(0,-1*Math.floor(Math.log(o)/Math.log(10)));s=Math.min(h,s),n=Math.max(d,n);function p(j){return j.toFixed(6).replace(/\.?0*$/,"")}const A=.07*(Math.min(i.LTWH[2],i.LTWH[3])/(this.fontMets.size*this.uiData.dpr));let x=this.opts.textHeight*this.gl.canvas.height*A;x<16&&(x=0);let y=0,b=h;if(x>0)for(;b<=n;){const j=b.toFixed(f),X=this.textWidth(x,j);y=Math.max(X,y),b+=o}const T=.05,D=Math.abs(i.LTWH[2]),S=Math.abs(i.LTWH[3]),k=[i.LTWH[0]+T*D+y,i.LTWH[1]+T*S,i.LTWH[2]-y-2*T*D,i.LTWH[3]-x-2*T*S];this.graph.LTWH=i.LTWH,this.graph.plotLTWH=k,this.drawRect(k,this.opts.backColor);const R=n-s,B=k[3]/R,N=k[2]/(i.lines[0].length-1),L=k[1]+k[3];b=h+.5*o;const O=i.lineColor.slice();for(O[3]=.25*i.lineColor[3];b<=n;){const j=L-(b-s)*B;this.drawLine([k[0],j,k[0]+k[2],j],.5*i.lineThickness,O),b+=o}b=h;const q=.5*i.lineThickness;for(;b<=n;){const j=L-(b-s)*B;this.drawLine([k[0]-q,j,k[0]+k[2]+i.lineThickness,j],i.lineThickness,i.lineColor);const X=b.toFixed(f);x>0&&this.drawTextLeft([k[0]-6,j],X,A,i.textColor),b+=o}let U=1;for(;i.lines[0].length/U>20;)U*=5;for(let j=0;j<i.lines[0].length;j+=U){const X=j*N+k[0];let re=i.lineThickness;if(j%2===1)re*=.5,this.drawLine([X,k[1],X,k[1]+k[3]],re,O);else{const oe=p(j);x>0&&this.drawTextBelow([X,2+k[1]+k[3]],oe,A,i.textColor),this.drawLine([X,k[1],X,k[1]+k[3]],re,i.lineColor)}}for(let j=0;j<i.lines.length;j++){let X=[1,0,0,i.lineAlpha];j<i.lineRGB.length&&(X=[i.lineRGB[j][0],i.lineRGB[j][1],i.lineRGB[j][2],i.lineAlpha]);for(let re=1;re<i.lines[j].length;re++){const oe=(re-1)*N,he=re*N,Ae=(i.lines[j][re-1]-s)*B,qe=(i.lines[j][re]-s)*B,Qe=[k[0]+oe,k[1]+k[3]-Ae,k[0]+he,k[1]+k[3]-qe];this.drawLine(Qe,i.lineThickness,X)}}if(i.selectedColumn>=0&&i.selectedColumn<i.lines[0].length){const j=i.selectedColumn*N+k[0];this.drawLine([j,k[1],j,k[1]+k[3]],i.lineThickness,[i.lineRGB[3][0],i.lineRGB[3][1],i.lineRGB[3][2],1])}this.detectPartialllyLoaded4D()&&this.drawTextBelow([k[0]+k[2],k[1]+k[3]+x*.5],"...",A,i.textColor)}depthPicker(i,e){if(!this.uiData.mouseDepthPicker)return;this.uiData.mouseDepthPicker=!1;const t=this.gl,r=this.mousePos[0]*i[2]/i[2],s=t.canvas.height-this.mousePos[1]*i[3]/i[3]-1,n=new Uint8Array(4);if(t.readPixels(r,s,1,1,t.RGBA,t.UNSIGNED_BYTE,n),this.selectedObjectId=n[3],this.selectedObjectId===this.VOLUME_ID){this.scene.crosshairPos=new Float32Array(n.slice(0,3)).map(f=>f/255);return}const a=$9(n);if(a>1)return;const l=(this.mousePos[0]-i[0])/i[2],o=(t.canvas.height-this.mousePos[1]-i[1])/i[3],h=_9(l,o,a,e),d=this.mm2frac(h,0,!0);d[0]<0||d[0]>1||d[1]<0||d[1]>1||d[2]<0||d[2]>1||(this.scene.crosshairPos=this.mm2frac(h,0,!0))}drawImage3D(i,e,t){if(this.volumes.length===0)return;const r=this.gl,s=this.calculateRayDirection(e,t),n=this.volumeObject3D;if(n){r.enable(r.BLEND),r.blendFunc(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA),r.enable(r.CULL_FACE),r.cullFace(r.FRONT);let a=this.renderShader;if(this.uiData.mouseDepthPicker&&(a=this.pickingImageShader),a.use(this.gl),r.uniform1i(a.uniforms.backgroundMasksOverlays,this.backgroundMasksOverlays),this.gradientTextureAmount>0){r.activeTexture(c2),r.bindTexture(r.TEXTURE_3D,this.gradientTexture);const l=this.calculateModelMatrix(e,t),o=pt();_i(o,l);const h=pt();lr(h,o),r.uniformMatrix4fv(a.uniforms.normMtx,!1,h)}this.drawBitmap&&this.drawBitmap.length>8?r.uniform2f(a.uniforms.renderDrawAmbientOcclusionXY,this.renderDrawAmbientOcclusion,this.drawOpacity):r.uniform2f(a.uniforms.renderDrawAmbientOcclusionXY,this.renderDrawAmbientOcclusion,0),r.uniformMatrix4fv(a.uniforms.mvpMtx,!1,i),r.uniformMatrix4fv(a.uniforms.matRAS,!1,this.back.matRAS),r.uniform3fv(a.uniforms.rayDir,s),this.gradientTextureAmount<0?r.uniform4fv(a.uniforms.clipPlane,[this.scene.crosshairPos[0],this.scene.crosshairPos[1],this.scene.crosshairPos[2],30]):r.uniform4fv(a.uniforms.clipPlane,this.scene.clipPlane),r.uniform1f(a.uniforms.drawOpacity,1),r.bindVertexArray(n.vao),r.drawElements(n.mode,n.indexCount,r.UNSIGNED_SHORT,0),r.bindVertexArray(this.unusedVAO)}}drawOrientationCube(i,e=0,t=0){if(!this.opts.isOrientCube)return;const r=.05*Math.min(i[2],i[3]);if(r<5)return;const s=this.gl;s.enable(s.CULL_FACE),s.cullFace(s.BACK),this.orientCubeShader.use(this.gl),s.bindVertexArray(this.orientCubeShaderVAO);const n=pt(),a=pt();ra(a,0,s.canvas.width,0,s.canvas.height,-10*r,10*r);let l=0;i[1]===0&&(l=s.canvas.height-this.effectiveCanvasHeight()),As(n,n,[1.8*r+i[0],l+1.8*r+i[1],0]),zu(n,n,[r,r,r]),ta(n,n,D0(270-t)),ia(n,n,D0(-e));const o=pt();F0(o,a,n),s.uniformMatrix4fv(this.orientCubeShader.uniforms.u_matrix,!1,o),s.drawArrays(s.TRIANGLE_STRIP,0,168),s.bindVertexArray(this.unusedVAO),this.gl.disable(this.gl.CULL_FACE)}createOnLocationChange(i=NaN){const[e,t,r]=this.sceneExtentsMinMax(!0),s=Math.max(Math.max(r[0],r[1]),r[2]);function n(f){return Math.max(0,-Math.ceil(Math.log10(Math.abs(f))))}let a=n(s*.001);const l=this.frac2mm(this.scene.crosshairPos,0,!0);function o(f,p=0){return parseFloat(f.toFixed(p))}let h=o(l[0],a)+"×"+o(l[1],a)+"×"+o(l[2],a);if(this.volumes.length>0&&this.volumes[0].nFrame4D>0&&(h+="×"+o(this.volumes[0].frame4D)),this.volumes.length>0){let f=" = ";for(let A=0;A<this.volumes.length;A++){const x=this.volumes[A].mm2vox(l);let y=this.volumes[A].getValue(x[0],x[1],x[2],this.volumes[A].frame4D);if(a=3,this.volumes[A].colormapLabel!==null){const b=Math.round(y);b>=0&&b<this.volumes[A].colormapLabel.labels.length?f+=this.volumes[A].colormapLabel.labels[b]:f+="undefined("+o(y,a)+")"}else f+=o(y,a);this.volumes[A].imaginary&&(y=this.volumes[A].getValue(x[0],x[1],x[2],this.volumes[A].frame4D,!0),y>=0&&(f+="+"),f+=o(y,a)),f+="   "}h+=f;const p=this.back.dimsRAS,g=p[1]*p[2]*p[3];if(this.drawBitmap&&this.drawBitmap.length===g){const A=this.frac2vox(this.scene.crosshairPos),x=A[0]+A[1]*p[1]+A[2]*p[1]*p[2];h+=" "+this.drawLut.labels[this.drawBitmap[x]]}}const d={mm:this.frac2mm(this.scene.crosshairPos,0,!0),axCorSag:i,vox:this.frac2vox(this.scene.crosshairPos),frac:this.scene.crosshairPos,xy:[this.mousePos[0],this.mousePos[1]],values:this.volumes.map(f=>{const p=this.frac2mm(this.scene.crosshairPos,0,!0),g=f.mm2vox(p),A=f.getValue(g[0],g[1],g[2],f.frame4D);return{name:f.name,value:A,id:f.id,mm:p,vox:g}}),string:h};this.onLocationChange(d)}addLabel(i,e,t,r,s){const n={textColor:this.opts.legendTextColor,textScale:1,textAlignment:"left",lineWidth:0,lineColor:this.opts.legendTextColor,lineTerminator:"none",bulletScale:0,bulletColor:this.opts.legendTextColor},a=e?{...n,...e}:{...n},l=new Z4(i,{...a},t,r,s);return this.document.labels.push(l),l}calculateScreenPoint(i,e,t){const r=Wr();return Ti(r,[...i,1],e),r[3]!==0&&(r[0]=(r[0]/r[3]+1)*.5*t[2],r[1]=(1-r[1]/r[3])*.5*t[3],r[2]/=r[3],r[0]+=t[0],r[1]+=t[1]),r}getLabelAtPoint(i){const t=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*1,r=this.opts.textHeight*this.gl.canvas.height*1;for(const h of this.document.labels){if(h.anchor==null||h.anchor===0)continue;const d=this.opts.textHeight*this.gl.canvas.height*h.style.textScale,f=this.textHeight(d,h.text),p=this.textWidth(d,h.text);if(!(h.anchor&1&&i[0]>p)&&!(h.anchor&2&&(i[0]<(this.gl.canvas.width-p)/2||i[0]>(this.gl.canvas.width+p)/2))&&!(h.anchor&4&&i[0]<this.gl.canvas.width-p)&&!(h.anchor&8&&(i[1]<r/2||i[1]>f+r/2))&&!(h.anchor&16&&(i[1]<(this.gl.canvas.height-f-r)/2||i[1]>(this.gl.canvas.height+f-r/2)/2))&&!(h.anchor&32&&(i[1]<this.gl.canvas.height-f-r||i[1]>this.gl.canvas.height-r/2)))return h}Z.debug("screenPoint",i);const s=this.getLegendPanelHeight(),n=this.getLegendPanelWidth(),a=this.gl.canvas.width-n;let l=(this.canvas.height-s)/2;if(Z.debug("panelrect",a,l,a+n,l+s),i[0]<a||i[1]<l||i[0]>a+n||i[1]>l+s)return null;const o=this.getConnectomeLabels();for(const h of o){const d=this.opts.textHeight*this.gl.canvas.height*h.style.textScale,f=this.textHeight(d,h.text);if(i[1]>=l&&i[1]<=l+f+t/2)return h;l+=f,l+=t/2}return null}drawLabelLine(i,e,t,r,s=!1){const n=Array.isArray(i.points)&&Array.isArray(i.points[0])?i.points:[i.points];for(const a of n){const l=this.calculateScreenPoint(a,t,r);s?this.drawDottedLine([...e,l[0],l[1]],i.style.lineWidth,i.style.lineColor):this.draw3DLine(e,[l[0],l[1],l[2]],i.style.lineWidth,i.style.lineColor)}}draw3DLabel(i,e,t,r,s,n,a){const l=i.text,o=e[0],h=e[1],d=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*1,f=this.textHeight(i.style.textScale,l)*d;if(i.style.lineWidth>0&&Array.isArray(i.points)&&this.drawLabelLine(i,[o,h+f],t,r,a),i.style.bulletScale){const g=i.style.bulletScale*f,A=f-g,x=h+A/2+g/2,y=o+(s-g)/2;this.drawCircle([y,x,g,g],i.style.bulletColor)}let p=o;if(n)if(i.style.textAlignment!=="left"){const g=this.textWidth(i.style.textScale,i.text)*d;if(i.style.textAlignment==="right")p=o+n-d*1.5-g;else{const A=n-(s||d);p+=(A-g)/2}}else p+=s;this.drawText([p,h],l,i.style.textScale,i.style.textColor)}draw3DLabels(i,e,t=!1){const r=this.getConnectomeLabels();if(!this.opts.showLegend||r.length===0)return;if(!this.canvas)throw new Error("canvas undefined");const s=this.gl;s.disable(s.CULL_FACE),s.viewport(0,0,this.canvas.width,this.canvas.height);const a=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*1,l=this.getBulletMarginWidth(),o=this.getLegendPanelHeight(),h=this.getLegendPanelWidth(),d=s.canvas.width-h;let f=(this.canvas.height-o)/2;this.drawRect([s.canvas.width-h,f,h-a,o],this.opts.legendBackgroundColor);const p=s.getParameter(s.BLEND),g=s.getParameter(s.DEPTH_FUNC);t||(s.disable(s.BLEND),s.depthFunc(s.GREATER));for(const A of r){this.draw3DLabel(A,[d,f],i,e,l,h,t);const x=this.opts.textHeight*this.gl.canvas.height*A.style.textScale,y=this.textHeight(x,A.text);f+=y,f+=a/2}t||(s.depthFunc(g),p&&s.enable(s.BLEND))}drawAnchoredLabels(){const i=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*1,e=this.document.labels.filter(t=>t.anchor!=null&&t.anchor!==0);for(const t of e){const r=t.text,s=this.textHeight(t.style.textScale,r)*i,n=this.textWidth(t.style.textScale,r)*i;let a,l;const h=this.opts.textHeight*this.gl.canvas.height*1,d=h;let f=h/4,p=0,g=0;t.anchor&1&&(a=0),t.anchor&4&&(a=this.canvas.width-n,p-=h/4),t.anchor&2&&(a=(this.canvas.width-n)/2,p-=h/4,f+=h/4),t.anchor&8&&(l=0),t.anchor&16&&(l=(this.canvas.height-s-h)/2,g-=h/4),t.anchor&32&&(l=this.canvas.height-s-h,g-=h/4),this.drawRect([a+p,l+g,n+f,s+d],t.style.backgroundColor),this.draw3DLabel(t,[a,l])}}draw3D(i=[0,0,0,0],e=null,t=null,r=null,s=null,n=0){const a=s!==null;this.setPivot3D(),a||(s=this.scene.renderAzimuth,n=this.scene.renderElevation);const l=this.gl;e===null&&([e,t,r]=this.calculateMvpMatrix(null,i,s,n));let o=[...i];if(i[2]===0||i[3]===0?(i=[0,0,l.canvas.width,l.canvas.height],o=[...i],this.screenSlices.push({leftTopWidthHeight:i,axCorSag:4,sliceFrac:0,AxyzMxy:[],leftTopMM:[],fovMM:[s2(t),0]})):(this.screenSlices.push({leftTopWidthHeight:i.slice(),axCorSag:4,sliceFrac:0,AxyzMxy:[],leftTopMM:[],fovMM:[s2(t),0]}),i[1]=l.canvas.height-i[3]-i[1]),l.enable(l.DEPTH_TEST),l.depthFunc(l.ALWAYS),l.depthMask(!0),l.clearDepth(0),this.draw3DLabels(e,o,!1),l.viewport(i[0],i[1],i[2],i[3]),this.volumes.length>0&&(this.updateInterpolation(0,!0),this.updateInterpolation(1,!0),this.drawImage3D(e,s,n)),this.updateInterpolation(0),this.updateInterpolation(1),a||this.drawCrosshairs3D(!0,1,e),this.drawMesh3D(!0,1,e,t,r),this.uiData.mouseDepthPicker){this.depthPicker(i,e),this.createOnLocationChange(),this.draw3D(i,e,t,r,s,n);return}this.opts.meshXRay>0&&this.drawMesh3D(!1,this.opts.meshXRay,e,t,r),this.draw3DLabels(e,o,!1),l.viewport(i[0],i[1],i[2],i[3]),a||this.drawCrosshairs3D(!1,.15,e),l.viewport(0,0,l.canvas.width,l.canvas.height),this.drawOrientationCube(i,s,n);const h="azimuth: "+this.scene.renderAzimuth.toFixed(0)+" elevation: "+this.scene.renderElevation.toFixed(0);return this.readyForSync=!0,this.sync(),this.draw3DLabels(e,o,!0),h}drawMesh3D(i=!0,e=1,t,r,s){if(this.meshes.length<1)return;const n=this.gl;t||([t,r,s]=this.calculateMvpMatrix(this.volumeObject3D,void 0,this.scene.renderAzimuth,this.scene.renderElevation)),n.enable(n.DEPTH_TEST),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),n.disable(n.BLEND),n.depthFunc(n.GREATER),n.disable(n.CULL_FACE),i?(n.disable(n.BLEND),n.depthFunc(n.GREATER)):(n.enable(n.BLEND),n.depthFunc(n.ALWAYS),n.enable(n.CULL_FACE)),n.cullFace(n.BACK);let a=this.meshShaders[0].shader,l=!1;for(let o=0;o<this.meshes.length;o++)if(this.meshes[o].visible!==!1&&(a=this.meshShaders[this.meshes[o].meshShaderIndex].shader,this.uiData.mouseDepthPicker&&(a=this.pickingMeshShader),a.use(this.gl),n.uniformMatrix4fv(a.uniforms.mvpMtx,!1,t),n.uniformMatrix4fv(a.uniforms.normMtx,!1,s),n.uniform1f(a.uniforms.opacity,e),!(this.meshes[o].indexCount<3))){if(this.meshes[o].offsetPt0&&(this.meshes[o].fiberSides<3||this.meshes[o].fiberRadius<=0)){l=!0;continue}a.isMatcap&&(n.activeTexture(l2),n.bindTexture(n.TEXTURE_2D,this.matCapTexture)),n.bindVertexArray(this.meshes[o].vao),n.drawElements(n.TRIANGLES,this.meshes[o].indexCount,n.UNSIGNED_INT,0),n.bindVertexArray(this.unusedVAO)}if(!l){n.enable(n.BLEND),n.depthFunc(n.ALWAYS);return}a=this.fiberShader,a.use(this.gl),n.uniformMatrix4fv(a.uniforms.mvpMtx,!1,t),n.uniform1f(a.uniforms.opacity,e);for(let o=0;o<this.meshes.length;o++)this.meshes[o].indexCount<3||this.meshes[o].offsetPt0&&(this.meshes[o].fiberSides>=3&&this.meshes[o].fiberRadius>0||(n.bindVertexArray(this.meshes[o].vaoFiber),n.drawElements(n.LINE_STRIP,this.meshes[o].indexCount,n.UNSIGNED_INT,0),n.bindVertexArray(this.unusedVAO)));n.enable(n.BLEND),n.depthFunc(n.ALWAYS),this.readyForSync=!0}drawCrosshairs3D(i=!0,e=1,t=null,r=!1,s=!0){var g,A;if(!this.opts.show3Dcrosshair&&!r||this.opts.crosshairWidth<=0&&r)return;const n=this.gl,a=this.frac2mm(this.scene.crosshairPos,0,s);let l=1;const[o,h,d]=this.sceneExtentsMinMax(s);if(this.volumes.length>0){if(!this.back)throw new Error("back undefined");l=.5*Math.min(Math.min(this.back.pixDims[1],this.back.pixDims[2]),this.back.pixDims[3])}else(d[0]<50||d[0]>1e3)&&(l=d[0]*.02);if(l*=this.opts.crosshairWidth,((g=this.opts)==null?void 0:g.crosshairWidthUnit)==="percent"&&(l=d[0]*this.opts.crosshairWidth*.5*.01),((A=this.opts)==null?void 0:A.crosshairWidthUnit)==="mm"&&(l=this.opts.crosshairWidth*.5),(this.crosshairs3D===null||this.crosshairs3D.mm[0]!==a[0]||this.crosshairs3D.mm[1]!==a[1]||this.crosshairs3D.mm[2]!==a[2])&&(this.crosshairs3D!==null&&(n.deleteBuffer(this.crosshairs3D.indexBuffer),n.deleteBuffer(this.crosshairs3D.vertexBuffer)),this.crosshairs3D=ns.generateCrosshairs(this.gl,1,a,o,h,l,20,this.opts.crosshairGap),this.crosshairs3D.mm=a),!this.surfaceShader)throw new Error("surfaceShader undefined");const f=this.surfaceShader;f.use(this.gl),t==null&&([t]=this.calculateMvpMatrix(this.crosshairs3D,void 0,this.scene.renderAzimuth,this.scene.renderElevation)),n.uniformMatrix4fv(f.uniforms.mvpMtx,!1,t),n.disable(n.CULL_FACE),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.crosshairs3D.indexBuffer),n.enable(n.DEPTH_TEST);const p=[...this.opts.crosshairColor];i?(n.disable(n.BLEND),n.depthFunc(n.GREATER)):(n.enable(n.BLEND),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),n.depthFunc(n.ALWAYS)),p[3]=e,n.uniform4fv(f.uniforms.surfaceColor,p),n.bindVertexArray(this.crosshairs3D.vao),n.drawElements(n.TRIANGLES,this.crosshairs3D.indexCount,n.UNSIGNED_INT,0),n.bindVertexArray(this.unusedVAO)}mm2frac(i,e=0,t=!1){if(this.volumes.length<1){const r=Ue(.1,.5,.5),[s,n,a]=this.sceneExtentsMinMax();return r[0]=(i[0]-s[0])/a[0],r[1]=(i[1]-s[1])/a[1],r[2]=(i[2]-s[2])/a[2],isFinite(r)||(isFinite(r[0])||(r[0]=.5),isFinite(r[1])||(r[1]=.5),isFinite(r[2])||(r[2]=.5),this.meshes.length<1&&Z.error("mm2frac() not finite: objects not (yet) loaded.")),r}return this.volumes[e].convertMM2Frac(i,t||this.opts.isSliceMM)}vox2frac(i,e=0){return this.volumes[e].convertVox2Frac(i)}frac2vox(i,e=0){return this.volumes.length<=e?[0,0,0]:this.volumes[e].convertFrac2Vox(i)}moveCrosshairInVox(i,e,t){const r=this.frac2vox(this.scene.crosshairPos);r[0]+=i,r[1]+=e,r[2]+=t,r[0]=Vl(r[0],0,this.volumes[0].dimsRAS[1]-1),r[1]=Vl(r[1],0,this.volumes[0].dimsRAS[2]-1),r[2]=Vl(r[2],0,this.volumes[0].dimsRAS[3]-1),this.scene.crosshairPos=this.vox2frac(r),this.createOnLocationChange(),this.drawScene()}frac2mm(i,e=0,t=!1){const r=Kt(i[0],i[1],i[2],1);if(this.volumes.length>0)return this.volumes[e].convertFrac2MM(i,t||this.opts.isSliceMM);{const[s,n]=this.sceneExtentsMinMax(),a=(l,o,h)=>l*(1-h)+o*h;r[0]=a(s[0],n[0],i[0]),r[1]=a(s[1],n[1],i[1]),r[2]=a(s[2],n[2],i[2])}return r}screenXY2TextureFrac(i,e,t,r=!0){const s=Ue(-1,-1,-1),n=this.screenSlices[t].axCorSag;if(n>2)return s;const a=this.screenSlices[t].leftTopWidthHeight.slice();let l=!1;a[2]<0&&(l=!0,a[0]+=a[2],a[2]=-a[2]);let o=(i-a[0])/a[2];l&&(o=1-o);const h=1-(e-a[1])/a[3];if(o<0||o>1||h<0||h>1||this.screenSlices[t].AxyzMxy.length<4)return s;let d=Ue(0,0,0);d[0]=this.screenSlices[t].leftTopMM[0]+o*this.screenSlices[t].fovMM[0],d[1]=this.screenSlices[t].leftTopMM[1]+h*this.screenSlices[t].fovMM[1];const f=this.screenSlices[t].AxyzMxy;d[2]=f[2]+f[4]*(d[1]-f[1])-f[3]*(d[0]-f[0]),n===1&&(d=Ii(d,[0,2,1])),n===2&&(d=Ii(d,[2,0,1]));const p=this.mm2frac(d);return r&&(p[0]<0||p[0]>1||p[1]<0||p[1]>1||p[2]<0||p[2]>1)?s:p}canvasPos2frac(i){for(let e=0;e<this.screenSlices.length;e++){const t=this.screenXY2TextureFrac(i[0],i[1],e);if(t[0]>=0)return t}return[-1,-1,-1]}scaleSlice(i,e,t=[0,0],r=[0,0]){const s=r[0]===0?this.effectiveCanvasWidth()-t[0]:r[0]-t[0],n=r[1]===0?this.effectiveCanvasHeight()-t[1]:r[1]-t[1];let a=s/i;e*a>n&&(a=n/e);const l=i*a,o=e*a;return[(s-l)*.5,(n-o)*.5,l,o,a]}drawThumbnail(){if(!this.bmpShader)throw new Error("bmpShader undefined");this.bmpShader.use(this.gl),this.gl.uniform2f(this.bmpShader.uniforms.canvasWidthHeight,this.gl.canvas.width,this.gl.canvas.height);let i=this.gl.canvas.height,e=this.gl.canvas.height*this.bmpTextureWH;e>this.gl.canvas.width&&(i=this.gl.canvas.width/this.bmpTextureWH,e=this.gl.canvas.width);const t=(this.gl.canvas.width-e)/2,r=(this.gl.canvas.height-i)/2;this.gl.uniform4f(this.bmpShader.uniforms.leftTopWidthHeight,t,r,e,i),this.gl.bindVertexArray(this.genericVAO),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO)}drawLine(i,e=1,t=[1,0,0,-1]){if(this.gl.bindVertexArray(this.genericVAO),!this.lineShader)throw new Error("lineShader undefined");this.lineShader.use(this.gl),t[3]<0&&(t=this.opts.crosshairColor),this.gl.uniform4fv(this.lineShader.uniforms.lineColor,t),this.gl.uniform2fv(this.lineShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform1f(this.lineShader.uniforms.thickness,e),this.gl.uniform4fv(this.lineShader.uniforms.startXYendXY,i),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO)}draw3DLine(i,e,t=1,r=[1,0,0,-1]){if(this.gl.bindVertexArray(this.genericVAO),!this.line3DShader)throw new Error("line3DShader undefined");this.line3DShader.use(this.gl),r[3]<0&&(r=this.opts.crosshairColor),this.gl.uniform4fv(this.line3DShader.uniforms.lineColor,r),this.gl.uniform2fv(this.line3DShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform1f(this.line3DShader.uniforms.thickness,t),this.gl.uniform2fv(this.line3DShader.uniforms.startXY,i),this.gl.uniform3fv(this.line3DShader.uniforms.endXYZ,e),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.gl.bindVertexArray(this.unusedVAO)}drawDottedLine(i,e=1,t=[1,0,0,-1]){if(this.gl.bindVertexArray(this.genericVAO),!this.lineShader)throw new Error("lineShader undefined");this.lineShader.use(this.gl);const r=t[3]<0?[...this.opts.crosshairColor]:[...t];r[3]=.3;const s=qu(i[2]-i[0],i[3]-i[1]),n=Gu(s);qg(s,s);const l=this.opts.textHeight*Math.min(this.gl.canvas.height,this.gl.canvas.width)*1;Og(s,s,l/2);const o=Gu(s);let h=Math.floor(n/o);n%o&&h++;const d=[i[0],i[1]];this.gl.uniform4fv(this.lineShader.uniforms.lineColor,r),this.gl.uniform2fv(this.lineShader.uniforms.canvasWidthHeight,[this.gl.canvas.width,this.gl.canvas.height]),this.gl.uniform1f(this.lineShader.uniforms.thickness,e);for(let f=0;f<h-1;f++){if(f%2){d[0]+=s[0],d[1]+=s[1];continue}const p=[d[0],d[1],d[0]+s[0],d[1]+s[1]];this.gl.uniform4fv(this.lineShader.uniforms.startXYendXY,p),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),d[0]+=s[0],d[1]+=s[1]}this.gl.bindVertexArray(this.unusedVAO)}drawGraphLine(i,e=[1,0,0,.5],t=2){this.drawLine(i,t,e)}drawCrossLinesMM(i,e,t,r,s){if(i<0||this.screenSlices.length<=i)return;const n=this.screenSlices[i];let a=n.sliceFrac;a===1/0&&Z.warn("Rendering approximate cross lines in world view mode"),a===1/0&&(a=.5);let o=r.slice(),h=s.slice();const d=Math.max(1,this.opts.crosshairWidth);e===1&&(o=t.slice()),e===2&&(o=t.slice(),h=r.slice());function f(p){const g=qu(0,0);return g[0]=n.leftTopWidthHeight[0]+(p[0]-n.leftTopMM[0])/n.fovMM[0]*n.leftTopWidthHeight[2],g[1]=n.leftTopWidthHeight[1]+n.leftTopWidthHeight[3]-(p[1]-n.leftTopMM[1])/n.fovMM[1]*n.leftTopWidthHeight[3],g}if(o.length>0&&e===0){const p=a,g=1;for(let A=0;A<o.length;A++){const x=this.frac2mm([.5,.5,.5]);x[g]=o[A];let y=this.mm2frac(x);y=y[g];let b=this.frac2mm([0,y,p]);b=Ii(b,[0,1,2]);let T=this.frac2mm([1,y,p]);T=Ii(T,[0,1,2]),b=f(b),T=f(T),this.drawLine([b[0],b[1],T[0],T[1]],d)}}if(o.length>0&&e===1){const p=a,g=2;for(let A=0;A<o.length;A++){const x=this.frac2mm([.5,.5,.5]);x[g]=o[A];let y=this.mm2frac(x);y=y[g];let b=this.frac2mm([0,p,y]);b=Ii(b,[0,2,1]);let T=this.frac2mm([1,p,y]);T=Ii(T,[0,2,1]),b=f(b),T=f(T),this.drawLine([b[0],b[1],T[0],T[1]],d)}}if(o.length>0&&e===2){const p=a,g=2;for(let A=0;A<o.length;A++){const x=this.frac2mm([.5,.5,.5]);x[g]=o[A];let y=this.mm2frac(x);y=y[g];let b=this.frac2mm([p,0,y]);b=Ii(b,[1,2,0]);let T=this.frac2mm([p,1,y]);T=Ii(T,[1,2,0]),b=f(b),T=f(T),this.drawLine([b[0],b[1],T[0],T[1]],d)}}if(h.length>0&&e===0){const p=a,g=0;for(let A=0;A<h.length;A++){const x=this.frac2mm([.5,.5,.5]);x[g]=h[A];let y=this.mm2frac(x);y=y[g];let b=this.frac2mm([y,0,p]);b=Ii(b,[0,1,2]);let T=this.frac2mm([y,1,p]);T=Ii(T,[0,1,2]),b=f(b),T=f(T),this.drawLine([b[0],b[1],T[0],T[1]],d)}}if(h.length>0&&e===1){const p=a,g=0;for(let A=0;A<h.length;A++){const x=this.frac2mm([.5,.5,.5]);x[g]=h[A];let y=this.mm2frac(x);y=y[g];let b=this.frac2mm([y,p,0]);b=Ii(b,[0,2,1]);let T=this.frac2mm([y,p,1]);T=Ii(T,[0,2,1]),b=f(b),T=f(T),this.drawLine([b[0],b[1],T[0],T[1]],d)}}if(h.length>0&&e===2){const p=a,g=1;for(let A=0;A<h.length;A++){const x=this.frac2mm([.5,.5,.5]);x[g]=h[A];let y=this.mm2frac(x);y=y[g];let b=this.frac2mm([p,y,0]);b=Ii(b,[1,2,0]);let T=this.frac2mm([p,y,1]);T=Ii(T,[1,2,0]),b=f(b),T=f(T),this.drawLine([b[0],b[1],T[0],T[1]],d)}}}drawCrossLines(i,e,t,r,s){if(i<0||this.screenSlices.length<=i)return;if(this.opts.isSliceMM)return this.drawCrossLinesMM(i,e,t,r,s);if(this.screenSlices[i].sliceFrac===1/0)return this.drawCrossLinesMM(i,e,t,r,s);const n=this.screenSlices[i];let a=r.slice(),l=s.slice();if(e===1&&(a=t.slice()),e===2&&(a=t.slice(),l=r.slice()),a.length>0){const o=n.leftTopWidthHeight.slice();let h=2;e===0&&(h=1);const d=this.frac2mm([.5,.5,.5]);for(let f=0;f<a.length;f++){d[h]=a[f];const p=this.mm2frac(d);this.drawRect([o[0],o[1]+o[3]-p[h]*o[3],o[2],1])}}if(l.length>0){const o=n.leftTopWidthHeight.slice(),h=n.fovMM[0]<0;let d=0;e===2&&(d=1);const f=this.frac2mm([.5,.5,.5]);for(let p=0;p<l.length;p++){f[d]=l[p];const g=this.mm2frac(f);h?this.drawRect([o[0]+(o[2]-g[d]*o[2]),o[1],1,o[3]]):this.drawRect([o[0]+g[d]*o[2],o[1],1,o[3]])}}}drawMosaic(i){if(this.volumes.length===0){Z.debug("Unable to draw mosaic until voxel-based image is loaded");return}this.screenSlices=[];const e=this.screenFieldOfViewMM(0,!0),t=this.screenFieldOfViewMM(0);i=i.replaceAll(";"," ;").trim();const r=[],s=[],n=[],a=i.split(/\s+/);let l=1;const o=this.opts.textHeight;let h=0,d=0;for(let f=0;f<2;f++){let p=!1,g=!1;p=!1;let A=0,x=0,y=0,b=0,T=!1,D=0;for(let R=0;R<a.length;R++){const B=a[R];if(B.includes("X")){g=!0;continue}if(B.includes("L")){T=!B.includes("-");continue}if(B.includes("V")||B.includes("H")){R++;continue}B.includes("A")&&(D=0),B.includes("C")&&(D=1),B.includes("S")&&(D=2),B.includes("R")&&(p=!0),B.includes(";")&&(y+=A,b=Math.max(b,x),A=0,x=0);const N=parseFloat(B);if(isNaN(N))continue;let L=0,O=0,q=t;if(p&&(q=e),D===2?L=q[1]:L=q[0],D===0?O=q[1]:O=q[2],f===0)p||(D===0&&r.push(N),D===1&&s.push(N),D===2&&n.push(N));else{const U=[h+l*x,d+l*y,l*L,l*O];if(this.opts.textHeight=T?o:0,p){let j=N<0?-1/0:1/0;Object.is(N,-0)&&(j=-1/0),this.draw2D(U,D,j)}else this.draw2D(U,D,N);g&&this.drawCrossLines(this.screenSlices.length-1,D,r,s,n),p=!1,g=!1}x+=L,A=Math.max(A,O)}if(y+=A,b=Math.max(b,x),b<=0||y<=0)break;const S=this.gl.canvas.width/b,k=this.effectiveCanvasHeight()/y;l=Math.min(S,k),this.opts.centerMosaic&&(h=Math.floor(.5*(this.gl.canvas.width-b*l)),d=Math.floor(.5*(this.effectiveCanvasHeight()-y*l)))}this.opts.textHeight=o}calculateWidthHeight(i,e,t,r){let s,n;switch(i){case 0:s=e[0],n=e[1];break;case 1:s=e[0],n=e[2];break;case 2:s=e[1],n=e[2];break;default:return[t,r]}const a=s/n,l=t/r;let o,h;return a>l?(o=t,h=t/a):(h=r,o=r*a),[o,h]}drawSceneCore(){var s,n,a;if(!this.initialized)return;if(this.colorbarHeight=0,this.gl.clearColor(this.opts.backColor[0],this.opts.backColor[1],this.opts.backColor[2],this.opts.backColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this.bmpTexture&&this.thumbnailVisible){this.drawThumbnail();return}let i="";if(this.volumes.length===0||typeof this.volumes[0].dims>"u"){if(this.meshes.length>0){this.screenSlices=[],this.draw3D(),this.opts.isColorbar&&this.drawColorbar();return}this.drawLoadingText(this.opts.loadingText);return}if(this.uiData.isDragging&&this.scene.clipPlaneDepthAziElev[0]<1.8&&this.inRenderTile(this.uiData.dragStart[0],this.uiData.dragStart[1])>=0){const l=this.uiData.dragStart[0]-this.uiData.dragEnd[0],o=this.uiData.dragStart[1]-this.uiData.dragEnd[1],h=this.uiData.dragClipPlaneStartDepthAziElev.slice();if(h[1]-=l,h[1]=h[1]%360,h[2]+=o,h[1]!==this.scene.clipPlaneDepthAziElev[1]||h[2]!==this.scene.clipPlaneDepthAziElev[2])return this.scene.clipPlaneDepthAziElev=h,this.setClipPlane(this.scene.clipPlaneDepthAziElev)}if(this.sliceMosaicString.length<1&&this.opts.sliceType===4){this.opts.isColorbar&&this.reserveColorbarPanel(),this.screenSlices=[],this.draw3D(),this.opts.isColorbar&&this.drawColorbar();return}this.opts.isColorbar&&this.reserveColorbarPanel();const e=this.getMaxVols(),t=this.opts.sliceType===3&&e>1&&this.graph.autoSizeMultiplanar&&this.graph.opacity>0;if(this.sliceMosaicString.length>0)this.drawMosaic(this.sliceMosaicString);else{const l=[0,0];let o=!1;if(this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.screenSlices=[],this.customLayout&&this.customLayout.length>0){this.screenSlices=[],this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height);const{volScale:h}=this.sliceScale(),d=[this.effectiveCanvasWidth(),this.effectiveCanvasHeight()];for(const f of this.customLayout){const{sliceType:p,position:g,sliceMM:A}=f,x=g.slice();if(g[0]>=0&&g[0]<=1&&g[2]<=1&&(x[0]=g[0]*d[0],x[2]=g[2]*d[0]),g[1]>=0&&g[1]<=1&&g[3]<=1&&(x[1]=g[1]*d[1],x[3]=g[3]*d[1]),x[0]+x[2]>d[0]&&(Z.warn("adjusting slice width because it would have been clipped"),x[2]=d[0]-x[0]),x[1]+x[3]>d[1]&&(Z.warn("adjusting slice height because it would have been clipped"),x[3]=d[1]-x[1]),p===4)this.draw3D(x);else if(p===0||p===1||p===2){const y=this.calculateWidthHeight(p,h,x[2],x[3]);this.draw2D(x,p,A??NaN,y)}}}else if(this.opts.sliceType===0)this.draw2D([0,0,0,0],0);else if(this.opts.sliceType===1)this.draw2D([0,0,0,0],1);else if(this.opts.sliceType===2)this.draw2D([0,0,0,0],2);else{let h=function(Ae,qe){return[(Ae-1)*A+Ae*x,(qe-1)*A+qe*x]},d=!1;this.opts.multiplanarForceRender?(d=!0,this.opts.multiplanarForceRender?this.opts.multiplanarShowRender=1:this.opts.multiplanarShowRender=2,delete this.opts.multiplanarForceRender):this.opts.multiplanarShowRender===1&&(d=!0);const f=isFinite(this.drawPenLocation[0])&&this.opts.drawingEnabled,{volScale:p}=this.sliceScale(),g=p.slice();this.opts.multiplanarEqualSize&&(p[0]=1,p[1]=1,p[2]=1),typeof this.opts.multiplanarPadPixels!="number"&&Z.debug("multiplanarPadPixels must be numeric");const A=parseFloat(`${this.opts.multiplanarPadPixels}`);let x=this.opts.tileMargin;x<0&&(x=2*(2+Math.ceil(Math.max(this.opts.textHeight,.01)*Math.min(this.gl.canvas.height,this.gl.canvas.width))));let y=[this.effectiveCanvasWidth(),this.effectiveCanvasHeight()];this.opts.heroImageFraction>0&&this.opts.heroImageFraction<1&&(d=!1,o=!0,y[0]>y[1]&&this.opts.multiplanarLayout!==3?l[0]=y[0]*this.opts.heroImageFraction:l[1]=y[1]*this.opts.heroImageFraction,y=[y[0]-l[0],y[1]-l[1]]);const b=this.scaleSlice(p[0]+p[1],p[1]+p[2],h(2,2),y),T=Math.max(Math.max(p[1],p[2]),p[0]),D=this.scaleSlice(p[0]+p[0]+p[1],Math.max(p[1],p[2]),h(3,1),y),S=this.scaleSlice(p[0]+p[0]+p[1]+T,Math.max(p[1],p[2]),h(4,1),y),k=this.scaleSlice(T,p[1]+p[2]+p[2],h(1,3),y),R=this.scaleSlice(T,p[1]+p[2]+p[2]+T,h(1,4),y);let B=!f&&(e<2||!t),N=!1,L=!1,O=!1;this.opts.multiplanarLayout===1?N=!0:this.opts.multiplanarLayout===2?L=!0:this.opts.multiplanarLayout===3?O=!0:k[4]>D[4]&&k[4]>b[4]?N=!0:D[4]>b[4]?O=!0:L=!0;let q=b;if(N?(q=k,!o&&(d||this.opts.multiplanarShowRender===2&&R[4]>=k[4])?q=R:B=!1):O&&(q=D,!o&&(d||this.opts.multiplanarShowRender===2&&S[4]>=D[4])?q=S:B=!1),o){const Ae=l[0]===0?this.effectiveCanvasWidth():l[0],qe=l[1]===0?this.effectiveCanvasHeight():l[1];if(((s=this.opts)==null?void 0:s.heroSliceType)===0||((n=this.opts)==null?void 0:n.heroSliceType)===1||((a=this.opts)==null?void 0:a.heroSliceType)===2)this.draw2D([0,0,Ae,qe],this.opts.heroSliceType,NaN,[1/0,1/0]);else{const Qe=q.slice(),Fe=this.effectiveCanvasWidth();Ae===Fe&&(Qe[0]=0),this.draw3D([Qe[0],0,Ae,qe])}q[0]+=l[0],q[1]+=l[1],B=!1}const U=p[0]*q[4]+x,j=p[1]*q[4]+x,X=p[2]*q[4]+x,re=g[0]*q[4],oe=g[1]*q[4],he=g[2]*q[4];if(N){if(this.draw2D([q[0],q[1],U,j],0,NaN,[re,oe]),this.draw2D([q[0],q[1]+j+A,U,X],1,NaN,[re,he]),this.draw2D([q[0],q[1]+j+A+X+A,j,X],2,NaN,[oe,he]),B){const Ae=T*q[4];this.draw3D([q[0],q[1]+j+X+X+A*3,Ae,Ae])}}else if(O){if(this.draw2D([q[0],q[1],U,j],0,NaN,[re,oe]),this.draw2D([q[0]+U+A,q[1],U,X],1,NaN,[re,he]),this.draw2D([q[0]+U+U+A*2,q[1],j,X],2,NaN,[oe,he]),B){const Ae=T*q[4];this.draw3D([q[0]+U+U+j+A*3,q[1],Ae,Ae])}}else L&&(d||(B=!1),this.opts.multiplanarShowRender===2&&(B=!0),o&&(B=!1),this.draw2D([q[0],q[1]+X+A,U,j],0,NaN,[re,oe]),this.draw2D([q[0],q[1],U,X],1,NaN,[re,he]),this.draw2D([q[0]+U+A,q[1],j,X],2,NaN,[oe,he]),B&&this.draw3D([q[0]+U+A,q[1]+X+A,j,j]))}}if(this.opts.isRuler&&this.drawRuler(),this.opts.isColorbar&&this.drawColorbar(),t&&this.drawGraph(),this.uiData.isDragging){if(this.uiData.mouseButtonCenterDown){this.dragForCenterButton([this.uiData.dragStart[0],this.uiData.dragStart[1],this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);return}if(this.opts.dragMode===4){this.dragForSlicer3D([this.uiData.dragStart[0],this.uiData.dragStart[1],this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);return}if(this.opts.dragMode===3){this.dragForPanZoom([this.uiData.dragStart[0],this.uiData.dragStart[1],this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);return}if(this.inRenderTile(this.uiData.dragStart[0],this.uiData.dragStart[1])>=0)return;if(this.opts.dragMode===2){this.drawMeasurementTool([this.uiData.dragStart[0],this.uiData.dragStart[1],this.uiData.dragEnd[0],this.uiData.dragEnd[1]]);return}const l=Math.abs(this.uiData.dragStart[0]-this.uiData.dragEnd[0]),o=Math.abs(this.uiData.dragStart[1]-this.uiData.dragEnd[1]);this.drawSelectionBox([Math.min(this.uiData.dragStart[0],this.uiData.dragEnd[0]),Math.min(this.uiData.dragStart[1],this.uiData.dragEnd[1]),l,o]);return}const r=this.frac2mm([this.scene.crosshairPos[0],this.scene.crosshairPos[1],this.scene.crosshairPos[2]]);return i=r[0].toFixed(2)+"×"+r[1].toFixed(2)+"×"+r[2].toFixed(2),this.readyForSync=!0,this.sync(),this.drawAnchoredLabels(),i}drawScene(){if(this.isBusy){this.needsRefresh=!0;return}this.isBusy=!1,this.needsRefresh=!1;let i=this.drawSceneCore();return this._gl!==null&&this.gl.finish(),this.needsRefresh&&(i=this.drawScene()),i}get gl(){if(!this._gl)throw new Error("unable to get WebGL context. Maybe the browser doesn't support WebGL2.");return this._gl}set gl(i){this._gl=i}};const dv={class:"article-container"},mv={class:"article-content"},fv={class:"algorithm-container"},pv={class:"algorithm-box"},gv={class:"algorithm-content"},vv={class:"algorithm-line"},Av={class:"algorithm-line"},xv={class:"algorithm-line"},bv={class:"algorithm-line"},yv={class:"algorithm-line"},wv={class:"algorithm-line"},Sv={class:"algorithm-line"},Mv={class:"algorithm-container"},Cv={class:"algorithm-box"},Tv={class:"algorithm-content"},Dv={class:"algorithm-line"},kv={class:"algorithm-line"},Iv={class:"algorithm-line"},Ev={class:"algorithm-line"},Fv={class:"algorithm-line"},Bv={class:"algorithm-line"},Nv={class:"algorithm-line"},Rv={class:"algorithm-line"},Vv={class:"algorithm-container"},Uv={class:"algorithm-box"},zv={class:"algorithm-content"},Pv={class:"algorithm-line"},Lv={class:"algorithm-line"},Ov={class:"algorithm-line"},qv={class:"algorithm-line"},Gv={__name:"Article",setup(i){return k1(()=>{const e=new uv({isColorbar:!0,isOrientationCube:!0,backColor:[0,0,0,1]});e.attachTo("niivue-canvas");const t=[{url:"https://niivue.github.io/niivue-demo-images/mni152.nii.gz",colormap:"gray",opacity:1,visible:!0}];e.loadVolumes(t)}),(e,t)=>(Mi(),$i("div",dv,[ge($3,{title:"Bridging the Data Gap: Leveraging AI to Address Data Scarcity in Medical Imaging",subtitle:"Github Respositoties :https://github.com/yushiran/ELEC0139_BLOG_SN24076607",author:"SN: 24076607"}),H("div",mv,[ge(Kn,{id:"application-domain",title:"Application Domain and Challenges"},{default:Bt(()=>[ge(zr,{id:"application-domin-medical-imaging",title:"The Application Domain: Medical Imaging"},{default:Bt(()=>[t[4]||(t[4]=H("p",null," Medical imaging is a critical field in healthcare, providing essential tools for diagnosing and monitoring diseases. It encompasses various imaging modalities, including X-rays, CT scans, MRI, and ultrasound, each with its unique strengths and applications. ",-1)),H("p",null,[t[0]||(t[0]=le(" The segmentation process plays a fundamental role in medical image analysis by enabling pixel-level identification of anatomical structures, facilitating precise diagnosis and personalized treatment ")),ge(Ct,{citationKey:"kumarTripleClippedHistogramBased2021"}),t[1]||(t[1]=le(". CT imaging, for instance, has been extensively used in diagnosing lung infections during the COVID-19 pandemic ")),ge(Ct,{citationKey:"LIU2020244"}),ge(Ct,{citationKey:"9446143"}),ge(Ct,{citationKey:"YI2019101552"}),t[2]||(t[2]=le(". While manual segmentation by radiologists is accurate, it remains labor-intensive, time-consuming, and costly, driving demand for automated methods using deep learning ")),ge(Ct,{citationKey:"TAJBAKHSH2020101693"}),t[3]||(t[3]=le(". These computational approaches address efficiency challenges while maintaining the diagnostic value that makes medical imaging indispensable in contemporary healthcare systems. "))]),t[5]||(t[5]=H("div",{class:"niivue-container"},[H("canvas",{id:"niivue-canvas",style:{width:"50%",height:"300px"}})],-1)),t[6]||(t[6]=H("p",{class:"image-caption"},"MNI152 brain MRI image. Click and drag to rotate; scroll to zoom.",-1))]),_:1}),ge(zr,{id:"challenges-in-medical-imaging",title:"Current Challenges: Data Scarcity and Its Implications"},{default:Bt(()=>[t[11]||(t[11]=H("p",null," Medical image segmentation has witnessed tremendous progress with deep learning, yet its success remains heavily dependent on the availability of large-scale, high-quality annotated datasets. Unfortunately, several persistent challenges hinder the widespread deployment of AI models in medical imaging, especially in real-world clinical environments. ",-1)),ge(xr,{id:"limited-annotated-datasets",title:"Limited Annotated Datasets"},{default:Bt(()=>[H("p",null,[t[7]||(t[7]=le(" Obtaining labeled medical imaging data is a labor-intensive and costly process, typically requiring the expertise of trained radiologists and high-end equipment. Manual annotation, such as pixel-wise segmentation, is especially time-consuming. As a result, the availability of large annotated datasets remains limited​. Moreover, privacy regulations and patient confidentiality further restrict data sharing and public availability​ ")),ge(Ct,{citationKey:"TAJBAKHSH2020101693"}),t[8]||(t[8]=le(". "))])]),_:1}),ge(xr,{id:"bias-and-generalizability-issues",title:"Bias and Generalizability Issues"},{default:Bt(()=>t[9]||(t[9]=[H("p",null," Even when labeled datasets are available, they are often limited in diversity, both demographically and technically (e.g., variation in scanner models or acquisition protocols). This lack of heterogeneity leads to significant distribution shift problems when models trained on one dataset are deployed on another, ultimately affecting their generalization performance across populations and institutions​. ",-1)])),_:1}),ge(xr,{id:"resource-constraints",title:"Resource Constraints"},{default:Bt(()=>t[10]||(t[10]=[H("p",null," Healthcare systems in low- and middle-income regions face acute shortages in data collection infrastructure and medical imaging resources. The high costs of annotation and hardware requirements for data processing place an additional burden on AI development in such contexts. While deep learning architectures like U-Nets are widely adopted in academic research, deploying them in under-resourced settings remains a formidable challenge​. ",-1)])),_:1})]),_:1}),ge(zr,{id:"the-case-for-technologies",title:"The Case for AI/ML Technologies"},{default:Bt(()=>[t[20]||(t[20]=H("p",null," This subsection makes the case for adopting machine learning and artificial intelligence technologies to address the challenges and improve outcomes in the application domain. ",-1)),ge(xr,{id:"efficient-data-utilization",title:"Efficient Data Utilization"},{default:Bt(()=>[H("p",null,[t[12]||(t[12]=le(" AI techniques, especially deep learning architectures like U-Nets, are capable of learning meaningful spatial and semantic patterns even from limited labeled data. When designed appropriately, such models can achieve strong segmentation performance despite inherent challenges like noise and distribution shift​ ")),ge(Ct,{citationKey:"vermaRoleDeepLearning2023"}),t[13]||(t[13]=le(". Moreover, hybrid architectures such as U-Net++ and attention mechanisms have further improved efficiency and robustness​ ")),ge(Ct,{citationKey:"zhouUNetNestedUNet2018"}),t[14]||(t[14]=le(". "))])]),_:1}),ge(xr,{id:"synthetic-data-generation",title:"Synthetic Data Generation"},{default:Bt(()=>[H("p",null,[t[15]||(t[15]=le(" Synthetic data generation using generative adversarial networks (GANs) is one of the most promising avenues for alleviating labeled data scarcity. For instance, models like Cycle-GANs and conditional GANs have been used to generate high-fidelity synthetic MRI and ultrasound images that closely resemble real samples, including segmentation labels. These synthetic datasets, when used in model training, have shown comparable performance to real data ")),ge(Ct,{citationKey:"9324763"}),ge(Ct,{citationKey:"shinMedicalImageSynthesis2018"}),t[16]||(t[16]=le("​. "))]),t[17]||(t[17]=H("div",{class:"video-container"},[H("iframe",{width:"70%",height:"auto",style:{"aspect-ratio":"16/9"},src:"https://www.youtube.com/embed/YHTSdd8-bnc?si=P-RpcNtfG3P1h1bj",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""})],-1))]),_:1}),ge(xr,{id:"self-supervised-learning",title:"Self-Supervised Learning"},{default:Bt(()=>[H("p",null,[t[18]||(t[18]=le(" Self-supervised learning (SSL) has gained traction in medical image analysis due to its ability to leverage vast amounts of unlabeled data. Techniques such as context restoration, multi-modal feature fusion, and attention-based pseudo labeling enable models to learn robust representations without requiring ground-truth masks​ ")),ge(Ct,{citationKey:"CHAITANYA2021101934"}),ge(Ct,{citationKey:"zhengHierarchicalSelfsupervisedLearning2021"}),t[19]||(t[19]=le(". "))])]),_:1})]),_:1})]),_:1}),ge(Kn,{id:"solutions-to-data-scarcity-in-medical-imaging",title:"AI/ML Solutions to Data Scarcity in Medical Imaging"},{default:Bt(()=>[ge(zr,{id:"self-supervised-learning",title:"Self-Supervised Learning (SSL)"},{default:Bt(()=>[H("p",null,[t[21]||(t[21]=le(" Self-supervised learning (SSL) enables the use of large amounts of unlabeled data to pretrain neural networks by defining pretext tasks—artificial supervision signals derived from the data itself. In medical imaging, this is particularly valuable, as obtaining labeled data is expensive and requires expert input​. Chen et al. (2019) ")),ge(Ct,{citationKey:"chenSelfsupervisedLearningMedical2019"}),t[22]||(t[22]=le(" proposed a context restoration strategy tailored to the characteristics of medical images. The method corrupts the spatial arrangement of an image by swapping randomly selected patches and then trains a convolutional neural network (CNN) to restore the original image. This process forces the network to learn semantic-level image representations, which are transferable to downstream tasks such as classification, localization, and segmentation​. Context restoration SSL offers key advantages in medical imaging applications. The method encourages networks to learn semantic representations by correcting structural inconsistencies. The learned features can effectively initialize both encoder and decoder components of downstream CNNs, which is particularly valuable for segmentation tasks requiring image-to-image mapping. This approach is also implementation-friendly, requiring minimal modifications to existing architectures and training pipelines, facilitating adoption in contexts where annotated data is scarce. "))]),ge(xr,{id:"methodology",title:"Methodology"},{default:Bt(()=>[H("p",null,[t[23]||(t[23]=le(" Let ")),ge(_e,{formula:"\\mathcal{X} = \\{x_1, x_2, \\ldots, x_N\\}"}),t[24]||(t[24]=le(" be a set of unlabeled medical images. A corruption function ")),ge(_e,{formula:"\\mathcal{R}"}),t[25]||(t[25]=le(" generates a disordered image ")),ge(_e,{formula:"\\tilde{x}_i"}),t[26]||(t[26]=le(": ")),ge(Xi,{formula:"\\tilde{x}_i = \\mathcal{R}(x_i)"}),t[27]||(t[27]=le(" A CNN model ")),ge(_e,{formula:"g(\\cdot)"}),t[28]||(t[28]=le(" has two parts: ")),ge(Xi,{formula:"x_i = g(\\tilde{x}_i) \\approx f^{-1}(\\tilde{x}_i)"}),t[29]||(t[29]=le(" The training objective is to minimize the pixel-wise L2 reconstruction loss: ")),ge(Xi,{formula:"\\mathcal{L}_{\\text{SSL}} = \\left\\| x_i - g(\\tilde{x}_i) \\right\\|_2^2"})]),H("p",null,[t[30]||(t[30]=le(" The corruption function ")),ge(_e,{formula:"\\mathcal{R}"}),t[31]||(t[31]=le(" randomly selects and swaps image patches: "))]),H("div",fv,[H("div",pv,[t[70]||(t[70]=H("div",{class:"algorithm-title"},"Algorithm 1 Image Context Disordering",-1)),H("div",gv,[H("div",vv,[t[32]||(t[32]=H("span",{class:"line-number"},"1:",-1)),t[33]||(t[33]=le()),t[34]||(t[34]=H("span",{class:"algorithm-keyword"},"Input:",-1)),t[35]||(t[35]=le(" original image ")),ge(_e,{formula:"x_i"})]),H("div",Av,[t[36]||(t[36]=H("span",{class:"line-number"},"2:",-1)),t[37]||(t[37]=le()),t[38]||(t[38]=H("span",{class:"algorithm-keyword"},"Output:",-1)),t[39]||(t[39]=le(" image with disordered context ")),ge(_e,{formula:"\\tilde{x}_i"})]),H("div",xv,[t[40]||(t[40]=H("span",{class:"line-number"},"3:",-1)),t[41]||(t[41]=le()),t[42]||(t[42]=H("span",{class:"algorithm-keyword"},"for",-1)),t[43]||(t[43]=le()),ge(_e,{formula:"t = 1"}),t[44]||(t[44]=le(" to ")),ge(_e,{formula:"T"}),t[45]||(t[45]=le()),t[46]||(t[46]=H("span",{class:"algorithm-keyword"},"do",-1))]),H("div",bv,[t[47]||(t[47]=H("span",{class:"line-number"},"4:",-1)),t[48]||(t[48]=le()),t[49]||(t[49]=H("span",{class:"algorithm-indent"},null,-1)),t[50]||(t[50]=le("randomly select patch ")),ge(_e,{formula:"p_1 \\in x_i"})]),H("div",yv,[t[51]||(t[51]=H("span",{class:"line-number"},"5:",-1)),t[52]||(t[52]=le()),t[53]||(t[53]=H("span",{class:"algorithm-indent"},null,-1)),t[54]||(t[54]=le("randomly select patch ")),ge(_e,{formula:"p_2 \\in x_i"})]),H("div",wv,[t[55]||(t[55]=H("span",{class:"line-number"},"6:",-1)),t[56]||(t[56]=le()),t[57]||(t[57]=H("span",{class:"algorithm-indent"},null,-1)),t[58]||(t[58]=H("span",{class:"algorithm-keyword"},"if",-1)),t[59]||(t[59]=le()),ge(_e,{formula:"p_1 \\cap p_2 = \\emptyset"}),t[60]||(t[60]=le()),t[61]||(t[61]=H("span",{class:"algorithm-keyword"},"then",-1))]),H("div",Sv,[t[62]||(t[62]=H("span",{class:"line-number"},"7:",-1)),t[63]||(t[63]=le()),t[64]||(t[64]=H("span",{class:"algorithm-indent"},null,-1)),t[65]||(t[65]=H("span",{class:"algorithm-indent"},null,-1)),t[66]||(t[66]=le("swap ")),ge(_e,{formula:"p_1"}),t[67]||(t[67]=le(" and ")),ge(_e,{formula:"p_2"})]),t[68]||(t[68]=H("div",{class:"algorithm-line"},[H("span",{class:"line-number"},"8:"),le(),H("span",{class:"algorithm-indent"}),H("span",{class:"algorithm-keyword"},"end if")],-1)),t[69]||(t[69]=H("div",{class:"algorithm-line"},[H("span",{class:"line-number"},"9:"),le(),H("span",{class:"algorithm-keyword"},"end for")],-1))])])]),H("p",null,[t[71]||(t[71]=le(" The CNN model ")),ge(_e,{formula:"g(\\cdot)"}),t[72]||(t[72]=le(" has two parts: "))]),t[78]||(t[78]=H("div",{class:"diagram",style:{"max-width":"70%",margin:"1rem auto"}},[H("img",{src:q3,alt:"General CNN architecture for context restoration SSL"}),H("p",{class:"image-caption"},"General CNN architecture for context restoration SSL. Blue, green, and orange strides represent convolutional, downsampling, and upsampling units, respectively.")],-1)),H("ul",null,[H("li",null,[t[73]||(t[73]=H("strong",null,"Analysis Part:",-1)),t[74]||(t[74]=le(" an encoder that extracts features from the disordered image. It may include convolutional layers, residual blocks ")),ge(Ct,{citationKey:"He2015DeepRL"}),t[75]||(t[75]=le(", or inception modules ")),ge(Ct,{citationKey:"Szegedy2015RethinkingTI"}),t[76]||(t[76]=le(". "))]),t[77]||(t[77]=H("li",null,[H("strong",null,"Reconstruction Part:"),le(" a decoder that upsamples the features and reconstructs the image in correct spatial order.")],-1))]),t[79]||(t[79]=H("div",{class:"diagram",style:{"max-width":"50%",margin:"1rem auto"}},[H("img",{src:G3,alt:"Examples of training images for self-supervised context disordering"}),H("p",{class:"image-caption"},"Examples of training images for self-supervised context disordering. The second column highlights swapped patches after the first iteration.")],-1))]),_:1}),ge(xr,{id:"applications-and-evaluation",title:"Applications and Evaluation"},{default:Bt(()=>t[80]||(t[80]=[H("ul",null,[H("li",null,[H("strong",null,"Classification:"),le(" On fetal ultrasound images, context restoration pretraining improved the F1-score by over 7 percentage points compared to random initialization with only 25% of training data​.")]),H("li",null,[H("strong",null,"Localization:"),le(" For abdominal organ localization in CT images, models initialized via context restoration outperformed those trained with auto-encoders or relative position tasks, especially under data-limited settings​.")]),H("li",null,[H("strong",null,"Segmentation:"),le(" In brain tumor segmentation using multi-modal MRI, models with context restoration pretraining achieved higher Dice scores and lower Hausdorff distances than all other SSL and baseline methods​.")])],-1)])),_:1})]),_:1}),ge(zr,{id:"reinforcement-learning",title:"Reinforcement Learning (RL)"},{default:Bt(()=>[H("p",null,[t[81]||(t[81]=le(" Reinforcement Learning (RL) is a powerful machine learning paradigm in which an agent learns to interact with its environment by receiving feedback in the form of rewards. Unlike supervised learning, which relies heavily on large-scale annotated datasets, RL can operate effectively with minimal labeled data, making it particularly attractive in medical imaging domains where data scarcity is a major challenge ")),ge(Ct,{citationKey:"huReinforcementLearningMedical2023"}),t[82]||(t[82]=le(". "))]),H("p",null,[t[83]||(t[83]=le(" An RL framework is typically defined by a set of core components: ")),t[84]||(t[84]=H("strong",null,"state",-1)),t[85]||(t[85]=le(" (the environment observation), ")),t[86]||(t[86]=H("strong",null,"action",-1)),t[87]||(t[87]=le(" (possible moves the agent can make), ")),t[88]||(t[88]=H("strong",null,"reward",-1)),t[89]||(t[89]=le(" (feedback signal guiding learning), and ")),t[90]||(t[90]=H("strong",null,"policy",-1)),t[91]||(t[91]=le(" (the decision-making strategy). Depending on whether the environment is explicitly modeled, RL approaches are broadly categorized into ")),t[92]||(t[92]=H("em",null,"model-free",-1)),t[93]||(t[93]=le(" and ")),t[94]||(t[94]=H("em",null,"model-based",-1)),t[95]||(t[95]=le(" methods. Model-free methods, such as DQN ")),ge(Ct,{citationKey:"mnihHumanlevelControlDeep2015a"}),t[96]||(t[96]=le(" and A2C ")),ge(Ct,{citationKey:"Schulman2017ProximalPO"}),ge(Ct,{citationKey:"Mnih2016AsynchronousMF"}),t[97]||(t[97]=le(", learn policies directly through interaction, while model-based approaches attempt to learn a transition model to improve sample efficiency—particularly important in low-data regimes. "))]),t[162]||(t[162]=H("div",{class:"video-container"},[H("iframe",{width:"70%",height:"auto",style:{"aspect-ratio":"16/9"},src:"https://www.youtube.com/embed/vXtfdGphr3c?si=g_E4nt8O0P03Fxum",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""})],-1)),t[163]||(t[163]=H("p",{class:"video-caption"},"Demonstration of reinforcement learning applied to medical image analysis, showing how agents learn optimal policies through environmental feedback.",-1)),ge(xr,{id:"rl-methodology",title:"Methodology"},{default:Bt(()=>[H("p",null,[t[98]||(t[98]=le(" Reinforcement learning problems are often modeled as a Markov Decision Process (MDP), defined by a tuple ")),ge(_e,{formula:`\\langle \\mathcal{S}, \\mathcal{A}, \\mathcal{P}, \\mathcal{R}, \\gamma
                            \\rangle`}),t[99]||(t[99]=le(", where: "))]),H("ul",null,[H("li",null,[ge(_e,{formula:"\\mathcal{S}"}),t[100]||(t[100]=le(" is the set of possible states, "))]),H("li",null,[ge(_e,{formula:"\\mathcal{A}"}),t[101]||(t[101]=le(" is the set of actions, "))]),H("li",null,[ge(_e,{formula:"\\mathcal{P}(s' | s, a)"}),t[102]||(t[102]=le(" is the transition probability function, "))]),H("li",null,[ge(_e,{formula:"\\mathcal{R}(s, a)"}),t[103]||(t[103]=le(" is the reward received after taking action ")),ge(_e,{formula:"a"}),t[104]||(t[104]=le(" in state ")),ge(_e,{formula:"s"}),t[105]||(t[105]=le(", "))]),H("li",null,[ge(_e,{formula:"\\gamma \\in [0, 1]"}),t[106]||(t[106]=le(" is the discount factor for future rewards. "))])]),H("p",null,[t[107]||(t[107]=le(" The goal is to learn a policy ")),ge(_e,{formula:"\\pi(a|s)"}),t[108]||(t[108]=le(" that maximizes the expected cumulative reward: ")),ge(Xi,{formula:"J(\\pi) = \\mathbb{E}_{\\pi} \\left[ \\sum_{t=0}^{\\infty} \\gamma^t r_t \\right]"})]),H("p",null,[t[109]||(t[109]=le(" The value function for a state under policy ")),ge(_e,{formula:"\\pi"}),t[110]||(t[110]=le(" is: ")),ge(Xi,{formula:"V^{\\pi}(s) = \\mathbb{E}_{\\pi} \\left[ \\sum_{t=0}^{\\infty} \\gamma^t r_t \\mid s_0 = s \\right]"})]),H("p",null,[t[111]||(t[111]=le(" The action-value function (Q-function) is: ")),ge(Xi,{formula:`Q^{\\pi}(s, a) = \\mathbb{E}_{\\pi} \\left[ \\sum_{t=0}^{\\infty} \\gamma^t r_t \\mid s_0 = s, a_0 =
                            a \\right]`})]),H("p",null,[t[112]||(t[112]=le(" An optimal policy ")),ge(_e,{formula:"\\pi^*"}),t[113]||(t[113]=le(" satisfies: ")),ge(Xi,{formula:"Q^{\\pi^*}(s, a) = \\max_{\\pi} Q^{\\pi}(s, a)"}),t[114]||(t[114]=le(" This formulation enables reinforcement learning agents to develop optimal decision-making strategies through experiential learning, significantly reducing dependence on labeled datasets. Such capability addresses a critical need in medical imaging applications like classification, registration, and synthesis, where annotated data remains scarce. "))]),H("div",Mv,[H("div",Cv,[t[159]||(t[159]=H("div",{class:"algorithm-title"},"Algorithm 2 Generic Reinforcement Learning Procedure",-1)),H("div",Tv,[H("div",Dv,[t[115]||(t[115]=H("span",{class:"line-number"},"1:",-1)),t[116]||(t[116]=le()),t[117]||(t[117]=H("span",{class:"algorithm-keyword"},"Input:",-1)),t[118]||(t[118]=le(" Environment ")),ge(_e,{formula:"\\mathcal{E}"}),t[119]||(t[119]=le(", initial policy ")),ge(_e,{formula:"\\pi_\\theta"})]),H("div",kv,[t[120]||(t[120]=H("span",{class:"line-number"},"2:",-1)),t[121]||(t[121]=le(" Initialize policy parameters ")),ge(_e,{formula:"\\theta"}),t[122]||(t[122]=le(" randomly "))]),t[156]||(t[156]=H("div",{class:"algorithm-line"},[H("span",{class:"line-number"},"3:"),le(),H("span",{class:"algorithm-keyword"},"for"),le(" each episode "),H("span",{class:"algorithm-keyword"},"do")],-1)),H("div",Iv,[t[123]||(t[123]=H("span",{class:"line-number"},"4:",-1)),t[124]||(t[124]=le()),t[125]||(t[125]=H("span",{class:"algorithm-indent"},null,-1)),t[126]||(t[126]=le("Initialize state ")),ge(_e,{formula:"s_0"})]),H("div",Ev,[t[127]||(t[127]=H("span",{class:"line-number"},"5:",-1)),t[128]||(t[128]=le()),t[129]||(t[129]=H("span",{class:"algorithm-indent"},null,-1)),t[130]||(t[130]=H("span",{class:"algorithm-keyword"},"for",-1)),t[131]||(t[131]=le(" each step ")),ge(_e,{formula:"t = 0, 1, 2, \\dots"}),t[132]||(t[132]=le(" until terminal state ")),t[133]||(t[133]=H("span",{class:"algorithm-keyword"},"do",-1))]),H("div",Fv,[t[134]||(t[134]=H("span",{class:"line-number"},"6:",-1)),t[135]||(t[135]=le()),t[136]||(t[136]=H("span",{class:"algorithm-indent"},null,-1)),t[137]||(t[137]=H("span",{class:"algorithm-indent"},null,-1)),t[138]||(t[138]=le("Select action ")),ge(_e,{formula:"a_t \\sim \\pi_\\theta(a_t|s_t)"})]),H("div",Bv,[t[139]||(t[139]=H("span",{class:"line-number"},"7:",-1)),t[140]||(t[140]=le()),t[141]||(t[141]=H("span",{class:"algorithm-indent"},null,-1)),t[142]||(t[142]=H("span",{class:"algorithm-indent"},null,-1)),t[143]||(t[143]=le("Execute ")),ge(_e,{formula:"a_t"}),t[144]||(t[144]=le(", observe reward ")),ge(_e,{formula:"r_t"}),t[145]||(t[145]=le(" and next state ")),ge(_e,{formula:"s_{t+1}"})]),H("div",Nv,[t[146]||(t[146]=H("span",{class:"line-number"},"8:",-1)),t[147]||(t[147]=le()),t[148]||(t[148]=H("span",{class:"algorithm-indent"},null,-1)),t[149]||(t[149]=H("span",{class:"algorithm-indent"},null,-1)),t[150]||(t[150]=le("Update policy parameters ")),ge(_e,{formula:"\\theta"}),t[151]||(t[151]=le(" using transition ")),ge(_e,{formula:"(s_t, a_t, r_t, s_{t+1})"})]),t[157]||(t[157]=H("div",{class:"algorithm-line"},[H("span",{class:"line-number"},"9:"),le(),H("span",{class:"algorithm-indent"}),H("span",{class:"algorithm-keyword"},"end for")],-1)),t[158]||(t[158]=H("div",{class:"algorithm-line"},[H("span",{class:"line-number"},"10:"),le(),H("span",{class:"algorithm-keyword"},"end for")],-1)),H("div",Rv,[t[152]||(t[152]=H("span",{class:"line-number"},"11:",-1)),t[153]||(t[153]=le()),t[154]||(t[154]=H("span",{class:"algorithm-keyword"},"Output:",-1)),t[155]||(t[155]=le(" Trained policy ")),ge(_e,{formula:"\\pi_\\theta"})])])])]),t[160]||(t[160]=H("p",null," What distinguishes RL from traditional supervised approaches is its ability to learn directly from environmental feedback rather than predefined labels. This fundamental difference makes RL particularly valuable for medical imaging applications, where obtaining high-quality labeled data remains costly and challenging. ",-1))]),_:1}),ge(xr,{id:"rl-applications",title:"Applications of Reinforcement Learning in Medical Imaging"},{default:Bt(()=>t[161]||(t[161]=[H("p",null," RL has been successfully applied to a wide range of medical imaging tasks, including image classification, landmark localization, lesion detection, segmentation, image registration, and radiotherapy planning. These applications span multiple anatomical sites (e.g., brain, lung, prostate) and imaging modalities (e.g., MRI, CT, ultrasound). ",-1),H("div",{class:"diagram",style:{"max-width":"70%",margin:"1rem auto"}},[H("img",{src:H3,alt:"Applications of RL in medical imaging"}),H("p",{class:"image-caption"},"Blue box covers image analysis tasks; green box covers anatomical sites; yellow box covers imaging modalities.")],-1),H("p",null," Importantly, RL offers several key mechanisms to alleviate data scarcity in medical imaging: ",-1),H("ul",null,[H("li",null,[H("strong",null,"Minimal dependence on annotations:"),le(" RL agents can learn optimal behaviors by interacting with environments, reducing reliance on large-scale annotated datasets.")]),H("li",null,[H("strong",null,"Higher sample efficiency:"),le(" Especially in model-based RL, agents require fewer interactions to achieve comparable performance, making them well-suited for small datasets.")]),H("li",null,[H("strong",null,"Active data selection:"),le(" RL-based frameworks have been proposed to select the most informative samples for annotation or training, optimizing the use of limited labeled data.")]),H("li",null,[H("strong",null,"Combination with generative models:"),le(" RL can be integrated with GANs or VAEs to select high-quality synthetic samples for augmentation, effectively enhancing dataset diversity.")])],-1),H("p",null," Overall, reinforcement learning not only reduces the burden of manual annotation but also promotes the development of data-efficient, adaptive, and goal-driven medical image analysis systems. Its ability to model complex sequential decision-making makes it a promising tool for next-generation clinical AI. ",-1)])),_:1})]),_:1}),ge(zr,{id:"generative-models",title:"Generative Models for Medical Image Synthesis"},{default:Bt(()=>[H("p",null,[t[164]||(t[164]=le(" Data scarcity presents a significant challenge in developing robust AI systems for medical imaging. Generative models—particularly Generative Adversarial Networks (GANs) ")),ge(Ct,{citationKey:"Goodfellow2014GenerativeAN"}),t[165]||(t[165]=le(" and diffusion models ")),ge(Ct,{citationKey:"SohlDickstein2015DeepUL"}),t[166]||(t[166]=le("—offer powerful solutions by synthesizing realistic medical images that can augment limited datasets ")),ge(Ct,{citationKey:"koetzierGeneratingSyntheticData2024"}),t[167]||(t[167]=le(". By learning the underlying distribution of training data, these models generate novel samples that maintain critical anatomical and pathological features while simultaneously preserving patient privacy. "))]),ge(xr,{id:"gans",title:"Generative Adversarial Networks (GANs)"},{default:Bt(()=>[H("p",null,[t[168]||(t[168]=le(" GANs consist of a generator that creates synthetic images and a discriminator that distinguishes real from synthetic samples. Through adversarial training, these components compete, gradually improving the generator's ability to produce realistic images ")),ge(Ct,{citationKey:"Goodfellow2014GenerativeAN"}),t[169]||(t[169]=le(". "))]),H("p",null,[t[170]||(t[170]=le(" Upadhyay et al. (2024) ")),ge(Ct,{citationKey:"wangGenerationSyntheticGround2022"}),t[171]||(t[171]=le(" developed a GAN-based framework specifically for generating synthetic lung lesions resembling ground glass nodules (GGNs). This approach directly addresses data scarcity in computer-aided diagnosis systems by creating realistic synthetic nodules for training and evaluation purposes. "))]),H("p",null,[t[172]||(t[172]=le(" The generator employs a U-Net-like architecture to synthesize GGNs ")),ge(Ct,{citationKey:"8099502"}),t[173]||(t[173]=le(", while the discriminator uses convolutional layers ")),ge(Ct,{citationKey:"He2015DeepRL"}),t[174]||(t[174]=le(" to distinguish real from synthetic images. The loss function combines adversarial loss with pixel-wise reconstruction loss to ensure both realism and anatomical accuracy. "))]),t[178]||(t[178]=H("p",null," The model consists of three key components: ",-1)),t[179]||(t[179]=H("ul",null,[H("li",null,[H("strong",null,"Generator (G)"),le(": SRGAN-based network that synthesizes pulmonary nodules from masked input images")]),H("li",null,[H("strong",null,[le("ROI Discriminator (D"),H("sub",null,"ROI"),le(")")]),le(": ResNet-based classifier operating on nodule regions (red path in Fig.)")]),H("li",null,[H("strong",null,[le("Whole Image Discriminator (D"),H("sub",null,"whole"),le(")")]),le(": Parallel ResNet evaluating full contextual realism (blue path)")])],-1)),t[180]||(t[180]=H("div",{class:"diagram",style:{"max-width":"75%",margin:"1rem auto"}},[H("img",{src:Y3,alt:"Model training pipeline for GAN"}),H("p",{class:"image-caption"},"Model training pipeline. The generator synthesizes ground glass nodules on the input background image. Two parallel discriminators then evaluate realism: the ROI discriminator (red path) focuses only on the nodule region, while the whole image discriminator (blue path) assesses the complete image context")],-1)),t[181]||(t[181]=H("p",null," The composite loss combines adversarial and similarity terms for both discriminators: ",-1)),H("p",null,[ge(Xi,{formula:`\\mathcal{L}_{DSRGAN} = (\\mathcal{L}_{sim} + \\mathcal{L}_{adv})_{whole} + (\\mathcal{L}_{sim}
                            + \\mathcal{L}_{adv})_{ROI}`})]),H("p",null,[ge(Xi,{formula:"\\mathcal{L}_{adv} = \\sum_{n=1}^N -\\log D(G(x))"})]),H("p",null,[ge(Xi,{formula:`\\mathcal{L}_{sim}(x,y) = 1 - \\frac{(2\\mu_x\\mu_y + C_1) + (\\sigma_{xy} + C_2)}{(\\mu_x^2 +
                            \\mu_y^2 + C_1)(\\sigma_x^2 + \\sigma_y^2 + C_2)}`})]),H("p",null,[t[175]||(t[175]=le(" where ")),ge(_e,{formula:"\\mu,\\sigma"}),t[176]||(t[176]=le(" denote mean/variance of image patches, ")),ge(_e,{formula:"C_1,C_2"}),t[177]||(t[177]=le(" stabilize division. "))]),t[182]||(t[182]=H("p",null," The result of the GAN training is a generator capable of producing synthetic GGNs that closely resemble real lesions, as shown in Figure below. The generated images can be used to augment existing datasets, improving the performance of downstream tasks such as classification and segmentation. ",-1)),t[183]||(t[183]=H("div",{class:"diagram",style:{"max-width":"60%",margin:"1rem auto"}},[H("img",{src:K3,alt:"Examples of synthetic ground glass nodules"}),H("p",{class:"image-caption"},'Examples of synthetic ground glass nodules (GGNs) evaluated by physicians on a four-point authenticity scale. (a) High-quality synthetic GGNs classified as "confidently real" by clinicians. (b) Lower-quality synthetic GGNs classified as "leaning fake." (c) Actual GGNs from the original LIDC-IDRI dataset for comparison.')],-1))]),_:1}),ge(xr,{id:"diffusion-models",title:"Diffusion Models"},{default:Bt(()=>[H("p",null,[t[184]||(t[184]=le(" Diffusion models are a class of generative models that learn to generate data by reversing a diffusion process. They have gained popularity due to their ability to produce high-quality samples and have been successfully applied in various domains, including image synthesis, text generation, and audio processing ")),ge(Ct,{citationKey:"songScoreBasedGenerativeModeling2021"}),t[185]||(t[185]=le(". "))]),t[213]||(t[213]=H("div",{class:"huggingface-container"},[H("h4",null,"Interactive Demo: EchoNet-Synthetic Echocardiogram Synthesis"),H("div",{class:"demo-image",style:{"max-width":"75%",margin:"1rem auto"}},[H("img",{src:W3,alt:"Echocardiogram example image"})]),H("div",{class:"demo-link"},[H("a",{href:"https://huggingface.co/spaces/HReynaud/EchoNet-Synthetic",target:"_blank",rel:"noopener noreferrer",class:"huggingface-button"},[H("span",{class:"button-icon"},"🤗"),le(" Try EchoNet-Synthetic on Hugging Face ")])])],-1)),H("p",null,[t[186]||(t[186]=le(" Consider a sequence of positive noise scales ")),ge(_e,{formula:"0 < \\beta_1, \\dots, \\beta_N < 1"}),t[187]||(t[187]=le(". For each training data point ")),ge(_e,{formula:"x_0 \\sim p_{data}(x)"}),t[188]||(t[188]=le(", construct a discrete Markov chain ")),ge(_e,{formula:`\\{X_0,
                                X_1, \\dots, X_N\\}`}),t[189]||(t[189]=le(" where: "))]),H("p",null,[ge(Xi,{formula:"p(x_t|x_{t-1}) = \\mathcal{N}(x_t; \\sqrt{1-\\beta_t}x_{t-1}, \\beta_t\\mathbf{I})"})]),H("p",null,[t[190]||(t[190]=le(" The marginal distribution after ")),ge(_e,{formula:"t"}),t[191]||(t[191]=le(" steps becomes: "))]),H("p",null,[ge(Xi,{formula:`q_t(x_t|x_0) = \\mathcal{N}(x_t; \\sqrt{\\alpha_t}x_0, (1-\\alpha_t)\\mathbf{I}), \\quad
                                    \\alpha_t = \\prod_{s=1}^t (1-\\beta_s)`})]),t[214]||(t[214]=H("p",null," The perturbed data distribution is defined as: ",-1)),H("p",null,[ge(Xi,{formula:"p_{\\alpha_t}(\\tilde{x}) = \\int p_{data}(x)q_{\\alpha_t}(\\tilde{x}|x)dx"})]),H("p",null,[t[192]||(t[192]=le(" with noise scales chosen such that ")),ge(_e,{formula:"X_N \\approx \\mathcal{N}(0,\\mathbf{I})"}),t[193]||(t[193]=le(". "))]),t[215]||(t[215]=H("p",null," The variational Markov chain in the reverse direction is parameterized as: ",-1)),H("p",null,[ge(Xi,{formula:`p_\\theta(x_{t-1}|x_t) = \\mathcal{N}\\left(x_{t-1}; \\frac{1}{\\sqrt{1-\\beta_t}}(x_t +
                                    \\beta_t s_\\theta(x_t,t)), \\beta_t\\mathbf{I}\\right)`})]),H("p",null,[t[194]||(t[194]=le(" After obtaining the optimal model ")),ge(_e,{formula:"s_\\theta^*"}),t[195]||(t[195]=le(", samples's generation is as shown in Algorithm 3 DDPM Ancestral Sampling. "))]),H("div",Vv,[H("div",Uv,[t[212]||(t[212]=H("div",{class:"algorithm-title"},"Algorithm 3 DDPM Ancestral Sampling",-1)),H("div",zv,[H("div",Pv,[t[196]||(t[196]=H("span",{class:"line-number"},"1:",-1)),t[197]||(t[197]=le(" Initialize ")),ge(_e,{formula:"x_N \\sim \\mathcal{N}(0,\\mathbf{I})"})]),H("div",Lv,[t[198]||(t[198]=H("span",{class:"line-number"},"2:",-1)),t[199]||(t[199]=le()),t[200]||(t[200]=H("span",{class:"algorithm-keyword"},"for",-1)),t[201]||(t[201]=le()),ge(_e,{formula:"t = N"}),t[202]||(t[202]=le(" downto ")),ge(_e,{formula:"1"}),t[203]||(t[203]=le()),t[204]||(t[204]=H("span",{class:"algorithm-keyword"},"do",-1))]),H("div",Ov,[t[205]||(t[205]=H("span",{class:"line-number"},"3:",-1)),t[206]||(t[206]=le()),t[207]||(t[207]=H("span",{class:"algorithm-indent"},null,-1)),ge(_e,{formula:"x_{t-1} = \\frac{1}{\\sqrt{1-\\beta_t}}(x_t + \\beta_t s_\\theta^*(x_t,t)) + \\sqrt{\\beta_t}z_t"}),t[208]||(t[208]=le(", ")),ge(_e,{formula:"z_t \\sim \\mathcal{N}(0,\\mathbf{I})"})]),t[211]||(t[211]=H("div",{class:"algorithm-line"},[H("span",{class:"line-number"},"4:"),le(),H("span",{class:"algorithm-keyword"},"end for")],-1)),H("div",qv,[t[209]||(t[209]=H("span",{class:"line-number"},"5:",-1)),t[210]||(t[210]=le(" Return ")),ge(_e,{formula:"x_0"})])])])]),t[216]||(t[216]=H("div",{class:"diagram",style:{"max-width":"75%",margin:"1rem auto"}},[H("img",{src:j3,alt:"Schematic overview of a diffusion model"}),H("p",{class:"image-caption"},"A schematic overview of a diffusion model in training and sampling settings. In the top row, the diffusion model is trained and creates a Markov chain to add Gaussian noise to the real images, resulting in a noise vector z'. The model then reverses the Markov chain by predicting the next state of the image from the current noisy state, which is equivalent to denoising the image. During sampling (bottom row), the model can generate synthetic images by starting from a random noise vector and applying the reverse Markov chain.")],-1)),t[217]||(t[217]=H("p",null," Diffusion models are particularly well-suited for medical image generation due to their ability to produce high-quality, diverse, and anatomically accurate synthetic images. Their iterative denoising process ensures fine-grained control over the generated data, preserving critical medical details. Additionally, diffusion models are robust to noise and can effectively model complex data distributions, making them ideal for handling the variability and precision required in medical imaging. These characteristics make diffusion models a powerful tool for augmenting datasets, improving model generalization, and addressing data scarcity challenges in medical imaging applications. ",-1))]),_:1})]),_:1})]),_:1}),ge(Kn,{id:"ethical-considerations",title:"Ethical Considerations in Applying AI to Medical Imaging"},{default:Bt(()=>[t[239]||(t[239]=H("p",null," The integration of AI into medical imaging has yielded impressive results, but also raises several ethical concerns. These issues must be thoroughly addressed to ensure safe, equitable, and trustworthy deployment of AI systems in healthcare. ",-1)),ge(zr,{id:"data-privacy-and-security",title:"Data Privacy and Security"},{default:Bt(()=>[H("p",null,[t[218]||(t[218]=le(" Medical imaging data contains sensitive personal health information protected by regulations like HIPAA (US) and GDPR (Europe), which restrict data sharing and access. These constraints significantly impede AI model development in healthcare ")),ge(Ct,{citationKey:"koetzierGeneratingSyntheticData2024"}),t[219]||(t[219]=le(". "))]),t[222]||(t[222]=H("p",null," Synthetic data generation techniques, as discussed earlier, offer an elegant solution to these privacy challenges. By creating artificial medical images that maintain the statistical properties and clinical relevance of real data without containing actual patient information, these approaches effectively address privacy concerns: ",-1)),t[223]||(t[223]=H("ul",null,[H("li",null,[H("strong",null,"Risk Mitigation"),le(": Synthetic data eliminates the risk of exposing protected health information (PHI), as the generated images do not correspond to real patients. This significantly reduces the regulatory burden and potential legal liability associated with data breaches.")]),H("li",null,[H("strong",null,"Enhanced Data Sharing"),le(": Synthetic datasets can be more freely shared across institutions and international boundaries, facilitating collaborative research and development without privacy impediments.")]),H("li",null,[H("strong",null,"Data Augmentation"),le(": As demonstrated in our GAN and diffusion model implementations, synthetic images can augment limited real datasets, addressing both privacy concerns and data scarcity simultaneously.")])],-1)),H("p",null,[t[220]||(t[220]=le(" However, synthetic data is not without its own security considerations. Particularly, models like GANs might inadvertently memorize training examples, potentially leading to data leakage if not properly safeguarded. Additionally, adversarial attacks on these generative models could potentially extract sensitive information from the training data. Rigorous security measures, including proper model evaluation for memorization, differential privacy techniques during training, and robust access controls, must be implemented to ensure synthetic data approaches maintain strong privacy guarantees ")),ge(Ct,{citationKey:"koetzierGeneratingSyntheticData2024"}),t[221]||(t[221]=le(". "))]),t[224]||(t[224]=H("p",null," The self-supervised learning approaches described earlier provide another privacy-preserving advantage: they can extract valuable information from unlabeled data without requiring detailed annotations that might contain sensitive information. By learning from the inherent structure of images rather than explicit labels, techniques like context restoration minimize exposure to privacy-sensitive metadata. ",-1))]),_:1}),ge(zr,{id:"bias-and-fairness",title:"Bias and Fairness"},{default:Bt(()=>[H("p",null,[t[225]||(t[225]=le(" AI systems for medical imaging are inherently shaped by the data used to train them, making them susceptible to perpetuating or even amplifying existing biases in healthcare. This is particularly concerning in the context of data scarcity, where models might be developed using imbalanced or non-representative datasets ")),ge(Ct,{citationKey:"koetzierGeneratingSyntheticData2024"}),t[226]||(t[226]=le(". "))]),t[227]||(t[227]=H("p",null," Several types of bias can manifest in medical imaging AI: ",-1)),t[228]||(t[228]=H("ul",null,[H("li",null,[H("strong",null,"Demographic Bias"),le(": When training data lacks diversity across age, gender, ethnicity, or socioeconomic factors, resulting models may perform disproportionately poorly on underrepresented groups. For example, models trained predominantly on data from certain ethnic populations may show reduced accuracy when applied to different demographic groups. ")]),H("li",null,[H("strong",null,"Technical Bias"),le(": Variations in imaging equipment, acquisition protocols, and institutional practices introduce substantial heterogeneity in medical images. Models trained on data from high-end scanners may perform poorly on images from lower-resource settings, potentially exacerbating healthcare disparities.")]),H("li",null,[H("strong",null,"Selection Bias"),le(": The process of collecting training data often introduces sampling biases. For instance, data from academic medical centers may overrepresent rare or complex cases compared to community hospitals.")])],-1)),t[229]||(t[229]=H("p",null," The generative approaches discussed earlier, while addressing data scarcity, introduce their own fairness considerations. GANs and diffusion models tend to capture and potentially amplify patterns present in their training data. If the training data contains biases, synthetic data generated from these models may inherently encode and propagate these biases, potentially worsening the problem rather than solving it. ",-1)),t[230]||(t[230]=H("p",null," To mitigate these risks, synthetic data generation should be specifically designed with fairness in mind: ",-1)),t[231]||(t[231]=H("ul",null,[H("li",null,[H("strong",null,"Balanced Data Generation"),le(": Generative models can be explicitly conditioned to produce balanced distributions across demographic factors or modalities, potentially oversampling underrepresented groups.")]),H("li",null,[H("strong",null,"Fairness-Aware Training"),le(": Incorporating fairness constraints or adversarial debiasing techniques into generative model training can help reduce the transfer of biases to synthetic data.")]),H("li",null,[H("strong",null,"Diverse Data Sources"),le(": Incorporating data from diverse sites and populations, even if in small quantities, can help generative models capture broader variations in anatomical structures and pathologies.")])],-1))]),_:1}),ge(zr,{id:"transparency-and-explainability",title:"Transparency and Explainability"},{default:Bt(()=>[H("p",null,[t[232]||(t[232]=le(' The complex "black-box" nature of advanced AI systems in medical imaging creates significant barriers to clinical adoption and regulatory approval. Deep generative networks and self-supervised learning approaches typically lack transparency in their internal processes, making it challenging for healthcare professionals to understand and trust their outputs ')),ge(Ct,{citationKey:"vermaRoleDeepLearning2023"}),t[233]||(t[233]=le(". "))]),t[234]||(t[234]=H("p",null," In medical contexts, where decisions directly impact patient outcomes, this lack of explainability is particularly problematic: ",-1)),t[235]||(t[235]=H("ul",null,[H("li",null,[H("strong",null,"End-to-end Generative Models"),le(": GANs and diffusion models operate as black boxes, taking inputs and producing synthetic images through complex transformations that are not easily interpretable. The multi-layer, non-linear nature of these models makes it virtually impossible to trace exactly how specific features in the generated images were constructed.")]),H("li",null,[H("strong",null,"Self-Supervised Learning"),le(": While SSL methods effectively learn from unlabeled data, the representations they develop are often abstract and difficult to map to clinically meaningful features. The pretext tasks (like context restoration) may have little direct relationship to the downstream diagnostic tasks.")]),H("li",null,[H("strong",null,"Reinforcement Learning"),le(": Among the approaches discussed, RL may offer slightly better explainability through its explicit reward functions and state-action mappings, but complex neural network policies still suffer from opacity in their internal reasoning.")])],-1)),t[236]||(t[236]=H("p",null," To address these challenges, several approaches are being developed to enhance the explainability of AI in medical imaging: ",-1)),t[237]||(t[237]=H("ul",null,[H("li",null,[H("strong",null,"Counterfactual Explanations"),le(`: Generating "what-if" scenarios that demonstrate how changes to the input would affect the output helps users understand the model's decision boundaries.`)]),H("li",null,[H("strong",null,"Layer-wise Relevance Propagation"),le(": This technique decomposes predictions into contributions from individual input features, creating heatmaps that visualize important regions.")]),H("li",null,[H("strong",null,"Feature Disentanglement"),le(": Particularly for generative models, encouraging the separation of clinically relevant features (e.g., anatomical structures, pathologies) into interpretable latent dimensions improves transparency.")])],-1))]),_:1}),ge(zr,{id:"accountability-and-governance",title:"Accountability and Governance"},{default:Bt(()=>t[238]||(t[238]=[H("p",null," In medical imaging, where AI impacts patient care, robust accountability and governance frameworks are critical. The discussed AI approaches—generative models, self-supervised learning, and reinforcement learning—pose unique challenges, especially in data-scarce contexts. ",-1),H("p",null," Governance of synthetic data requires attention to: ",-1),H("ul",null,[H("li",null,[H("strong",null,"Quality Control"),le(": Ensure synthetic images meet clinical standards and represent pathological features accurately.")]),H("li",null,[H("strong",null,"Provenance Tracking"),le(": Maintain records distinguishing real and synthetic data for transparency.")]),H("li",null,[H("strong",null,"Continuous Evaluation"),le(": Regularly reassess models trained on synthetic data to ensure reliability.")])],-1),H("p",null," For self-supervised and reinforcement learning: ",-1),H("ul",null,[H("li",null,[H("strong",null,"Pretext Task Validation"),le(": Ensure self-supervised tasks produce clinically relevant representations.")]),H("li",null,[H("strong",null,"Reward Function Oversight"),le(": Design RL reward functions collaboratively with clinicians to ensure meaningful outcomes.")]),H("li",null,[H("strong",null,"Update Protocols"),le(": Define clear guidelines for model updates and recertification.")])],-1),H("p",null," Multidisciplinary committees and international standards are essential to ensure safety, efficacy, and equity in deploying AI in data-scarce medical domains. ",-1)])),_:1})]),_:1}),ge(Kn,{id:"conclusion",title:"Conclusion"},{default:Bt(()=>t[240]||(t[240]=[H("p",null," This paper explored how artificial intelligence and machine learning technologies can address data scarcity challenges in medical imaging. We examined three key approaches: self-supervised learning, reinforcement learning, and generative models. Self-supervised learning effectively leverages unlabeled data through pretext tasks like context restoration. Reinforcement learning offers learning from limited feedback rather than extensive labeled datasets. Generative models, including GANs and diffusion models, synthesize realistic medical images to augment limited datasets while preserving patient privacy. ",-1),H("p",null," While these technologies show great promise, ethical considerations around privacy, bias, transparency, and governance remain crucial. With continued research and responsible implementation, AI technologies can help overcome data limitations, potentially improving healthcare access and outcomes across diverse clinical settings. ",-1)])),_:1})]),ge(g6)]))}},Hv=v0(Gv,[["__scopeId","data-v-a2f646a1"]]),Yv={__name:"Navigation",setup(i){const e=is("isNavActive"),t=is("toggleNav"),r=cn(!1);ma(e,a=>{r.value=a});function s(){r.value=!r.value,t(r.value),r.value?document.body.style.overflow="hidden":document.body.style.overflow=""}function n(){r.value=!1,t(!1),document.body.style.overflow=""}return(a,l)=>(Mi(),$i(or,null,[H("nav",{class:Is(["vertical-navigation",{active:r.value}])},[H("div",{class:"nav-content"},[l[0]||(l[0]=H("div",{class:"logo"},"MedAI Blog",-1)),H("ul",{class:"nav-links"},[H("li",null,[H("a",{href:"#application-domain",class:"nav-link main-link",onClick:n},"Application Domain & Challenges"),H("ul",{class:"sub-nav"},[H("li",null,[H("a",{href:"#application-domin-medical-imaging",class:"nav-link sub-link",onClick:n},"Medical Imaging Domain")]),H("li",null,[H("a",{href:"#challenges-in-medical-imaging",class:"nav-link sub-link",onClick:n},"Data Scarcity & Implications")]),H("li",null,[H("a",{href:"#the-case-for-technologies",class:"nav-link sub-link",onClick:n},"Case for AI/ML Technologies")])])]),H("li",null,[H("a",{href:"#solutions-to-data-scarcity-in-medical-imaging",class:"nav-link main-link",onClick:n},"Solutions to Data Scarcity"),H("ul",{class:"sub-nav"},[H("li",null,[H("a",{href:"#self-supervised-learning",class:"nav-link sub-link",onClick:n},"Self-Supervised Learning")]),H("li",null,[H("a",{href:"#reinforcement-learning",class:"nav-link sub-link",onClick:n},"Reinforcement Learning")]),H("li",null,[H("a",{href:"#generative-models",class:"nav-link sub-link",onClick:n},"Generative Models")])])]),H("li",null,[H("a",{href:"#ethical-considerations",class:"nav-link main-link",onClick:n},"Ethical Considerations"),H("ul",{class:"sub-nav"},[H("li",null,[H("a",{href:"#data-privacy-and-security",class:"nav-link sub-link",onClick:n},"Data Privacy & Security")]),H("li",null,[H("a",{href:"#bias-and-fairness",class:"nav-link sub-link",onClick:n},"Bias & Fairness")]),H("li",null,[H("a",{href:"#transparency-and-explainability",class:"nav-link sub-link",onClick:n},"Transparency & Explainability")]),H("li",null,[H("a",{href:"#accountability-and-governance",class:"nav-link sub-link",onClick:n},"Accountability & Governance")])])]),H("li",null,[H("a",{href:"#conclusion",class:"nav-link main-link",onClick:n},"Conclusion")])])])],2),H("button",{class:"nav-toggle",onClick:s},"☰"),H("div",{class:Is(["nav-overlay",{active:r.value}]),onClick:s},null,2)],64))}},Kv=v0(Yv,[["__scopeId","data-v-67829ec6"]]),Wv={class:"content"},jv={__name:"App",setup(i){const e=cn(!1),t=cn(!1),r=()=>{e.value=!e.value,document.documentElement.setAttribute("data-theme",e.value?"dark":"light")},s=n=>{t.value=n};return Wl("isNavActive",t),Wl("toggleNav",s),k1(()=>{const n=window.matchMedia("(prefers-color-scheme: dark)").matches;e.value=n,document.documentElement.setAttribute("data-theme",n?"dark":"light"),window.matchMedia("(min-width: 768px) and (max-width: 1024px)").matches?t.value=!1:t.value=!0}),(n,a)=>(Mi(),$i("div",{class:Is(["app-container",{"nav-active":t.value}])},[ge(Kv),H("main",Wv,[H("button",{class:"theme-toggle",onClick:r},u0(e.value?"Switch to Light Mode":"Switch to Dark Mode"),1),ge(Hv)])],2))}},Xv=`@InProceedings{C2,
  author = 	 "Jones, C.D. and Smith, A.B. and Roberts, E.F.",
  title =        "Article Title",
  booktitle =        "Proceedings Title",
  organization = "IEEE",
  year = 	 "2003",
  volume = 	 "II",
  pages = 	 "803-806"
}
@ARTICLE{8730517,
  author={Bhandari, Ashish Kumar and Singh, Anurag and Kumar, Immadisetty Vinod},
  journal={IEEE Transactions on Systems, Man, and Cybernetics: Systems}, 
  title={Spatial Context Energy Curve-Based Multilevel 3-D Otsu Algorithm for Image Segmentation}, 
  year={2021},
  volume={51},
  number={5},
  pages={2760-2773},
  keywords={Image segmentation;Histograms;Color;Thresholding (Imaging);Two dimensional displays;Time complexity;Indexes;Energy curve;multilevel thresholding;One-dimensional (1-D) Otsu;segmentation;three-dimensional (3-D) Otsu;two-dimensional (2-D) Otsu},
  doi={10.1109/TSMC.2019.2916876}}
@article{upadhyayAdvancesDeepLearning2024,
  title = {Advances in {{Deep Learning Models}} for {{Resolving Medical Image Segmentation Data Scarcity Problem}}: {{A Topical Review}}},
  shorttitle = {Advances in {{Deep Learning Models}} for {{Resolving Medical Image Segmentation Data Scarcity Problem}}},
  author = {Upadhyay, Ashwini Kumar and Bhandari, Ashish Kumar},
  year = {2024},
  month = apr,
  journal = {Archives of Computational Methods in Engineering},
  volume = {31},
  number = {3},
  pages = {1701--1719},
  issn = {1886-1784},
  doi = {10.1007/s11831-023-10028-9},
  urldate = {2025-04-28},
  abstract = {Deep learning (DL) methods have recently become state-of-the-art in most automated medical image segmentation tasks. Some of the biggest challenges in this field are related to datasets. This paper aims to review the recent developments in deep learning architectures and approaches that aim to resolve dataset-related challenges faced in DL-based medical image segmentation. We have studied architectural developments in deep learning models and their recent applications in medical image segmentation tasks. Popular U-Net-based models are tested for segmentation performance comparison on a Coronavirus disease 2019 (Covid-19) lung infection Computed Tomography segmentation dataset. The comparison results prove the effectiveness of the original U-Net architecture, even in present-day medical image segmentation tasks. To overcome major dataset-related challenges such as labeled data scarcity, high annotation time and cost, distribution shifts, low-quality of images, and generalizability issues; we have studied recent developments in deep learning approaches like active learning, data augmentation, domain adaptation, and self- and semi-supervised learning, that aim to provide innovative solutions for those challenges. With rapid developments in the field, approaches like data augmentation, domain adaptation, and semi-supervised learning have become some of the hot areas of research, aiming for more efficient use of datasets, better segmentation prediction, and model generalizability.},
  langid = {english},
  keywords = {Artificial Intelligence},
  file = {F:\\Zotero File\\storage\\VMRVZHGK\\Upadhyay和Bhandari - 2024 - Advances in Deep Learning Models for Resolving Medical Image Segmentation Data Scarcity Problem A T.pdf}
}
@article{sushankiReviewComputationalMethods2024,
  title = {A {{Review}} on {{Computational Methods}} for {{Breast Cancer Detection}} in {{Ultrasound Images Using Multi-Image Modalities}}},
  author = {Sushanki, Sushi and Bhandari, Ashish Kumar and Singh, Amit Kumar},
  year = {2024},
  month = apr,
  journal = {Archives of Computational Methods in Engineering},
  volume = {31},
  number = {3},
  pages = {1277--1296},
  issn = {1886-1784},
  doi = {10.1007/s11831-023-10015-0},
  urldate = {2025-04-28},
  abstract = {Breast cancer is a kind of cancer that develops and propagates from tissues of the breast and slowly transcends the whole body, this type of tumor is found in both sexes. Early detection of this disease is very important as at this stage it can be controlled by giving patients the required treatment and their valuable life can be saved. Researchers and scientists according to various studies have found methods to detect cancer at the initial stages, however, misperception in identifying skeptical lesions can be due to poor image quality and diverse breast density. Breast cancer (BC) is still a major concern for world health, necessitating ongoing innovation in early diagnosis and detection. Breast cancer diagnosis has made significant strides in recent years, especially with the incorporation of multi-modal imaging modalities. This article provides a summary of the most recent methods and advancements in multi-modal imaging for the detection of breast cancer. When radiomics, a quantitative study of imaging data, is integrated with machine learning and deep learning algorithms, breast lesions have demonstrated potential. These techniques can help distinguish between benign and malignant tumours, providing physicians with crucial information.At various phases of breast cancer detection, new methods have been developed for enhancement, segmentation, feature extraction, and classification employing multiple picture modalities. This review paper\`s objective is to represent all prior research in the area of breast cancer categorization utilising many imaging modalities. This paper provides a thorough and rigorous examination of current trends in the field of BC detection and classification.},
  langid = {english},
  file = {F:\\Zotero File\\storage\\8EDLU98K\\Sushanki 等 - 2024 - A Review on Computational Methods for Breast Cancer Detection in Ultrasound Images Using Multi-Image.pdf}
}
@article{LIU2020244,
  title = {A Survey on {{U-shaped}} Networks in Medical Image Segmentations},
  author = {Liu, Liangliang and Cheng, Jianhong and Quan, Quan and Wu, Fang-Xiang and Wang, Yu-Ping and Wang, Jianxin},
  year = {2020},
  journal = {Neurocomputing},
  volume = {409},
  pages = {244--258},
  issn = {0925-2312},
  doi = {10.1016/j.neucom.2020.05.070},
  abstract = {The U-shaped network is one of the end-to-end convolutional neural networks (CNNs). In electron microscope segmentation of ISBI challenge 2012, the concise architecture and outstanding performance of the U-shaped network are impressive. Then, a variety of segmentation models based on this architecture have been proposed for medical image segmentations. We present a comprehensive literature review of U-shaped networks applied to medical image segmentation tasks, focusing on the architectures, extended mechanisms and application areas in these studies. The aim of this survey is twofold. First, we report the different extended U-shaped networks, discuss main state-of-the-art extended mechanisms, including residual mechanism, dense mechanism, dilated mechanism, attention mechanism, multi-module mechanism, and ensemble mechanism, analyze their pros and cons. Second, this survey provides the overview of studies in main application areas of U-shaped networks, including brain tumor, stroke, white matter hyperintensities (WMHs), eye, cardiac, liver, musculoskeletal, skin cancer, and neuronal pathology. Finally, we summarize the current U-shaped networks, point out the open challenges and directions for future research.},
  keywords = {Convolutional neural networks,Extended mechanism,Medical image segmentation,U-shaped network}
}
@ARTICLE{9446143,
  author={Siddique, Nahian and Paheding, Sidike and Elkin, Colin P. and Devabhaktuni, Vijay},
  journal={IEEE Access}, 
  title={U-Net and Its Variants for Medical Image Segmentation: A Review of Theory and Applications}, 
  year={2021},
  volume={9},
  number={},
  pages={82031-82057},
  keywords={Image segmentation;Convolution;Biomedical imaging;Three-dimensional displays;Logic gates;Deep learning;Computer architecture;Biomedical imaging;deep learning;neural network architecture;segmentation;U-net},
  doi={10.1109/ACCESS.2021.3086020}}
@article{YI2019101552,
  title = {Generative Adversarial Network in Medical Imaging: {{A}} Review},
  author = {Yi, Xin and Walia, Ekta and Babyn, Paul},
  year = {2019},
  journal = {Medical Image Analysis},
  volume = {58},
  pages = {101552},
  issn = {1361-8415},
  doi = {10.1016/j.media.2019.101552},
  abstract = {Generative adversarial networks have gained a lot of attention in the computer vision community due to their capability of data generation without explicitly modelling the probability density function. The adversarial loss brought by the discriminator provides a clever way of incorporating unlabeled samples into training and imposing higher order consistency. This has proven to be useful in many cases, such as domain adaptation, data augmentation, and image-to-image translation. These properties have attracted researchers in the medical imaging community, and we have seen rapid adoption in many traditional and novel applications, such as image reconstruction, segmentation, detection, classification, and cross-modality synthesis. Based on our observations, this trend will continue and we therefore conducted a review of recent advances in medical imaging using the adversarial training scheme with the hope of benefiting researchers interested in this technique.},
  keywords = {Deep learning,Generative adversarial network,Generative model,Medical imaging,Review}
}
@article{kumarTripleClippedHistogramBased2021,
  title = {Triple {{Clipped Histogram-Based Medical Image Enhancement Using Spatial Frequency}}},
  author = {Kumar, Sonu and Bhandari, Ashish Kumar and Raj, Aditya and Swaraj, Kirti},
  year = {2021},
  month = jul,
  journal = {IEEE transactions on nanobioscience},
  volume = {20},
  number = {3},
  pages = {278--286},
  issn = {1558-2639},
  doi = {10.1109/TNB.2021.3064077},
  abstract = {In this paper, a novel triple clipped histogram model-based fusion approach has been proposed to improve the basics features, brightness preservation and contrast of the medical images. This incorporates the features of the equalized image and input image together. In the initial step, the low-contrast medical image is equalized using the triple clipped dynamic histogram equalization technique for which the histogram of the input medical image is split into three sections on the basis of standard deviation with almost equal number of pixels. The clipping process of the histogram is performed on every histogram section and mapped to a new dynamic range using simple calculations. In the second step, the sub-histogram equalization process is performed separately. Approximation and detail coefficients of equalized and input images are separated using discrete wavelet transform (DWT). Thereafter, the approximation coefficients are modified using some basic calculation-based fusion which involves singular value decomposition (SVD) and its inverse. Detail coefficients are fused using spatial frequency features. This yields modified approximation and detail coefficients for an enhanced image. Finally, inverse discrete wavelet transform (IDWT) has been applied to the modified coefficients which result in an enhanced image with improved visual quality. These improvements are analyzed qualitatively and quantitatively.},
  langid = {english},
  pmid = {33661735},
  keywords = {Algorithms,Image Enhancement,Wavelet Analysis}
}
@article{TAJBAKHSH2020101693,
  title = {Embracing Imperfect Datasets: {{A}} Review of Deep Learning Solutions for Medical Image Segmentation},
  author = {Tajbakhsh, Nima and Jeyaseelan, Laura and Li, Qian and Chiang, Jeffrey N. and Wu, Zhihao and Ding, Xiaowei},
  year = {2020},
  journal = {Medical Image Analysis},
  volume = {63},
  pages = {101693},
  issn = {1361-8415},
  doi = {10.1016/j.media.2020.101693},
  abstract = {The medical imaging literature has witnessed remarkable progress in high-performing segmentation models based on convolutional neural networks. Despite the new performance highs, the recent advanced segmentation models still require large, representative, and high quality annotated datasets. However, rarely do we have a perfect training dataset, particularly in the field of medical imaging, where data and annotations are both expensive to acquire. Recently, a large body of research has studied the problem of medical image segmentation with imperfect datasets, tackling two major dataset limitations: scarce annotations where only limited annotated data is available for training, and weak annotations where the training data has only sparse annotations, noisy annotations, or image-level annotations. In this article, we provide a detailed review of the solutions above, summarizing both the technical novelties and empirical results. We further compare the benefits and requirements of the surveyed methodologies and provide our recommended solutions. We hope this survey article increases the community awareness of the techniques that are available to handle imperfect medical image segmentation datasets.},
  keywords = {And weak annotations,Imperfect dataset,Medical image segmentation,Noisy annotations,Scarce annotations,Sparse annotations,Unreliable annotations}
}
@article{vermaRoleDeepLearning2023,
  title = {Role of {{Deep Learning}} in {{Classification}} of {{Brain MRI Images}} for {{Prediction}} of {{Disorders}}: {{A Survey}} of {{Emerging Trends}}},
  shorttitle = {Role of {{Deep Learning}} in {{Classification}} of {{Brain MRI Images}} for {{Prediction}} of {{Disorders}}},
  author = {Verma, Poonam Rani and Bhandari, Ashish Kumar},
  year = {2023},
  month = nov,
  journal = {Archives of Computational Methods in Engineering},
  volume = {30},
  number = {8},
  pages = {4931--4957},
  issn = {1886-1784},
  doi = {10.1007/s11831-023-09967-0},
  urldate = {2025-04-29},
  abstract = {Image classification is the act of labeling groups of pixels or voxels of an image based on some rules. It finds applications in medical image analysis, and satellite image identification, along with others. Numerous studies are present in the literature where the classification is done after segmentation especially in medical images to extract only necessary areas and thereby classify them based on some criteria. It finds applications in the detection of disorders and detailed study of a particular human organ of interest. In this regard, it is important to know the challenges in this field, for accurate segmentation and classification of the region of interest. Recently, deep learning (DL) based methods for the same are being used because of higher performance as compared to the handcrafted features. Increased performance comes with various challenges like complexity, the requirement of a large amount of data, and so on. This study provides a comprehensive review of issues related to recent works on segmentation and classification techniques. This review also discusses the gaps in the literature not discussed so far and put a contributed viewpoint on the same along with future directions. It will also compare and relate each work with another and examine the datasets used along with the parametric metrics and the challenges in their use. The main focus of this review is an object-based classification used in medical imagery. It is estimated that this study will address the recent challenges and provides insights into the suggestions on different types of methods being used in the current decade.},
  langid = {english},
  keywords = {Artificial Intelligence},
  file = {F:\\Zotero File\\storage\\AH5V6WSW\\Verma和Bhandari - 2023 - Role of Deep Learning in Classification of Brain MRI Images for Prediction of Disorders A Survey of.pdf}
}
@inproceedings{zhouUNetNestedUNet2018,
  title = {{{UNet}}++: {{A Nested U-Net Architecture}} for {{Medical Image Segmentation}}},
  shorttitle = {{{UNet}}++},
  booktitle = {Deep {{Learning}} in {{Medical Image Analysis}} and {{Multimodal Learning}} for {{Clinical Decision Support}}},
  author = {Zhou, Zongwei and Rahman Siddiquee, Md Mahfuzur and Tajbakhsh, Nima and Liang, Jianming},
  editor = {Stoyanov, Danail and Taylor, Zeike and Carneiro, Gustavo and {Syeda-Mahmood}, Tanveer and Martel, Anne and {Maier-Hein}, Lena and Tavares, Jo{\\~a}o Manuel R.S. and Bradley, Andrew and Papa, Jo{\\~a}o Paulo and Belagiannis, Vasileios and Nascimento, Jacinto C. and Lu, Zhi and Conjeti, Sailesh and Moradi, Mehdi and Greenspan, Hayit and Madabhushi, Anant},
  year = {2018},
  pages = {3--11},
  publisher = {Springer International Publishing},
  address = {Cham},
  doi = {10.1007/978-3-030-00889-5_1},
  abstract = {In this paper, we present UNet++, a new, more powerful architecture for medical image segmentation. Our architecture is essentially a deeply-supervised encoder-decoder network where the encoder and decoder sub-networks are connected through a series of nested, dense skip pathways. The re-designed skip pathways aim at reducing the semantic gap between the feature maps of the encoder and decoder sub-networks. We argue that the optimizer would deal with an easier learning task when the feature maps from the decoder and encoder networks are semantically similar. We have evaluated UNet++ in comparison with U-Net and wide U-Net architectures across multiple medical image segmentation tasks: nodule segmentation in the low-dose CT scans of chest, nuclei segmentation in the microscopy images, liver segmentation in abdominal CT scans, and polyp segmentation in colonoscopy videos. Our experiments demonstrate that UNet++ with deep supervision achieves an average IoU gain of 3.9 and 3.4 points over U-Net and wide U-Net, respectively.},
  isbn = {978-3-030-00889-5},
  langid = {english},
  file = {F:\\Zotero File\\storage\\U2MPGVH9\\Zhou 等 - 2018 - UNet++ A Nested U-Net Architecture for Medical Image Segmentation.pdf}
}
@ARTICLE{9324763,
  author={Gilbert, Andrew and Marciniak, Maciej and Rodero, Cristobal and Lamata, Pablo and Samset, Eigil and Mcleod, Kristin},
  journal={IEEE Transactions on Medical Imaging}, 
  title={Generating Synthetic Labeled Data From Existing Anatomical Models: An Example With Echocardiography Segmentation}, 
  year={2021},
  volume={40},
  number={10},
  pages={2783-2794},
  keywords={Pipelines;Image segmentation;Task analysis;Ultrasonic imaging;Shape;Annotations;Labeling;Data generation;echocardiography;generative adversarial networks;segmentation;synthesis},
  doi={10.1109/TMI.2021.3051806}}
@inproceedings{shinMedicalImageSynthesis2018,
  title = {Medical {{Image Synthesis}} for {{Data Augmentation}} and {{Anonymization Using Generative Adversarial Networks}}},
  booktitle = {Simulation and {{Synthesis}} in {{Medical Imaging}}},
  author = {Shin, Hoo-Chang and Tenenholtz, Neil A. and Rogers, Jameson K. and Schwarz, Christopher G. and Senjem, Matthew L. and Gunter, Jeffrey L. and Andriole, Katherine P. and Michalski, Mark},
  editor = {Gooya, Ali and Goksel, Orcun and Oguz, Ipek and Burgos, Ninon},
  year = {2018},
  pages = {1--11},
  publisher = {Springer International Publishing},
  address = {Cham},
  doi = {10.1007/978-3-030-00536-8_1},
  abstract = {Data diversity is critical to success when training deep learning models. Medical imaging data sets are often imbalanced as pathologic findings are generally rare, which introduces significant challenges when training deep learning models. In this work, we propose a method to generate synthetic abnormal MRI images with brain tumors by training a generative adversarial network using two publicly available data sets of brain MRI. We demonstrate two unique benefits that the synthetic images provide. First, we illustrate improved performance on tumor segmentation by leveraging the synthetic images as a form of data augmentation. Second, we demonstrate the value of generative models as an anonymization tool, achieving comparable tumor segmentation results when trained on the synthetic data versus when trained on real subject data. Together, these results offer a potential solution to two of the largest challenges facing machine learning in medical imaging, namely the small incidence of pathological findings, and the restrictions around sharing of patient data.},
  isbn = {978-3-030-00536-8},
  langid = {english},
  keywords = {Brain tumor,Deep learning,GAN,Generative models,Image synthesis,Magnetic resonance imaging,MRI,Segmentation},
  file = {F:\\Zotero File\\storage\\W2AMWXXU\\Shin 等 - 2018 - Medical Image Synthesis for Data Augmentation and Anonymization Using Generative Adversarial Network.pdf}
}
@article{CHAITANYA2021101934,
  title = {Semi-Supervised Task-Driven Data Augmentation for Medical Image Segmentation},
  author = {Chaitanya, Krishna and Karani, Neerav and Baumgartner, Christian F. and Erdil, Ertunc and Becker, Anton and Donati, Olivio and Konukoglu, Ender},
  year = {2021},
  journal = {Medical Image Analysis},
  volume = {68},
  pages = {101934},
  issn = {1361-8415},
  doi = {10.1016/j.media.2020.101934},
  abstract = {Supervised learning-based segmentation methods typically require a large number of annotated training data to generalize well at test time. In medical applications, curating such datasets is not a favourable option because acquiring a large number of annotated samples from experts is time-consuming and expensive. Consequently, numerous methods have been proposed in the literature for learning with limited annotated examples. Unfortunately, the proposed approaches in the literature have not yet yielded significant gains over random data augmentation for image segmentation, where random augmentations themselves do not yield high accuracy. In this work, we propose a novel task-driven data augmentation method for learning with limited labeled data where the synthetic data generator, is optimized for the segmentation task. The generator of the proposed method models intensity and shape variations using two sets of transformations, as additive intensity transformations and deformation fields. Both transformations are optimized using labeled as well as unlabeled examples in a semi-supervised framework. Our experiments on three medical datasets, namely cardiac, prostate and pancreas, show that the proposed approach significantly outperforms standard augmentation and semi-supervised approaches for image segmentation in the limited annotation setting. The code is made publicly available at https://github.com/krishnabits001/task\\_driven\\_data\\_augmentation.},
  keywords = {Data augmentation,Deep learning,Machine learning,Medical image segmentation,Semi-supervised learning}
}
@inproceedings{zhengHierarchicalSelfsupervisedLearning2021,
  title = {Hierarchical {{Self-supervised Learning}} for {{Medical Image Segmentation Based}} on {{Multi-domain Data Aggregation}}},
  booktitle = {Medical {{Image Computing}} and {{Computer Assisted Intervention}} -- {{MICCAI}} 2021},
  author = {Zheng, Hao and Han, Jun and Wang, Hongxiao and Yang, Lin and Zhao, Zhuo and Wang, Chaoli and Chen, Danny Z.},
  editor = {{de Bruijne}, Marleen and Cattin, Philippe C. and Cotin, St{\\'e}phane and Padoy, Nicolas and Speidel, Stefanie and Zheng, Yefeng and Essert, Caroline},
  year = {2021},
  pages = {622--632},
  publisher = {Springer International Publishing},
  address = {Cham},
  doi = {10.1007/978-3-030-87193-2_59},
  abstract = {A large labeled dataset is a key to the success of supervised deep learning, but for medical image segmentation, it is highly challenging to obtain sufficient annotated images for model training. In many scenarios, unannotated images are abundant and easy to acquire. Self-supervised learning (SSL) has shown great potentials in exploiting raw data information and representation learning. In this paper, we propose Hierarchical Self-Supervised Learning (HSSL), a new self-supervised framework that boosts medical image segmentation by making good use of unannotated data. Unlike the current literature on task-specific self-supervised pretraining followed by supervised fine-tuning, we utilize SSL to learn task-agnostic knowledge from heterogeneous data for various medical image segmentation tasks. Specifically, we first aggregate a dataset from several medical challenges, then pre-train the network in a self-supervised manner, and finally fine-tune on labeled data. We develop a new loss function by combining contrastive loss and classification loss, and pre-train an encoder-decoder architecture for segmentation tasks. Our extensive experiments show that multi-domain joint pre-training benefits downstream segmentation tasks and outperforms single-domain pre-training significantly. Compared to learning from scratch, our method yields better performance on various tasks (e.g., \\$\\$+0.69{\\textbackslash}\\%\\$\\$+0.69\\%to \\$\\$+18.60{\\textbackslash}\\%\\$\\$+18.60\\%in Dice with \\$\\$5{\\textbackslash}\\%\\$\\$5\\%of annotated data). With limited amounts of training data, our method can substantially bridge the performance gap with respect to denser annotations (e.g., \\$\\$10{\\textbackslash}\\%\\$\\$10\\%vs.~\\$\\$100{\\textbackslash}\\%\\$\\$100\\%annotations).},
  isbn = {978-3-030-87193-2},
  langid = {english},
  keywords = {Image segmentation,Multi-domain,Self-supervised learning},
  file = {F:\\Zotero File\\storage\\DK6HJY7J\\Zheng 等 - 2021 - Hierarchical Self-supervised Learning for Medical Image Segmentation Based on Multi-domain Data Aggr.pdf}
}
@article{chenSelfsupervisedLearningMedical2019,
  title = {Self-Supervised Learning for Medical Image Analysis Using Image Context Restoration},
  author = {Chen, Liang and Bentley, Paul and Mori, Kensaku and Misawa, Kazunari and Fujiwara, Michitaka and Rueckert, Daniel},
  year = {2019},
  month = dec,
  journal = {Medical Image Analysis},
  volume = {58},
  pages = {101539},
  issn = {1361-8415},
  doi = {10.1016/j.media.2019.101539},
  urldate = {2025-04-29},
  abstract = {Machine learning, particularly deep learning has boosted medical image analysis over the past years. Training a good model based on deep learning requires large amount of labelled data. However, it is often difficult to obtain a sufficient number of labelled images for training. In many scenarios the dataset in question consists of more unlabelled images than labelled ones. Therefore, boosting the performance of machine learning models by using unlabelled as well as labelled data is an important but challenging problem. Self-supervised learning presents one possible solution to this problem. However, existing self-supervised learning strategies applicable to medical images cannot result in significant performance improvement. Therefore, they often lead to only marginal improvements. In this paper, we propose a novel self-supervised learning strategy based on context restoration in order to better exploit unlabelled images. The context restoration strategy has three major features: 1) it learns semantic image features; 2) these image features are useful for different types of subsequent image analysis tasks; and 3) its implementation is simple. We validate the context restoration strategy in three common problems in medical imaging: classification, localization, and segmentation. For classification, we apply and test it to scan plane detection in fetal 2D ultrasound images; to localise abdominal organs in CT images; and to segment brain tumours in multi-modal MR images. In all three cases, self-supervised learning based on context restoration learns useful semantic features and lead to improved machine learning models for the above tasks.},
  langid = {english},
  keywords = {Context restoration,Medical image analysis,Self-supervised learning},
  file = {F\\:\\\\Zotero File\\\\storage\\\\7K6B54HG\\\\Chen 等 - 2019 - Self-supervised learning for medical image analysis using image context restoration.pdf;F\\:\\\\Zotero File\\\\storage\\\\Q7GH94AX\\\\S1361841518304699.html}
}
@article{He2015DeepRL,
  title={Deep Residual Learning for Image Recognition},
  author={Kaiming He and X. Zhang and Shaoqing Ren and Jian Sun},
  journal={2016 IEEE Conference on Computer Vision and Pattern Recognition (CVPR)},
  year={2015},
  pages={770-778},
  url={https://api.semanticscholar.org/CorpusID:206594692}
}
@article{Szegedy2015RethinkingTI,
  title={Rethinking the Inception Architecture for Computer Vision},
  author={Christian Szegedy and Vincent Vanhoucke and Sergey Ioffe and Jonathon Shlens and Zbigniew Wojna},
  journal={2016 IEEE Conference on Computer Vision and Pattern Recognition (CVPR)},
  year={2015},
  pages={2818-2826},
  url={https://api.semanticscholar.org/CorpusID:206593880}
}
@article{huReinforcementLearningMedical2023,
  title = {Reinforcement Learning in Medical Image Analysis: {{Concepts}}, Applications, Challenges, and Future Directions},
  shorttitle = {Reinforcement Learning in Medical Image Analysis},
  author = {Hu, Mingzhe and Zhang, Jiahan and Matkovic, Luke and Liu, Tian and Yang, Xiaofeng},
  year = {2023},
  journal = {Journal of Applied Clinical Medical Physics},
  volume = {24},
  number = {2},
  pages = {e13898},
  issn = {1526-9914},
  doi = {10.1002/acm2.13898},
  urldate = {2025-04-29},
  abstract = {Motivation Medical image analysis involves a series of tasks used to assist physicians in qualitative and quantitative analyses of lesions or anatomical structures which can significantly improve the accuracy and reliability of medical diagnoses and prognoses. Traditionally, these tedious tasks were finished by experienced physicians or medical physicists and were marred with two major problems, low efficiency and bias. In the past decade, many machine learning methods have been applied to accelerate and automate the image analysis process. Compared to the enormous deployments of supervised and unsupervised learning models, attempts to use reinforcement learning in medical image analysis are still scarce. We hope that this review article could serve as the stepping stone for related research in the future. Significance We found that although reinforcement learning has gradually gained momentum in recent years, many researchers in the medical analysis field still find it hard to understand and deploy in clinical settings. One possible cause is a lack of well-organized review articles intended for readers without professional computer science backgrounds. Rather than to provide a comprehensive list of all reinforcement learning models applied in medical image analysis, the aim of this review is to help the readers formulate and solve their medical image analysis research through the lens of reinforcement learning. Approach \\& Results We selected published articles from Google Scholar and PubMed. Considering the scarcity of related articles, we also included some outstanding newest preprints. The papers were carefully reviewed and categorized according to the type of image analysis task. In this article, we first reviewed the basic concepts and popular models of reinforcement learning. Then, we explored the applications of reinforcement learning models in medical image analysis. Finally, we concluded the article by discussing the reviewed reinforcement learning approaches' limitations and possible future improvements.},
  copyright = {{\\copyright} 2023 The Authors. Journal of Applied Clinical Medical Physics published by Wiley Periodicals, LLC on behalf of The American Association of Physicists in Medicine.},
  langid = {english},
  keywords = {learning,reinforcement},
  file = {F\\:\\\\Zotero File\\\\storage\\\\BLZ6DEM3\\\\Hu 等 - 2023 - Reinforcement learning in medical image analysis Concepts, applications, challenges, and future dir.pdf;F\\:\\\\Zotero File\\\\storage\\\\MRFDFJKJ\\\\acm2.html}
}
@article{mnihHumanlevelControlDeep2015a,
  title = {Human-Level Control through Deep Reinforcement Learning},
  author = {Mnih, Volodymyr and Kavukcuoglu, Koray and Silver, David and Rusu, Andrei A. and Veness, Joel and Bellemare, Marc G. and Graves, Alex and Riedmiller, Martin and Fidjeland, Andreas K. and Ostrovski, Georg and Petersen, Stig and Beattie, Charles and Sadik, Amir and Antonoglou, Ioannis and King, Helen and Kumaran, Dharshan and Wierstra, Daan and Legg, Shane and Hassabis, Demis},
  year = {2015},
  month = feb,
  journal = {Nature},
  volume = {518},
  number = {7540},
  pages = {529--533},
  issn = {1476-4687},
  doi = {10.1038/nature14236},
  abstract = {An artificial agent is developed that learns to play~a diverse range of classic Atari 2600 computer games directly from sensory experience, achieving a~performance comparable to that of an expert human player; this work paves the way to building general-purpose learning algorithms that bridge the divide between perception and action.}
}
@article{Schulman2017ProximalPO,
  title={Proximal Policy Optimization Algorithms},
  author={John Schulman and Filip Wolski and Prafulla Dhariwal and Alec Radford and Oleg Klimov},
  journal={ArXiv},
  year={2017},
  volume={abs/1707.06347},
  url={https://api.semanticscholar.org/CorpusID:28695052}
}
@inproceedings{Mnih2016AsynchronousMF,
  title={Asynchronous Methods for Deep Reinforcement Learning},
  author={Volodymyr Mnih and Adri{\\\`a} Puigdom{\\\`e}nech Badia and Mehdi Mirza and Alex Graves and Timothy P. Lillicrap and Tim Harley and David Silver and Koray Kavukcuoglu},
  booktitle={International Conference on Machine Learning},
  year={2016},
  url={https://api.semanticscholar.org/CorpusID:6875312}
}
@article{koetzierGeneratingSyntheticData2024,
  title = {Generating {{Synthetic Data}} for {{Medical Imaging}}},
  author = {Koetzier, Lennart R. and Wu, Jie and Mastrodicasa, Domenico and Lutz, Aline and Chung, Matthew and Koszek, W. Adam and Pratap, Jayanth and Chaudhari, Akshay S. and Rajpurkar, Pranav and Lungren, Matthew P. and Willemink, Martin J.},
  year = {2024},
  month = sep,
  journal = {Radiology},
  volume = {312},
  number = {3},
  pages = {e232471},
  publisher = {Radiological Society of North America},
  issn = {0033-8419},
  doi = {10.1148/radiol.232471},
  urldate = {2025-04-29},
  abstract = {Artificial intelligence (AI) models for medical imaging tasks, such as classification or segmentation, require large and diverse datasets of images. However, due to privacy and ethical issues, as well as data sharing infrastructure barriers, these datasets are scarce and difficult to assemble. Synthetic medical imaging data generated by AI from existing data could address this challenge by augmenting and anonymizing real imaging data. In addition, synthetic data enable new applications, including modality translation, contrast synthesis, and professional training for radiologists. However, the use of synthetic data also poses technical and ethical challenges. These challenges include ensuring the realism and diversity of the synthesized images while keeping data unidentifiable, evaluating the performance and generalizability of models trained on synthetic data, and high computational costs. Since existing regulations are not sufficient to guarantee the safe and ethical use of synthetic images, it becomes evident that updated laws and more rigorous oversight are needed. Regulatory bodies, physicians, and AI developers should collaborate to develop, maintain, and continually refine best practices for synthetic data. This review aims to provide an overview of the current knowledge of synthetic data in medical imaging and highlights current key challenges in the field to guide future research and development. {\\copyright} RSNA, 2024},
  langid = {english},
  file = {F:\\Zotero File\\storage\\8XW3XVTD\\Koetzier 等 - 2024 - Generating Synthetic Data for Medical Imaging.pdf}
}
@inproceedings{Goodfellow2014GenerativeAN,
  title={Generative Adversarial Nets},
  author={Ian J. Goodfellow and Jean Pouget-Abadie and Mehdi Mirza and Bing Xu and David Warde-Farley and Sherjil Ozair and Aaron C. Courville and Yoshua Bengio},
  booktitle={Neural Information Processing Systems},
  year={2014},
  url={https://api.semanticscholar.org/CorpusID:261560300}
}
@article{SohlDickstein2015DeepUL,
  title={Deep Unsupervised Learning using Nonequilibrium Thermodynamics},
  author={Jascha Narain Sohl-Dickstein and Eric A. Weiss and Niru Maheswaranathan and Surya Ganguli},
  journal={ArXiv},
  year={2015},
  volume={abs/1503.03585},
  url={https://api.semanticscholar.org/CorpusID:14888175}
}
@article{wangGenerationSyntheticGround2022,
  title = {Generation of Synthetic Ground Glass Nodules Using Generative Adversarial Networks ({{GANs}})},
  author = {Wang, Zhixiang and Zhang, Zhen and Feng, Ying and Hendriks, Lizza E. L. and Miclea, Razvan L. and Gietema, Hester and Schoenmaekers, Janna and Dekker, Andre and Wee, Leonard and Traverso, Alberto},
  year = {2022},
  month = nov,
  journal = {European Radiology Experimental},
  volume = {6},
  number = {1},
  pages = {59},
  issn = {2509-9280},
  doi = {10.1186/s41747-022-00311-y},
  urldate = {2025-04-29},
  abstract = {Data shortage is a common challenge in developing computer-aided diagnosis systems. We developed a generative adversarial network (GAN) model to generate synthetic lung lesions mimicking ground glass nodules (GGNs).},
  langid = {english},
  keywords = {Deep learning,Lung,Neural networks (computer),Solitary pulmonary nodule,Tomography (x-ray computed)},
  file = {F\\:\\\\Zotero File\\\\storage\\\\3KTPPIS3\\\\Wang 等 - 2022 - Generation of synthetic ground glass nodules using generative adversarial networks (GANs).pdf;F\\:\\\\Zotero File\\\\storage\\\\MKCKQPDK\\\\s41747-022-00311-y.html}
}
@INPROCEEDINGS{8099502,
  author={Ledig, Christian and Theis, Lucas and Huszár, Ferenc and Caballero, Jose and Cunningham, Andrew and Acosta, Alejandro and Aitken, Andrew and Tejani, Alykhan and Totz, Johannes and Wang, Zehan and Shi, Wenzhe},
  booktitle={2017 IEEE Conference on Computer Vision and Pattern Recognition (CVPR)}, 
  title={Photo-Realistic Single Image Super-Resolution Using a Generative Adversarial Network}, 
  year={2017},
  volume={},
  number={},
  pages={105-114},
  keywords={Image resolution;Signal resolution;Gallium nitride;Image reconstruction;Manifolds;Training;Network architecture},
  doi={10.1109/CVPR.2017.19}}
@misc{songScoreBasedGenerativeModeling2021,
  title = {Score-{{Based Generative Modeling}} through {{Stochastic Differential Equations}}},
  author = {Song, Yang and {Sohl-Dickstein}, Jascha and Kingma, Diederik P. and Kumar, Abhishek and Ermon, Stefano and Poole, Ben},
  year = {2021},
  month = feb,
  number = {arXiv:2011.13456},
  eprint = {2011.13456},
  primaryclass = {cs},
  publisher = {arXiv},
  doi = {10.48550/arXiv.2011.13456},
  urldate = {2025-04-30},
  abstract = {Creating noise from data is easy; creating data from noise is generative modeling. We present a stochastic differential equation (SDE) that smoothly transforms a complex data distribution to a known prior distribution by slowly injecting noise, and a corresponding reverse-time SDE that transforms the prior distribution back into the data distribution by slowly removing the noise. Crucially, the reverse-time SDE depends only on the time-dependent gradient field ({\\textbackslash}aka, score) of the perturbed data distribution. By leveraging advances in score-based generative modeling, we can accurately estimate these scores with neural networks, and use numerical SDE solvers to generate samples. We show that this framework encapsulates previous approaches in score-based generative modeling and diffusion probabilistic modeling, allowing for new sampling procedures and new modeling capabilities. In particular, we introduce a predictor-corrector framework to correct errors in the evolution of the discretized reverse-time SDE. We also derive an equivalent neural ODE that samples from the same distribution as the SDE, but additionally enables exact likelihood computation, and improved sampling efficiency. In addition, we provide a new way to solve inverse problems with score-based models, as demonstrated with experiments on class-conditional generation, image inpainting, and colorization. Combined with multiple architectural improvements, we achieve record-breaking performance for unconditional image generation on CIFAR-10 with an Inception score of 9.89 and FID of 2.20, a competitive likelihood of 2.99 bits/dim, and demonstrate high fidelity generation of 1024 x 1024 images for the first time from a score-based generative model.},
  archiveprefix = {arXiv},
  langid = {english},
  keywords = {Computer Science - Machine Learning,Statistics - Machine Learning},
  file = {F\\:\\\\Zotero File\\\\storage\\\\D9DXCM7I\\\\Song 等 - 2021 - Score-Based Generative Modeling through Stochastic Differential Equations.pdf;F\\:\\\\Zotero File\\\\storage\\\\WLZD9W66\\\\2011.html}
}
`,Qv="modulepreload",Zv=function(i){return"/ELEC0139_BLOG_SN24076607/"+i},m2={},da=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(t.map(o=>{if(o=Zv(o),o in m2)return;m2[o]=!0;const h=o.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":Qv,h||(f.as="script"),f.crossOrigin="",f.href=o,l&&f.setAttribute("nonce",l),document.head.appendChild(f),h)return new Promise((p,g)=>{f.addEventListener("load",p),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})}))}function n(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&n(l.reason);return e().catch(n)})};var Ta={exports:{}},Da={exports:{}},Jv=Da.exports,f2;function _v(){return f2||(f2=1,function(i,e){(function(r,s){i.exports=s()})(typeof self<"u"?self:Jv,function(){return function(){var t={};(function(){t.d=function(u,c){for(var m in c)t.o(c,m)&&!t.o(u,m)&&Object.defineProperty(u,m,{enumerable:!0,get:c[m]})}})(),function(){t.o=function(u,c){return Object.prototype.hasOwnProperty.call(u,c)}}();var r={};t.d(r,{default:function(){return df}});class s{constructor(c,m){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let v="KaTeX parse error: "+c,w,I;const V=m&&m.loc;if(V&&V.start<=V.end){const Q=V.lexer.input;w=V.start,I=V.end,w===Q.length?v+=" at end of input: ":v+=" at position "+(w+1)+": ";const ie=Q.slice(w,I).replace(/[^]/g,"$&̲");let ce;w>15?ce="…"+Q.slice(w-15,w):ce=Q.slice(0,w);let ue;I+15<Q.length?ue=Q.slice(I,I+15)+"…":ue=Q.slice(I),v+=ce+ie+ue}const G=new Error(v);return G.name="ParseError",G.__proto__=s.prototype,G.position=w,w!=null&&I!=null&&(G.length=I-w),G.rawMessage=c,G}}s.prototype.__proto__=Error.prototype;var n=s;const a=function(u,c){return u.indexOf(c)!==-1},l=function(u,c){return u===void 0?c:u},o=/([A-Z])/g,h=function(u){return u.replace(o,"-$1").toLowerCase()},d={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},f=/[&><"']/g;function p(u){return String(u).replace(f,c=>d[c])}const g=function(u){return u.type==="ordgroup"||u.type==="color"?u.body.length===1?g(u.body[0]):u:u.type==="font"?g(u.body):u},A=function(u){const c=g(u);return c.type==="mathord"||c.type==="textord"||c.type==="atom"},x=function(u){if(!u)throw new Error("Expected non-null, but got "+String(u));return u};var b={contains:a,deflt:l,escape:p,hyphenate:h,getBaseElem:g,isCharacterBox:A,protocolFromUrl:function(u){const c=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(u);return c?c[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(c[1])?null:c[1].toLowerCase():"_relative"}};const T={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:u=>"#"+u},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(u,c)=>(c.push(u),c)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:u=>Math.max(0,u),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:u=>Math.max(0,u),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:u=>Math.max(0,u),cli:"-e, --max-expand <n>",cliProcessor:u=>u==="Infinity"?1/0:parseInt(u)},globalGroup:{type:"boolean",cli:!1}};function D(u){if(u.default)return u.default;const c=u.type,m=Array.isArray(c)?c[0]:c;if(typeof m!="string")return m.enum[0];switch(m){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class S{constructor(c){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,c=c||{};for(const m in T)if(T.hasOwnProperty(m)){const v=T[m];this[m]=c[m]!==void 0?v.processor?v.processor(c[m]):c[m]:D(v)}}reportNonstrict(c,m,v){let w=this.strict;if(typeof w=="function"&&(w=w(c,m,v)),!(!w||w==="ignore")){if(w===!0||w==="error")throw new n("LaTeX-incompatible input and strict mode is set to 'error': "+(m+" ["+c+"]"),v);w==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(m+" ["+c+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+w+"': "+m+" ["+c+"]"))}}useStrictBehavior(c,m,v){let w=this.strict;if(typeof w=="function")try{w=w(c,m,v)}catch{w="error"}return!w||w==="ignore"?!1:w===!0||w==="error"?!0:w==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(m+" ["+c+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+w+"': "+m+" ["+c+"]")),!1)}isTrusted(c){if(c.url&&!c.protocol){const v=b.protocolFromUrl(c.url);if(v==null)return!1;c.protocol=v}return!!(typeof this.trust=="function"?this.trust(c):this.trust)}}class k{constructor(c,m,v){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=c,this.size=m,this.cramped=v}sup(){return X[re[this.id]]}sub(){return X[oe[this.id]]}fracNum(){return X[he[this.id]]}fracDen(){return X[Ae[this.id]]}cramp(){return X[qe[this.id]]}text(){return X[Qe[this.id]]}isTight(){return this.size>=2}}const R=0,B=1,N=2,L=3,O=4,q=5,U=6,j=7,X=[new k(R,0,!1),new k(B,0,!0),new k(N,1,!1),new k(L,1,!0),new k(O,2,!1),new k(q,2,!0),new k(U,3,!1),new k(j,3,!0)],re=[O,q,O,q,U,j,U,j],oe=[q,q,q,q,j,j,j,j],he=[N,L,O,q,U,j,U,j],Ae=[L,L,q,q,j,j,j,j],qe=[B,B,L,L,q,q,j,j],Qe=[R,B,N,L,N,L,N,L];var Fe={DISPLAY:X[R],TEXT:X[N],SCRIPT:X[O],SCRIPTSCRIPT:X[U]};const at=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function jt(u){for(let c=0;c<at.length;c++){const m=at[c];for(let v=0;v<m.blocks.length;v++){const w=m.blocks[v];if(u>=w[0]&&u<=w[1])return m.name}}return null}const ni=[];at.forEach(u=>u.blocks.forEach(c=>ni.push(...c)));function qt(u){for(let c=0;c<ni.length;c+=2)if(u>=ni[c]&&u<=ni[c+1])return!0;return!1}const Vt=80,Gt=function(u,c){return"M95,"+(622+u+c)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+u/2.075+" -"+u+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+u)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+u)+" "+c+"h400000v"+(40+u)+"h-400000z"},ai=function(u,c){return"M263,"+(601+u+c)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+u/2.084+" -"+u+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+u)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+u)+" "+c+"h400000v"+(40+u)+"h-400000z"},yi=function(u,c){return"M983 "+(10+u+c)+`
l`+u/3.13+" -"+u+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+u)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+u)+" "+c+"h400000v"+(40+u)+"h-400000z"},Et=function(u,c){return"M424,"+(2398+u+c)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+u/4.223+" -"+u+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+u)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+u)+" "+c+`
h400000v`+(40+u)+"h-400000z"},oi=function(u,c){return"M473,"+(2713+u+c)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+u/5.298+" -"+u+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+u)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+u)+" "+c+"h400000v"+(40+u)+"H1017.7z"},$=function(u){const c=u/2;return"M400000 "+u+" H0 L"+c+" 0 l65 45 L145 "+(u-80)+" H400000z"},se=function(u,c,m){const v=m-54-c-u;return"M702 "+(u+c)+"H400000"+(40+u)+`
H742v`+v+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+c+"H400000v"+(40+u)+"H742z"},ve=function(u,c,m){c=1e3*c;let v="";switch(u){case"sqrtMain":v=Gt(c,Vt);break;case"sqrtSize1":v=ai(c,Vt);break;case"sqrtSize2":v=yi(c,Vt);break;case"sqrtSize3":v=Et(c,Vt);break;case"sqrtSize4":v=oi(c,Vt);break;case"sqrtTall":v=se(c,Vt,m)}return v},Me=function(u,c){switch(u){case"⎜":return"M291 0 H417 V"+c+" H291z M291 0 H417 V"+c+" H291z";case"∣":return"M145 0 H188 V"+c+" H145z M145 0 H188 V"+c+" H145z";case"∥":return"M145 0 H188 V"+c+" H145z M145 0 H188 V"+c+" H145z"+("M367 0 H410 V"+c+" H367z M367 0 H410 V"+c+" H367z");case"⎟":return"M457 0 H583 V"+c+" H457z M457 0 H583 V"+c+" H457z";case"⎢":return"M319 0 H403 V"+c+" H319z M319 0 H403 V"+c+" H319z";case"⎥":return"M263 0 H347 V"+c+" H263z M263 0 H347 V"+c+" H263z";case"⎪":return"M384 0 H504 V"+c+" H384z M384 0 H504 V"+c+" H384z";case"⏐":return"M312 0 H355 V"+c+" H312z M312 0 H355 V"+c+" H312z";case"‖":return"M257 0 H300 V"+c+" H257z M257 0 H300 V"+c+" H257z"+("M478 0 H521 V"+c+" H478z M478 0 H521 V"+c+" H478z");default:return""}},xe={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Se=function(u,c){switch(u){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+c+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+c+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+c+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+c+" v1759 h84z";case"vert":return"M145 15 v585 v"+c+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-c+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+c+" v585 h43z";case"doublevert":return"M145 15 v585 v"+c+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-c+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+c+` v585 h43z
M367 15 v585 v`+c+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-c+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+c+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+c+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+c+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+c+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+c+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+c+` v602 h84z
M403 1759 V0 H319 V1759 v`+c+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+c+` v602 h84z
M347 1759 V0 h-84 V1759 v`+c+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(c+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(c+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(c+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(c+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Ne{constructor(c){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=c,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(c){return b.contains(this.classes,c)}toNode(){const c=document.createDocumentFragment();for(let m=0;m<this.children.length;m++)c.appendChild(this.children[m].toNode());return c}toMarkup(){let c="";for(let m=0;m<this.children.length;m++)c+=this.children[m].toMarkup();return c}toText(){const c=m=>m.toText();return this.children.map(c).join("")}}var Te={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const Re={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Ie={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function tt(u,c){Te[u]=c}function ze(u,c,m){if(!Te[c])throw new Error("Font metrics not found for font: "+c+".");let v=u.charCodeAt(0),w=Te[c][v];if(!w&&u[0]in Ie&&(v=Ie[u[0]].charCodeAt(0),w=Te[c][v]),!w&&m==="text"&&qt(v)&&(w=Te[c][77]),w)return{depth:w[0],height:w[1],italic:w[2],skew:w[3],width:w[4]}}const Xe={};function nt(u){let c;if(u>=5?c=0:u>=3?c=1:c=2,!Xe[c]){const m=Xe[c]={cssEmPerMu:Re.quad[c]/18};for(const v in Re)Re.hasOwnProperty(v)&&(m[v]=Re[v][c])}return Xe[c]}const ft=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],kt=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],wt=function(u,c){return c.size<2?u:ft[u-1][c.size-1]};class $t{constructor(c){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=c.style,this.color=c.color,this.size=c.size||$t.BASESIZE,this.textSize=c.textSize||this.size,this.phantom=!!c.phantom,this.font=c.font||"",this.fontFamily=c.fontFamily||"",this.fontWeight=c.fontWeight||"",this.fontShape=c.fontShape||"",this.sizeMultiplier=kt[this.size-1],this.maxSize=c.maxSize,this.minRuleThickness=c.minRuleThickness,this._fontMetrics=void 0}extend(c){const m={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const v in c)c.hasOwnProperty(v)&&(m[v]=c[v]);return new $t(m)}havingStyle(c){return this.style===c?this:this.extend({style:c,size:wt(this.textSize,c)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(c){return this.size===c&&this.textSize===c?this:this.extend({style:this.style.text(),size:c,textSize:c,sizeMultiplier:kt[c-1]})}havingBaseStyle(c){c=c||this.style.text();const m=wt($t.BASESIZE,c);return this.size===m&&this.textSize===$t.BASESIZE&&this.style===c?this:this.extend({style:c,size:m})}havingBaseSizing(){let c;switch(this.style.id){case 4:case 5:c=3;break;case 6:case 7:c=1;break;default:c=6}return this.extend({style:this.style.text(),size:c})}withColor(c){return this.extend({color:c})}withPhantom(){return this.extend({phantom:!0})}withFont(c){return this.extend({font:c})}withTextFontFamily(c){return this.extend({fontFamily:c,font:""})}withTextFontWeight(c){return this.extend({fontWeight:c,font:""})}withTextFontShape(c){return this.extend({fontShape:c,font:""})}sizingClasses(c){return c.size!==this.size?["sizing","reset-size"+c.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==$t.BASESIZE?["sizing","reset-size"+this.size,"size"+$t.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=nt(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}$t.BASESIZE=6;var ki=$t;const Ki={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},mr={ex:!0,em:!0,mu:!0},x0=function(u){return typeof u!="string"&&(u=u.unit),u in Ki||u in mr||u==="ex"},Ut=function(u,c){let m;if(u.unit in Ki)m=Ki[u.unit]/c.fontMetrics().ptPerEm/c.sizeMultiplier;else if(u.unit==="mu")m=c.fontMetrics().cssEmPerMu;else{let v;if(c.style.isTight()?v=c.havingStyle(c.style.text()):v=c,u.unit==="ex")m=v.fontMetrics().xHeight;else if(u.unit==="em")m=v.fontMetrics().quad;else throw new n("Invalid unit: '"+u.unit+"'");v!==c&&(m*=v.sizeMultiplier/c.sizeMultiplier)}return Math.min(u.number*m,c.maxSize)},Ce=function(u){return+u.toFixed(4)+"em"},vi=function(u){return u.filter(c=>c).join(" ")},Rs=function(u,c,m){if(this.classes=u||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=m||{},c){c.style.isTight()&&this.classes.push("mtight");const v=c.getColor();v&&(this.style.color=v)}},lc=function(u){const c=document.createElement(u);c.className=vi(this.classes);for(const m in this.style)this.style.hasOwnProperty(m)&&(c.style[m]=this.style[m]);for(const m in this.attributes)this.attributes.hasOwnProperty(m)&&c.setAttribute(m,this.attributes[m]);for(let m=0;m<this.children.length;m++)c.appendChild(this.children[m].toNode());return c},$4=/[\s"'>/=\x00-\x1f]/,cc=function(u){let c="<"+u;this.classes.length&&(c+=' class="'+b.escape(vi(this.classes))+'"');let m="";for(const v in this.style)this.style.hasOwnProperty(v)&&(m+=b.hyphenate(v)+":"+this.style[v]+";");m&&(c+=' style="'+b.escape(m)+'"');for(const v in this.attributes)if(this.attributes.hasOwnProperty(v)){if($4.test(v))throw new n("Invalid attribute name '"+v+"'");c+=" "+v+'="'+b.escape(this.attributes[v])+'"'}c+=">";for(let v=0;v<this.children.length;v++)c+=this.children[v].toMarkup();return c+="</"+u+">",c};class Vs{constructor(c,m,v,w){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Rs.call(this,c,v,w),this.children=m||[]}setAttribute(c,m){this.attributes[c]=m}hasClass(c){return b.contains(this.classes,c)}toNode(){return lc.call(this,"span")}toMarkup(){return cc.call(this,"span")}}class mo{constructor(c,m,v,w){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Rs.call(this,m,w),this.children=v||[],this.setAttribute("href",c)}setAttribute(c,m){this.attributes[c]=m}hasClass(c){return b.contains(this.classes,c)}toNode(){return lc.call(this,"a")}toMarkup(){return cc.call(this,"a")}}class em{constructor(c,m,v){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=m,this.src=c,this.classes=["mord"],this.style=v}hasClass(c){return b.contains(this.classes,c)}toNode(){const c=document.createElement("img");c.src=this.src,c.alt=this.alt,c.className="mord";for(const m in this.style)this.style.hasOwnProperty(m)&&(c.style[m]=this.style[m]);return c}toMarkup(){let c='<img src="'+b.escape(this.src)+'"'+(' alt="'+b.escape(this.alt)+'"'),m="";for(const v in this.style)this.style.hasOwnProperty(v)&&(m+=b.hyphenate(v)+":"+this.style[v]+";");return m&&(c+=' style="'+b.escape(m)+'"'),c+="'/>",c}}const tm={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class fr{constructor(c,m,v,w,I,V,G,Q){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=c,this.height=m||0,this.depth=v||0,this.italic=w||0,this.skew=I||0,this.width=V||0,this.classes=G||[],this.style=Q||{},this.maxFontSize=0;const ie=jt(this.text.charCodeAt(0));ie&&this.classes.push(ie+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=tm[this.text])}hasClass(c){return b.contains(this.classes,c)}toNode(){const c=document.createTextNode(this.text);let m=null;this.italic>0&&(m=document.createElement("span"),m.style.marginRight=Ce(this.italic)),this.classes.length>0&&(m=m||document.createElement("span"),m.className=vi(this.classes));for(const v in this.style)this.style.hasOwnProperty(v)&&(m=m||document.createElement("span"),m.style[v]=this.style[v]);return m?(m.appendChild(c),m):c}toMarkup(){let c=!1,m="<span";this.classes.length&&(c=!0,m+=' class="',m+=b.escape(vi(this.classes)),m+='"');let v="";this.italic>0&&(v+="margin-right:"+this.italic+"em;");for(const I in this.style)this.style.hasOwnProperty(I)&&(v+=b.hyphenate(I)+":"+this.style[I]+";");v&&(c=!0,m+=' style="'+b.escape(v)+'"');const w=b.escape(this.text);return c?(m+=">",m+=w,m+="</span>",m):w}}class Jr{constructor(c,m){this.children=void 0,this.attributes=void 0,this.children=c||[],this.attributes=m||{}}toNode(){const m=document.createElementNS("http://www.w3.org/2000/svg","svg");for(const v in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,v)&&m.setAttribute(v,this.attributes[v]);for(let v=0;v<this.children.length;v++)m.appendChild(this.children[v].toNode());return m}toMarkup(){let c='<svg xmlns="http://www.w3.org/2000/svg"';for(const m in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,m)&&(c+=" "+m+'="'+b.escape(this.attributes[m])+'"');c+=">";for(let m=0;m<this.children.length;m++)c+=this.children[m].toMarkup();return c+="</svg>",c}}class b0{constructor(c,m){this.pathName=void 0,this.alternate=void 0,this.pathName=c,this.alternate=m}toNode(){const m=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?m.setAttribute("d",this.alternate):m.setAttribute("d",xe[this.pathName]),m}toMarkup(){return this.alternate?'<path d="'+b.escape(this.alternate)+'"/>':'<path d="'+b.escape(xe[this.pathName])+'"/>'}}class fo{constructor(c){this.attributes=void 0,this.attributes=c||{}}toNode(){const m=document.createElementNS("http://www.w3.org/2000/svg","line");for(const v in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,v)&&m.setAttribute(v,this.attributes[v]);return m}toMarkup(){let c="<line";for(const m in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,m)&&(c+=" "+m+'="'+b.escape(this.attributes[m])+'"');return c+="/>",c}}function hc(u){if(u instanceof fr)return u;throw new Error("Expected symbolNode but got "+String(u)+".")}function im(u){if(u instanceof Vs)return u;throw new Error("Expected span<HtmlDomNode> but got "+String(u)+".")}const rm={bin:1,close:1,inner:1,open:1,punct:1,rel:1},sm={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Sn={math:{},text:{}};var ei=Sn;function M(u,c,m,v,w,I){Sn[u][w]={font:c,group:m,replace:v},I&&v&&(Sn[u][v]=Sn[u][w])}const E="math",ye="text",z="main",J="ams",Xt="accent-token",Ge="bin",Bi="close",ls="inner",Je="mathord",fi="op-token",tr="open",Mn="punct",ee="rel",_r="spacing",ne="textord";M(E,z,ee,"≡","\\equiv",!0),M(E,z,ee,"≺","\\prec",!0),M(E,z,ee,"≻","\\succ",!0),M(E,z,ee,"∼","\\sim",!0),M(E,z,ee,"⊥","\\perp"),M(E,z,ee,"⪯","\\preceq",!0),M(E,z,ee,"⪰","\\succeq",!0),M(E,z,ee,"≃","\\simeq",!0),M(E,z,ee,"∣","\\mid",!0),M(E,z,ee,"≪","\\ll",!0),M(E,z,ee,"≫","\\gg",!0),M(E,z,ee,"≍","\\asymp",!0),M(E,z,ee,"∥","\\parallel"),M(E,z,ee,"⋈","\\bowtie",!0),M(E,z,ee,"⌣","\\smile",!0),M(E,z,ee,"⊑","\\sqsubseteq",!0),M(E,z,ee,"⊒","\\sqsupseteq",!0),M(E,z,ee,"≐","\\doteq",!0),M(E,z,ee,"⌢","\\frown",!0),M(E,z,ee,"∋","\\ni",!0),M(E,z,ee,"∝","\\propto",!0),M(E,z,ee,"⊢","\\vdash",!0),M(E,z,ee,"⊣","\\dashv",!0),M(E,z,ee,"∋","\\owns"),M(E,z,Mn,".","\\ldotp"),M(E,z,Mn,"⋅","\\cdotp"),M(E,z,ne,"#","\\#"),M(ye,z,ne,"#","\\#"),M(E,z,ne,"&","\\&"),M(ye,z,ne,"&","\\&"),M(E,z,ne,"ℵ","\\aleph",!0),M(E,z,ne,"∀","\\forall",!0),M(E,z,ne,"ℏ","\\hbar",!0),M(E,z,ne,"∃","\\exists",!0),M(E,z,ne,"∇","\\nabla",!0),M(E,z,ne,"♭","\\flat",!0),M(E,z,ne,"ℓ","\\ell",!0),M(E,z,ne,"♮","\\natural",!0),M(E,z,ne,"♣","\\clubsuit",!0),M(E,z,ne,"℘","\\wp",!0),M(E,z,ne,"♯","\\sharp",!0),M(E,z,ne,"♢","\\diamondsuit",!0),M(E,z,ne,"ℜ","\\Re",!0),M(E,z,ne,"♡","\\heartsuit",!0),M(E,z,ne,"ℑ","\\Im",!0),M(E,z,ne,"♠","\\spadesuit",!0),M(E,z,ne,"§","\\S",!0),M(ye,z,ne,"§","\\S"),M(E,z,ne,"¶","\\P",!0),M(ye,z,ne,"¶","\\P"),M(E,z,ne,"†","\\dag"),M(ye,z,ne,"†","\\dag"),M(ye,z,ne,"†","\\textdagger"),M(E,z,ne,"‡","\\ddag"),M(ye,z,ne,"‡","\\ddag"),M(ye,z,ne,"‡","\\textdaggerdbl"),M(E,z,Bi,"⎱","\\rmoustache",!0),M(E,z,tr,"⎰","\\lmoustache",!0),M(E,z,Bi,"⟯","\\rgroup",!0),M(E,z,tr,"⟮","\\lgroup",!0),M(E,z,Ge,"∓","\\mp",!0),M(E,z,Ge,"⊖","\\ominus",!0),M(E,z,Ge,"⊎","\\uplus",!0),M(E,z,Ge,"⊓","\\sqcap",!0),M(E,z,Ge,"∗","\\ast"),M(E,z,Ge,"⊔","\\sqcup",!0),M(E,z,Ge,"◯","\\bigcirc",!0),M(E,z,Ge,"∙","\\bullet",!0),M(E,z,Ge,"‡","\\ddagger"),M(E,z,Ge,"≀","\\wr",!0),M(E,z,Ge,"⨿","\\amalg"),M(E,z,Ge,"&","\\And"),M(E,z,ee,"⟵","\\longleftarrow",!0),M(E,z,ee,"⇐","\\Leftarrow",!0),M(E,z,ee,"⟸","\\Longleftarrow",!0),M(E,z,ee,"⟶","\\longrightarrow",!0),M(E,z,ee,"⇒","\\Rightarrow",!0),M(E,z,ee,"⟹","\\Longrightarrow",!0),M(E,z,ee,"↔","\\leftrightarrow",!0),M(E,z,ee,"⟷","\\longleftrightarrow",!0),M(E,z,ee,"⇔","\\Leftrightarrow",!0),M(E,z,ee,"⟺","\\Longleftrightarrow",!0),M(E,z,ee,"↦","\\mapsto",!0),M(E,z,ee,"⟼","\\longmapsto",!0),M(E,z,ee,"↗","\\nearrow",!0),M(E,z,ee,"↩","\\hookleftarrow",!0),M(E,z,ee,"↪","\\hookrightarrow",!0),M(E,z,ee,"↘","\\searrow",!0),M(E,z,ee,"↼","\\leftharpoonup",!0),M(E,z,ee,"⇀","\\rightharpoonup",!0),M(E,z,ee,"↙","\\swarrow",!0),M(E,z,ee,"↽","\\leftharpoondown",!0),M(E,z,ee,"⇁","\\rightharpoondown",!0),M(E,z,ee,"↖","\\nwarrow",!0),M(E,z,ee,"⇌","\\rightleftharpoons",!0),M(E,J,ee,"≮","\\nless",!0),M(E,J,ee,"","\\@nleqslant"),M(E,J,ee,"","\\@nleqq"),M(E,J,ee,"⪇","\\lneq",!0),M(E,J,ee,"≨","\\lneqq",!0),M(E,J,ee,"","\\@lvertneqq"),M(E,J,ee,"⋦","\\lnsim",!0),M(E,J,ee,"⪉","\\lnapprox",!0),M(E,J,ee,"⊀","\\nprec",!0),M(E,J,ee,"⋠","\\npreceq",!0),M(E,J,ee,"⋨","\\precnsim",!0),M(E,J,ee,"⪹","\\precnapprox",!0),M(E,J,ee,"≁","\\nsim",!0),M(E,J,ee,"","\\@nshortmid"),M(E,J,ee,"∤","\\nmid",!0),M(E,J,ee,"⊬","\\nvdash",!0),M(E,J,ee,"⊭","\\nvDash",!0),M(E,J,ee,"⋪","\\ntriangleleft"),M(E,J,ee,"⋬","\\ntrianglelefteq",!0),M(E,J,ee,"⊊","\\subsetneq",!0),M(E,J,ee,"","\\@varsubsetneq"),M(E,J,ee,"⫋","\\subsetneqq",!0),M(E,J,ee,"","\\@varsubsetneqq"),M(E,J,ee,"≯","\\ngtr",!0),M(E,J,ee,"","\\@ngeqslant"),M(E,J,ee,"","\\@ngeqq"),M(E,J,ee,"⪈","\\gneq",!0),M(E,J,ee,"≩","\\gneqq",!0),M(E,J,ee,"","\\@gvertneqq"),M(E,J,ee,"⋧","\\gnsim",!0),M(E,J,ee,"⪊","\\gnapprox",!0),M(E,J,ee,"⊁","\\nsucc",!0),M(E,J,ee,"⋡","\\nsucceq",!0),M(E,J,ee,"⋩","\\succnsim",!0),M(E,J,ee,"⪺","\\succnapprox",!0),M(E,J,ee,"≆","\\ncong",!0),M(E,J,ee,"","\\@nshortparallel"),M(E,J,ee,"∦","\\nparallel",!0),M(E,J,ee,"⊯","\\nVDash",!0),M(E,J,ee,"⋫","\\ntriangleright"),M(E,J,ee,"⋭","\\ntrianglerighteq",!0),M(E,J,ee,"","\\@nsupseteqq"),M(E,J,ee,"⊋","\\supsetneq",!0),M(E,J,ee,"","\\@varsupsetneq"),M(E,J,ee,"⫌","\\supsetneqq",!0),M(E,J,ee,"","\\@varsupsetneqq"),M(E,J,ee,"⊮","\\nVdash",!0),M(E,J,ee,"⪵","\\precneqq",!0),M(E,J,ee,"⪶","\\succneqq",!0),M(E,J,ee,"","\\@nsubseteqq"),M(E,J,Ge,"⊴","\\unlhd"),M(E,J,Ge,"⊵","\\unrhd"),M(E,J,ee,"↚","\\nleftarrow",!0),M(E,J,ee,"↛","\\nrightarrow",!0),M(E,J,ee,"⇍","\\nLeftarrow",!0),M(E,J,ee,"⇏","\\nRightarrow",!0),M(E,J,ee,"↮","\\nleftrightarrow",!0),M(E,J,ee,"⇎","\\nLeftrightarrow",!0),M(E,J,ee,"△","\\vartriangle"),M(E,J,ne,"ℏ","\\hslash"),M(E,J,ne,"▽","\\triangledown"),M(E,J,ne,"◊","\\lozenge"),M(E,J,ne,"Ⓢ","\\circledS"),M(E,J,ne,"®","\\circledR"),M(ye,J,ne,"®","\\circledR"),M(E,J,ne,"∡","\\measuredangle",!0),M(E,J,ne,"∄","\\nexists"),M(E,J,ne,"℧","\\mho"),M(E,J,ne,"Ⅎ","\\Finv",!0),M(E,J,ne,"⅁","\\Game",!0),M(E,J,ne,"‵","\\backprime"),M(E,J,ne,"▲","\\blacktriangle"),M(E,J,ne,"▼","\\blacktriangledown"),M(E,J,ne,"■","\\blacksquare"),M(E,J,ne,"⧫","\\blacklozenge"),M(E,J,ne,"★","\\bigstar"),M(E,J,ne,"∢","\\sphericalangle",!0),M(E,J,ne,"∁","\\complement",!0),M(E,J,ne,"ð","\\eth",!0),M(ye,z,ne,"ð","ð"),M(E,J,ne,"╱","\\diagup"),M(E,J,ne,"╲","\\diagdown"),M(E,J,ne,"□","\\square"),M(E,J,ne,"□","\\Box"),M(E,J,ne,"◊","\\Diamond"),M(E,J,ne,"¥","\\yen",!0),M(ye,J,ne,"¥","\\yen",!0),M(E,J,ne,"✓","\\checkmark",!0),M(ye,J,ne,"✓","\\checkmark"),M(E,J,ne,"ℶ","\\beth",!0),M(E,J,ne,"ℸ","\\daleth",!0),M(E,J,ne,"ℷ","\\gimel",!0),M(E,J,ne,"ϝ","\\digamma",!0),M(E,J,ne,"ϰ","\\varkappa"),M(E,J,tr,"┌","\\@ulcorner",!0),M(E,J,Bi,"┐","\\@urcorner",!0),M(E,J,tr,"└","\\@llcorner",!0),M(E,J,Bi,"┘","\\@lrcorner",!0),M(E,J,ee,"≦","\\leqq",!0),M(E,J,ee,"⩽","\\leqslant",!0),M(E,J,ee,"⪕","\\eqslantless",!0),M(E,J,ee,"≲","\\lesssim",!0),M(E,J,ee,"⪅","\\lessapprox",!0),M(E,J,ee,"≊","\\approxeq",!0),M(E,J,Ge,"⋖","\\lessdot"),M(E,J,ee,"⋘","\\lll",!0),M(E,J,ee,"≶","\\lessgtr",!0),M(E,J,ee,"⋚","\\lesseqgtr",!0),M(E,J,ee,"⪋","\\lesseqqgtr",!0),M(E,J,ee,"≑","\\doteqdot"),M(E,J,ee,"≓","\\risingdotseq",!0),M(E,J,ee,"≒","\\fallingdotseq",!0),M(E,J,ee,"∽","\\backsim",!0),M(E,J,ee,"⋍","\\backsimeq",!0),M(E,J,ee,"⫅","\\subseteqq",!0),M(E,J,ee,"⋐","\\Subset",!0),M(E,J,ee,"⊏","\\sqsubset",!0),M(E,J,ee,"≼","\\preccurlyeq",!0),M(E,J,ee,"⋞","\\curlyeqprec",!0),M(E,J,ee,"≾","\\precsim",!0),M(E,J,ee,"⪷","\\precapprox",!0),M(E,J,ee,"⊲","\\vartriangleleft"),M(E,J,ee,"⊴","\\trianglelefteq"),M(E,J,ee,"⊨","\\vDash",!0),M(E,J,ee,"⊪","\\Vvdash",!0),M(E,J,ee,"⌣","\\smallsmile"),M(E,J,ee,"⌢","\\smallfrown"),M(E,J,ee,"≏","\\bumpeq",!0),M(E,J,ee,"≎","\\Bumpeq",!0),M(E,J,ee,"≧","\\geqq",!0),M(E,J,ee,"⩾","\\geqslant",!0),M(E,J,ee,"⪖","\\eqslantgtr",!0),M(E,J,ee,"≳","\\gtrsim",!0),M(E,J,ee,"⪆","\\gtrapprox",!0),M(E,J,Ge,"⋗","\\gtrdot"),M(E,J,ee,"⋙","\\ggg",!0),M(E,J,ee,"≷","\\gtrless",!0),M(E,J,ee,"⋛","\\gtreqless",!0),M(E,J,ee,"⪌","\\gtreqqless",!0),M(E,J,ee,"≖","\\eqcirc",!0),M(E,J,ee,"≗","\\circeq",!0),M(E,J,ee,"≜","\\triangleq",!0),M(E,J,ee,"∼","\\thicksim"),M(E,J,ee,"≈","\\thickapprox"),M(E,J,ee,"⫆","\\supseteqq",!0),M(E,J,ee,"⋑","\\Supset",!0),M(E,J,ee,"⊐","\\sqsupset",!0),M(E,J,ee,"≽","\\succcurlyeq",!0),M(E,J,ee,"⋟","\\curlyeqsucc",!0),M(E,J,ee,"≿","\\succsim",!0),M(E,J,ee,"⪸","\\succapprox",!0),M(E,J,ee,"⊳","\\vartriangleright"),M(E,J,ee,"⊵","\\trianglerighteq"),M(E,J,ee,"⊩","\\Vdash",!0),M(E,J,ee,"∣","\\shortmid"),M(E,J,ee,"∥","\\shortparallel"),M(E,J,ee,"≬","\\between",!0),M(E,J,ee,"⋔","\\pitchfork",!0),M(E,J,ee,"∝","\\varpropto"),M(E,J,ee,"◀","\\blacktriangleleft"),M(E,J,ee,"∴","\\therefore",!0),M(E,J,ee,"∍","\\backepsilon"),M(E,J,ee,"▶","\\blacktriangleright"),M(E,J,ee,"∵","\\because",!0),M(E,J,ee,"⋘","\\llless"),M(E,J,ee,"⋙","\\gggtr"),M(E,J,Ge,"⊲","\\lhd"),M(E,J,Ge,"⊳","\\rhd"),M(E,J,ee,"≂","\\eqsim",!0),M(E,z,ee,"⋈","\\Join"),M(E,J,ee,"≑","\\Doteq",!0),M(E,J,Ge,"∔","\\dotplus",!0),M(E,J,Ge,"∖","\\smallsetminus"),M(E,J,Ge,"⋒","\\Cap",!0),M(E,J,Ge,"⋓","\\Cup",!0),M(E,J,Ge,"⩞","\\doublebarwedge",!0),M(E,J,Ge,"⊟","\\boxminus",!0),M(E,J,Ge,"⊞","\\boxplus",!0),M(E,J,Ge,"⋇","\\divideontimes",!0),M(E,J,Ge,"⋉","\\ltimes",!0),M(E,J,Ge,"⋊","\\rtimes",!0),M(E,J,Ge,"⋋","\\leftthreetimes",!0),M(E,J,Ge,"⋌","\\rightthreetimes",!0),M(E,J,Ge,"⋏","\\curlywedge",!0),M(E,J,Ge,"⋎","\\curlyvee",!0),M(E,J,Ge,"⊝","\\circleddash",!0),M(E,J,Ge,"⊛","\\circledast",!0),M(E,J,Ge,"⋅","\\centerdot"),M(E,J,Ge,"⊺","\\intercal",!0),M(E,J,Ge,"⋒","\\doublecap"),M(E,J,Ge,"⋓","\\doublecup"),M(E,J,Ge,"⊠","\\boxtimes",!0),M(E,J,ee,"⇢","\\dashrightarrow",!0),M(E,J,ee,"⇠","\\dashleftarrow",!0),M(E,J,ee,"⇇","\\leftleftarrows",!0),M(E,J,ee,"⇆","\\leftrightarrows",!0),M(E,J,ee,"⇚","\\Lleftarrow",!0),M(E,J,ee,"↞","\\twoheadleftarrow",!0),M(E,J,ee,"↢","\\leftarrowtail",!0),M(E,J,ee,"↫","\\looparrowleft",!0),M(E,J,ee,"⇋","\\leftrightharpoons",!0),M(E,J,ee,"↶","\\curvearrowleft",!0),M(E,J,ee,"↺","\\circlearrowleft",!0),M(E,J,ee,"↰","\\Lsh",!0),M(E,J,ee,"⇈","\\upuparrows",!0),M(E,J,ee,"↿","\\upharpoonleft",!0),M(E,J,ee,"⇃","\\downharpoonleft",!0),M(E,z,ee,"⊶","\\origof",!0),M(E,z,ee,"⊷","\\imageof",!0),M(E,J,ee,"⊸","\\multimap",!0),M(E,J,ee,"↭","\\leftrightsquigarrow",!0),M(E,J,ee,"⇉","\\rightrightarrows",!0),M(E,J,ee,"⇄","\\rightleftarrows",!0),M(E,J,ee,"↠","\\twoheadrightarrow",!0),M(E,J,ee,"↣","\\rightarrowtail",!0),M(E,J,ee,"↬","\\looparrowright",!0),M(E,J,ee,"↷","\\curvearrowright",!0),M(E,J,ee,"↻","\\circlearrowright",!0),M(E,J,ee,"↱","\\Rsh",!0),M(E,J,ee,"⇊","\\downdownarrows",!0),M(E,J,ee,"↾","\\upharpoonright",!0),M(E,J,ee,"⇂","\\downharpoonright",!0),M(E,J,ee,"⇝","\\rightsquigarrow",!0),M(E,J,ee,"⇝","\\leadsto"),M(E,J,ee,"⇛","\\Rrightarrow",!0),M(E,J,ee,"↾","\\restriction"),M(E,z,ne,"‘","`"),M(E,z,ne,"$","\\$"),M(ye,z,ne,"$","\\$"),M(ye,z,ne,"$","\\textdollar"),M(E,z,ne,"%","\\%"),M(ye,z,ne,"%","\\%"),M(E,z,ne,"_","\\_"),M(ye,z,ne,"_","\\_"),M(ye,z,ne,"_","\\textunderscore"),M(E,z,ne,"∠","\\angle",!0),M(E,z,ne,"∞","\\infty",!0),M(E,z,ne,"′","\\prime"),M(E,z,ne,"△","\\triangle"),M(E,z,ne,"Γ","\\Gamma",!0),M(E,z,ne,"Δ","\\Delta",!0),M(E,z,ne,"Θ","\\Theta",!0),M(E,z,ne,"Λ","\\Lambda",!0),M(E,z,ne,"Ξ","\\Xi",!0),M(E,z,ne,"Π","\\Pi",!0),M(E,z,ne,"Σ","\\Sigma",!0),M(E,z,ne,"Υ","\\Upsilon",!0),M(E,z,ne,"Φ","\\Phi",!0),M(E,z,ne,"Ψ","\\Psi",!0),M(E,z,ne,"Ω","\\Omega",!0),M(E,z,ne,"A","Α"),M(E,z,ne,"B","Β"),M(E,z,ne,"E","Ε"),M(E,z,ne,"Z","Ζ"),M(E,z,ne,"H","Η"),M(E,z,ne,"I","Ι"),M(E,z,ne,"K","Κ"),M(E,z,ne,"M","Μ"),M(E,z,ne,"N","Ν"),M(E,z,ne,"O","Ο"),M(E,z,ne,"P","Ρ"),M(E,z,ne,"T","Τ"),M(E,z,ne,"X","Χ"),M(E,z,ne,"¬","\\neg",!0),M(E,z,ne,"¬","\\lnot"),M(E,z,ne,"⊤","\\top"),M(E,z,ne,"⊥","\\bot"),M(E,z,ne,"∅","\\emptyset"),M(E,J,ne,"∅","\\varnothing"),M(E,z,Je,"α","\\alpha",!0),M(E,z,Je,"β","\\beta",!0),M(E,z,Je,"γ","\\gamma",!0),M(E,z,Je,"δ","\\delta",!0),M(E,z,Je,"ϵ","\\epsilon",!0),M(E,z,Je,"ζ","\\zeta",!0),M(E,z,Je,"η","\\eta",!0),M(E,z,Je,"θ","\\theta",!0),M(E,z,Je,"ι","\\iota",!0),M(E,z,Je,"κ","\\kappa",!0),M(E,z,Je,"λ","\\lambda",!0),M(E,z,Je,"μ","\\mu",!0),M(E,z,Je,"ν","\\nu",!0),M(E,z,Je,"ξ","\\xi",!0),M(E,z,Je,"ο","\\omicron",!0),M(E,z,Je,"π","\\pi",!0),M(E,z,Je,"ρ","\\rho",!0),M(E,z,Je,"σ","\\sigma",!0),M(E,z,Je,"τ","\\tau",!0),M(E,z,Je,"υ","\\upsilon",!0),M(E,z,Je,"ϕ","\\phi",!0),M(E,z,Je,"χ","\\chi",!0),M(E,z,Je,"ψ","\\psi",!0),M(E,z,Je,"ω","\\omega",!0),M(E,z,Je,"ε","\\varepsilon",!0),M(E,z,Je,"ϑ","\\vartheta",!0),M(E,z,Je,"ϖ","\\varpi",!0),M(E,z,Je,"ϱ","\\varrho",!0),M(E,z,Je,"ς","\\varsigma",!0),M(E,z,Je,"φ","\\varphi",!0),M(E,z,Ge,"∗","*",!0),M(E,z,Ge,"+","+"),M(E,z,Ge,"−","-",!0),M(E,z,Ge,"⋅","\\cdot",!0),M(E,z,Ge,"∘","\\circ",!0),M(E,z,Ge,"÷","\\div",!0),M(E,z,Ge,"±","\\pm",!0),M(E,z,Ge,"×","\\times",!0),M(E,z,Ge,"∩","\\cap",!0),M(E,z,Ge,"∪","\\cup",!0),M(E,z,Ge,"∖","\\setminus",!0),M(E,z,Ge,"∧","\\land"),M(E,z,Ge,"∨","\\lor"),M(E,z,Ge,"∧","\\wedge",!0),M(E,z,Ge,"∨","\\vee",!0),M(E,z,ne,"√","\\surd"),M(E,z,tr,"⟨","\\langle",!0),M(E,z,tr,"∣","\\lvert"),M(E,z,tr,"∥","\\lVert"),M(E,z,Bi,"?","?"),M(E,z,Bi,"!","!"),M(E,z,Bi,"⟩","\\rangle",!0),M(E,z,Bi,"∣","\\rvert"),M(E,z,Bi,"∥","\\rVert"),M(E,z,ee,"=","="),M(E,z,ee,":",":"),M(E,z,ee,"≈","\\approx",!0),M(E,z,ee,"≅","\\cong",!0),M(E,z,ee,"≥","\\ge"),M(E,z,ee,"≥","\\geq",!0),M(E,z,ee,"←","\\gets"),M(E,z,ee,">","\\gt",!0),M(E,z,ee,"∈","\\in",!0),M(E,z,ee,"","\\@not"),M(E,z,ee,"⊂","\\subset",!0),M(E,z,ee,"⊃","\\supset",!0),M(E,z,ee,"⊆","\\subseteq",!0),M(E,z,ee,"⊇","\\supseteq",!0),M(E,J,ee,"⊈","\\nsubseteq",!0),M(E,J,ee,"⊉","\\nsupseteq",!0),M(E,z,ee,"⊨","\\models"),M(E,z,ee,"←","\\leftarrow",!0),M(E,z,ee,"≤","\\le"),M(E,z,ee,"≤","\\leq",!0),M(E,z,ee,"<","\\lt",!0),M(E,z,ee,"→","\\rightarrow",!0),M(E,z,ee,"→","\\to"),M(E,J,ee,"≱","\\ngeq",!0),M(E,J,ee,"≰","\\nleq",!0),M(E,z,_r," ","\\ "),M(E,z,_r," ","\\space"),M(E,z,_r," ","\\nobreakspace"),M(ye,z,_r," ","\\ "),M(ye,z,_r," "," "),M(ye,z,_r," ","\\space"),M(ye,z,_r," ","\\nobreakspace"),M(E,z,_r,null,"\\nobreak"),M(E,z,_r,null,"\\allowbreak"),M(E,z,Mn,",",","),M(E,z,Mn,";",";"),M(E,J,Ge,"⊼","\\barwedge",!0),M(E,J,Ge,"⊻","\\veebar",!0),M(E,z,Ge,"⊙","\\odot",!0),M(E,z,Ge,"⊕","\\oplus",!0),M(E,z,Ge,"⊗","\\otimes",!0),M(E,z,ne,"∂","\\partial",!0),M(E,z,Ge,"⊘","\\oslash",!0),M(E,J,Ge,"⊚","\\circledcirc",!0),M(E,J,Ge,"⊡","\\boxdot",!0),M(E,z,Ge,"△","\\bigtriangleup"),M(E,z,Ge,"▽","\\bigtriangledown"),M(E,z,Ge,"†","\\dagger"),M(E,z,Ge,"⋄","\\diamond"),M(E,z,Ge,"⋆","\\star"),M(E,z,Ge,"◃","\\triangleleft"),M(E,z,Ge,"▹","\\triangleright"),M(E,z,tr,"{","\\{"),M(ye,z,ne,"{","\\{"),M(ye,z,ne,"{","\\textbraceleft"),M(E,z,Bi,"}","\\}"),M(ye,z,ne,"}","\\}"),M(ye,z,ne,"}","\\textbraceright"),M(E,z,tr,"{","\\lbrace"),M(E,z,Bi,"}","\\rbrace"),M(E,z,tr,"[","\\lbrack",!0),M(ye,z,ne,"[","\\lbrack",!0),M(E,z,Bi,"]","\\rbrack",!0),M(ye,z,ne,"]","\\rbrack",!0),M(E,z,tr,"(","\\lparen",!0),M(E,z,Bi,")","\\rparen",!0),M(ye,z,ne,"<","\\textless",!0),M(ye,z,ne,">","\\textgreater",!0),M(E,z,tr,"⌊","\\lfloor",!0),M(E,z,Bi,"⌋","\\rfloor",!0),M(E,z,tr,"⌈","\\lceil",!0),M(E,z,Bi,"⌉","\\rceil",!0),M(E,z,ne,"\\","\\backslash"),M(E,z,ne,"∣","|"),M(E,z,ne,"∣","\\vert"),M(ye,z,ne,"|","\\textbar",!0),M(E,z,ne,"∥","\\|"),M(E,z,ne,"∥","\\Vert"),M(ye,z,ne,"∥","\\textbardbl"),M(ye,z,ne,"~","\\textasciitilde"),M(ye,z,ne,"\\","\\textbackslash"),M(ye,z,ne,"^","\\textasciicircum"),M(E,z,ee,"↑","\\uparrow",!0),M(E,z,ee,"⇑","\\Uparrow",!0),M(E,z,ee,"↓","\\downarrow",!0),M(E,z,ee,"⇓","\\Downarrow",!0),M(E,z,ee,"↕","\\updownarrow",!0),M(E,z,ee,"⇕","\\Updownarrow",!0),M(E,z,fi,"∐","\\coprod"),M(E,z,fi,"⋁","\\bigvee"),M(E,z,fi,"⋀","\\bigwedge"),M(E,z,fi,"⨄","\\biguplus"),M(E,z,fi,"⋂","\\bigcap"),M(E,z,fi,"⋃","\\bigcup"),M(E,z,fi,"∫","\\int"),M(E,z,fi,"∫","\\intop"),M(E,z,fi,"∬","\\iint"),M(E,z,fi,"∭","\\iiint"),M(E,z,fi,"∏","\\prod"),M(E,z,fi,"∑","\\sum"),M(E,z,fi,"⨂","\\bigotimes"),M(E,z,fi,"⨁","\\bigoplus"),M(E,z,fi,"⨀","\\bigodot"),M(E,z,fi,"∮","\\oint"),M(E,z,fi,"∯","\\oiint"),M(E,z,fi,"∰","\\oiiint"),M(E,z,fi,"⨆","\\bigsqcup"),M(E,z,fi,"∫","\\smallint"),M(ye,z,ls,"…","\\textellipsis"),M(E,z,ls,"…","\\mathellipsis"),M(ye,z,ls,"…","\\ldots",!0),M(E,z,ls,"…","\\ldots",!0),M(E,z,ls,"⋯","\\@cdots",!0),M(E,z,ls,"⋱","\\ddots",!0),M(E,z,ne,"⋮","\\varvdots"),M(ye,z,ne,"⋮","\\varvdots"),M(E,z,Xt,"ˊ","\\acute"),M(E,z,Xt,"ˋ","\\grave"),M(E,z,Xt,"¨","\\ddot"),M(E,z,Xt,"~","\\tilde"),M(E,z,Xt,"ˉ","\\bar"),M(E,z,Xt,"˘","\\breve"),M(E,z,Xt,"ˇ","\\check"),M(E,z,Xt,"^","\\hat"),M(E,z,Xt,"⃗","\\vec"),M(E,z,Xt,"˙","\\dot"),M(E,z,Xt,"˚","\\mathring"),M(E,z,Je,"","\\@imath"),M(E,z,Je,"","\\@jmath"),M(E,z,ne,"ı","ı"),M(E,z,ne,"ȷ","ȷ"),M(ye,z,ne,"ı","\\i",!0),M(ye,z,ne,"ȷ","\\j",!0),M(ye,z,ne,"ß","\\ss",!0),M(ye,z,ne,"æ","\\ae",!0),M(ye,z,ne,"œ","\\oe",!0),M(ye,z,ne,"ø","\\o",!0),M(ye,z,ne,"Æ","\\AE",!0),M(ye,z,ne,"Œ","\\OE",!0),M(ye,z,ne,"Ø","\\O",!0),M(ye,z,Xt,"ˊ","\\'"),M(ye,z,Xt,"ˋ","\\`"),M(ye,z,Xt,"ˆ","\\^"),M(ye,z,Xt,"˜","\\~"),M(ye,z,Xt,"ˉ","\\="),M(ye,z,Xt,"˘","\\u"),M(ye,z,Xt,"˙","\\."),M(ye,z,Xt,"¸","\\c"),M(ye,z,Xt,"˚","\\r"),M(ye,z,Xt,"ˇ","\\v"),M(ye,z,Xt,"¨",'\\"'),M(ye,z,Xt,"˝","\\H"),M(ye,z,Xt,"◯","\\textcircled");const uc={"--":!0,"---":!0,"``":!0,"''":!0};M(ye,z,ne,"–","--",!0),M(ye,z,ne,"–","\\textendash"),M(ye,z,ne,"—","---",!0),M(ye,z,ne,"—","\\textemdash"),M(ye,z,ne,"‘","`",!0),M(ye,z,ne,"‘","\\textquoteleft"),M(ye,z,ne,"’","'",!0),M(ye,z,ne,"’","\\textquoteright"),M(ye,z,ne,"“","``",!0),M(ye,z,ne,"“","\\textquotedblleft"),M(ye,z,ne,"”","''",!0),M(ye,z,ne,"”","\\textquotedblright"),M(E,z,ne,"°","\\degree",!0),M(ye,z,ne,"°","\\degree"),M(ye,z,ne,"°","\\textdegree",!0),M(E,z,ne,"£","\\pounds"),M(E,z,ne,"£","\\mathsterling",!0),M(ye,z,ne,"£","\\pounds"),M(ye,z,ne,"£","\\textsterling",!0),M(E,J,ne,"✠","\\maltese"),M(ye,J,ne,"✠","\\maltese");const dc='0123456789/@."';for(let u=0;u<dc.length;u++){const c=dc.charAt(u);M(E,z,ne,c,c)}const mc='0123456789!@*()-=+";:?/.,';for(let u=0;u<mc.length;u++){const c=mc.charAt(u);M(ye,z,ne,c,c)}const Cn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let u=0;u<Cn.length;u++){const c=Cn.charAt(u);M(E,z,Je,c,c),M(ye,z,ne,c,c)}M(E,J,ne,"C","ℂ"),M(ye,J,ne,"C","ℂ"),M(E,J,ne,"H","ℍ"),M(ye,J,ne,"H","ℍ"),M(E,J,ne,"N","ℕ"),M(ye,J,ne,"N","ℕ"),M(E,J,ne,"P","ℙ"),M(ye,J,ne,"P","ℙ"),M(E,J,ne,"Q","ℚ"),M(ye,J,ne,"Q","ℚ"),M(E,J,ne,"R","ℝ"),M(ye,J,ne,"R","ℝ"),M(E,J,ne,"Z","ℤ"),M(ye,J,ne,"Z","ℤ"),M(E,z,Je,"h","ℎ"),M(ye,z,Je,"h","ℎ");let rt="";for(let u=0;u<Cn.length;u++){const c=Cn.charAt(u);rt=String.fromCharCode(55349,56320+u),M(E,z,Je,c,rt),M(ye,z,ne,c,rt),rt=String.fromCharCode(55349,56372+u),M(E,z,Je,c,rt),M(ye,z,ne,c,rt),rt=String.fromCharCode(55349,56424+u),M(E,z,Je,c,rt),M(ye,z,ne,c,rt),rt=String.fromCharCode(55349,56580+u),M(E,z,Je,c,rt),M(ye,z,ne,c,rt),rt=String.fromCharCode(55349,56684+u),M(E,z,Je,c,rt),M(ye,z,ne,c,rt),rt=String.fromCharCode(55349,56736+u),M(E,z,Je,c,rt),M(ye,z,ne,c,rt),rt=String.fromCharCode(55349,56788+u),M(E,z,Je,c,rt),M(ye,z,ne,c,rt),rt=String.fromCharCode(55349,56840+u),M(E,z,Je,c,rt),M(ye,z,ne,c,rt),rt=String.fromCharCode(55349,56944+u),M(E,z,Je,c,rt),M(ye,z,ne,c,rt),u<26&&(rt=String.fromCharCode(55349,56632+u),M(E,z,Je,c,rt),M(ye,z,ne,c,rt),rt=String.fromCharCode(55349,56476+u),M(E,z,Je,c,rt),M(ye,z,ne,c,rt))}rt="𝕜",M(E,z,Je,"k",rt),M(ye,z,ne,"k",rt);for(let u=0;u<10;u++){const c=u.toString();rt=String.fromCharCode(55349,57294+u),M(E,z,Je,c,rt),M(ye,z,ne,c,rt),rt=String.fromCharCode(55349,57314+u),M(E,z,Je,c,rt),M(ye,z,ne,c,rt),rt=String.fromCharCode(55349,57324+u),M(E,z,Je,c,rt),M(ye,z,ne,c,rt),rt=String.fromCharCode(55349,57334+u),M(E,z,Je,c,rt),M(ye,z,ne,c,rt)}const po="ÐÞþ";for(let u=0;u<po.length;u++){const c=po.charAt(u);M(E,z,Je,c,c),M(ye,z,ne,c,c)}const Tn=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],fc=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],nm=function(u,c){const m=u.charCodeAt(0),v=u.charCodeAt(1),w=(m-55296)*1024+(v-56320)+65536,I=c==="math"?0:1;if(119808<=w&&w<120484){const V=Math.floor((w-119808)/26);return[Tn[V][2],Tn[V][I]]}else if(120782<=w&&w<=120831){const V=Math.floor((w-120782)/10);return[fc[V][2],fc[V][I]]}else{if(w===120485||w===120486)return[Tn[0][2],Tn[0][I]];if(120486<w&&w<120782)return["",""];throw new n("Unsupported character: "+u)}},Dn=function(u,c,m){return ei[m][u]&&ei[m][u].replace&&(u=ei[m][u].replace),{value:u,metrics:ze(u,c,m)}},Tr=function(u,c,m,v,w){const I=Dn(u,c,m),V=I.metrics;u=I.value;let G;if(V){let Q=V.italic;(m==="text"||v&&v.font==="mathit")&&(Q=0),G=new fr(u,V.height,V.depth,Q,V.skew,V.width,w)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+u+"' in style '"+c+"' and mode '"+m+"'")),G=new fr(u,0,0,0,0,0,w);if(v){G.maxFontSize=v.sizeMultiplier,v.style.isTight()&&G.classes.push("mtight");const Q=v.getColor();Q&&(G.style.color=Q)}return G},am=function(u,c,m,v){return v===void 0&&(v=[]),m.font==="boldsymbol"&&Dn(u,"Main-Bold",c).metrics?Tr(u,"Main-Bold",c,m,v.concat(["mathbf"])):u==="\\"||ei[c][u].font==="main"?Tr(u,"Main-Regular",c,m,v):Tr(u,"AMS-Regular",c,m,v.concat(["amsrm"]))},om=function(u,c,m,v,w){return w!=="textord"&&Dn(u,"Math-BoldItalic",c).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},lm=function(u,c,m){const v=u.mode,w=u.text,I=["mord"],V=v==="math"||v==="text"&&c.font,G=V?c.font:c.fontFamily;let Q="",ie="";if(w.charCodeAt(0)===55349&&([Q,ie]=nm(w,v)),Q.length>0)return Tr(w,Q,v,c,I.concat(ie));if(G){let ce,ue;if(G==="boldsymbol"){const pe=om(w,v,c,I,m);ce=pe.fontName,ue=[pe.fontClass]}else V?(ce=vc[G].fontName,ue=[G]):(ce=kn(G,c.fontWeight,c.fontShape),ue=[G,c.fontWeight,c.fontShape]);if(Dn(w,ce,v).metrics)return Tr(w,ce,v,c,I.concat(ue));if(uc.hasOwnProperty(w)&&ce.slice(0,10)==="Typewriter"){const pe=[];for(let be=0;be<w.length;be++)pe.push(Tr(w[be],ce,v,c,I.concat(ue)));return gc(pe)}}if(m==="mathord")return Tr(w,"Math-Italic",v,c,I.concat(["mathnormal"]));if(m==="textord"){const ce=ei[v][w]&&ei[v][w].font;if(ce==="ams"){const ue=kn("amsrm",c.fontWeight,c.fontShape);return Tr(w,ue,v,c,I.concat("amsrm",c.fontWeight,c.fontShape))}else if(ce==="main"||!ce){const ue=kn("textrm",c.fontWeight,c.fontShape);return Tr(w,ue,v,c,I.concat(c.fontWeight,c.fontShape))}else{const ue=kn(ce,c.fontWeight,c.fontShape);return Tr(w,ue,v,c,I.concat(ue,c.fontWeight,c.fontShape))}}else throw new Error("unexpected type: "+m+" in makeOrd")},cm=(u,c)=>{if(vi(u.classes)!==vi(c.classes)||u.skew!==c.skew||u.maxFontSize!==c.maxFontSize)return!1;if(u.classes.length===1){const m=u.classes[0];if(m==="mbin"||m==="mord")return!1}for(const m in u.style)if(u.style.hasOwnProperty(m)&&u.style[m]!==c.style[m])return!1;for(const m in c.style)if(c.style.hasOwnProperty(m)&&u.style[m]!==c.style[m])return!1;return!0},hm=u=>{for(let c=0;c<u.length-1;c++){const m=u[c],v=u[c+1];m instanceof fr&&v instanceof fr&&cm(m,v)&&(m.text+=v.text,m.height=Math.max(m.height,v.height),m.depth=Math.max(m.depth,v.depth),m.italic=v.italic,u.splice(c+1,1),c--)}return u},go=function(u){let c=0,m=0,v=0;for(let w=0;w<u.children.length;w++){const I=u.children[w];I.height>c&&(c=I.height),I.depth>m&&(m=I.depth),I.maxFontSize>v&&(v=I.maxFontSize)}u.height=c,u.depth=m,u.maxFontSize=v},Wi=function(u,c,m,v){const w=new Vs(u,c,m,v);return go(w),w},pc=(u,c,m,v)=>new Vs(u,c,m,v),um=function(u,c,m){const v=Wi([u],[],c);return v.height=Math.max(m||c.fontMetrics().defaultRuleThickness,c.minRuleThickness),v.style.borderBottomWidth=Ce(v.height),v.maxFontSize=1,v},dm=function(u,c,m,v){const w=new mo(u,c,m,v);return go(w),w},gc=function(u){const c=new Ne(u);return go(c),c},mm=function(u,c){return u instanceof Ne?Wi([],[u],c):u},fm=function(u){if(u.positionType==="individualShift"){const m=u.children,v=[m[0]],w=-m[0].shift-m[0].elem.depth;let I=w;for(let V=1;V<m.length;V++){const G=-m[V].shift-I-m[V].elem.depth,Q=G-(m[V-1].elem.height+m[V-1].elem.depth);I=I+G,v.push({type:"kern",size:Q}),v.push(m[V])}return{children:v,depth:w}}let c;if(u.positionType==="top"){let m=u.positionData;for(let v=0;v<u.children.length;v++){const w=u.children[v];m-=w.type==="kern"?w.size:w.elem.height+w.elem.depth}c=m}else if(u.positionType==="bottom")c=-u.positionData;else{const m=u.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(u.positionType==="shift")c=-m.elem.depth-u.positionData;else if(u.positionType==="firstBaseline")c=-m.elem.depth;else throw new Error("Invalid positionType "+u.positionType+".")}return{children:u.children,depth:c}},pm=function(u,c){const{children:m,depth:v}=fm(u);let w=0;for(let be=0;be<m.length;be++){const Ye=m[be];if(Ye.type==="elem"){const je=Ye.elem;w=Math.max(w,je.maxFontSize,je.height)}}w+=2;const I=Wi(["pstrut"],[]);I.style.height=Ce(w);const V=[];let G=v,Q=v,ie=v;for(let be=0;be<m.length;be++){const Ye=m[be];if(Ye.type==="kern")ie+=Ye.size;else{const je=Ye.elem,gt=Ye.wrapperClasses||[],mt=Ye.wrapperStyle||{},vt=Wi(gt,[I,je],void 0,mt);vt.style.top=Ce(-w-ie-je.depth),Ye.marginLeft&&(vt.style.marginLeft=Ye.marginLeft),Ye.marginRight&&(vt.style.marginRight=Ye.marginRight),V.push(vt),ie+=je.height+je.depth}G=Math.min(G,ie),Q=Math.max(Q,ie)}const ce=Wi(["vlist"],V);ce.style.height=Ce(Q);let ue;if(G<0){const be=Wi([],[]),Ye=Wi(["vlist"],[be]);Ye.style.height=Ce(-G);const je=Wi(["vlist-s"],[new fr("​")]);ue=[Wi(["vlist-r"],[ce,je]),Wi(["vlist-r"],[Ye])]}else ue=[Wi(["vlist-r"],[ce])];const pe=Wi(["vlist-t"],ue);return ue.length===2&&pe.classes.push("vlist-t2"),pe.height=Q,pe.depth=-G,pe},gm=(u,c)=>{const m=Wi(["mspace"],[],c),v=Ut(u,c);return m.style.marginRight=Ce(v),m},kn=function(u,c,m){let v="";switch(u){case"amsrm":v="AMS";break;case"textrm":v="Main";break;case"textsf":v="SansSerif";break;case"texttt":v="Typewriter";break;default:v=u}let w;return c==="textbf"&&m==="textit"?w="BoldItalic":c==="textbf"?w="Bold":c==="textit"?w="Italic":w="Regular",v+"-"+w},vc={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Ac={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var de={fontMap:vc,makeSymbol:Tr,mathsym:am,makeSpan:Wi,makeSvgSpan:pc,makeLineSpan:um,makeAnchor:dm,makeFragment:gc,wrapFragment:mm,makeVList:pm,makeOrd:lm,makeGlue:gm,staticSvg:function(u,c){const[m,v,w]=Ac[u],I=new b0(m),V=new Jr([I],{width:Ce(v),height:Ce(w),style:"width:"+Ce(v),viewBox:"0 0 "+1e3*v+" "+1e3*w,preserveAspectRatio:"xMinYMin"}),G=pc(["overlay"],[V],c);return G.height=w,G.style.height=Ce(w),G.style.width=Ce(v),G},svgData:Ac,tryCombineChars:hm};const ti={number:3,unit:"mu"},Y0={number:4,unit:"mu"},$r={number:5,unit:"mu"},vm={mord:{mop:ti,mbin:Y0,mrel:$r,minner:ti},mop:{mord:ti,mop:ti,mrel:$r,minner:ti},mbin:{mord:Y0,mop:Y0,mopen:Y0,minner:Y0},mrel:{mord:$r,mop:$r,mopen:$r,minner:$r},mopen:{},mclose:{mop:ti,mbin:Y0,mrel:$r,minner:ti},mpunct:{mord:ti,mop:ti,mrel:$r,mopen:ti,mclose:ti,mpunct:ti,minner:ti},minner:{mord:ti,mop:ti,mbin:Y0,mrel:$r,mopen:ti,mpunct:ti,minner:ti}},Am={mord:{mop:ti},mop:{mord:ti,mop:ti},mbin:{},mrel:{},mopen:{},mclose:{mop:ti},mpunct:{},minner:{mop:ti}},xc={},In={},En={};function Pe(u){let{type:c,names:m,props:v,handler:w,htmlBuilder:I,mathmlBuilder:V}=u;const G={type:c,numArgs:v.numArgs,argTypes:v.argTypes,allowedInArgument:!!v.allowedInArgument,allowedInText:!!v.allowedInText,allowedInMath:v.allowedInMath===void 0?!0:v.allowedInMath,numOptionalArgs:v.numOptionalArgs||0,infix:!!v.infix,primitive:!!v.primitive,handler:w};for(let Q=0;Q<m.length;++Q)xc[m[Q]]=G;c&&(I&&(In[c]=I),V&&(En[c]=V))}function K0(u){let{type:c,htmlBuilder:m,mathmlBuilder:v}=u;Pe({type:c,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:m,mathmlBuilder:v})}const Fn=function(u){return u.type==="ordgroup"&&u.body.length===1?u.body[0]:u},ui=function(u){return u.type==="ordgroup"?u.body:[u]},e0=de.makeSpan,xm=["leftmost","mbin","mopen","mrel","mop","mpunct"],bm=["rightmost","mrel","mclose","mpunct"],ym={display:Fe.DISPLAY,text:Fe.TEXT,script:Fe.SCRIPT,scriptscript:Fe.SCRIPTSCRIPT},wm={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Ai=function(u,c,m,v){v===void 0&&(v=[null,null]);const w=[];for(let ie=0;ie<u.length;ie++){const ce=xt(u[ie],c);if(ce instanceof Ne){const ue=ce.children;w.push(...ue)}else w.push(ce)}if(de.tryCombineChars(w),!m)return w;let I=c;if(u.length===1){const ie=u[0];ie.type==="sizing"?I=c.havingSize(ie.size):ie.type==="styling"&&(I=c.havingStyle(ym[ie.style]))}const V=e0([v[0]||"leftmost"],[],c),G=e0([v[1]||"rightmost"],[],c),Q=m==="root";return vo(w,(ie,ce)=>{const ue=ce.classes[0],pe=ie.classes[0];ue==="mbin"&&b.contains(bm,pe)?ce.classes[0]="mord":pe==="mbin"&&b.contains(xm,ue)&&(ie.classes[0]="mord")},{node:V},G,Q),vo(w,(ie,ce)=>{const ue=xo(ce),pe=xo(ie),be=ue&&pe?ie.hasClass("mtight")?Am[ue][pe]:vm[ue][pe]:null;if(be)return de.makeGlue(be,I)},{node:V},G,Q),w},vo=function(u,c,m,v,w){v&&u.push(v);let I=0;for(;I<u.length;I++){const V=u[I],G=bc(V);if(G){vo(G.children,c,m,null,w);continue}const Q=!V.hasClass("mspace");if(Q){const ie=c(V,m.node);ie&&(m.insertAfter?m.insertAfter(ie):(u.unshift(ie),I++))}Q?m.node=V:w&&V.hasClass("newline")&&(m.node=e0(["leftmost"])),m.insertAfter=(ie=>ce=>{u.splice(ie+1,0,ce),I++})(I)}v&&u.pop()},bc=function(u){return u instanceof Ne||u instanceof mo||u instanceof Vs&&u.hasClass("enclosing")?u:null},Ao=function(u,c){const m=bc(u);if(m){const v=m.children;if(v.length){if(c==="right")return Ao(v[v.length-1],"right");if(c==="left")return Ao(v[0],"left")}}return u},xo=function(u,c){return u?(c&&(u=Ao(u,c)),wm[u.classes[0]]||null):null},Us=function(u,c){const m=["nulldelimiter"].concat(u.baseSizingClasses());return e0(c.concat(m))},xt=function(u,c,m){if(!u)return e0();if(In[u.type]){let v=In[u.type](u,c);if(m&&c.size!==m.size){v=e0(c.sizingClasses(m),[v],c);const w=c.sizeMultiplier/m.sizeMultiplier;v.height*=w,v.depth*=w}return v}else throw new n("Got group of unknown type: '"+u.type+"'")};function Bn(u,c){const m=e0(["base"],u,c),v=e0(["strut"]);return v.style.height=Ce(m.height+m.depth),m.depth&&(v.style.verticalAlign=Ce(-m.depth)),m.children.unshift(v),m}function bo(u,c){let m=null;u.length===1&&u[0].type==="tag"&&(m=u[0].tag,u=u[0].body);const v=Ai(u,c,"root");let w;v.length===2&&v[1].hasClass("tag")&&(w=v.pop());const I=[];let V=[];for(let ie=0;ie<v.length;ie++)if(V.push(v[ie]),v[ie].hasClass("mbin")||v[ie].hasClass("mrel")||v[ie].hasClass("allowbreak")){let ce=!1;for(;ie<v.length-1&&v[ie+1].hasClass("mspace")&&!v[ie+1].hasClass("newline");)ie++,V.push(v[ie]),v[ie].hasClass("nobreak")&&(ce=!0);ce||(I.push(Bn(V,c)),V=[])}else v[ie].hasClass("newline")&&(V.pop(),V.length>0&&(I.push(Bn(V,c)),V=[]),I.push(v[ie]));V.length>0&&I.push(Bn(V,c));let G;m?(G=Bn(Ai(m,c,!0)),G.classes=["tag"],I.push(G)):w&&I.push(w);const Q=e0(["katex-html"],I);if(Q.setAttribute("aria-hidden","true"),G){const ie=G.children[0];ie.style.height=Ce(Q.height+Q.depth),Q.depth&&(ie.style.verticalAlign=Ce(-Q.depth))}return Q}function yc(u){return new Ne(u)}class ir{constructor(c,m,v){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=c,this.attributes={},this.children=m||[],this.classes=v||[]}setAttribute(c,m){this.attributes[c]=m}getAttribute(c){return this.attributes[c]}toNode(){const c=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const m in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,m)&&c.setAttribute(m,this.attributes[m]);this.classes.length>0&&(c.className=vi(this.classes));for(let m=0;m<this.children.length;m++)if(this.children[m]instanceof Br&&this.children[m+1]instanceof Br){let v=this.children[m].toText()+this.children[++m].toText();for(;this.children[m+1]instanceof Br;)v+=this.children[++m].toText();c.appendChild(new Br(v).toNode())}else c.appendChild(this.children[m].toNode());return c}toMarkup(){let c="<"+this.type;for(const m in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,m)&&(c+=" "+m+'="',c+=b.escape(this.attributes[m]),c+='"');this.classes.length>0&&(c+=' class ="'+b.escape(vi(this.classes))+'"'),c+=">";for(let m=0;m<this.children.length;m++)c+=this.children[m].toMarkup();return c+="</"+this.type+">",c}toText(){return this.children.map(c=>c.toText()).join("")}}class Br{constructor(c){this.text=void 0,this.text=c}toNode(){return document.createTextNode(this.text)}toMarkup(){return b.escape(this.toText())}toText(){return this.text}}class Sm{constructor(c){this.width=void 0,this.character=void 0,this.width=c,c>=.05555&&c<=.05556?this.character=" ":c>=.1666&&c<=.1667?this.character=" ":c>=.2222&&c<=.2223?this.character=" ":c>=.2777&&c<=.2778?this.character="  ":c>=-.05556&&c<=-.05555?this.character=" ⁣":c>=-.1667&&c<=-.1666?this.character=" ⁣":c>=-.2223&&c<=-.2222?this.character=" ⁣":c>=-.2778&&c<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);{const c=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return c.setAttribute("width",Ce(this.width)),c}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Ce(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var De={MathNode:ir,TextNode:Br,SpaceNode:Sm,newDocumentFragment:yc};const pr=function(u,c,m){return ei[c][u]&&ei[c][u].replace&&u.charCodeAt(0)!==55349&&!(uc.hasOwnProperty(u)&&m&&(m.fontFamily&&m.fontFamily.slice(4,6)==="tt"||m.font&&m.font.slice(4,6)==="tt"))&&(u=ei[c][u].replace),new De.TextNode(u)},yo=function(u){return u.length===1?u[0]:new De.MathNode("mrow",u)},wo=function(u,c){if(c.fontFamily==="texttt")return"monospace";if(c.fontFamily==="textsf")return c.fontShape==="textit"&&c.fontWeight==="textbf"?"sans-serif-bold-italic":c.fontShape==="textit"?"sans-serif-italic":c.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(c.fontShape==="textit"&&c.fontWeight==="textbf")return"bold-italic";if(c.fontShape==="textit")return"italic";if(c.fontWeight==="textbf")return"bold";const m=c.font;if(!m||m==="mathnormal")return null;const v=u.mode;if(m==="mathit")return"italic";if(m==="boldsymbol")return u.type==="textord"?"bold":"bold-italic";if(m==="mathbf")return"bold";if(m==="mathbb")return"double-struck";if(m==="mathsfit")return"sans-serif-italic";if(m==="mathfrak")return"fraktur";if(m==="mathscr"||m==="mathcal")return"script";if(m==="mathsf")return"sans-serif";if(m==="mathtt")return"monospace";let w=u.text;if(b.contains(["\\imath","\\jmath"],w))return null;ei[v][w]&&ei[v][w].replace&&(w=ei[v][w].replace);const I=de.fontMap[m].fontName;return ze(w,I,v)?de.fontMap[m].variant:null};function So(u){if(!u)return!1;if(u.type==="mi"&&u.children.length===1){const c=u.children[0];return c instanceof Br&&c.text==="."}else if(u.type==="mo"&&u.children.length===1&&u.getAttribute("separator")==="true"&&u.getAttribute("lspace")==="0em"&&u.getAttribute("rspace")==="0em"){const c=u.children[0];return c instanceof Br&&c.text===","}else return!1}const ji=function(u,c,m){if(u.length===1){const I=Ft(u[0],c);return m&&I instanceof ir&&I.type==="mo"&&(I.setAttribute("lspace","0em"),I.setAttribute("rspace","0em")),[I]}const v=[];let w;for(let I=0;I<u.length;I++){const V=Ft(u[I],c);if(V instanceof ir&&w instanceof ir){if(V.type==="mtext"&&w.type==="mtext"&&V.getAttribute("mathvariant")===w.getAttribute("mathvariant")){w.children.push(...V.children);continue}else if(V.type==="mn"&&w.type==="mn"){w.children.push(...V.children);continue}else if(So(V)&&w.type==="mn"){w.children.push(...V.children);continue}else if(V.type==="mn"&&So(w))V.children=[...w.children,...V.children],v.pop();else if((V.type==="msup"||V.type==="msub")&&V.children.length>=1&&(w.type==="mn"||So(w))){const G=V.children[0];G instanceof ir&&G.type==="mn"&&(G.children=[...w.children,...G.children],v.pop())}else if(w.type==="mi"&&w.children.length===1){const G=w.children[0];if(G instanceof Br&&G.text==="̸"&&(V.type==="mo"||V.type==="mi"||V.type==="mn")){const Q=V.children[0];Q instanceof Br&&Q.text.length>0&&(Q.text=Q.text.slice(0,1)+"̸"+Q.text.slice(1),v.pop())}}}v.push(V),w=V}return v},y0=function(u,c,m){return yo(ji(u,c,m))},Ft=function(u,c){if(!u)return new De.MathNode("mrow");if(En[u.type])return En[u.type](u,c);throw new n("Got group of unknown type: '"+u.type+"'")};function wc(u,c,m,v,w){const I=ji(u,m);let V;I.length===1&&I[0]instanceof ir&&b.contains(["mrow","mtable"],I[0].type)?V=I[0]:V=new De.MathNode("mrow",I);const G=new De.MathNode("annotation",[new De.TextNode(c)]);G.setAttribute("encoding","application/x-tex");const Q=new De.MathNode("semantics",[V,G]),ie=new De.MathNode("math",[Q]);ie.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),v&&ie.setAttribute("display","block");const ce=w?"katex":"katex-mathml";return de.makeSpan([ce],[ie])}const Sc=function(u){return new ki({style:u.displayMode?Fe.DISPLAY:Fe.TEXT,maxSize:u.maxSize,minRuleThickness:u.minRuleThickness})},Mc=function(u,c){if(c.displayMode){const m=["katex-display"];c.leqno&&m.push("leqno"),c.fleqn&&m.push("fleqn"),u=de.makeSpan(m,[u])}return u},Mm=function(u,c,m){const v=Sc(m);let w;if(m.output==="mathml")return wc(u,c,v,m.displayMode,!0);if(m.output==="html"){const I=bo(u,v);w=de.makeSpan(["katex"],[I])}else{const I=wc(u,c,v,m.displayMode,!1),V=bo(u,v);w=de.makeSpan(["katex"],[I,V])}return Mc(w,m)},Cm=function(u,c,m){const v=Sc(m),w=bo(u,v),I=de.makeSpan(["katex"],[w]);return Mc(I,m)},Tm={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},Dm=function(u){const c=new De.MathNode("mo",[new De.TextNode(Tm[u.replace(/^\\/,"")])]);return c.setAttribute("stretchy","true"),c},km={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Im=function(u){return u.type==="ordgroup"?u.body.length:1};var t0={encloseSpan:function(u,c,m,v,w){let I;const V=u.height+u.depth+m+v;if(/fbox|color|angl/.test(c)){if(I=de.makeSpan(["stretchy",c],[],w),c==="fbox"){const G=w.color&&w.getColor();G&&(I.style.borderColor=G)}}else{const G=[];/^[bx]cancel$/.test(c)&&G.push(new fo({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(c)&&G.push(new fo({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const Q=new Jr(G,{width:"100%",height:Ce(V)});I=de.makeSvgSpan([],[Q],w)}return I.height=V,I.style.height=Ce(V),I},mathMLnode:Dm,svgSpan:function(u,c){function m(){let V=4e5;const G=u.label.slice(1);if(b.contains(["widehat","widecheck","widetilde","utilde"],G)){const ie=Im(u.base);let ce,ue,pe;if(ie>5)G==="widehat"||G==="widecheck"?(ce=420,V=2364,pe=.42,ue=G+"4"):(ce=312,V=2340,pe=.34,ue="tilde4");else{const je=[1,1,2,2,3,3][ie];G==="widehat"||G==="widecheck"?(V=[0,1062,2364,2364,2364][je],ce=[0,239,300,360,420][je],pe=[0,.24,.3,.3,.36,.42][je],ue=G+je):(V=[0,600,1033,2339,2340][je],ce=[0,260,286,306,312][je],pe=[0,.26,.286,.3,.306,.34][je],ue="tilde"+je)}const be=new b0(ue),Ye=new Jr([be],{width:"100%",height:Ce(pe),viewBox:"0 0 "+V+" "+ce,preserveAspectRatio:"none"});return{span:de.makeSvgSpan([],[Ye],c),minWidth:0,height:pe}}else{const Q=[],ie=km[G],[ce,ue,pe]=ie,be=pe/1e3,Ye=ce.length;let je,gt;if(Ye===1){const mt=ie[3];je=["hide-tail"],gt=[mt]}else if(Ye===2)je=["halfarrow-left","halfarrow-right"],gt=["xMinYMin","xMaxYMin"];else if(Ye===3)je=["brace-left","brace-center","brace-right"],gt=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+Ye+" children.");for(let mt=0;mt<Ye;mt++){const vt=new b0(ce[mt]),Mt=new Jr([vt],{width:"400em",height:Ce(be),viewBox:"0 0 "+V+" "+pe,preserveAspectRatio:gt[mt]+" slice"}),zt=de.makeSvgSpan([je[mt]],[Mt],c);if(Ye===1)return{span:zt,minWidth:ue,height:be};zt.style.height=Ce(be),Q.push(zt)}return{span:de.makeSpan(["stretchy"],Q,c),minWidth:ue,height:be}}}const{span:v,minWidth:w,height:I}=m();return v.height=I,v.style.height=Ce(I),w>0&&(v.style.minWidth=Ce(w)),v}};function ht(u,c){if(!u||u.type!==c)throw new Error("Expected node of type "+c+", but got "+(u?"node of type "+u.type:String(u)));return u}function Mo(u){const c=Nn(u);if(!c)throw new Error("Expected node of symbol group type, but got "+(u?"node of type "+u.type:String(u)));return c}function Nn(u){return u&&(u.type==="atom"||sm.hasOwnProperty(u.type))?u:null}const Co=(u,c)=>{let m,v,w;u&&u.type==="supsub"?(v=ht(u.base,"accent"),m=v.base,u.base=m,w=im(xt(u,c)),u.base=v):(v=ht(u,"accent"),m=v.base);const I=xt(m,c.havingCrampedStyle()),V=v.isShifty&&b.isCharacterBox(m);let G=0;if(V){const pe=b.getBaseElem(m),be=xt(pe,c.havingCrampedStyle());G=hc(be).skew}const Q=v.label==="\\c";let ie=Q?I.height+I.depth:Math.min(I.height,c.fontMetrics().xHeight),ce;if(v.isStretchy)ce=t0.svgSpan(v,c),ce=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:I},{type:"elem",elem:ce,wrapperClasses:["svg-align"],wrapperStyle:G>0?{width:"calc(100% - "+Ce(2*G)+")",marginLeft:Ce(2*G)}:void 0}]},c);else{let pe,be;v.label==="\\vec"?(pe=de.staticSvg("vec",c),be=de.svgData.vec[1]):(pe=de.makeOrd({mode:v.mode,text:v.label},c,"textord"),pe=hc(pe),pe.italic=0,be=pe.width,Q&&(ie+=pe.depth)),ce=de.makeSpan(["accent-body"],[pe]);const Ye=v.label==="\\textcircled";Ye&&(ce.classes.push("accent-full"),ie=I.height);let je=G;Ye||(je-=be/2),ce.style.left=Ce(je),v.label==="\\textcircled"&&(ce.style.top=".2em"),ce=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:I},{type:"kern",size:-ie},{type:"elem",elem:ce}]},c)}const ue=de.makeSpan(["mord","accent"],[ce],c);return w?(w.children[0]=ue,w.height=Math.max(ue.height,w.height),w.classes[0]="mord",w):ue},Cc=(u,c)=>{const m=u.isStretchy?t0.mathMLnode(u.label):new De.MathNode("mo",[pr(u.label,u.mode)]),v=new De.MathNode("mover",[Ft(u.base,c),m]);return v.setAttribute("accent","true"),v},Em=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(u=>"\\"+u).join("|"));Pe({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(u,c)=>{const m=Fn(c[0]),v=!Em.test(u.funcName),w=!v||u.funcName==="\\widehat"||u.funcName==="\\widetilde"||u.funcName==="\\widecheck";return{type:"accent",mode:u.parser.mode,label:u.funcName,isStretchy:v,isShifty:w,base:m}},htmlBuilder:Co,mathmlBuilder:Cc}),Pe({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(u,c)=>{const m=c[0];let v=u.parser.mode;return v==="math"&&(u.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+u.funcName+" works only in text mode"),v="text"),{type:"accent",mode:v,label:u.funcName,isStretchy:!1,isShifty:!0,base:m}},htmlBuilder:Co,mathmlBuilder:Cc}),Pe({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(u,c)=>{let{parser:m,funcName:v}=u;const w=c[0];return{type:"accentUnder",mode:m.mode,label:v,base:w}},htmlBuilder:(u,c)=>{const m=xt(u.base,c),v=t0.svgSpan(u,c),w=u.label==="\\utilde"?.12:0,I=de.makeVList({positionType:"top",positionData:m.height,children:[{type:"elem",elem:v,wrapperClasses:["svg-align"]},{type:"kern",size:w},{type:"elem",elem:m}]},c);return de.makeSpan(["mord","accentunder"],[I],c)},mathmlBuilder:(u,c)=>{const m=t0.mathMLnode(u.label),v=new De.MathNode("munder",[Ft(u.base,c),m]);return v.setAttribute("accentunder","true"),v}});const Rn=u=>{const c=new De.MathNode("mpadded",u?[u]:[]);return c.setAttribute("width","+0.6em"),c.setAttribute("lspace","0.3em"),c};Pe({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(u,c,m){let{parser:v,funcName:w}=u;return{type:"xArrow",mode:v.mode,label:w,body:c[0],below:m[0]}},htmlBuilder(u,c){const m=c.style;let v=c.havingStyle(m.sup());const w=de.wrapFragment(xt(u.body,v,c),c),I=u.label.slice(0,2)==="\\x"?"x":"cd";w.classes.push(I+"-arrow-pad");let V;u.below&&(v=c.havingStyle(m.sub()),V=de.wrapFragment(xt(u.below,v,c),c),V.classes.push(I+"-arrow-pad"));const G=t0.svgSpan(u,c),Q=-c.fontMetrics().axisHeight+.5*G.height;let ie=-c.fontMetrics().axisHeight-.5*G.height-.111;(w.depth>.25||u.label==="\\xleftequilibrium")&&(ie-=w.depth);let ce;if(V){const ue=-c.fontMetrics().axisHeight+V.height+.5*G.height+.111;ce=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:w,shift:ie},{type:"elem",elem:G,shift:Q},{type:"elem",elem:V,shift:ue}]},c)}else ce=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:w,shift:ie},{type:"elem",elem:G,shift:Q}]},c);return ce.children[0].children[0].children[1].classes.push("svg-align"),de.makeSpan(["mrel","x-arrow"],[ce],c)},mathmlBuilder(u,c){const m=t0.mathMLnode(u.label);m.setAttribute("minsize",u.label.charAt(0)==="x"?"1.75em":"3.0em");let v;if(u.body){const w=Rn(Ft(u.body,c));if(u.below){const I=Rn(Ft(u.below,c));v=new De.MathNode("munderover",[m,I,w])}else v=new De.MathNode("mover",[m,w])}else if(u.below){const w=Rn(Ft(u.below,c));v=new De.MathNode("munder",[m,w])}else v=Rn(),v=new De.MathNode("mover",[m,v]);return v}});const Fm=de.makeSpan;function Tc(u,c){const m=Ai(u.body,c,!0);return Fm([u.mclass],m,c)}function Dc(u,c){let m;const v=ji(u.body,c);return u.mclass==="minner"?m=new De.MathNode("mpadded",v):u.mclass==="mord"?u.isCharacterBox?(m=v[0],m.type="mi"):m=new De.MathNode("mi",v):(u.isCharacterBox?(m=v[0],m.type="mo"):m=new De.MathNode("mo",v),u.mclass==="mbin"?(m.attributes.lspace="0.22em",m.attributes.rspace="0.22em"):u.mclass==="mpunct"?(m.attributes.lspace="0em",m.attributes.rspace="0.17em"):u.mclass==="mopen"||u.mclass==="mclose"?(m.attributes.lspace="0em",m.attributes.rspace="0em"):u.mclass==="minner"&&(m.attributes.lspace="0.0556em",m.attributes.width="+0.1111em")),m}Pe({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(u,c){let{parser:m,funcName:v}=u;const w=c[0];return{type:"mclass",mode:m.mode,mclass:"m"+v.slice(5),body:ui(w),isCharacterBox:b.isCharacterBox(w)}},htmlBuilder:Tc,mathmlBuilder:Dc});const Vn=u=>{const c=u.type==="ordgroup"&&u.body.length?u.body[0]:u;return c.type==="atom"&&(c.family==="bin"||c.family==="rel")?"m"+c.family:"mord"};Pe({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(u,c){let{parser:m}=u;return{type:"mclass",mode:m.mode,mclass:Vn(c[0]),body:ui(c[1]),isCharacterBox:b.isCharacterBox(c[1])}}}),Pe({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(u,c){let{parser:m,funcName:v}=u;const w=c[1],I=c[0];let V;v!=="\\stackrel"?V=Vn(w):V="mrel";const G={type:"op",mode:w.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:v!=="\\stackrel",body:ui(w)},Q={type:"supsub",mode:I.mode,base:G,sup:v==="\\underset"?null:I,sub:v==="\\underset"?I:null};return{type:"mclass",mode:m.mode,mclass:V,body:[Q],isCharacterBox:b.isCharacterBox(Q)}},htmlBuilder:Tc,mathmlBuilder:Dc}),Pe({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(u,c){let{parser:m}=u;return{type:"pmb",mode:m.mode,mclass:Vn(c[0]),body:ui(c[0])}},htmlBuilder(u,c){const m=Ai(u.body,c,!0),v=de.makeSpan([u.mclass],m,c);return v.style.textShadow="0.02em 0.01em 0.04px",v},mathmlBuilder(u,c){const m=ji(u.body,c),v=new De.MathNode("mstyle",m);return v.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),v}});const Bm={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},kc=()=>({type:"styling",body:[],mode:"math",style:"display"}),Ic=u=>u.type==="textord"&&u.text==="@",Nm=(u,c)=>(u.type==="mathord"||u.type==="atom")&&u.text===c;function Rm(u,c,m){const v=Bm[u];switch(v){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return m.callFunction(v,[c[0]],[c[1]]);case"\\uparrow":case"\\downarrow":{const w=m.callFunction("\\\\cdleft",[c[0]],[]),I={type:"atom",text:v,mode:"math",family:"rel"},V=m.callFunction("\\Big",[I],[]),G=m.callFunction("\\\\cdright",[c[1]],[]),Q={type:"ordgroup",mode:"math",body:[w,V,G]};return m.callFunction("\\\\cdparent",[Q],[])}case"\\\\cdlongequal":return m.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const w={type:"textord",text:"\\Vert",mode:"math"};return m.callFunction("\\Big",[w],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Vm(u){const c=[];for(u.gullet.beginGroup(),u.gullet.macros.set("\\cr","\\\\\\relax"),u.gullet.beginGroup();;){c.push(u.parseExpression(!1,"\\\\")),u.gullet.endGroup(),u.gullet.beginGroup();const I=u.fetch().text;if(I==="&"||I==="\\\\")u.consume();else if(I==="\\end"){c[c.length-1].length===0&&c.pop();break}else throw new n("Expected \\\\ or \\cr or \\end",u.nextToken)}let m=[];const v=[m];for(let I=0;I<c.length;I++){const V=c[I];let G=kc();for(let Q=0;Q<V.length;Q++)if(!Ic(V[Q]))G.body.push(V[Q]);else{m.push(G),Q+=1;const ie=Mo(V[Q]).text,ce=new Array(2);if(ce[0]={type:"ordgroup",mode:"math",body:[]},ce[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(ie)>-1))if("<>AV".indexOf(ie)>-1)for(let be=0;be<2;be++){let Ye=!0;for(let je=Q+1;je<V.length;je++){if(Nm(V[je],ie)){Ye=!1,Q=je;break}if(Ic(V[je]))throw new n("Missing a "+ie+" character to complete a CD arrow.",V[je]);ce[be].body.push(V[je])}if(Ye)throw new n("Missing a "+ie+" character to complete a CD arrow.",V[Q])}else throw new n('Expected one of "<>AV=|." after @',V[Q]);const pe={type:"styling",body:[Rm(ie,ce,u)],mode:"math",style:"display"};m.push(pe),G=kc()}I%2===0?m.push(G):m.shift(),m=[],v.push(m)}u.gullet.endGroup(),u.gullet.endGroup();const w=new Array(v[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:v,arraystretch:1,addJot:!0,rowGaps:[null],cols:w,colSeparationType:"CD",hLinesBeforeRow:new Array(v.length+1).fill([])}}Pe({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(u,c){let{parser:m,funcName:v}=u;return{type:"cdlabel",mode:m.mode,side:v.slice(4),label:c[0]}},htmlBuilder(u,c){const m=c.havingStyle(c.style.sup()),v=de.wrapFragment(xt(u.label,m,c),c);return v.classes.push("cd-label-"+u.side),v.style.bottom=Ce(.8-v.depth),v.height=0,v.depth=0,v},mathmlBuilder(u,c){let m=new De.MathNode("mrow",[Ft(u.label,c)]);return m=new De.MathNode("mpadded",[m]),m.setAttribute("width","0"),u.side==="left"&&m.setAttribute("lspace","-1width"),m.setAttribute("voffset","0.7em"),m=new De.MathNode("mstyle",[m]),m.setAttribute("displaystyle","false"),m.setAttribute("scriptlevel","1"),m}}),Pe({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(u,c){let{parser:m}=u;return{type:"cdlabelparent",mode:m.mode,fragment:c[0]}},htmlBuilder(u,c){const m=de.wrapFragment(xt(u.fragment,c),c);return m.classes.push("cd-vert-arrow"),m},mathmlBuilder(u,c){return new De.MathNode("mrow",[Ft(u.fragment,c)])}}),Pe({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(u,c){let{parser:m}=u;const w=ht(c[0],"ordgroup").body;let I="";for(let Q=0;Q<w.length;Q++){const ie=ht(w[Q],"textord");I+=ie.text}let V=parseInt(I),G;if(isNaN(V))throw new n("\\@char has non-numeric argument "+I);if(V<0||V>=1114111)throw new n("\\@char with invalid code point "+I);return V<=65535?G=String.fromCharCode(V):(V-=65536,G=String.fromCharCode((V>>10)+55296,(V&1023)+56320)),{type:"textord",mode:m.mode,text:G}}});const Ec=(u,c)=>{const m=Ai(u.body,c.withColor(u.color),!1);return de.makeFragment(m)},Fc=(u,c)=>{const m=ji(u.body,c.withColor(u.color)),v=new De.MathNode("mstyle",m);return v.setAttribute("mathcolor",u.color),v};Pe({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(u,c){let{parser:m}=u;const v=ht(c[0],"color-token").color,w=c[1];return{type:"color",mode:m.mode,color:v,body:ui(w)}},htmlBuilder:Ec,mathmlBuilder:Fc}),Pe({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(u,c){let{parser:m,breakOnTokenText:v}=u;const w=ht(c[0],"color-token").color;m.gullet.macros.set("\\current@color",w);const I=m.parseExpression(!0,v);return{type:"color",mode:m.mode,color:w,body:I}},htmlBuilder:Ec,mathmlBuilder:Fc}),Pe({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(u,c,m){let{parser:v}=u;const w=v.gullet.future().text==="["?v.parseSizeGroup(!0):null,I=!v.settings.displayMode||!v.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:v.mode,newLine:I,size:w&&ht(w,"size").value}},htmlBuilder(u,c){const m=de.makeSpan(["mspace"],[],c);return u.newLine&&(m.classes.push("newline"),u.size&&(m.style.marginTop=Ce(Ut(u.size,c)))),m},mathmlBuilder(u,c){const m=new De.MathNode("mspace");return u.newLine&&(m.setAttribute("linebreak","newline"),u.size&&m.setAttribute("height",Ce(Ut(u.size,c)))),m}});const To={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Bc=u=>{const c=u.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(c))throw new n("Expected a control sequence",u);return c},Um=u=>{let c=u.gullet.popToken();return c.text==="="&&(c=u.gullet.popToken(),c.text===" "&&(c=u.gullet.popToken())),c},Nc=(u,c,m,v)=>{let w=u.gullet.macros.get(m.text);w==null&&(m.noexpand=!0,w={tokens:[m],numArgs:0,unexpandable:!u.gullet.isExpandable(m.text)}),u.gullet.macros.set(c,w,v)};Pe({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(u){let{parser:c,funcName:m}=u;c.consumeSpaces();const v=c.fetch();if(To[v.text])return(m==="\\global"||m==="\\\\globallong")&&(v.text=To[v.text]),ht(c.parseFunction(),"internal");throw new n("Invalid token after macro prefix",v)}}),Pe({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(u){let{parser:c,funcName:m}=u,v=c.gullet.popToken();const w=v.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(w))throw new n("Expected a control sequence",v);let I=0,V;const G=[[]];for(;c.gullet.future().text!=="{";)if(v=c.gullet.popToken(),v.text==="#"){if(c.gullet.future().text==="{"){V=c.gullet.future(),G[I].push("{");break}if(v=c.gullet.popToken(),!/^[1-9]$/.test(v.text))throw new n('Invalid argument number "'+v.text+'"');if(parseInt(v.text)!==I+1)throw new n('Argument number "'+v.text+'" out of order');I++,G.push([])}else{if(v.text==="EOF")throw new n("Expected a macro definition");G[I].push(v.text)}let{tokens:Q}=c.gullet.consumeArg();return V&&Q.unshift(V),(m==="\\edef"||m==="\\xdef")&&(Q=c.gullet.expandTokens(Q),Q.reverse()),c.gullet.macros.set(w,{tokens:Q,numArgs:I,delimiters:G},m===To[m]),{type:"internal",mode:c.mode}}}),Pe({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(u){let{parser:c,funcName:m}=u;const v=Bc(c.gullet.popToken());c.gullet.consumeSpaces();const w=Um(c);return Nc(c,v,w,m==="\\\\globallet"),{type:"internal",mode:c.mode}}}),Pe({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(u){let{parser:c,funcName:m}=u;const v=Bc(c.gullet.popToken()),w=c.gullet.popToken(),I=c.gullet.popToken();return Nc(c,v,I,m==="\\\\globalfuture"),c.gullet.pushToken(I),c.gullet.pushToken(w),{type:"internal",mode:c.mode}}});const zs=function(u,c,m){const v=ei.math[u]&&ei.math[u].replace,w=ze(v||u,c,m);if(!w)throw new Error("Unsupported symbol "+u+" and font size "+c+".");return w},Do=function(u,c,m,v){const w=m.havingBaseStyle(c),I=de.makeSpan(v.concat(w.sizingClasses(m)),[u],m),V=w.sizeMultiplier/m.sizeMultiplier;return I.height*=V,I.depth*=V,I.maxFontSize=w.sizeMultiplier,I},Rc=function(u,c,m){const v=c.havingBaseStyle(m),w=(1-c.sizeMultiplier/v.sizeMultiplier)*c.fontMetrics().axisHeight;u.classes.push("delimcenter"),u.style.top=Ce(w),u.height-=w,u.depth+=w},zm=function(u,c,m,v,w,I){const V=de.makeSymbol(u,"Main-Regular",w,v),G=Do(V,c,v,I);return m&&Rc(G,v,c),G},Pm=function(u,c,m,v){return de.makeSymbol(u,"Size"+c+"-Regular",m,v)},Vc=function(u,c,m,v,w,I){const V=Pm(u,c,w,v),G=Do(de.makeSpan(["delimsizing","size"+c],[V],v),Fe.TEXT,v,I);return m&&Rc(G,v,Fe.TEXT),G},ko=function(u,c,m){let v;return c==="Size1-Regular"?v="delim-size1":v="delim-size4",{type:"elem",elem:de.makeSpan(["delimsizinginner",v],[de.makeSpan([],[de.makeSymbol(u,c,m)])])}},Io=function(u,c,m){const v=Te["Size4-Regular"][u.charCodeAt(0)]?Te["Size4-Regular"][u.charCodeAt(0)][4]:Te["Size1-Regular"][u.charCodeAt(0)][4],w=new b0("inner",Me(u,Math.round(1e3*c))),I=new Jr([w],{width:Ce(v),height:Ce(c),style:"width:"+Ce(v),viewBox:"0 0 "+1e3*v+" "+Math.round(1e3*c),preserveAspectRatio:"xMinYMin"}),V=de.makeSvgSpan([],[I],m);return V.height=c,V.style.height=Ce(c),V.style.width=Ce(v),{type:"elem",elem:V}},Eo=.008,Un={type:"kern",size:-1*Eo},Lm=["|","\\lvert","\\rvert","\\vert"],Om=["\\|","\\lVert","\\rVert","\\Vert"],Uc=function(u,c,m,v,w,I){let V,G,Q,ie,ce="",ue=0;V=Q=ie=u,G=null;let pe="Size1-Regular";u==="\\uparrow"?Q=ie="⏐":u==="\\Uparrow"?Q=ie="‖":u==="\\downarrow"?V=Q="⏐":u==="\\Downarrow"?V=Q="‖":u==="\\updownarrow"?(V="\\uparrow",Q="⏐",ie="\\downarrow"):u==="\\Updownarrow"?(V="\\Uparrow",Q="‖",ie="\\Downarrow"):b.contains(Lm,u)?(Q="∣",ce="vert",ue=333):b.contains(Om,u)?(Q="∥",ce="doublevert",ue=556):u==="["||u==="\\lbrack"?(V="⎡",Q="⎢",ie="⎣",pe="Size4-Regular",ce="lbrack",ue=667):u==="]"||u==="\\rbrack"?(V="⎤",Q="⎥",ie="⎦",pe="Size4-Regular",ce="rbrack",ue=667):u==="\\lfloor"||u==="⌊"?(Q=V="⎢",ie="⎣",pe="Size4-Regular",ce="lfloor",ue=667):u==="\\lceil"||u==="⌈"?(V="⎡",Q=ie="⎢",pe="Size4-Regular",ce="lceil",ue=667):u==="\\rfloor"||u==="⌋"?(Q=V="⎥",ie="⎦",pe="Size4-Regular",ce="rfloor",ue=667):u==="\\rceil"||u==="⌉"?(V="⎤",Q=ie="⎥",pe="Size4-Regular",ce="rceil",ue=667):u==="("||u==="\\lparen"?(V="⎛",Q="⎜",ie="⎝",pe="Size4-Regular",ce="lparen",ue=875):u===")"||u==="\\rparen"?(V="⎞",Q="⎟",ie="⎠",pe="Size4-Regular",ce="rparen",ue=875):u==="\\{"||u==="\\lbrace"?(V="⎧",G="⎨",ie="⎩",Q="⎪",pe="Size4-Regular"):u==="\\}"||u==="\\rbrace"?(V="⎫",G="⎬",ie="⎭",Q="⎪",pe="Size4-Regular"):u==="\\lgroup"||u==="⟮"?(V="⎧",ie="⎩",Q="⎪",pe="Size4-Regular"):u==="\\rgroup"||u==="⟯"?(V="⎫",ie="⎭",Q="⎪",pe="Size4-Regular"):u==="\\lmoustache"||u==="⎰"?(V="⎧",ie="⎭",Q="⎪",pe="Size4-Regular"):(u==="\\rmoustache"||u==="⎱")&&(V="⎫",ie="⎩",Q="⎪",pe="Size4-Regular");const be=zs(V,pe,w),Ye=be.height+be.depth,je=zs(Q,pe,w),gt=je.height+je.depth,mt=zs(ie,pe,w),vt=mt.height+mt.depth;let Mt=0,zt=1;if(G!==null){const li=zs(G,pe,w);Mt=li.height+li.depth,zt=2}const Ni=Ye+vt+Mt,xi=Math.max(0,Math.ceil((c-Ni)/(zt*gt))),vr=Ni+xi*zt*gt;let hs=v.fontMetrics().axisHeight;m&&(hs*=v.sizeMultiplier);const bt=vr/2-hs,It=[];if(ce.length>0){const li=vr-Ye-vt,ii=Math.round(vr*1e3),Ar=Se(ce,Math.round(li*1e3)),mf=new b0(ce,Ar),Th=(ue/1e3).toFixed(3)+"em",Dh=(ii/1e3).toFixed(3)+"em",ff=new Jr([mf],{width:Th,height:Dh,viewBox:"0 0 "+ue+" "+ii}),qn=de.makeSvgSpan([],[ff],v);qn.height=ii/1e3,qn.style.width=Th,qn.style.height=Dh,It.push({type:"elem",elem:qn})}else{if(It.push(ko(ie,pe,w)),It.push(Un),G===null){const li=vr-Ye-vt+2*Eo;It.push(Io(Q,li,v))}else{const li=(vr-Ye-vt-Mt)/2+2*Eo;It.push(Io(Q,li,v)),It.push(Un),It.push(ko(G,pe,w)),It.push(Un),It.push(Io(Q,li,v))}It.push(Un),It.push(ko(V,pe,w))}const Ht=v.havingBaseStyle(Fe.TEXT),Qt=de.makeVList({positionType:"bottom",positionData:bt,children:It},Ht);return Do(de.makeSpan(["delimsizing","mult"],[Qt],Ht),Fe.TEXT,v,I)},Fo=80,Bo=.08,No=function(u,c,m,v,w){const I=ve(u,v,m),V=new b0(u,I),G=new Jr([V],{width:"400em",height:Ce(c),viewBox:"0 0 400000 "+m,preserveAspectRatio:"xMinYMin slice"});return de.makeSvgSpan(["hide-tail"],[G],w)},qm=function(u,c){const m=c.havingBaseSizing(),v=Oc("\\surd",u*m.sizeMultiplier,Lc,m);let w=m.sizeMultiplier;const I=Math.max(0,c.minRuleThickness-c.fontMetrics().sqrtRuleThickness);let V,G=0,Q=0,ie=0,ce;return v.type==="small"?(ie=1e3+1e3*I+Fo,u<1?w=1:u<1.4&&(w=.7),G=(1+I+Bo)/w,Q=(1+I)/w,V=No("sqrtMain",G,ie,I,c),V.style.minWidth="0.853em",ce=.833/w):v.type==="large"?(ie=(1e3+Fo)*Ps[v.size],Q=(Ps[v.size]+I)/w,G=(Ps[v.size]+I+Bo)/w,V=No("sqrtSize"+v.size,G,ie,I,c),V.style.minWidth="1.02em",ce=1/w):(G=u+I+Bo,Q=u+I,ie=Math.floor(1e3*u+I)+Fo,V=No("sqrtTall",G,ie,I,c),V.style.minWidth="0.742em",ce=1.056),V.height=Q,V.style.height=Ce(G),{span:V,advanceWidth:ce,ruleWidth:(c.fontMetrics().sqrtRuleThickness+I)*w}},zc=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],Gm=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],Pc=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Ps=[0,1.2,1.8,2.4,3],Hm=function(u,c,m,v,w){if(u==="<"||u==="\\lt"||u==="⟨"?u="\\langle":(u===">"||u==="\\gt"||u==="⟩")&&(u="\\rangle"),b.contains(zc,u)||b.contains(Pc,u))return Vc(u,c,!1,m,v,w);if(b.contains(Gm,u))return Uc(u,Ps[c],!1,m,v,w);throw new n("Illegal delimiter: '"+u+"'")},Ym=[{type:"small",style:Fe.SCRIPTSCRIPT},{type:"small",style:Fe.SCRIPT},{type:"small",style:Fe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Km=[{type:"small",style:Fe.SCRIPTSCRIPT},{type:"small",style:Fe.SCRIPT},{type:"small",style:Fe.TEXT},{type:"stack"}],Lc=[{type:"small",style:Fe.SCRIPTSCRIPT},{type:"small",style:Fe.SCRIPT},{type:"small",style:Fe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Wm=function(u){if(u.type==="small")return"Main-Regular";if(u.type==="large")return"Size"+u.size+"-Regular";if(u.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+u.type+"' here.")},Oc=function(u,c,m,v){const w=Math.min(2,3-v.style.size);for(let I=w;I<m.length&&m[I].type!=="stack";I++){const V=zs(u,Wm(m[I]),"math");let G=V.height+V.depth;if(m[I].type==="small"){const Q=v.havingBaseStyle(m[I].style);G*=Q.sizeMultiplier}if(G>c)return m[I]}return m[m.length-1]},qc=function(u,c,m,v,w,I){u==="<"||u==="\\lt"||u==="⟨"?u="\\langle":(u===">"||u==="\\gt"||u==="⟩")&&(u="\\rangle");let V;b.contains(Pc,u)?V=Ym:b.contains(zc,u)?V=Lc:V=Km;const G=Oc(u,c,V,v);return G.type==="small"?zm(u,G.style,m,v,w,I):G.type==="large"?Vc(u,G.size,m,v,w,I):Uc(u,c,m,v,w,I)};var i0={sqrtImage:qm,sizedDelim:Hm,sizeToMaxHeight:Ps,customSizedDelim:qc,leftRightDelim:function(u,c,m,v,w,I){const V=v.fontMetrics().axisHeight*v.sizeMultiplier,G=901,Q=5/v.fontMetrics().ptPerEm,ie=Math.max(c-V,m+V),ce=Math.max(ie/500*G,2*ie-Q);return qc(u,ce,!0,v,w,I)}};const Gc={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},jm=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function zn(u,c){const m=Nn(u);if(m&&b.contains(jm,m.text))return m;throw m?new n("Invalid delimiter '"+m.text+"' after '"+c.funcName+"'",u):new n("Invalid delimiter type '"+u.type+"'",u)}Pe({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(u,c)=>{const m=zn(c[0],u);return{type:"delimsizing",mode:u.parser.mode,size:Gc[u.funcName].size,mclass:Gc[u.funcName].mclass,delim:m.text}},htmlBuilder:(u,c)=>u.delim==="."?de.makeSpan([u.mclass]):i0.sizedDelim(u.delim,u.size,c,u.mode,[u.mclass]),mathmlBuilder:u=>{const c=[];u.delim!=="."&&c.push(pr(u.delim,u.mode));const m=new De.MathNode("mo",c);u.mclass==="mopen"||u.mclass==="mclose"?m.setAttribute("fence","true"):m.setAttribute("fence","false"),m.setAttribute("stretchy","true");const v=Ce(i0.sizeToMaxHeight[u.size]);return m.setAttribute("minsize",v),m.setAttribute("maxsize",v),m}});function Hc(u){if(!u.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Pe({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(u,c)=>{const m=u.parser.gullet.macros.get("\\current@color");if(m&&typeof m!="string")throw new n("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:u.parser.mode,delim:zn(c[0],u).text,color:m}}}),Pe({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(u,c)=>{const m=zn(c[0],u),v=u.parser;++v.leftrightDepth;const w=v.parseExpression(!1);--v.leftrightDepth,v.expect("\\right",!1);const I=ht(v.parseFunction(),"leftright-right");return{type:"leftright",mode:v.mode,body:w,left:m.text,right:I.delim,rightColor:I.color}},htmlBuilder:(u,c)=>{Hc(u);const m=Ai(u.body,c,!0,["mopen","mclose"]);let v=0,w=0,I=!1;for(let Q=0;Q<m.length;Q++)m[Q].isMiddle?I=!0:(v=Math.max(m[Q].height,v),w=Math.max(m[Q].depth,w));v*=c.sizeMultiplier,w*=c.sizeMultiplier;let V;if(u.left==="."?V=Us(c,["mopen"]):V=i0.leftRightDelim(u.left,v,w,c,u.mode,["mopen"]),m.unshift(V),I)for(let Q=1;Q<m.length;Q++){const ce=m[Q].isMiddle;ce&&(m[Q]=i0.leftRightDelim(ce.delim,v,w,ce.options,u.mode,[]))}let G;if(u.right===".")G=Us(c,["mclose"]);else{const Q=u.rightColor?c.withColor(u.rightColor):c;G=i0.leftRightDelim(u.right,v,w,Q,u.mode,["mclose"])}return m.push(G),de.makeSpan(["minner"],m,c)},mathmlBuilder:(u,c)=>{Hc(u);const m=ji(u.body,c);if(u.left!=="."){const v=new De.MathNode("mo",[pr(u.left,u.mode)]);v.setAttribute("fence","true"),m.unshift(v)}if(u.right!=="."){const v=new De.MathNode("mo",[pr(u.right,u.mode)]);v.setAttribute("fence","true"),u.rightColor&&v.setAttribute("mathcolor",u.rightColor),m.push(v)}return yo(m)}}),Pe({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(u,c)=>{const m=zn(c[0],u);if(!u.parser.leftrightDepth)throw new n("\\middle without preceding \\left",m);return{type:"middle",mode:u.parser.mode,delim:m.text}},htmlBuilder:(u,c)=>{let m;if(u.delim===".")m=Us(c,[]);else{m=i0.sizedDelim(u.delim,1,c,u.mode,[]);const v={delim:u.delim,options:c};m.isMiddle=v}return m},mathmlBuilder:(u,c)=>{const m=u.delim==="\\vert"||u.delim==="|"?pr("|","text"):pr(u.delim,u.mode),v=new De.MathNode("mo",[m]);return v.setAttribute("fence","true"),v.setAttribute("lspace","0.05em"),v.setAttribute("rspace","0.05em"),v}});const Ro=(u,c)=>{const m=de.wrapFragment(xt(u.body,c),c),v=u.label.slice(1);let w=c.sizeMultiplier,I,V=0;const G=b.isCharacterBox(u.body);if(v==="sout")I=de.makeSpan(["stretchy","sout"]),I.height=c.fontMetrics().defaultRuleThickness/w,V=-.5*c.fontMetrics().xHeight;else if(v==="phase"){const ie=Ut({number:.6,unit:"pt"},c),ce=Ut({number:.35,unit:"ex"},c),ue=c.havingBaseSizing();w=w/ue.sizeMultiplier;const pe=m.height+m.depth+ie+ce;m.style.paddingLeft=Ce(pe/2+ie);const be=Math.floor(1e3*pe*w),Ye=$(be),je=new Jr([new b0("phase",Ye)],{width:"400em",height:Ce(be/1e3),viewBox:"0 0 400000 "+be,preserveAspectRatio:"xMinYMin slice"});I=de.makeSvgSpan(["hide-tail"],[je],c),I.style.height=Ce(pe),V=m.depth+ie+ce}else{/cancel/.test(v)?G||m.classes.push("cancel-pad"):v==="angl"?m.classes.push("anglpad"):m.classes.push("boxpad");let ie=0,ce=0,ue=0;/box/.test(v)?(ue=Math.max(c.fontMetrics().fboxrule,c.minRuleThickness),ie=c.fontMetrics().fboxsep+(v==="colorbox"?0:ue),ce=ie):v==="angl"?(ue=Math.max(c.fontMetrics().defaultRuleThickness,c.minRuleThickness),ie=4*ue,ce=Math.max(0,.25-m.depth)):(ie=G?.2:0,ce=ie),I=t0.encloseSpan(m,v,ie,ce,c),/fbox|boxed|fcolorbox/.test(v)?(I.style.borderStyle="solid",I.style.borderWidth=Ce(ue)):v==="angl"&&ue!==.049&&(I.style.borderTopWidth=Ce(ue),I.style.borderRightWidth=Ce(ue)),V=m.depth+ce,u.backgroundColor&&(I.style.backgroundColor=u.backgroundColor,u.borderColor&&(I.style.borderColor=u.borderColor))}let Q;if(u.backgroundColor)Q=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:I,shift:V},{type:"elem",elem:m,shift:0}]},c);else{const ie=/cancel|phase/.test(v)?["svg-align"]:[];Q=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:m,shift:0},{type:"elem",elem:I,shift:V,wrapperClasses:ie}]},c)}return/cancel/.test(v)&&(Q.height=m.height,Q.depth=m.depth),/cancel/.test(v)&&!G?de.makeSpan(["mord","cancel-lap"],[Q],c):de.makeSpan(["mord"],[Q],c)},Vo=(u,c)=>{let m=0;const v=new De.MathNode(u.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ft(u.body,c)]);switch(u.label){case"\\cancel":v.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":v.setAttribute("notation","downdiagonalstrike");break;case"\\phase":v.setAttribute("notation","phasorangle");break;case"\\sout":v.setAttribute("notation","horizontalstrike");break;case"\\fbox":v.setAttribute("notation","box");break;case"\\angl":v.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(m=c.fontMetrics().fboxsep*c.fontMetrics().ptPerEm,v.setAttribute("width","+"+2*m+"pt"),v.setAttribute("height","+"+2*m+"pt"),v.setAttribute("lspace",m+"pt"),v.setAttribute("voffset",m+"pt"),u.label==="\\fcolorbox"){const w=Math.max(c.fontMetrics().fboxrule,c.minRuleThickness);v.setAttribute("style","border: "+w+"em solid "+String(u.borderColor))}break;case"\\xcancel":v.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return u.backgroundColor&&v.setAttribute("mathbackground",u.backgroundColor),v};Pe({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(u,c,m){let{parser:v,funcName:w}=u;const I=ht(c[0],"color-token").color,V=c[1];return{type:"enclose",mode:v.mode,label:w,backgroundColor:I,body:V}},htmlBuilder:Ro,mathmlBuilder:Vo}),Pe({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(u,c,m){let{parser:v,funcName:w}=u;const I=ht(c[0],"color-token").color,V=ht(c[1],"color-token").color,G=c[2];return{type:"enclose",mode:v.mode,label:w,backgroundColor:V,borderColor:I,body:G}},htmlBuilder:Ro,mathmlBuilder:Vo}),Pe({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(u,c){let{parser:m}=u;return{type:"enclose",mode:m.mode,label:"\\fbox",body:c[0]}}}),Pe({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(u,c){let{parser:m,funcName:v}=u;const w=c[0];return{type:"enclose",mode:m.mode,label:v,body:w}},htmlBuilder:Ro,mathmlBuilder:Vo}),Pe({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(u,c){let{parser:m}=u;return{type:"enclose",mode:m.mode,label:"\\angl",body:c[0]}}});const Yc={};function Nr(u){let{type:c,names:m,props:v,handler:w,htmlBuilder:I,mathmlBuilder:V}=u;const G={type:c,numArgs:v.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:w};for(let Q=0;Q<m.length;++Q)Yc[m[Q]]=G;I&&(In[c]=I),V&&(En[c]=V)}const Kc={};function Y(u,c){Kc[u]=c}class rr{constructor(c,m,v){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=c,this.start=m,this.end=v}static range(c,m){return m?!c||!c.loc||!m.loc||c.loc.lexer!==m.loc.lexer?null:new rr(c.loc.lexer,c.loc.start,m.loc.end):c&&c.loc}}class gr{constructor(c,m){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=c,this.loc=m}range(c,m){return new gr(m,rr.range(this,c))}}function Wc(u){const c=[];u.consumeSpaces();let m=u.fetch().text;for(m==="\\relax"&&(u.consume(),u.consumeSpaces(),m=u.fetch().text);m==="\\hline"||m==="\\hdashline";)u.consume(),c.push(m==="\\hdashline"),u.consumeSpaces(),m=u.fetch().text;return c}const Pn=u=>{if(!u.parser.settings.displayMode)throw new n("{"+u.envName+"} can be used only in display mode.")};function Uo(u){if(u.indexOf("ed")===-1)return u.indexOf("*")===-1}function w0(u,c,m){let{hskipBeforeAndAfter:v,addJot:w,cols:I,arraystretch:V,colSeparationType:G,autoTag:Q,singleRow:ie,emptySingleRow:ce,maxNumCols:ue,leqno:pe}=c;if(u.gullet.beginGroup(),ie||u.gullet.macros.set("\\cr","\\\\\\relax"),!V){const zt=u.gullet.expandMacroAsText("\\arraystretch");if(zt==null)V=1;else if(V=parseFloat(zt),!V||V<0)throw new n("Invalid \\arraystretch: "+zt)}u.gullet.beginGroup();let be=[];const Ye=[be],je=[],gt=[],mt=Q!=null?[]:void 0;function vt(){Q&&u.gullet.macros.set("\\@eqnsw","1",!0)}function Mt(){mt&&(u.gullet.macros.get("\\df@tag")?(mt.push(u.subparse([new gr("\\df@tag")])),u.gullet.macros.set("\\df@tag",void 0,!0)):mt.push(!!Q&&u.gullet.macros.get("\\@eqnsw")==="1"))}for(vt(),gt.push(Wc(u));;){let zt=u.parseExpression(!1,ie?"\\end":"\\\\");u.gullet.endGroup(),u.gullet.beginGroup(),zt={type:"ordgroup",mode:u.mode,body:zt},m&&(zt={type:"styling",mode:u.mode,style:m,body:[zt]}),be.push(zt);const Ni=u.fetch().text;if(Ni==="&"){if(ue&&be.length===ue){if(ie||G)throw new n("Too many tab characters: &",u.nextToken);u.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}u.consume()}else if(Ni==="\\end"){Mt(),be.length===1&&zt.type==="styling"&&zt.body[0].body.length===0&&(Ye.length>1||!ce)&&Ye.pop(),gt.length<Ye.length+1&&gt.push([]);break}else if(Ni==="\\\\"){u.consume();let xi;u.gullet.future().text!==" "&&(xi=u.parseSizeGroup(!0)),je.push(xi?xi.value:null),Mt(),gt.push(Wc(u)),be=[],Ye.push(be),vt()}else throw new n("Expected & or \\\\ or \\cr or \\end",u.nextToken)}return u.gullet.endGroup(),u.gullet.endGroup(),{type:"array",mode:u.mode,addJot:w,arraystretch:V,body:Ye,cols:I,rowGaps:je,hskipBeforeAndAfter:v,hLinesBeforeRow:gt,colSeparationType:G,tags:mt,leqno:pe}}function zo(u){return u.slice(0,1)==="d"?"display":"text"}const Rr=function(u,c){let m,v;const w=u.body.length,I=u.hLinesBeforeRow;let V=0,G=new Array(w);const Q=[],ie=Math.max(c.fontMetrics().arrayRuleWidth,c.minRuleThickness),ce=1/c.fontMetrics().ptPerEm;let ue=5*ce;u.colSeparationType&&u.colSeparationType==="small"&&(ue=.2778*(c.havingStyle(Fe.SCRIPT).sizeMultiplier/c.sizeMultiplier));const pe=u.colSeparationType==="CD"?Ut({number:3,unit:"ex"},c):12*ce,be=3*ce,Ye=u.arraystretch*pe,je=.7*Ye,gt=.3*Ye;let mt=0;function vt(bt){for(let It=0;It<bt.length;++It)It>0&&(mt+=.25),Q.push({pos:mt,isDashed:bt[It]})}for(vt(I[0]),m=0;m<u.body.length;++m){const bt=u.body[m];let It=je,Ht=gt;V<bt.length&&(V=bt.length);const Qt=new Array(bt.length);for(v=0;v<bt.length;++v){const Ar=xt(bt[v],c);Ht<Ar.depth&&(Ht=Ar.depth),It<Ar.height&&(It=Ar.height),Qt[v]=Ar}const li=u.rowGaps[m];let ii=0;li&&(ii=Ut(li,c),ii>0&&(ii+=gt,Ht<ii&&(Ht=ii),ii=0)),u.addJot&&(Ht+=be),Qt.height=It,Qt.depth=Ht,mt+=It,Qt.pos=mt,mt+=Ht+ii,G[m]=Qt,vt(I[m+1])}const Mt=mt/2+c.fontMetrics().axisHeight,zt=u.cols||[],Ni=[];let xi,vr;const hs=[];if(u.tags&&u.tags.some(bt=>bt))for(m=0;m<w;++m){const bt=G[m],It=bt.pos-Mt,Ht=u.tags[m];let Qt;Ht===!0?Qt=de.makeSpan(["eqn-num"],[],c):Ht===!1?Qt=de.makeSpan([],[],c):Qt=de.makeSpan([],Ai(Ht,c,!0),c),Qt.depth=bt.depth,Qt.height=bt.height,hs.push({type:"elem",elem:Qt,shift:It})}for(v=0,vr=0;v<V||vr<zt.length;++v,++vr){let bt=zt[vr]||{},It=!0;for(;bt.type==="separator";){if(It||(xi=de.makeSpan(["arraycolsep"],[]),xi.style.width=Ce(c.fontMetrics().doubleRuleSep),Ni.push(xi)),bt.separator==="|"||bt.separator===":"){const li=bt.separator==="|"?"solid":"dashed",ii=de.makeSpan(["vertical-separator"],[],c);ii.style.height=Ce(mt),ii.style.borderRightWidth=Ce(ie),ii.style.borderRightStyle=li,ii.style.margin="0 "+Ce(-ie/2);const Ar=mt-Mt;Ar&&(ii.style.verticalAlign=Ce(-Ar)),Ni.push(ii)}else throw new n("Invalid separator type: "+bt.separator);vr++,bt=zt[vr]||{},It=!1}if(v>=V)continue;let Ht;(v>0||u.hskipBeforeAndAfter)&&(Ht=b.deflt(bt.pregap,ue),Ht!==0&&(xi=de.makeSpan(["arraycolsep"],[]),xi.style.width=Ce(Ht),Ni.push(xi)));let Qt=[];for(m=0;m<w;++m){const li=G[m],ii=li[v];if(!ii)continue;const Ar=li.pos-Mt;ii.depth=li.depth,ii.height=li.height,Qt.push({type:"elem",elem:ii,shift:Ar})}Qt=de.makeVList({positionType:"individualShift",children:Qt},c),Qt=de.makeSpan(["col-align-"+(bt.align||"c")],[Qt]),Ni.push(Qt),(v<V-1||u.hskipBeforeAndAfter)&&(Ht=b.deflt(bt.postgap,ue),Ht!==0&&(xi=de.makeSpan(["arraycolsep"],[]),xi.style.width=Ce(Ht),Ni.push(xi)))}if(G=de.makeSpan(["mtable"],Ni),Q.length>0){const bt=de.makeLineSpan("hline",c,ie),It=de.makeLineSpan("hdashline",c,ie),Ht=[{type:"elem",elem:G,shift:0}];for(;Q.length>0;){const Qt=Q.pop(),li=Qt.pos-Mt;Qt.isDashed?Ht.push({type:"elem",elem:It,shift:li}):Ht.push({type:"elem",elem:bt,shift:li})}G=de.makeVList({positionType:"individualShift",children:Ht},c)}if(hs.length===0)return de.makeSpan(["mord"],[G],c);{let bt=de.makeVList({positionType:"individualShift",children:hs},c);return bt=de.makeSpan(["tag"],[bt],c),de.makeFragment([G,bt])}},Xm={c:"center ",l:"left ",r:"right "},Vr=function(u,c){const m=[],v=new De.MathNode("mtd",[],["mtr-glue"]),w=new De.MathNode("mtd",[],["mml-eqn-num"]);for(let ue=0;ue<u.body.length;ue++){const pe=u.body[ue],be=[];for(let Ye=0;Ye<pe.length;Ye++)be.push(new De.MathNode("mtd",[Ft(pe[Ye],c)]));u.tags&&u.tags[ue]&&(be.unshift(v),be.push(v),u.leqno?be.unshift(w):be.push(w)),m.push(new De.MathNode("mtr",be))}let I=new De.MathNode("mtable",m);const V=u.arraystretch===.5?.1:.16+u.arraystretch-1+(u.addJot?.09:0);I.setAttribute("rowspacing",Ce(V));let G="",Q="";if(u.cols&&u.cols.length>0){const ue=u.cols;let pe="",be=!1,Ye=0,je=ue.length;ue[0].type==="separator"&&(G+="top ",Ye=1),ue[ue.length-1].type==="separator"&&(G+="bottom ",je-=1);for(let gt=Ye;gt<je;gt++)ue[gt].type==="align"?(Q+=Xm[ue[gt].align],be&&(pe+="none "),be=!0):ue[gt].type==="separator"&&be&&(pe+=ue[gt].separator==="|"?"solid ":"dashed ",be=!1);I.setAttribute("columnalign",Q.trim()),/[sd]/.test(pe)&&I.setAttribute("columnlines",pe.trim())}if(u.colSeparationType==="align"){const ue=u.cols||[];let pe="";for(let be=1;be<ue.length;be++)pe+=be%2?"0em ":"1em ";I.setAttribute("columnspacing",pe.trim())}else u.colSeparationType==="alignat"||u.colSeparationType==="gather"?I.setAttribute("columnspacing","0em"):u.colSeparationType==="small"?I.setAttribute("columnspacing","0.2778em"):u.colSeparationType==="CD"?I.setAttribute("columnspacing","0.5em"):I.setAttribute("columnspacing","1em");let ie="";const ce=u.hLinesBeforeRow;G+=ce[0].length>0?"left ":"",G+=ce[ce.length-1].length>0?"right ":"";for(let ue=1;ue<ce.length-1;ue++)ie+=ce[ue].length===0?"none ":ce[ue][0]?"dashed ":"solid ";return/[sd]/.test(ie)&&I.setAttribute("rowlines",ie.trim()),G!==""&&(I=new De.MathNode("menclose",[I]),I.setAttribute("notation",G.trim())),u.arraystretch&&u.arraystretch<1&&(I=new De.MathNode("mstyle",[I]),I.setAttribute("scriptlevel","1")),I},jc=function(u,c){u.envName.indexOf("ed")===-1&&Pn(u);const m=[],v=u.envName.indexOf("at")>-1?"alignat":"align",w=u.envName==="split",I=w0(u.parser,{cols:m,addJot:!0,autoTag:w?void 0:Uo(u.envName),emptySingleRow:!0,colSeparationType:v,maxNumCols:w?2:void 0,leqno:u.parser.settings.leqno},"display");let V,G=0;const Q={type:"ordgroup",mode:u.mode,body:[]};if(c[0]&&c[0].type==="ordgroup"){let ce="";for(let ue=0;ue<c[0].body.length;ue++){const pe=ht(c[0].body[ue],"textord");ce+=pe.text}V=Number(ce),G=V*2}const ie=!G;I.body.forEach(function(ce){for(let ue=1;ue<ce.length;ue+=2){const pe=ht(ce[ue],"styling");ht(pe.body[0],"ordgroup").body.unshift(Q)}if(ie)G<ce.length&&(G=ce.length);else{const ue=ce.length/2;if(V<ue)throw new n("Too many math in a row: "+("expected "+V+", but got "+ue),ce[0])}});for(let ce=0;ce<G;++ce){let ue="r",pe=0;ce%2===1?ue="l":ce>0&&ie&&(pe=1),m[ce]={type:"align",align:ue,pregap:pe,postgap:0}}return I.colSeparationType=ie?"align":"alignat",I};Nr({type:"array",names:["array","darray"],props:{numArgs:1},handler(u,c){const w=(Nn(c[0])?[c[0]]:ht(c[0],"ordgroup").body).map(function(V){const Q=Mo(V).text;if("lcr".indexOf(Q)!==-1)return{type:"align",align:Q};if(Q==="|")return{type:"separator",separator:"|"};if(Q===":")return{type:"separator",separator:":"};throw new n("Unknown column alignment: "+Q,V)}),I={cols:w,hskipBeforeAndAfter:!0,maxNumCols:w.length};return w0(u.parser,I,zo(u.envName))},htmlBuilder:Rr,mathmlBuilder:Vr}),Nr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(u){const c={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[u.envName.replace("*","")];let m="c";const v={hskipBeforeAndAfter:!1,cols:[{type:"align",align:m}]};if(u.envName.charAt(u.envName.length-1)==="*"){const V=u.parser;if(V.consumeSpaces(),V.fetch().text==="["){if(V.consume(),V.consumeSpaces(),m=V.fetch().text,"lcr".indexOf(m)===-1)throw new n("Expected l or c or r",V.nextToken);V.consume(),V.consumeSpaces(),V.expect("]"),V.consume(),v.cols=[{type:"align",align:m}]}}const w=w0(u.parser,v,zo(u.envName)),I=Math.max(0,...w.body.map(V=>V.length));return w.cols=new Array(I).fill({type:"align",align:m}),c?{type:"leftright",mode:u.mode,body:[w],left:c[0],right:c[1],rightColor:void 0}:w},htmlBuilder:Rr,mathmlBuilder:Vr}),Nr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(u){const c={arraystretch:.5},m=w0(u.parser,c,"script");return m.colSeparationType="small",m},htmlBuilder:Rr,mathmlBuilder:Vr}),Nr({type:"array",names:["subarray"],props:{numArgs:1},handler(u,c){const w=(Nn(c[0])?[c[0]]:ht(c[0],"ordgroup").body).map(function(V){const Q=Mo(V).text;if("lc".indexOf(Q)!==-1)return{type:"align",align:Q};throw new n("Unknown column alignment: "+Q,V)});if(w.length>1)throw new n("{subarray} can contain only one column");let I={cols:w,hskipBeforeAndAfter:!1,arraystretch:.5};if(I=w0(u.parser,I,"script"),I.body.length>0&&I.body[0].length>1)throw new n("{subarray} can contain only one column");return I},htmlBuilder:Rr,mathmlBuilder:Vr}),Nr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(u){const c={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},m=w0(u.parser,c,zo(u.envName));return{type:"leftright",mode:u.mode,body:[m],left:u.envName.indexOf("r")>-1?".":"\\{",right:u.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Rr,mathmlBuilder:Vr}),Nr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:jc,htmlBuilder:Rr,mathmlBuilder:Vr}),Nr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(u){b.contains(["gather","gather*"],u.envName)&&Pn(u);const c={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Uo(u.envName),emptySingleRow:!0,leqno:u.parser.settings.leqno};return w0(u.parser,c,"display")},htmlBuilder:Rr,mathmlBuilder:Vr}),Nr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:jc,htmlBuilder:Rr,mathmlBuilder:Vr}),Nr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(u){Pn(u);const c={autoTag:Uo(u.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:u.parser.settings.leqno};return w0(u.parser,c,"display")},htmlBuilder:Rr,mathmlBuilder:Vr}),Nr({type:"array",names:["CD"],props:{numArgs:0},handler(u){return Pn(u),Vm(u.parser)},htmlBuilder:Rr,mathmlBuilder:Vr}),Y("\\nonumber","\\gdef\\@eqnsw{0}"),Y("\\notag","\\nonumber"),Pe({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(u,c){throw new n(u.funcName+" valid only within array environment")}});var Xc=Yc;Pe({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(u,c){let{parser:m,funcName:v}=u;const w=c[0];if(w.type!=="ordgroup")throw new n("Invalid environment name",w);let I="";for(let V=0;V<w.body.length;++V)I+=ht(w.body[V],"textord").text;if(v==="\\begin"){if(!Xc.hasOwnProperty(I))throw new n("No such environment: "+I,w);const V=Xc[I],{args:G,optArgs:Q}=m.parseArguments("\\begin{"+I+"}",V),ie={mode:m.mode,envName:I,parser:m},ce=V.handler(ie,G,Q);m.expect("\\end",!1);const ue=m.nextToken,pe=ht(m.parseFunction(),"environment");if(pe.name!==I)throw new n("Mismatch: \\begin{"+I+"} matched by \\end{"+pe.name+"}",ue);return ce}return{type:"environment",mode:m.mode,name:I,nameGroup:w}}});const Qc=(u,c)=>{const m=u.font,v=c.withFont(m);return xt(u.body,v)},Zc=(u,c)=>{const m=u.font,v=c.withFont(m);return Ft(u.body,v)},Jc={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Pe({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(u,c)=>{let{parser:m,funcName:v}=u;const w=Fn(c[0]);let I=v;return I in Jc&&(I=Jc[I]),{type:"font",mode:m.mode,font:I.slice(1),body:w}},htmlBuilder:Qc,mathmlBuilder:Zc}),Pe({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(u,c)=>{let{parser:m}=u;const v=c[0],w=b.isCharacterBox(v);return{type:"mclass",mode:m.mode,mclass:Vn(v),body:[{type:"font",mode:m.mode,font:"boldsymbol",body:v}],isCharacterBox:w}}}),Pe({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(u,c)=>{let{parser:m,funcName:v,breakOnTokenText:w}=u;const{mode:I}=m,V=m.parseExpression(!0,w),G="math"+v.slice(1);return{type:"font",mode:I,font:G,body:{type:"ordgroup",mode:m.mode,body:V}}},htmlBuilder:Qc,mathmlBuilder:Zc});const _c=(u,c)=>{let m=c;return u==="display"?m=m.id>=Fe.SCRIPT.id?m.text():Fe.DISPLAY:u==="text"&&m.size===Fe.DISPLAY.size?m=Fe.TEXT:u==="script"?m=Fe.SCRIPT:u==="scriptscript"&&(m=Fe.SCRIPTSCRIPT),m},Po=(u,c)=>{const m=_c(u.size,c.style),v=m.fracNum(),w=m.fracDen();let I;I=c.havingStyle(v);const V=xt(u.numer,I,c);if(u.continued){const vt=8.5/c.fontMetrics().ptPerEm,Mt=3.5/c.fontMetrics().ptPerEm;V.height=V.height<vt?vt:V.height,V.depth=V.depth<Mt?Mt:V.depth}I=c.havingStyle(w);const G=xt(u.denom,I,c);let Q,ie,ce;u.hasBarLine?(u.barSize?(ie=Ut(u.barSize,c),Q=de.makeLineSpan("frac-line",c,ie)):Q=de.makeLineSpan("frac-line",c),ie=Q.height,ce=Q.height):(Q=null,ie=0,ce=c.fontMetrics().defaultRuleThickness);let ue,pe,be;m.size===Fe.DISPLAY.size||u.size==="display"?(ue=c.fontMetrics().num1,ie>0?pe=3*ce:pe=7*ce,be=c.fontMetrics().denom1):(ie>0?(ue=c.fontMetrics().num2,pe=ce):(ue=c.fontMetrics().num3,pe=3*ce),be=c.fontMetrics().denom2);let Ye;if(Q){const vt=c.fontMetrics().axisHeight;ue-V.depth-(vt+.5*ie)<pe&&(ue+=pe-(ue-V.depth-(vt+.5*ie))),vt-.5*ie-(G.height-be)<pe&&(be+=pe-(vt-.5*ie-(G.height-be)));const Mt=-(vt-.5*ie);Ye=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:G,shift:be},{type:"elem",elem:Q,shift:Mt},{type:"elem",elem:V,shift:-ue}]},c)}else{const vt=ue-V.depth-(G.height-be);vt<pe&&(ue+=.5*(pe-vt),be+=.5*(pe-vt)),Ye=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:G,shift:be},{type:"elem",elem:V,shift:-ue}]},c)}I=c.havingStyle(m),Ye.height*=I.sizeMultiplier/c.sizeMultiplier,Ye.depth*=I.sizeMultiplier/c.sizeMultiplier;let je;m.size===Fe.DISPLAY.size?je=c.fontMetrics().delim1:m.size===Fe.SCRIPTSCRIPT.size?je=c.havingStyle(Fe.SCRIPT).fontMetrics().delim2:je=c.fontMetrics().delim2;let gt,mt;return u.leftDelim==null?gt=Us(c,["mopen"]):gt=i0.customSizedDelim(u.leftDelim,je,!0,c.havingStyle(m),u.mode,["mopen"]),u.continued?mt=de.makeSpan([]):u.rightDelim==null?mt=Us(c,["mclose"]):mt=i0.customSizedDelim(u.rightDelim,je,!0,c.havingStyle(m),u.mode,["mclose"]),de.makeSpan(["mord"].concat(I.sizingClasses(c)),[gt,de.makeSpan(["mfrac"],[Ye]),mt],c)},Lo=(u,c)=>{let m=new De.MathNode("mfrac",[Ft(u.numer,c),Ft(u.denom,c)]);if(!u.hasBarLine)m.setAttribute("linethickness","0px");else if(u.barSize){const w=Ut(u.barSize,c);m.setAttribute("linethickness",Ce(w))}const v=_c(u.size,c.style);if(v.size!==c.style.size){m=new De.MathNode("mstyle",[m]);const w=v.size===Fe.DISPLAY.size?"true":"false";m.setAttribute("displaystyle",w),m.setAttribute("scriptlevel","0")}if(u.leftDelim!=null||u.rightDelim!=null){const w=[];if(u.leftDelim!=null){const I=new De.MathNode("mo",[new De.TextNode(u.leftDelim.replace("\\",""))]);I.setAttribute("fence","true"),w.push(I)}if(w.push(m),u.rightDelim!=null){const I=new De.MathNode("mo",[new De.TextNode(u.rightDelim.replace("\\",""))]);I.setAttribute("fence","true"),w.push(I)}return yo(w)}return m};Pe({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(u,c)=>{let{parser:m,funcName:v}=u;const w=c[0],I=c[1];let V,G=null,Q=null,ie="auto";switch(v){case"\\dfrac":case"\\frac":case"\\tfrac":V=!0;break;case"\\\\atopfrac":V=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":V=!1,G="(",Q=")";break;case"\\\\bracefrac":V=!1,G="\\{",Q="\\}";break;case"\\\\brackfrac":V=!1,G="[",Q="]";break;default:throw new Error("Unrecognized genfrac command")}switch(v){case"\\dfrac":case"\\dbinom":ie="display";break;case"\\tfrac":case"\\tbinom":ie="text";break}return{type:"genfrac",mode:m.mode,continued:!1,numer:w,denom:I,hasBarLine:V,leftDelim:G,rightDelim:Q,size:ie,barSize:null}},htmlBuilder:Po,mathmlBuilder:Lo}),Pe({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(u,c)=>{let{parser:m,funcName:v}=u;const w=c[0],I=c[1];return{type:"genfrac",mode:m.mode,continued:!0,numer:w,denom:I,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),Pe({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(u){let{parser:c,funcName:m,token:v}=u,w;switch(m){case"\\over":w="\\frac";break;case"\\choose":w="\\binom";break;case"\\atop":w="\\\\atopfrac";break;case"\\brace":w="\\\\bracefrac";break;case"\\brack":w="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:c.mode,replaceWith:w,token:v}}});const $c=["display","text","script","scriptscript"],eh=function(u){let c=null;return u.length>0&&(c=u,c=c==="."?null:c),c};Pe({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(u,c){let{parser:m}=u;const v=c[4],w=c[5],I=Fn(c[0]),V=I.type==="atom"&&I.family==="open"?eh(I.text):null,G=Fn(c[1]),Q=G.type==="atom"&&G.family==="close"?eh(G.text):null,ie=ht(c[2],"size");let ce,ue=null;ie.isBlank?ce=!0:(ue=ie.value,ce=ue.number>0);let pe="auto",be=c[3];if(be.type==="ordgroup"){if(be.body.length>0){const Ye=ht(be.body[0],"textord");pe=$c[Number(Ye.text)]}}else be=ht(be,"textord"),pe=$c[Number(be.text)];return{type:"genfrac",mode:m.mode,numer:v,denom:w,continued:!1,hasBarLine:ce,barSize:ue,leftDelim:V,rightDelim:Q,size:pe}},htmlBuilder:Po,mathmlBuilder:Lo}),Pe({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(u,c){let{parser:m,funcName:v,token:w}=u;return{type:"infix",mode:m.mode,replaceWith:"\\\\abovefrac",size:ht(c[0],"size").value,token:w}}}),Pe({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(u,c)=>{let{parser:m,funcName:v}=u;const w=c[0],I=x(ht(c[1],"infix").size),V=c[2],G=I.number>0;return{type:"genfrac",mode:m.mode,numer:w,denom:V,continued:!1,hasBarLine:G,barSize:I,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Po,mathmlBuilder:Lo});const th=(u,c)=>{const m=c.style;let v,w;u.type==="supsub"?(v=u.sup?xt(u.sup,c.havingStyle(m.sup()),c):xt(u.sub,c.havingStyle(m.sub()),c),w=ht(u.base,"horizBrace")):w=ht(u,"horizBrace");const I=xt(w.base,c.havingBaseStyle(Fe.DISPLAY)),V=t0.svgSpan(w,c);let G;if(w.isOver?(G=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:I},{type:"kern",size:.1},{type:"elem",elem:V}]},c),G.children[0].children[0].children[1].classes.push("svg-align")):(G=de.makeVList({positionType:"bottom",positionData:I.depth+.1+V.height,children:[{type:"elem",elem:V},{type:"kern",size:.1},{type:"elem",elem:I}]},c),G.children[0].children[0].children[0].classes.push("svg-align")),v){const Q=de.makeSpan(["mord",w.isOver?"mover":"munder"],[G],c);w.isOver?G=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:Q},{type:"kern",size:.2},{type:"elem",elem:v}]},c):G=de.makeVList({positionType:"bottom",positionData:Q.depth+.2+v.height+v.depth,children:[{type:"elem",elem:v},{type:"kern",size:.2},{type:"elem",elem:Q}]},c)}return de.makeSpan(["mord",w.isOver?"mover":"munder"],[G],c)};Pe({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(u,c){let{parser:m,funcName:v}=u;return{type:"horizBrace",mode:m.mode,label:v,isOver:/^\\over/.test(v),base:c[0]}},htmlBuilder:th,mathmlBuilder:(u,c)=>{const m=t0.mathMLnode(u.label);return new De.MathNode(u.isOver?"mover":"munder",[Ft(u.base,c),m])}}),Pe({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(u,c)=>{let{parser:m}=u;const v=c[1],w=ht(c[0],"url").url;return m.settings.isTrusted({command:"\\href",url:w})?{type:"href",mode:m.mode,href:w,body:ui(v)}:m.formatUnsupportedCmd("\\href")},htmlBuilder:(u,c)=>{const m=Ai(u.body,c,!1);return de.makeAnchor(u.href,[],m,c)},mathmlBuilder:(u,c)=>{let m=y0(u.body,c);return m instanceof ir||(m=new ir("mrow",[m])),m.setAttribute("href",u.href),m}}),Pe({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(u,c)=>{let{parser:m}=u;const v=ht(c[0],"url").url;if(!m.settings.isTrusted({command:"\\url",url:v}))return m.formatUnsupportedCmd("\\url");const w=[];for(let V=0;V<v.length;V++){let G=v[V];G==="~"&&(G="\\textasciitilde"),w.push({type:"textord",mode:"text",text:G})}const I={type:"text",mode:m.mode,font:"\\texttt",body:w};return{type:"href",mode:m.mode,href:v,body:ui(I)}}}),Pe({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(u,c){let{parser:m}=u;return{type:"hbox",mode:m.mode,body:ui(c[0])}},htmlBuilder(u,c){const m=Ai(u.body,c,!1);return de.makeFragment(m)},mathmlBuilder(u,c){return new De.MathNode("mrow",ji(u.body,c))}}),Pe({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(u,c)=>{let{parser:m,funcName:v,token:w}=u;const I=ht(c[0],"raw").string,V=c[1];m.settings.strict&&m.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");let G;const Q={};switch(v){case"\\htmlClass":Q.class=I,G={command:"\\htmlClass",class:I};break;case"\\htmlId":Q.id=I,G={command:"\\htmlId",id:I};break;case"\\htmlStyle":Q.style=I,G={command:"\\htmlStyle",style:I};break;case"\\htmlData":{const ie=I.split(",");for(let ce=0;ce<ie.length;ce++){const ue=ie[ce].split("=");if(ue.length!==2)throw new n("Error parsing key-value for \\htmlData");Q["data-"+ue[0].trim()]=ue[1].trim()}G={command:"\\htmlData",attributes:Q};break}default:throw new Error("Unrecognized html command")}return m.settings.isTrusted(G)?{type:"html",mode:m.mode,attributes:Q,body:ui(V)}:m.formatUnsupportedCmd(v)},htmlBuilder:(u,c)=>{const m=Ai(u.body,c,!1),v=["enclosing"];u.attributes.class&&v.push(...u.attributes.class.trim().split(/\s+/));const w=de.makeSpan(v,m,c);for(const I in u.attributes)I!=="class"&&u.attributes.hasOwnProperty(I)&&w.setAttribute(I,u.attributes[I]);return w},mathmlBuilder:(u,c)=>y0(u.body,c)}),Pe({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(u,c)=>{let{parser:m}=u;return{type:"htmlmathml",mode:m.mode,html:ui(c[0]),mathml:ui(c[1])}},htmlBuilder:(u,c)=>{const m=Ai(u.html,c,!1);return de.makeFragment(m)},mathmlBuilder:(u,c)=>y0(u.mathml,c)});const Oo=function(u){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(u))return{number:+u,unit:"bp"};{const c=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(u);if(!c)throw new n("Invalid size: '"+u+"' in \\includegraphics");const m={number:+(c[1]+c[2]),unit:c[3]};if(!x0(m))throw new n("Invalid unit: '"+m.unit+"' in \\includegraphics.");return m}};Pe({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(u,c,m)=>{let{parser:v}=u,w={number:0,unit:"em"},I={number:.9,unit:"em"},V={number:0,unit:"em"},G="";if(m[0]){const ce=ht(m[0],"raw").string.split(",");for(let ue=0;ue<ce.length;ue++){const pe=ce[ue].split("=");if(pe.length===2){const be=pe[1].trim();switch(pe[0].trim()){case"alt":G=be;break;case"width":w=Oo(be);break;case"height":I=Oo(be);break;case"totalheight":V=Oo(be);break;default:throw new n("Invalid key: '"+pe[0]+"' in \\includegraphics.")}}}}const Q=ht(c[0],"url").url;return G===""&&(G=Q,G=G.replace(/^.*[\\/]/,""),G=G.substring(0,G.lastIndexOf("."))),v.settings.isTrusted({command:"\\includegraphics",url:Q})?{type:"includegraphics",mode:v.mode,alt:G,width:w,height:I,totalheight:V,src:Q}:v.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(u,c)=>{const m=Ut(u.height,c);let v=0;u.totalheight.number>0&&(v=Ut(u.totalheight,c)-m);let w=0;u.width.number>0&&(w=Ut(u.width,c));const I={height:Ce(m+v)};w>0&&(I.width=Ce(w)),v>0&&(I.verticalAlign=Ce(-v));const V=new em(u.src,u.alt,I);return V.height=m,V.depth=v,V},mathmlBuilder:(u,c)=>{const m=new De.MathNode("mglyph",[]);m.setAttribute("alt",u.alt);const v=Ut(u.height,c);let w=0;if(u.totalheight.number>0&&(w=Ut(u.totalheight,c)-v,m.setAttribute("valign",Ce(-w))),m.setAttribute("height",Ce(v+w)),u.width.number>0){const I=Ut(u.width,c);m.setAttribute("width",Ce(I))}return m.setAttribute("src",u.src),m}}),Pe({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(u,c){let{parser:m,funcName:v}=u;const w=ht(c[0],"size");if(m.settings.strict){const I=v[1]==="m",V=w.value.unit==="mu";I?(V||m.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+v+" supports only mu units, "+("not "+w.value.unit+" units")),m.mode!=="math"&&m.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+v+" works only in math mode")):V&&m.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+v+" doesn't support mu units")}return{type:"kern",mode:m.mode,dimension:w.value}},htmlBuilder(u,c){return de.makeGlue(u.dimension,c)},mathmlBuilder(u,c){const m=Ut(u.dimension,c);return new De.SpaceNode(m)}}),Pe({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(u,c)=>{let{parser:m,funcName:v}=u;const w=c[0];return{type:"lap",mode:m.mode,alignment:v.slice(5),body:w}},htmlBuilder:(u,c)=>{let m;u.alignment==="clap"?(m=de.makeSpan([],[xt(u.body,c)]),m=de.makeSpan(["inner"],[m],c)):m=de.makeSpan(["inner"],[xt(u.body,c)]);const v=de.makeSpan(["fix"],[]);let w=de.makeSpan([u.alignment],[m,v],c);const I=de.makeSpan(["strut"]);return I.style.height=Ce(w.height+w.depth),w.depth&&(I.style.verticalAlign=Ce(-w.depth)),w.children.unshift(I),w=de.makeSpan(["thinbox"],[w],c),de.makeSpan(["mord","vbox"],[w],c)},mathmlBuilder:(u,c)=>{const m=new De.MathNode("mpadded",[Ft(u.body,c)]);if(u.alignment!=="rlap"){const v=u.alignment==="llap"?"-1":"-0.5";m.setAttribute("lspace",v+"width")}return m.setAttribute("width","0px"),m}}),Pe({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(u,c){let{funcName:m,parser:v}=u;const w=v.mode;v.switchMode("math");const I=m==="\\("?"\\)":"$",V=v.parseExpression(!1,I);return v.expect(I),v.switchMode(w),{type:"styling",mode:v.mode,style:"text",body:V}}}),Pe({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(u,c){throw new n("Mismatched "+u.funcName)}});const ih=(u,c)=>{switch(c.style.size){case Fe.DISPLAY.size:return u.display;case Fe.TEXT.size:return u.text;case Fe.SCRIPT.size:return u.script;case Fe.SCRIPTSCRIPT.size:return u.scriptscript;default:return u.text}};Pe({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(u,c)=>{let{parser:m}=u;return{type:"mathchoice",mode:m.mode,display:ui(c[0]),text:ui(c[1]),script:ui(c[2]),scriptscript:ui(c[3])}},htmlBuilder:(u,c)=>{const m=ih(u,c),v=Ai(m,c,!1);return de.makeFragment(v)},mathmlBuilder:(u,c)=>{const m=ih(u,c);return y0(m,c)}});const rh=(u,c,m,v,w,I,V)=>{u=de.makeSpan([],[u]);const G=m&&b.isCharacterBox(m);let Q,ie;if(c){const pe=xt(c,v.havingStyle(w.sup()),v);ie={elem:pe,kern:Math.max(v.fontMetrics().bigOpSpacing1,v.fontMetrics().bigOpSpacing3-pe.depth)}}if(m){const pe=xt(m,v.havingStyle(w.sub()),v);Q={elem:pe,kern:Math.max(v.fontMetrics().bigOpSpacing2,v.fontMetrics().bigOpSpacing4-pe.height)}}let ce;if(ie&&Q){const pe=v.fontMetrics().bigOpSpacing5+Q.elem.height+Q.elem.depth+Q.kern+u.depth+V;ce=de.makeVList({positionType:"bottom",positionData:pe,children:[{type:"kern",size:v.fontMetrics().bigOpSpacing5},{type:"elem",elem:Q.elem,marginLeft:Ce(-I)},{type:"kern",size:Q.kern},{type:"elem",elem:u},{type:"kern",size:ie.kern},{type:"elem",elem:ie.elem,marginLeft:Ce(I)},{type:"kern",size:v.fontMetrics().bigOpSpacing5}]},v)}else if(Q){const pe=u.height-V;ce=de.makeVList({positionType:"top",positionData:pe,children:[{type:"kern",size:v.fontMetrics().bigOpSpacing5},{type:"elem",elem:Q.elem,marginLeft:Ce(-I)},{type:"kern",size:Q.kern},{type:"elem",elem:u}]},v)}else if(ie){const pe=u.depth+V;ce=de.makeVList({positionType:"bottom",positionData:pe,children:[{type:"elem",elem:u},{type:"kern",size:ie.kern},{type:"elem",elem:ie.elem,marginLeft:Ce(I)},{type:"kern",size:v.fontMetrics().bigOpSpacing5}]},v)}else return u;const ue=[ce];if(Q&&I!==0&&!G){const pe=de.makeSpan(["mspace"],[],v);pe.style.marginRight=Ce(I),ue.unshift(pe)}return de.makeSpan(["mop","op-limits"],ue,v)},sh=["\\smallint"],cs=(u,c)=>{let m,v,w=!1,I;u.type==="supsub"?(m=u.sup,v=u.sub,I=ht(u.base,"op"),w=!0):I=ht(u,"op");const V=c.style;let G=!1;V.size===Fe.DISPLAY.size&&I.symbol&&!b.contains(sh,I.name)&&(G=!0);let Q;if(I.symbol){const ue=G?"Size2-Regular":"Size1-Regular";let pe="";if((I.name==="\\oiint"||I.name==="\\oiiint")&&(pe=I.name.slice(1),I.name=pe==="oiint"?"\\iint":"\\iiint"),Q=de.makeSymbol(I.name,ue,"math",c,["mop","op-symbol",G?"large-op":"small-op"]),pe.length>0){const be=Q.italic,Ye=de.staticSvg(pe+"Size"+(G?"2":"1"),c);Q=de.makeVList({positionType:"individualShift",children:[{type:"elem",elem:Q,shift:0},{type:"elem",elem:Ye,shift:G?.08:0}]},c),I.name="\\"+pe,Q.classes.unshift("mop"),Q.italic=be}}else if(I.body){const ue=Ai(I.body,c,!0);ue.length===1&&ue[0]instanceof fr?(Q=ue[0],Q.classes[0]="mop"):Q=de.makeSpan(["mop"],ue,c)}else{const ue=[];for(let pe=1;pe<I.name.length;pe++)ue.push(de.mathsym(I.name[pe],I.mode,c));Q=de.makeSpan(["mop"],ue,c)}let ie=0,ce=0;return(Q instanceof fr||I.name==="\\oiint"||I.name==="\\oiiint")&&!I.suppressBaseShift&&(ie=(Q.height-Q.depth)/2-c.fontMetrics().axisHeight,ce=Q.italic),w?rh(Q,m,v,c,V,ce,ie):(ie&&(Q.style.position="relative",Q.style.top=Ce(ie)),Q)},Ls=(u,c)=>{let m;if(u.symbol)m=new ir("mo",[pr(u.name,u.mode)]),b.contains(sh,u.name)&&m.setAttribute("largeop","false");else if(u.body)m=new ir("mo",ji(u.body,c));else{m=new ir("mi",[new Br(u.name.slice(1))]);const v=new ir("mo",[pr("⁡","text")]);u.parentIsSupSub?m=new ir("mrow",[m,v]):m=yc([m,v])}return m},Qm={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Pe({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(u,c)=>{let{parser:m,funcName:v}=u,w=v;return w.length===1&&(w=Qm[w]),{type:"op",mode:m.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:w}},htmlBuilder:cs,mathmlBuilder:Ls}),Pe({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(u,c)=>{let{parser:m}=u;const v=c[0];return{type:"op",mode:m.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ui(v)}},htmlBuilder:cs,mathmlBuilder:Ls});const Zm={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Pe({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(u){let{parser:c,funcName:m}=u;return{type:"op",mode:c.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:m}},htmlBuilder:cs,mathmlBuilder:Ls}),Pe({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(u){let{parser:c,funcName:m}=u;return{type:"op",mode:c.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:m}},htmlBuilder:cs,mathmlBuilder:Ls}),Pe({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(u){let{parser:c,funcName:m}=u,v=m;return v.length===1&&(v=Zm[v]),{type:"op",mode:c.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:v}},htmlBuilder:cs,mathmlBuilder:Ls});const nh=(u,c)=>{let m,v,w=!1,I;u.type==="supsub"?(m=u.sup,v=u.sub,I=ht(u.base,"operatorname"),w=!0):I=ht(u,"operatorname");let V;if(I.body.length>0){const G=I.body.map(ie=>{const ce=ie.text;return typeof ce=="string"?{type:"textord",mode:ie.mode,text:ce}:ie}),Q=Ai(G,c.withFont("mathrm"),!0);for(let ie=0;ie<Q.length;ie++){const ce=Q[ie];ce instanceof fr&&(ce.text=ce.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}V=de.makeSpan(["mop"],Q,c)}else V=de.makeSpan(["mop"],[],c);return w?rh(V,m,v,c,c.style,0,0):V};Pe({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(u,c)=>{let{parser:m,funcName:v}=u;const w=c[0];return{type:"operatorname",mode:m.mode,body:ui(w),alwaysHandleSupSub:v==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:nh,mathmlBuilder:(u,c)=>{let m=ji(u.body,c.withFont("mathrm")),v=!0;for(let V=0;V<m.length;V++){const G=m[V];if(!(G instanceof De.SpaceNode))if(G instanceof De.MathNode)switch(G.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const Q=G.children[0];G.children.length===1&&Q instanceof De.TextNode?Q.text=Q.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):v=!1;break}default:v=!1}else v=!1}if(v){const V=m.map(G=>G.toText()).join("");m=[new De.TextNode(V)]}const w=new De.MathNode("mi",m);w.setAttribute("mathvariant","normal");const I=new De.MathNode("mo",[pr("⁡","text")]);return u.parentIsSupSub?new De.MathNode("mrow",[w,I]):De.newDocumentFragment([w,I])}}),Y("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),K0({type:"ordgroup",htmlBuilder(u,c){return u.semisimple?de.makeFragment(Ai(u.body,c,!1)):de.makeSpan(["mord"],Ai(u.body,c,!0),c)},mathmlBuilder(u,c){return y0(u.body,c,!0)}}),Pe({type:"overline",names:["\\overline"],props:{numArgs:1},handler(u,c){let{parser:m}=u;const v=c[0];return{type:"overline",mode:m.mode,body:v}},htmlBuilder(u,c){const m=xt(u.body,c.havingCrampedStyle()),v=de.makeLineSpan("overline-line",c),w=c.fontMetrics().defaultRuleThickness,I=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:m},{type:"kern",size:3*w},{type:"elem",elem:v},{type:"kern",size:w}]},c);return de.makeSpan(["mord","overline"],[I],c)},mathmlBuilder(u,c){const m=new De.MathNode("mo",[new De.TextNode("‾")]);m.setAttribute("stretchy","true");const v=new De.MathNode("mover",[Ft(u.body,c),m]);return v.setAttribute("accent","true"),v}}),Pe({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(u,c)=>{let{parser:m}=u;const v=c[0];return{type:"phantom",mode:m.mode,body:ui(v)}},htmlBuilder:(u,c)=>{const m=Ai(u.body,c.withPhantom(),!1);return de.makeFragment(m)},mathmlBuilder:(u,c)=>{const m=ji(u.body,c);return new De.MathNode("mphantom",m)}}),Pe({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(u,c)=>{let{parser:m}=u;const v=c[0];return{type:"hphantom",mode:m.mode,body:v}},htmlBuilder:(u,c)=>{let m=de.makeSpan([],[xt(u.body,c.withPhantom())]);if(m.height=0,m.depth=0,m.children)for(let v=0;v<m.children.length;v++)m.children[v].height=0,m.children[v].depth=0;return m=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:m}]},c),de.makeSpan(["mord"],[m],c)},mathmlBuilder:(u,c)=>{const m=ji(ui(u.body),c),v=new De.MathNode("mphantom",m),w=new De.MathNode("mpadded",[v]);return w.setAttribute("height","0px"),w.setAttribute("depth","0px"),w}}),Pe({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(u,c)=>{let{parser:m}=u;const v=c[0];return{type:"vphantom",mode:m.mode,body:v}},htmlBuilder:(u,c)=>{const m=de.makeSpan(["inner"],[xt(u.body,c.withPhantom())]),v=de.makeSpan(["fix"],[]);return de.makeSpan(["mord","rlap"],[m,v],c)},mathmlBuilder:(u,c)=>{const m=ji(ui(u.body),c),v=new De.MathNode("mphantom",m),w=new De.MathNode("mpadded",[v]);return w.setAttribute("width","0px"),w}}),Pe({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(u,c){let{parser:m}=u;const v=ht(c[0],"size").value,w=c[1];return{type:"raisebox",mode:m.mode,dy:v,body:w}},htmlBuilder(u,c){const m=xt(u.body,c),v=Ut(u.dy,c);return de.makeVList({positionType:"shift",positionData:-v,children:[{type:"elem",elem:m}]},c)},mathmlBuilder(u,c){const m=new De.MathNode("mpadded",[Ft(u.body,c)]),v=u.dy.number+u.dy.unit;return m.setAttribute("voffset",v),m}}),Pe({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(u){let{parser:c}=u;return{type:"internal",mode:c.mode}}}),Pe({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(u,c,m){let{parser:v}=u;const w=m[0],I=ht(c[0],"size"),V=ht(c[1],"size");return{type:"rule",mode:v.mode,shift:w&&ht(w,"size").value,width:I.value,height:V.value}},htmlBuilder(u,c){const m=de.makeSpan(["mord","rule"],[],c),v=Ut(u.width,c),w=Ut(u.height,c),I=u.shift?Ut(u.shift,c):0;return m.style.borderRightWidth=Ce(v),m.style.borderTopWidth=Ce(w),m.style.bottom=Ce(I),m.width=v,m.height=w+I,m.depth=-I,m.maxFontSize=w*1.125*c.sizeMultiplier,m},mathmlBuilder(u,c){const m=Ut(u.width,c),v=Ut(u.height,c),w=u.shift?Ut(u.shift,c):0,I=c.color&&c.getColor()||"black",V=new De.MathNode("mspace");V.setAttribute("mathbackground",I),V.setAttribute("width",Ce(m)),V.setAttribute("height",Ce(v));const G=new De.MathNode("mpadded",[V]);return w>=0?G.setAttribute("height",Ce(w)):(G.setAttribute("height",Ce(w)),G.setAttribute("depth",Ce(-w))),G.setAttribute("voffset",Ce(w)),G}});function ah(u,c,m){const v=Ai(u,c,!1),w=c.sizeMultiplier/m.sizeMultiplier;for(let I=0;I<v.length;I++){const V=v[I].classes.indexOf("sizing");V<0?Array.prototype.push.apply(v[I].classes,c.sizingClasses(m)):v[I].classes[V+1]==="reset-size"+c.size&&(v[I].classes[V+1]="reset-size"+m.size),v[I].height*=w,v[I].depth*=w}return de.makeFragment(v)}const oh=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];Pe({type:"sizing",names:oh,props:{numArgs:0,allowedInText:!0},handler:(u,c)=>{let{breakOnTokenText:m,funcName:v,parser:w}=u;const I=w.parseExpression(!1,m);return{type:"sizing",mode:w.mode,size:oh.indexOf(v)+1,body:I}},htmlBuilder:(u,c)=>{const m=c.havingSize(u.size);return ah(u.body,m,c)},mathmlBuilder:(u,c)=>{const m=c.havingSize(u.size),v=ji(u.body,m),w=new De.MathNode("mstyle",v);return w.setAttribute("mathsize",Ce(m.sizeMultiplier)),w}}),Pe({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(u,c,m)=>{let{parser:v}=u,w=!1,I=!1;const V=m[0]&&ht(m[0],"ordgroup");if(V){let Q="";for(let ie=0;ie<V.body.length;++ie)if(Q=V.body[ie].text,Q==="t")w=!0;else if(Q==="b")I=!0;else{w=!1,I=!1;break}}else w=!0,I=!0;const G=c[0];return{type:"smash",mode:v.mode,body:G,smashHeight:w,smashDepth:I}},htmlBuilder:(u,c)=>{const m=de.makeSpan([],[xt(u.body,c)]);if(!u.smashHeight&&!u.smashDepth)return m;if(u.smashHeight&&(m.height=0,m.children))for(let w=0;w<m.children.length;w++)m.children[w].height=0;if(u.smashDepth&&(m.depth=0,m.children))for(let w=0;w<m.children.length;w++)m.children[w].depth=0;const v=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:m}]},c);return de.makeSpan(["mord"],[v],c)},mathmlBuilder:(u,c)=>{const m=new De.MathNode("mpadded",[Ft(u.body,c)]);return u.smashHeight&&m.setAttribute("height","0px"),u.smashDepth&&m.setAttribute("depth","0px"),m}}),Pe({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(u,c,m){let{parser:v}=u;const w=m[0],I=c[0];return{type:"sqrt",mode:v.mode,body:I,index:w}},htmlBuilder(u,c){let m=xt(u.body,c.havingCrampedStyle());m.height===0&&(m.height=c.fontMetrics().xHeight),m=de.wrapFragment(m,c);const w=c.fontMetrics().defaultRuleThickness;let I=w;c.style.id<Fe.TEXT.id&&(I=c.fontMetrics().xHeight);let V=w+I/4;const G=m.height+m.depth+V+w,{span:Q,ruleWidth:ie,advanceWidth:ce}=i0.sqrtImage(G,c),ue=Q.height-ie;ue>m.height+m.depth+V&&(V=(V+ue-m.height-m.depth)/2);const pe=Q.height-m.height-V-ie;m.style.paddingLeft=Ce(ce);const be=de.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:m,wrapperClasses:["svg-align"]},{type:"kern",size:-(m.height+pe)},{type:"elem",elem:Q},{type:"kern",size:ie}]},c);if(u.index){const Ye=c.havingStyle(Fe.SCRIPTSCRIPT),je=xt(u.index,Ye,c),gt=.6*(be.height-be.depth),mt=de.makeVList({positionType:"shift",positionData:-gt,children:[{type:"elem",elem:je}]},c),vt=de.makeSpan(["root"],[mt]);return de.makeSpan(["mord","sqrt"],[vt,be],c)}else return de.makeSpan(["mord","sqrt"],[be],c)},mathmlBuilder(u,c){const{body:m,index:v}=u;return v?new De.MathNode("mroot",[Ft(m,c),Ft(v,c)]):new De.MathNode("msqrt",[Ft(m,c)])}});const lh={display:Fe.DISPLAY,text:Fe.TEXT,script:Fe.SCRIPT,scriptscript:Fe.SCRIPTSCRIPT};Pe({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(u,c){let{breakOnTokenText:m,funcName:v,parser:w}=u;const I=w.parseExpression(!0,m),V=v.slice(1,v.length-5);return{type:"styling",mode:w.mode,style:V,body:I}},htmlBuilder(u,c){const m=lh[u.style],v=c.havingStyle(m).withFont("");return ah(u.body,v,c)},mathmlBuilder(u,c){const m=lh[u.style],v=c.havingStyle(m),w=ji(u.body,v),I=new De.MathNode("mstyle",w),G={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[u.style];return I.setAttribute("scriptlevel",G[0]),I.setAttribute("displaystyle",G[1]),I}});const Jm=function(u,c){const m=u.base;return m?m.type==="op"?m.limits&&(c.style.size===Fe.DISPLAY.size||m.alwaysHandleSupSub)?cs:null:m.type==="operatorname"?m.alwaysHandleSupSub&&(c.style.size===Fe.DISPLAY.size||m.limits)?nh:null:m.type==="accent"?b.isCharacterBox(m.base)?Co:null:m.type==="horizBrace"&&!u.sub===m.isOver?th:null:null};K0({type:"supsub",htmlBuilder(u,c){const m=Jm(u,c);if(m)return m(u,c);const{base:v,sup:w,sub:I}=u,V=xt(v,c);let G,Q;const ie=c.fontMetrics();let ce=0,ue=0;const pe=v&&b.isCharacterBox(v);if(w){const Mt=c.havingStyle(c.style.sup());G=xt(w,Mt,c),pe||(ce=V.height-Mt.fontMetrics().supDrop*Mt.sizeMultiplier/c.sizeMultiplier)}if(I){const Mt=c.havingStyle(c.style.sub());Q=xt(I,Mt,c),pe||(ue=V.depth+Mt.fontMetrics().subDrop*Mt.sizeMultiplier/c.sizeMultiplier)}let be;c.style===Fe.DISPLAY?be=ie.sup1:c.style.cramped?be=ie.sup3:be=ie.sup2;const Ye=c.sizeMultiplier,je=Ce(.5/ie.ptPerEm/Ye);let gt=null;if(Q){const Mt=u.base&&u.base.type==="op"&&u.base.name&&(u.base.name==="\\oiint"||u.base.name==="\\oiiint");(V instanceof fr||Mt)&&(gt=Ce(-V.italic))}let mt;if(G&&Q){ce=Math.max(ce,be,G.depth+.25*ie.xHeight),ue=Math.max(ue,ie.sub2);const zt=4*ie.defaultRuleThickness;if(ce-G.depth-(Q.height-ue)<zt){ue=zt-(ce-G.depth)+Q.height;const xi=.8*ie.xHeight-(ce-G.depth);xi>0&&(ce+=xi,ue-=xi)}const Ni=[{type:"elem",elem:Q,shift:ue,marginRight:je,marginLeft:gt},{type:"elem",elem:G,shift:-ce,marginRight:je}];mt=de.makeVList({positionType:"individualShift",children:Ni},c)}else if(Q){ue=Math.max(ue,ie.sub1,Q.height-.8*ie.xHeight);const Mt=[{type:"elem",elem:Q,marginLeft:gt,marginRight:je}];mt=de.makeVList({positionType:"shift",positionData:ue,children:Mt},c)}else if(G)ce=Math.max(ce,be,G.depth+.25*ie.xHeight),mt=de.makeVList({positionType:"shift",positionData:-ce,children:[{type:"elem",elem:G,marginRight:je}]},c);else throw new Error("supsub must have either sup or sub.");const vt=xo(V,"right")||"mord";return de.makeSpan([vt],[V,de.makeSpan(["msupsub"],[mt])],c)},mathmlBuilder(u,c){let m=!1,v,w;u.base&&u.base.type==="horizBrace"&&(w=!!u.sup,w===u.base.isOver&&(m=!0,v=u.base.isOver)),u.base&&(u.base.type==="op"||u.base.type==="operatorname")&&(u.base.parentIsSupSub=!0);const I=[Ft(u.base,c)];u.sub&&I.push(Ft(u.sub,c)),u.sup&&I.push(Ft(u.sup,c));let V;if(m)V=v?"mover":"munder";else if(u.sub)if(u.sup){const G=u.base;G&&G.type==="op"&&G.limits&&c.style===Fe.DISPLAY||G&&G.type==="operatorname"&&G.alwaysHandleSupSub&&(c.style===Fe.DISPLAY||G.limits)?V="munderover":V="msubsup"}else{const G=u.base;G&&G.type==="op"&&G.limits&&(c.style===Fe.DISPLAY||G.alwaysHandleSupSub)||G&&G.type==="operatorname"&&G.alwaysHandleSupSub&&(G.limits||c.style===Fe.DISPLAY)?V="munder":V="msub"}else{const G=u.base;G&&G.type==="op"&&G.limits&&(c.style===Fe.DISPLAY||G.alwaysHandleSupSub)||G&&G.type==="operatorname"&&G.alwaysHandleSupSub&&(G.limits||c.style===Fe.DISPLAY)?V="mover":V="msup"}return new De.MathNode(V,I)}}),K0({type:"atom",htmlBuilder(u,c){return de.mathsym(u.text,u.mode,c,["m"+u.family])},mathmlBuilder(u,c){const m=new De.MathNode("mo",[pr(u.text,u.mode)]);if(u.family==="bin"){const v=wo(u,c);v==="bold-italic"&&m.setAttribute("mathvariant",v)}else u.family==="punct"?m.setAttribute("separator","true"):(u.family==="open"||u.family==="close")&&m.setAttribute("stretchy","false");return m}});const ch={mi:"italic",mn:"normal",mtext:"normal"};K0({type:"mathord",htmlBuilder(u,c){return de.makeOrd(u,c,"mathord")},mathmlBuilder(u,c){const m=new De.MathNode("mi",[pr(u.text,u.mode,c)]),v=wo(u,c)||"italic";return v!==ch[m.type]&&m.setAttribute("mathvariant",v),m}}),K0({type:"textord",htmlBuilder(u,c){return de.makeOrd(u,c,"textord")},mathmlBuilder(u,c){const m=pr(u.text,u.mode,c),v=wo(u,c)||"normal";let w;return u.mode==="text"?w=new De.MathNode("mtext",[m]):/[0-9]/.test(u.text)?w=new De.MathNode("mn",[m]):u.text==="\\prime"?w=new De.MathNode("mo",[m]):w=new De.MathNode("mi",[m]),v!==ch[w.type]&&w.setAttribute("mathvariant",v),w}});const qo={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Go={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};K0({type:"spacing",htmlBuilder(u,c){if(Go.hasOwnProperty(u.text)){const m=Go[u.text].className||"";if(u.mode==="text"){const v=de.makeOrd(u,c,"textord");return v.classes.push(m),v}else return de.makeSpan(["mspace",m],[de.mathsym(u.text,u.mode,c)],c)}else{if(qo.hasOwnProperty(u.text))return de.makeSpan(["mspace",qo[u.text]],[],c);throw new n('Unknown type of space "'+u.text+'"')}},mathmlBuilder(u,c){let m;if(Go.hasOwnProperty(u.text))m=new De.MathNode("mtext",[new De.TextNode(" ")]);else{if(qo.hasOwnProperty(u.text))return new De.MathNode("mspace");throw new n('Unknown type of space "'+u.text+'"')}return m}});const hh=()=>{const u=new De.MathNode("mtd",[]);return u.setAttribute("width","50%"),u};K0({type:"tag",mathmlBuilder(u,c){const m=new De.MathNode("mtable",[new De.MathNode("mtr",[hh(),new De.MathNode("mtd",[y0(u.body,c)]),hh(),new De.MathNode("mtd",[y0(u.tag,c)])])]);return m.setAttribute("width","100%"),m}});const uh={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},dh={"\\textbf":"textbf","\\textmd":"textmd"},_m={"\\textit":"textit","\\textup":"textup"},mh=(u,c)=>{const m=u.font;if(m){if(uh[m])return c.withTextFontFamily(uh[m]);if(dh[m])return c.withTextFontWeight(dh[m]);if(m==="\\emph")return c.fontShape==="textit"?c.withTextFontShape("textup"):c.withTextFontShape("textit")}else return c;return c.withTextFontShape(_m[m])};Pe({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(u,c){let{parser:m,funcName:v}=u;const w=c[0];return{type:"text",mode:m.mode,body:ui(w),font:v}},htmlBuilder(u,c){const m=mh(u,c),v=Ai(u.body,m,!0);return de.makeSpan(["mord","text"],v,m)},mathmlBuilder(u,c){const m=mh(u,c);return y0(u.body,m)}}),Pe({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(u,c){let{parser:m}=u;return{type:"underline",mode:m.mode,body:c[0]}},htmlBuilder(u,c){const m=xt(u.body,c),v=de.makeLineSpan("underline-line",c),w=c.fontMetrics().defaultRuleThickness,I=de.makeVList({positionType:"top",positionData:m.height,children:[{type:"kern",size:w},{type:"elem",elem:v},{type:"kern",size:3*w},{type:"elem",elem:m}]},c);return de.makeSpan(["mord","underline"],[I],c)},mathmlBuilder(u,c){const m=new De.MathNode("mo",[new De.TextNode("‾")]);m.setAttribute("stretchy","true");const v=new De.MathNode("munder",[Ft(u.body,c),m]);return v.setAttribute("accentunder","true"),v}}),Pe({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(u,c){let{parser:m}=u;return{type:"vcenter",mode:m.mode,body:c[0]}},htmlBuilder(u,c){const m=xt(u.body,c),v=c.fontMetrics().axisHeight,w=.5*(m.height-v-(m.depth+v));return de.makeVList({positionType:"shift",positionData:w,children:[{type:"elem",elem:m}]},c)},mathmlBuilder(u,c){return new De.MathNode("mpadded",[Ft(u.body,c)],["vcenter"])}}),Pe({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(u,c,m){throw new n("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(u,c){const m=fh(u),v=[],w=c.havingStyle(c.style.text());for(let I=0;I<m.length;I++){let V=m[I];V==="~"&&(V="\\textasciitilde"),v.push(de.makeSymbol(V,"Typewriter-Regular",u.mode,w,["mord","texttt"]))}return de.makeSpan(["mord","text"].concat(w.sizingClasses(c)),de.tryCombineChars(v),w)},mathmlBuilder(u,c){const m=new De.TextNode(fh(u)),v=new De.MathNode("mtext",[m]);return v.setAttribute("mathvariant","monospace"),v}});const fh=u=>u.body.replace(/ /g,u.star?"␣":" ");var S0=xc;const ph=`[ \r
	]`,$m="\\\\[a-zA-Z@]+",ef="\\\\[^\uD800-\uDFFF]",tf="("+$m+")"+ph+"*",rf=`\\\\(
|[ \r	]+
?)[ \r	]*`,Ho="[̀-ͯ]",sf=new RegExp(Ho+"+$"),nf="("+ph+"+)|"+(rf+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(Ho+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Ho+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+tf)+("|"+ef+")");class gh{constructor(c,m){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=c,this.settings=m,this.tokenRegex=new RegExp(nf,"g"),this.catcodes={"%":14,"~":13}}setCatcode(c,m){this.catcodes[c]=m}lex(){const c=this.input,m=this.tokenRegex.lastIndex;if(m===c.length)return new gr("EOF",new rr(this,m,m));const v=this.tokenRegex.exec(c);if(v===null||v.index!==m)throw new n("Unexpected character: '"+c[m]+"'",new gr(c[m],new rr(this,m,m+1)));const w=v[6]||v[3]||(v[2]?"\\ ":" ");if(this.catcodes[w]===14){const I=c.indexOf(`
`,this.tokenRegex.lastIndex);return I===-1?(this.tokenRegex.lastIndex=c.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=I+1,this.lex()}return new gr(w,new rr(this,m,this.tokenRegex.lastIndex))}}class af{constructor(c,m){c===void 0&&(c={}),m===void 0&&(m={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=m,this.builtins=c,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new n("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const c=this.undefStack.pop();for(const m in c)c.hasOwnProperty(m)&&(c[m]==null?delete this.current[m]:this.current[m]=c[m])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(c){return this.current.hasOwnProperty(c)||this.builtins.hasOwnProperty(c)}get(c){return this.current.hasOwnProperty(c)?this.current[c]:this.builtins[c]}set(c,m,v){if(v===void 0&&(v=!1),v){for(let w=0;w<this.undefStack.length;w++)delete this.undefStack[w][c];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][c]=m)}else{const w=this.undefStack[this.undefStack.length-1];w&&!w.hasOwnProperty(c)&&(w[c]=this.current[c])}m==null?delete this.current[c]:this.current[c]=m}}var of=Kc;Y("\\noexpand",function(u){const c=u.popToken();return u.isExpandable(c.text)&&(c.noexpand=!0,c.treatAsRelax=!0),{tokens:[c],numArgs:0}}),Y("\\expandafter",function(u){const c=u.popToken();return u.expandOnce(!0),{tokens:[c],numArgs:0}}),Y("\\@firstoftwo",function(u){return{tokens:u.consumeArgs(2)[0],numArgs:0}}),Y("\\@secondoftwo",function(u){return{tokens:u.consumeArgs(2)[1],numArgs:0}}),Y("\\@ifnextchar",function(u){const c=u.consumeArgs(3);u.consumeSpaces();const m=u.future();return c[0].length===1&&c[0][0].text===m.text?{tokens:c[1],numArgs:0}:{tokens:c[2],numArgs:0}}),Y("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),Y("\\TextOrMath",function(u){const c=u.consumeArgs(2);return u.mode==="text"?{tokens:c[0],numArgs:0}:{tokens:c[1],numArgs:0}});const vh={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};Y("\\char",function(u){let c=u.popToken(),m,v="";if(c.text==="'")m=8,c=u.popToken();else if(c.text==='"')m=16,c=u.popToken();else if(c.text==="`")if(c=u.popToken(),c.text[0]==="\\")v=c.text.charCodeAt(1);else{if(c.text==="EOF")throw new n("\\char` missing argument");v=c.text.charCodeAt(0)}else m=10;if(m){if(v=vh[c.text],v==null||v>=m)throw new n("Invalid base-"+m+" digit "+c.text);let w;for(;(w=vh[u.future().text])!=null&&w<m;)v*=m,v+=w,u.popToken()}return"\\@char{"+v+"}"});const Yo=(u,c,m,v)=>{let w=u.consumeArg().tokens;if(w.length!==1)throw new n("\\newcommand's first argument must be a macro name");const I=w[0].text,V=u.isDefined(I);if(V&&!c)throw new n("\\newcommand{"+I+"} attempting to redefine "+(I+"; use \\renewcommand"));if(!V&&!m)throw new n("\\renewcommand{"+I+"} when command "+I+" does not yet exist; use \\newcommand");let G=0;if(w=u.consumeArg().tokens,w.length===1&&w[0].text==="["){let Q="",ie=u.expandNextToken();for(;ie.text!=="]"&&ie.text!=="EOF";)Q+=ie.text,ie=u.expandNextToken();if(!Q.match(/^\s*[0-9]+\s*$/))throw new n("Invalid number of arguments: "+Q);G=parseInt(Q),w=u.consumeArg().tokens}return V&&v||u.macros.set(I,{tokens:w,numArgs:G}),""};Y("\\newcommand",u=>Yo(u,!1,!0,!1)),Y("\\renewcommand",u=>Yo(u,!0,!1,!1)),Y("\\providecommand",u=>Yo(u,!0,!0,!0)),Y("\\message",u=>{const c=u.consumeArgs(1)[0];return console.log(c.reverse().map(m=>m.text).join("")),""}),Y("\\errmessage",u=>{const c=u.consumeArgs(1)[0];return console.error(c.reverse().map(m=>m.text).join("")),""}),Y("\\show",u=>{const c=u.popToken(),m=c.text;return console.log(c,u.macros.get(m),S0[m],ei.math[m],ei.text[m]),""}),Y("\\bgroup","{"),Y("\\egroup","}"),Y("~","\\nobreakspace"),Y("\\lq","`"),Y("\\rq","'"),Y("\\aa","\\r a"),Y("\\AA","\\r A"),Y("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),Y("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),Y("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),Y("ℬ","\\mathscr{B}"),Y("ℰ","\\mathscr{E}"),Y("ℱ","\\mathscr{F}"),Y("ℋ","\\mathscr{H}"),Y("ℐ","\\mathscr{I}"),Y("ℒ","\\mathscr{L}"),Y("ℳ","\\mathscr{M}"),Y("ℛ","\\mathscr{R}"),Y("ℭ","\\mathfrak{C}"),Y("ℌ","\\mathfrak{H}"),Y("ℨ","\\mathfrak{Z}"),Y("\\Bbbk","\\Bbb{k}"),Y("·","\\cdotp"),Y("\\llap","\\mathllap{\\textrm{#1}}"),Y("\\rlap","\\mathrlap{\\textrm{#1}}"),Y("\\clap","\\mathclap{\\textrm{#1}}"),Y("\\mathstrut","\\vphantom{(}"),Y("\\underbar","\\underline{\\text{#1}}"),Y("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),Y("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),Y("\\ne","\\neq"),Y("≠","\\neq"),Y("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),Y("∉","\\notin"),Y("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),Y("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),Y("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),Y("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),Y("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),Y("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),Y("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),Y("⟂","\\perp"),Y("‼","\\mathclose{!\\mkern-0.8mu!}"),Y("∌","\\notni"),Y("⌜","\\ulcorner"),Y("⌝","\\urcorner"),Y("⌞","\\llcorner"),Y("⌟","\\lrcorner"),Y("©","\\copyright"),Y("®","\\textregistered"),Y("️","\\textregistered"),Y("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),Y("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),Y("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),Y("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),Y("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),Y("⋮","\\vdots"),Y("\\varGamma","\\mathit{\\Gamma}"),Y("\\varDelta","\\mathit{\\Delta}"),Y("\\varTheta","\\mathit{\\Theta}"),Y("\\varLambda","\\mathit{\\Lambda}"),Y("\\varXi","\\mathit{\\Xi}"),Y("\\varPi","\\mathit{\\Pi}"),Y("\\varSigma","\\mathit{\\Sigma}"),Y("\\varUpsilon","\\mathit{\\Upsilon}"),Y("\\varPhi","\\mathit{\\Phi}"),Y("\\varPsi","\\mathit{\\Psi}"),Y("\\varOmega","\\mathit{\\Omega}"),Y("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),Y("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),Y("\\boxed","\\fbox{$\\displaystyle{#1}$}"),Y("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),Y("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),Y("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),Y("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),Y("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");const Ah={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};Y("\\dots",function(u){let c="\\dotso";const m=u.expandAfterFuture().text;return m in Ah?c=Ah[m]:(m.slice(0,4)==="\\not"||m in ei.math&&b.contains(["bin","rel"],ei.math[m].group))&&(c="\\dotsb"),c});const Ko={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};Y("\\dotso",function(u){return u.future().text in Ko?"\\ldots\\,":"\\ldots"}),Y("\\dotsc",function(u){const c=u.future().text;return c in Ko&&c!==","?"\\ldots\\,":"\\ldots"}),Y("\\cdots",function(u){return u.future().text in Ko?"\\@cdots\\,":"\\@cdots"}),Y("\\dotsb","\\cdots"),Y("\\dotsm","\\cdots"),Y("\\dotsi","\\!\\cdots"),Y("\\dotsx","\\ldots\\,"),Y("\\DOTSI","\\relax"),Y("\\DOTSB","\\relax"),Y("\\DOTSX","\\relax"),Y("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),Y("\\,","\\tmspace+{3mu}{.1667em}"),Y("\\thinspace","\\,"),Y("\\>","\\mskip{4mu}"),Y("\\:","\\tmspace+{4mu}{.2222em}"),Y("\\medspace","\\:"),Y("\\;","\\tmspace+{5mu}{.2777em}"),Y("\\thickspace","\\;"),Y("\\!","\\tmspace-{3mu}{.1667em}"),Y("\\negthinspace","\\!"),Y("\\negmedspace","\\tmspace-{4mu}{.2222em}"),Y("\\negthickspace","\\tmspace-{5mu}{.277em}"),Y("\\enspace","\\kern.5em "),Y("\\enskip","\\hskip.5em\\relax"),Y("\\quad","\\hskip1em\\relax"),Y("\\qquad","\\hskip2em\\relax"),Y("\\tag","\\@ifstar\\tag@literal\\tag@paren"),Y("\\tag@paren","\\tag@literal{({#1})}"),Y("\\tag@literal",u=>{if(u.macros.get("\\df@tag"))throw new n("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),Y("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),Y("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),Y("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),Y("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),Y("\\newline","\\\\\\relax"),Y("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const xh=Ce(Te["Main-Regular"][84][1]-.7*Te["Main-Regular"][65][1]);Y("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+xh+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),Y("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+xh+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),Y("\\hspace","\\@ifstar\\@hspacer\\@hspace"),Y("\\@hspace","\\hskip #1\\relax"),Y("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),Y("\\ordinarycolon",":"),Y("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),Y("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),Y("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),Y("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),Y("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),Y("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),Y("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),Y("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),Y("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),Y("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),Y("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),Y("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),Y("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),Y("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),Y("∷","\\dblcolon"),Y("∹","\\eqcolon"),Y("≔","\\coloneqq"),Y("≕","\\eqqcolon"),Y("⩴","\\Coloneqq"),Y("\\ratio","\\vcentcolon"),Y("\\coloncolon","\\dblcolon"),Y("\\colonequals","\\coloneqq"),Y("\\coloncolonequals","\\Coloneqq"),Y("\\equalscolon","\\eqqcolon"),Y("\\equalscoloncolon","\\Eqqcolon"),Y("\\colonminus","\\coloneq"),Y("\\coloncolonminus","\\Coloneq"),Y("\\minuscolon","\\eqcolon"),Y("\\minuscoloncolon","\\Eqcolon"),Y("\\coloncolonapprox","\\Colonapprox"),Y("\\coloncolonsim","\\Colonsim"),Y("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Y("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Y("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),Y("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),Y("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),Y("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),Y("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),Y("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),Y("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),Y("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),Y("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),Y("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),Y("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),Y("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),Y("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),Y("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),Y("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),Y("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),Y("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),Y("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),Y("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),Y("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),Y("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),Y("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),Y("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),Y("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),Y("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),Y("\\imath","\\html@mathml{\\@imath}{ı}"),Y("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),Y("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),Y("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),Y("⟦","\\llbracket"),Y("⟧","\\rrbracket"),Y("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),Y("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),Y("⦃","\\lBrace"),Y("⦄","\\rBrace"),Y("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),Y("⦵","\\minuso"),Y("\\darr","\\downarrow"),Y("\\dArr","\\Downarrow"),Y("\\Darr","\\Downarrow"),Y("\\lang","\\langle"),Y("\\rang","\\rangle"),Y("\\uarr","\\uparrow"),Y("\\uArr","\\Uparrow"),Y("\\Uarr","\\Uparrow"),Y("\\N","\\mathbb{N}"),Y("\\R","\\mathbb{R}"),Y("\\Z","\\mathbb{Z}"),Y("\\alef","\\aleph"),Y("\\alefsym","\\aleph"),Y("\\Alpha","\\mathrm{A}"),Y("\\Beta","\\mathrm{B}"),Y("\\bull","\\bullet"),Y("\\Chi","\\mathrm{X}"),Y("\\clubs","\\clubsuit"),Y("\\cnums","\\mathbb{C}"),Y("\\Complex","\\mathbb{C}"),Y("\\Dagger","\\ddagger"),Y("\\diamonds","\\diamondsuit"),Y("\\empty","\\emptyset"),Y("\\Epsilon","\\mathrm{E}"),Y("\\Eta","\\mathrm{H}"),Y("\\exist","\\exists"),Y("\\harr","\\leftrightarrow"),Y("\\hArr","\\Leftrightarrow"),Y("\\Harr","\\Leftrightarrow"),Y("\\hearts","\\heartsuit"),Y("\\image","\\Im"),Y("\\infin","\\infty"),Y("\\Iota","\\mathrm{I}"),Y("\\isin","\\in"),Y("\\Kappa","\\mathrm{K}"),Y("\\larr","\\leftarrow"),Y("\\lArr","\\Leftarrow"),Y("\\Larr","\\Leftarrow"),Y("\\lrarr","\\leftrightarrow"),Y("\\lrArr","\\Leftrightarrow"),Y("\\Lrarr","\\Leftrightarrow"),Y("\\Mu","\\mathrm{M}"),Y("\\natnums","\\mathbb{N}"),Y("\\Nu","\\mathrm{N}"),Y("\\Omicron","\\mathrm{O}"),Y("\\plusmn","\\pm"),Y("\\rarr","\\rightarrow"),Y("\\rArr","\\Rightarrow"),Y("\\Rarr","\\Rightarrow"),Y("\\real","\\Re"),Y("\\reals","\\mathbb{R}"),Y("\\Reals","\\mathbb{R}"),Y("\\Rho","\\mathrm{P}"),Y("\\sdot","\\cdot"),Y("\\sect","\\S"),Y("\\spades","\\spadesuit"),Y("\\sub","\\subset"),Y("\\sube","\\subseteq"),Y("\\supe","\\supseteq"),Y("\\Tau","\\mathrm{T}"),Y("\\thetasym","\\vartheta"),Y("\\weierp","\\wp"),Y("\\Zeta","\\mathrm{Z}"),Y("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),Y("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),Y("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),Y("\\bra","\\mathinner{\\langle{#1}|}"),Y("\\ket","\\mathinner{|{#1}\\rangle}"),Y("\\braket","\\mathinner{\\langle{#1}\\rangle}"),Y("\\Bra","\\left\\langle#1\\right|"),Y("\\Ket","\\left|#1\\right\\rangle");const bh=u=>c=>{const m=c.consumeArg().tokens,v=c.consumeArg().tokens,w=c.consumeArg().tokens,I=c.consumeArg().tokens,V=c.macros.get("|"),G=c.macros.get("\\|");c.macros.beginGroup();const Q=ue=>pe=>{u&&(pe.macros.set("|",V),w.length&&pe.macros.set("\\|",G));let be=ue;return!ue&&w.length&&pe.future().text==="|"&&(pe.popToken(),be=!0),{tokens:be?w:v,numArgs:0}};c.macros.set("|",Q(!1)),w.length&&c.macros.set("\\|",Q(!0));const ie=c.consumeArg().tokens,ce=c.expandTokens([...I,...ie,...m]);return c.macros.endGroup(),{tokens:ce.reverse(),numArgs:0}};Y("\\bra@ket",bh(!1)),Y("\\bra@set",bh(!0)),Y("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),Y("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),Y("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),Y("\\angln","{\\angl n}"),Y("\\blue","\\textcolor{##6495ed}{#1}"),Y("\\orange","\\textcolor{##ffa500}{#1}"),Y("\\pink","\\textcolor{##ff00af}{#1}"),Y("\\red","\\textcolor{##df0030}{#1}"),Y("\\green","\\textcolor{##28ae7b}{#1}"),Y("\\gray","\\textcolor{gray}{#1}"),Y("\\purple","\\textcolor{##9d38bd}{#1}"),Y("\\blueA","\\textcolor{##ccfaff}{#1}"),Y("\\blueB","\\textcolor{##80f6ff}{#1}"),Y("\\blueC","\\textcolor{##63d9ea}{#1}"),Y("\\blueD","\\textcolor{##11accd}{#1}"),Y("\\blueE","\\textcolor{##0c7f99}{#1}"),Y("\\tealA","\\textcolor{##94fff5}{#1}"),Y("\\tealB","\\textcolor{##26edd5}{#1}"),Y("\\tealC","\\textcolor{##01d1c1}{#1}"),Y("\\tealD","\\textcolor{##01a995}{#1}"),Y("\\tealE","\\textcolor{##208170}{#1}"),Y("\\greenA","\\textcolor{##b6ffb0}{#1}"),Y("\\greenB","\\textcolor{##8af281}{#1}"),Y("\\greenC","\\textcolor{##74cf70}{#1}"),Y("\\greenD","\\textcolor{##1fab54}{#1}"),Y("\\greenE","\\textcolor{##0d923f}{#1}"),Y("\\goldA","\\textcolor{##ffd0a9}{#1}"),Y("\\goldB","\\textcolor{##ffbb71}{#1}"),Y("\\goldC","\\textcolor{##ff9c39}{#1}"),Y("\\goldD","\\textcolor{##e07d10}{#1}"),Y("\\goldE","\\textcolor{##a75a05}{#1}"),Y("\\redA","\\textcolor{##fca9a9}{#1}"),Y("\\redB","\\textcolor{##ff8482}{#1}"),Y("\\redC","\\textcolor{##f9685d}{#1}"),Y("\\redD","\\textcolor{##e84d39}{#1}"),Y("\\redE","\\textcolor{##bc2612}{#1}"),Y("\\maroonA","\\textcolor{##ffbde0}{#1}"),Y("\\maroonB","\\textcolor{##ff92c6}{#1}"),Y("\\maroonC","\\textcolor{##ed5fa6}{#1}"),Y("\\maroonD","\\textcolor{##ca337c}{#1}"),Y("\\maroonE","\\textcolor{##9e034e}{#1}"),Y("\\purpleA","\\textcolor{##ddd7ff}{#1}"),Y("\\purpleB","\\textcolor{##c6b9fc}{#1}"),Y("\\purpleC","\\textcolor{##aa87ff}{#1}"),Y("\\purpleD","\\textcolor{##7854ab}{#1}"),Y("\\purpleE","\\textcolor{##543b78}{#1}"),Y("\\mintA","\\textcolor{##f5f9e8}{#1}"),Y("\\mintB","\\textcolor{##edf2df}{#1}"),Y("\\mintC","\\textcolor{##e0e5cc}{#1}"),Y("\\grayA","\\textcolor{##f6f7f7}{#1}"),Y("\\grayB","\\textcolor{##f0f1f2}{#1}"),Y("\\grayC","\\textcolor{##e3e5e6}{#1}"),Y("\\grayD","\\textcolor{##d6d8da}{#1}"),Y("\\grayE","\\textcolor{##babec2}{#1}"),Y("\\grayF","\\textcolor{##888d93}{#1}"),Y("\\grayG","\\textcolor{##626569}{#1}"),Y("\\grayH","\\textcolor{##3b3e40}{#1}"),Y("\\grayI","\\textcolor{##21242c}{#1}"),Y("\\kaBlue","\\textcolor{##314453}{#1}"),Y("\\kaGreen","\\textcolor{##71B307}{#1}");const yh={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class lf{constructor(c,m,v){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=m,this.expansionCount=0,this.feed(c),this.macros=new af(of,m.macros),this.mode=v,this.stack=[]}feed(c){this.lexer=new gh(c,this.settings)}switchMode(c){this.mode=c}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(c){this.stack.push(c)}pushTokens(c){this.stack.push(...c)}scanArgument(c){let m,v,w;if(c){if(this.consumeSpaces(),this.future().text!=="[")return null;m=this.popToken(),{tokens:w,end:v}=this.consumeArg(["]"])}else({tokens:w,start:m,end:v}=this.consumeArg());return this.pushToken(new gr("EOF",v.loc)),this.pushTokens(w),m.range(v,"")}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(c){const m=[],v=c&&c.length>0;v||this.consumeSpaces();const w=this.future();let I,V=0,G=0;do{if(I=this.popToken(),m.push(I),I.text==="{")++V;else if(I.text==="}"){if(--V,V===-1)throw new n("Extra }",I)}else if(I.text==="EOF")throw new n("Unexpected end of input in a macro argument, expected '"+(c&&v?c[G]:"}")+"'",I);if(c&&v)if((V===0||V===1&&c[G]==="{")&&I.text===c[G]){if(++G,G===c.length){m.splice(-G,G);break}}else G=0}while(V!==0||v);return w.text==="{"&&m[m.length-1].text==="}"&&(m.pop(),m.shift()),m.reverse(),{tokens:m,start:w,end:I}}consumeArgs(c,m){if(m){if(m.length!==c+1)throw new n("The length of delimiters doesn't match the number of args!");const w=m[0];for(let I=0;I<w.length;I++){const V=this.popToken();if(w[I]!==V.text)throw new n("Use of the macro doesn't match its definition",V)}}const v=[];for(let w=0;w<c;w++)v.push(this.consumeArg(m&&m[w+1]).tokens);return v}countExpansion(c){if(this.expansionCount+=c,this.expansionCount>this.settings.maxExpand)throw new n("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(c){const m=this.popToken(),v=m.text,w=m.noexpand?null:this._getExpansion(v);if(w==null||c&&w.unexpandable){if(c&&w==null&&v[0]==="\\"&&!this.isDefined(v))throw new n("Undefined control sequence: "+v);return this.pushToken(m),!1}this.countExpansion(1);let I=w.tokens;const V=this.consumeArgs(w.numArgs,w.delimiters);if(w.numArgs){I=I.slice();for(let G=I.length-1;G>=0;--G){let Q=I[G];if(Q.text==="#"){if(G===0)throw new n("Incomplete placeholder at end of macro body",Q);if(Q=I[--G],Q.text==="#")I.splice(G+1,1);else if(/^[1-9]$/.test(Q.text))I.splice(G,2,...V[+Q.text-1]);else throw new n("Not a valid argument number",Q)}}}return this.pushTokens(I),I.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){const c=this.stack.pop();return c.treatAsRelax&&(c.text="\\relax"),c}throw new Error}expandMacro(c){return this.macros.has(c)?this.expandTokens([new gr(c)]):void 0}expandTokens(c){const m=[],v=this.stack.length;for(this.pushTokens(c);this.stack.length>v;)if(this.expandOnce(!0)===!1){const w=this.stack.pop();w.treatAsRelax&&(w.noexpand=!1,w.treatAsRelax=!1),m.push(w)}return this.countExpansion(m.length),m}expandMacroAsText(c){const m=this.expandMacro(c);return m&&m.map(v=>v.text).join("")}_getExpansion(c){const m=this.macros.get(c);if(m==null)return m;if(c.length===1){const w=this.lexer.catcodes[c];if(w!=null&&w!==13)return}const v=typeof m=="function"?m(this):m;if(typeof v=="string"){let w=0;if(v.indexOf("#")!==-1){const ie=v.replace(/##/g,"");for(;ie.indexOf("#"+(w+1))!==-1;)++w}const I=new gh(v,this.settings),V=[];let G=I.lex();for(;G.text!=="EOF";)V.push(G),G=I.lex();return V.reverse(),{tokens:V,numArgs:w}}return v}isDefined(c){return this.macros.has(c)||S0.hasOwnProperty(c)||ei.math.hasOwnProperty(c)||ei.text.hasOwnProperty(c)||yh.hasOwnProperty(c)}isExpandable(c){const m=this.macros.get(c);return m!=null?typeof m=="string"||typeof m=="function"||!m.unexpandable:S0.hasOwnProperty(c)&&!S0[c].primitive}}const wh=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Ln=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),Wo={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},Sh={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class On{constructor(c,m){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new lf(c,m,this.mode),this.settings=m,this.leftrightDepth=0}expect(c,m){if(m===void 0&&(m=!0),this.fetch().text!==c)throw new n("Expected '"+c+"', got '"+this.fetch().text+"'",this.fetch());m&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(c){this.mode=c,this.gullet.switchMode(c)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const c=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),c}finally{this.gullet.endGroups()}}subparse(c){const m=this.nextToken;this.consume(),this.gullet.pushToken(new gr("}")),this.gullet.pushTokens(c);const v=this.parseExpression(!1);return this.expect("}"),this.nextToken=m,v}parseExpression(c,m){const v=[];for(;;){this.mode==="math"&&this.consumeSpaces();const w=this.fetch();if(On.endOfExpression.indexOf(w.text)!==-1||m&&w.text===m||c&&S0[w.text]&&S0[w.text].infix)break;const I=this.parseAtom(m);if(I){if(I.type==="internal")continue}else break;v.push(I)}return this.mode==="text"&&this.formLigatures(v),this.handleInfixNodes(v)}handleInfixNodes(c){let m=-1,v;for(let w=0;w<c.length;w++)if(c[w].type==="infix"){if(m!==-1)throw new n("only one infix operator per group",c[w].token);m=w,v=c[w].replaceWith}if(m!==-1&&v){let w,I;const V=c.slice(0,m),G=c.slice(m+1);V.length===1&&V[0].type==="ordgroup"?w=V[0]:w={type:"ordgroup",mode:this.mode,body:V},G.length===1&&G[0].type==="ordgroup"?I=G[0]:I={type:"ordgroup",mode:this.mode,body:G};let Q;return v==="\\\\abovefrac"?Q=this.callFunction(v,[w,c[m],I],[]):Q=this.callFunction(v,[w,I],[]),[Q]}else return c}handleSupSubscript(c){const m=this.fetch(),v=m.text;this.consume(),this.consumeSpaces();let w;do{var I;w=this.parseGroup(c)}while(((I=w)==null?void 0:I.type)==="internal");if(!w)throw new n("Expected group after '"+v+"'",m);return w}formatUnsupportedCmd(c){const m=[];for(let I=0;I<c.length;I++)m.push({type:"textord",mode:"text",text:c[I]});const v={type:"text",mode:this.mode,body:m};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[v]}}parseAtom(c){const m=this.parseGroup("atom",c);if((m==null?void 0:m.type)==="internal"||this.mode==="text")return m;let v,w;for(;;){this.consumeSpaces();const I=this.fetch();if(I.text==="\\limits"||I.text==="\\nolimits"){if(m&&m.type==="op"){const V=I.text==="\\limits";m.limits=V,m.alwaysHandleSupSub=!0}else if(m&&m.type==="operatorname")m.alwaysHandleSupSub&&(m.limits=I.text==="\\limits");else throw new n("Limit controls must follow a math operator",I);this.consume()}else if(I.text==="^"){if(v)throw new n("Double superscript",I);v=this.handleSupSubscript("superscript")}else if(I.text==="_"){if(w)throw new n("Double subscript",I);w=this.handleSupSubscript("subscript")}else if(I.text==="'"){if(v)throw new n("Double superscript",I);const V={type:"textord",mode:this.mode,text:"\\prime"},G=[V];for(this.consume();this.fetch().text==="'";)G.push(V),this.consume();this.fetch().text==="^"&&G.push(this.handleSupSubscript("superscript")),v={type:"ordgroup",mode:this.mode,body:G}}else if(Ln[I.text]){const V=wh.test(I.text),G=[];for(G.push(new gr(Ln[I.text])),this.consume();;){const ie=this.fetch().text;if(!Ln[ie]||wh.test(ie)!==V)break;G.unshift(new gr(Ln[ie])),this.consume()}const Q=this.subparse(G);V?w={type:"ordgroup",mode:"math",body:Q}:v={type:"ordgroup",mode:"math",body:Q}}else break}return v||w?{type:"supsub",mode:this.mode,base:m,sup:v,sub:w}:m}parseFunction(c,m){const v=this.fetch(),w=v.text,I=S0[w];if(!I)return null;if(this.consume(),m&&m!=="atom"&&!I.allowedInArgument)throw new n("Got function '"+w+"' with no arguments"+(m?" as "+m:""),v);if(this.mode==="text"&&!I.allowedInText)throw new n("Can't use function '"+w+"' in text mode",v);if(this.mode==="math"&&I.allowedInMath===!1)throw new n("Can't use function '"+w+"' in math mode",v);const{args:V,optArgs:G}=this.parseArguments(w,I);return this.callFunction(w,V,G,v,c)}callFunction(c,m,v,w,I){const V={funcName:c,parser:this,token:w,breakOnTokenText:I},G=S0[c];if(G&&G.handler)return G.handler(V,m,v);throw new n("No function handler for "+c)}parseArguments(c,m){const v=m.numArgs+m.numOptionalArgs;if(v===0)return{args:[],optArgs:[]};const w=[],I=[];for(let V=0;V<v;V++){let G=m.argTypes&&m.argTypes[V];const Q=V<m.numOptionalArgs;(m.primitive&&G==null||m.type==="sqrt"&&V===1&&I[0]==null)&&(G="primitive");const ie=this.parseGroupOfType("argument to '"+c+"'",G,Q);if(Q)I.push(ie);else if(ie!=null)w.push(ie);else throw new n("Null argument, please report this as a bug")}return{args:w,optArgs:I}}parseGroupOfType(c,m,v){switch(m){case"color":return this.parseColorGroup(v);case"size":return this.parseSizeGroup(v);case"url":return this.parseUrlGroup(v);case"math":case"text":return this.parseArgumentGroup(v,m);case"hbox":{const w=this.parseArgumentGroup(v,"text");return w!=null?{type:"styling",mode:w.mode,body:[w],style:"text"}:null}case"raw":{const w=this.parseStringGroup("raw",v);return w!=null?{type:"raw",mode:"text",string:w.text}:null}case"primitive":{if(v)throw new n("A primitive argument cannot be optional");const w=this.parseGroup(c);if(w==null)throw new n("Expected group as "+c,this.fetch());return w}case"original":case null:case void 0:return this.parseArgumentGroup(v);default:throw new n("Unknown group type as "+c,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(c,m){const v=this.gullet.scanArgument(m);if(v==null)return null;let w="",I;for(;(I=this.fetch()).text!=="EOF";)w+=I.text,this.consume();return this.consume(),v.text=w,v}parseRegexGroup(c,m){const v=this.fetch();let w=v,I="",V;for(;(V=this.fetch()).text!=="EOF"&&c.test(I+V.text);)w=V,I+=w.text,this.consume();if(I==="")throw new n("Invalid "+m+": '"+v.text+"'",v);return v.range(w,I)}parseColorGroup(c){const m=this.parseStringGroup("color",c);if(m==null)return null;const v=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(m.text);if(!v)throw new n("Invalid color: '"+m.text+"'",m);let w=v[0];return/^[0-9a-f]{6}$/i.test(w)&&(w="#"+w),{type:"color-token",mode:this.mode,color:w}}parseSizeGroup(c){let m,v=!1;if(this.gullet.consumeSpaces(),!c&&this.gullet.future().text!=="{"?m=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):m=this.parseStringGroup("size",c),!m)return null;!c&&m.text.length===0&&(m.text="0pt",v=!0);const w=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(m.text);if(!w)throw new n("Invalid size: '"+m.text+"'",m);const I={number:+(w[1]+w[2]),unit:w[3]};if(!x0(I))throw new n("Invalid unit: '"+I.unit+"'",m);return{type:"size",mode:this.mode,value:I,isBlank:v}}parseUrlGroup(c){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const m=this.parseStringGroup("url",c);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),m==null)return null;const v=m.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:v}}parseArgumentGroup(c,m){const v=this.gullet.scanArgument(c);if(v==null)return null;const w=this.mode;m&&this.switchMode(m),this.gullet.beginGroup();const I=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const V={type:"ordgroup",mode:this.mode,loc:v.loc,body:I};return m&&this.switchMode(w),V}parseGroup(c,m){const v=this.fetch(),w=v.text;let I;if(w==="{"||w==="\\begingroup"){this.consume();const V=w==="{"?"}":"\\endgroup";this.gullet.beginGroup();const G=this.parseExpression(!1,V),Q=this.fetch();this.expect(V),this.gullet.endGroup(),I={type:"ordgroup",mode:this.mode,loc:rr.range(v,Q),body:G,semisimple:w==="\\begingroup"||void 0}}else if(I=this.parseFunction(m,c)||this.parseSymbol(),I==null&&w[0]==="\\"&&!yh.hasOwnProperty(w)){if(this.settings.throwOnError)throw new n("Undefined control sequence: "+w,v);I=this.formatUnsupportedCmd(w),this.consume()}return I}formLigatures(c){let m=c.length-1;for(let v=0;v<m;++v){const w=c[v],I=w.text;I==="-"&&c[v+1].text==="-"&&(v+1<m&&c[v+2].text==="-"?(c.splice(v,3,{type:"textord",mode:"text",loc:rr.range(w,c[v+2]),text:"---"}),m-=2):(c.splice(v,2,{type:"textord",mode:"text",loc:rr.range(w,c[v+1]),text:"--"}),m-=1)),(I==="'"||I==="`")&&c[v+1].text===I&&(c.splice(v,2,{type:"textord",mode:"text",loc:rr.range(w,c[v+1]),text:I+I}),m-=1)}}parseSymbol(){const c=this.fetch();let m=c.text;if(/^\\verb[^a-zA-Z]/.test(m)){this.consume();let I=m.slice(5);const V=I.charAt(0)==="*";if(V&&(I=I.slice(1)),I.length<2||I.charAt(0)!==I.slice(-1))throw new n(`\\verb assertion failed --
                    please report what input caused this bug`);return I=I.slice(1,-1),{type:"verb",mode:"text",body:I,star:V}}Sh.hasOwnProperty(m[0])&&!ei[this.mode][m[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+m[0]+'" used in math mode',c),m=Sh[m[0]]+m.slice(1));const v=sf.exec(m);v&&(m=m.substring(0,v.index),m==="i"?m="ı":m==="j"&&(m="ȷ"));let w;if(ei[this.mode][m]){this.settings.strict&&this.mode==="math"&&po.indexOf(m)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+m[0]+'" used in math mode',c);const I=ei[this.mode][m].group,V=rr.range(c);let G;if(rm.hasOwnProperty(I)){const Q=I;G={type:"atom",mode:this.mode,family:Q,loc:V,text:m}}else G={type:I,mode:this.mode,loc:V,text:m};w=G}else if(m.charCodeAt(0)>=128)this.settings.strict&&(qt(m.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+m[0]+'" used in math mode',c):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+m[0]+'"'+(" ("+m.charCodeAt(0)+")"),c)),w={type:"textord",mode:"text",loc:rr.range(c),text:m};else return null;if(this.consume(),v)for(let I=0;I<v[0].length;I++){const V=v[0][I];if(!Wo[V])throw new n("Unknown accent ' "+V+"'",c);const G=Wo[V][this.mode]||Wo[V].text;if(!G)throw new n("Accent "+V+" unsupported in "+this.mode+" mode",c);w={type:"accent",mode:this.mode,loc:rr.range(c),label:G,isStretchy:!1,isShifty:!0,base:w}}return w}}On.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var jo=function(u,c){if(!(typeof u=="string"||u instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const m=new On(u,c);delete m.gullet.macros.current["\\df@tag"];let v=m.parse();if(delete m.gullet.macros.current["\\current@color"],delete m.gullet.macros.current["\\color"],m.gullet.macros.get("\\df@tag")){if(!c.displayMode)throw new n("\\tag works only in display equations");v=[{type:"tag",mode:"text",body:v,tag:m.subparse([new gr("\\df@tag")])}]}return v};let Mh=function(u,c,m){c.textContent="";const v=Xo(u,m).toNode();c.appendChild(v)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Mh=function(){throw new n("KaTeX doesn't work in quirks mode.")});const cf=function(u,c){return Xo(u,c).toMarkup()},hf=function(u,c){const m=new S(c);return jo(u,m)},Ch=function(u,c,m){if(m.throwOnError||!(u instanceof n))throw u;const v=de.makeSpan(["katex-error"],[new fr(c)]);return v.setAttribute("title",u.toString()),v.setAttribute("style","color:"+m.errorColor),v},Xo=function(u,c){const m=new S(c);try{const v=jo(u,m);return Mm(v,u,m)}catch(v){return Ch(v,u,m)}};var uf={version:"0.16.22",render:Mh,renderToString:cf,ParseError:n,SETTINGS_SCHEMA:T,__parse:hf,__renderToDomTree:Xo,__renderToHTMLTree:function(u,c){const m=new S(c);try{const v=jo(u,m);return Cm(v,u,m)}catch(v){return Ch(v,u,m)}},__setFontMetrics:tt,__defineSymbol:M,__defineFunction:Pe,__defineMacro:Y,__domTree:{Span:Vs,Anchor:mo,SymbolNode:fr,SvgNode:Jr,PathNode:b0,LineNode:fo}},df=uf;return r=r.default,r}()})}(Da)),Da.exports}var $v=Ta.exports,p2;function eA(){return p2||(p2=1,function(i,e){(function(r,s){i.exports=s(_v())})(typeof self<"u"?self:$v,function(t){return function(){var r={757:function(T){T.exports=t}},s={};function n(T){var D=s[T];if(D!==void 0)return D.exports;var S=s[T]={exports:{}};return r[T](S,S.exports,n),S.exports}(function(){n.n=function(T){var D=T&&T.__esModule?function(){return T.default}:function(){return T};return n.d(D,{a:D}),D}})(),function(){n.d=function(T,D){for(var S in D)n.o(D,S)&&!n.o(T,S)&&Object.defineProperty(T,S,{enumerable:!0,get:D[S]})}}(),function(){n.o=function(T,D){return Object.prototype.hasOwnProperty.call(T,D)}}();var a={};n.d(a,{default:function(){return b}});var l=n(757),o=n.n(l);const h=function(T,D,S){let k=S,R=0;const B=T.length;for(;k<D.length;){const N=D[k];if(R<=0&&D.slice(k,k+B)===T)return k;N==="\\"?k++:N==="{"?R++:N==="}"&&R--,k++}return-1},d=function(T){return T.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},f=/^\\begin{/;var g=function(T,D){let S;const k=[],R=new RegExp("("+D.map(B=>d(B.left)).join("|")+")");for(;S=T.search(R),S!==-1;){S>0&&(k.push({type:"text",data:T.slice(0,S)}),T=T.slice(S));const B=D.findIndex(O=>T.startsWith(O.left));if(S=h(D[B].right,T,D[B].left.length),S===-1)break;const N=T.slice(0,S+D[B].right.length),L=f.test(N)?N:T.slice(D[B].left.length,S);k.push({type:"math",data:L,rawData:N,display:D[B].display}),T=T.slice(S+D[B].right.length)}return T!==""&&k.push({type:"text",data:T}),k};const A=function(T,D){const S=g(T,D.delimiters);if(S.length===1&&S[0].type==="text")return null;const k=document.createDocumentFragment();for(let R=0;R<S.length;R++)if(S[R].type==="text")k.appendChild(document.createTextNode(S[R].data));else{const B=document.createElement("span");let N=S[R].data;D.displayMode=S[R].display;try{D.preProcess&&(N=D.preProcess(N)),o().render(N,B,D)}catch(L){if(!(L instanceof o().ParseError))throw L;D.errorCallback("KaTeX auto-render: Failed to parse `"+S[R].data+"` with ",L),k.appendChild(document.createTextNode(S[R].rawData));continue}k.appendChild(B)}return k},x=function(T,D){for(let S=0;S<T.childNodes.length;S++){const k=T.childNodes[S];if(k.nodeType===3){let R=k.textContent,B=k.nextSibling,N=0;for(;B&&B.nodeType===Node.TEXT_NODE;)R+=B.textContent,B=B.nextSibling,N++;const L=A(R,D);if(L){for(let O=0;O<N;O++)k.nextSibling.remove();S+=L.childNodes.length-1,T.replaceChild(L,k)}else S+=N}else if(k.nodeType===1){const R=" "+k.className+" ";D.ignoredTags.indexOf(k.nodeName.toLowerCase())===-1&&D.ignoredClasses.every(N=>R.indexOf(" "+N+" ")===-1)&&x(k,D)}}};var b=function(T,D){if(!T)throw new Error("No element provided to render");const S={};for(const k in D)D.hasOwnProperty(k)&&(S[k]=D[k]);S.delimiters=S.delimiters||[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}],S.ignoredTags=S.ignoredTags||["script","noscript","style","textarea","pre","code","option"],S.ignoredClasses=S.ignoredClasses||[],S.errorCallback=S.errorCallback||console.error,S.macros=S.macros||{},x(T,S)};return a=a.default,a}()})}(Ta)),Ta.exports}var tA=eA();const iA=$a(tA);var zl,g2;function rA(){if(g2)return zl;g2=1;var i=function(T){return e(T)&&!t(T)};function e(b){return!!b&&typeof b=="object"}function t(b){var T=Object.prototype.toString.call(b);return T==="[object RegExp]"||T==="[object Date]"||n(b)}var r=typeof Symbol=="function"&&Symbol.for,s=r?Symbol.for("react.element"):60103;function n(b){return b.$$typeof===s}function a(b){return Array.isArray(b)?[]:{}}function l(b,T){return T.clone!==!1&&T.isMergeableObject(b)?x(a(b),b,T):b}function o(b,T,D){return b.concat(T).map(function(S){return l(S,D)})}function h(b,T){if(!T.customMerge)return x;var D=T.customMerge(b);return typeof D=="function"?D:x}function d(b){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(b).filter(function(T){return Object.propertyIsEnumerable.call(b,T)}):[]}function f(b){return Object.keys(b).concat(d(b))}function p(b,T){try{return T in b}catch{return!1}}function g(b,T){return p(b,T)&&!(Object.hasOwnProperty.call(b,T)&&Object.propertyIsEnumerable.call(b,T))}function A(b,T,D){var S={};return D.isMergeableObject(b)&&f(b).forEach(function(k){S[k]=l(b[k],D)}),f(T).forEach(function(k){g(b,k)||(p(b,k)&&D.isMergeableObject(T[k])?S[k]=h(k,D)(b[k],T[k],D):S[k]=l(T[k],D))}),S}function x(b,T,D){D=D||{},D.arrayMerge=D.arrayMerge||o,D.isMergeableObject=D.isMergeableObject||i,D.cloneUnlessOtherwiseSpecified=l;var S=Array.isArray(T),k=Array.isArray(b),R=S===k;return R?S?D.arrayMerge(b,T,D):A(b,T,D):l(T,D)}x.all=function(T,D){if(!Array.isArray(T))throw new Error("first argument should be an array");return T.reduce(function(S,k){return x(S,k,D)},{})};var y=x;return zl=y,zl}var sA=rA();const h1=$a(sA);var nA=function(i){return{name:"katex",directive:function(e,t){var r=t.value&&t.value.options||{},s=h1(i,r);if(t.arg&&t.arg==="auto")iA(e,s);else{var n=t.value.expression||t.value,a={};t.arg==="display"&&(a.displayMode=!0);var l=h1(s,a);oo.render(n,e,l)}}}},aA={name:"KatexElement"},u1=Object.assign(aA,{props:{expression:{type:String,default:"",required:!0},displayMode:{type:Boolean,default:void 0},throwOnError:{type:Boolean,default:void 0},errorColor:{type:String,default:void 0},macros:{type:Object,default:void 0},colorIsTextColor:{type:Boolean,default:void 0},maxSize:{type:Number,default:void 0},maxExpand:{type:Number,default:void 0},allowedProtocols:{type:Array,default:void 0},strict:{type:[Boolean,String,Function],default:void 0}},setup:function(i){var e=t5(i),t=e.displayMode,r=e.expression,s=e.throwOnError,n=e.errorColor,a=e.macros,l=e.colorIsTextColor,o=e.maxSize,h=e.maxExpand,d=e.allowedProtocols,f=e.strict,p=cn({});p.value=is("$katexOptions");var g=V0(function(){return h1(p.value,function(y){var b={};for(var T of Object.keys(y))y[T]!==void 0&&(b[T]=y[T]);return b}({displayMode:t.value,throwOnError:s.value,errorColor:n.value,macros:a.value,colorIsTextColor:l.value,maxSize:o.value,maxExpand:h.value,allowedProtocols:d.value,strict:f.value}))}),A=V0(function(){return t.value?"div":"span"}),x=V0(function(){return oo.renderToString(r.value,g.value)});return function(y,b){return Mi(),Ra(T5(Gl(A)),{innerHTML:Gl(x)},null,8,["innerHTML"])}}});function oA(i,e){var t=e&&e.globalOptions||{},r=nA(t);e&&e.mhchem&&da(()=>import("./mhchem-DboUMCYn.js"),[]),e&&e.copyTex&&da(()=>import("./copy-tex-CU19w6qj.js"),[]),e&&e.mathtexScriptType&&da(()=>import("./mathtex-script-type-CVzpRgKh.js"),[]),e&&e.renderA11yString&&da(()=>import("./render-a11y-string-uYEswfMR.js"),[]),i.directive(r.name,r.directive),i.component(u1.name,u1),i.provide("$katexOptions",t)}u1.__file="src/components/KatexElement.vue";b6(Xv);const _4=P3(jv);_4.use(oA);_4.mount("#app");export{oo as k};
